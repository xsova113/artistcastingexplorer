function d0(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Zu(e){return d0(e)&&typeof e._ref=="string"}function tRe(e){return d0(e)&&Zu(e.asset)&&e.asset._ref.startsWith("image-")}function Tge(e){return d0(e)&&typeof e._ref=="string"&&typeof e._dataset=="string"&&typeof e._projectId=="string"}function _On(e){return d0(e)&&typeof e._id=="string"&&typeof e._type=="string"}function hF(e){return d0(e)&&typeof e._type=="string"}function _l(e){return d0(e)&&typeof e._key=="string"}function nRe(e){return e.level==="error"}const rRe=/_key\s*==\s*['"](.*)['"]/,oRe=/^\d*:\d*$/;function bc(e){return typeof e=="number"||typeof e=="string"&&/^\[\d+\]$/.test(e)}function Or(e){return typeof e=="string"?rRe.test(e.trim()):typeof e=="object"&&"_key"in e}function Pp(e){if(typeof e=="string"&&oRe.test(e))return!0;if(!Array.isArray(e)||e.length!==2)return!1;const[t,n]=e;return(typeof t=="number"||t==="")&&(typeof n=="number"||n==="")}function w2(e){return!!e&&(typeof e=="object"||typeof e=="function")}function Xu(e){return w2(e)&&typeof e._type=="string"&&Array.isArray(e.children)&&e.children.every(t=>w2(t))&&("markDefs"in e?Array.isArray(e.markDefs)&&e.markDefs.every(t=>w2(t)):!1)&&("style"in e?typeof e.style=="string":!0)}function Qs(e){return w2(e)&&e._type==="span"&&typeof e.text=="string"&&("marks"in e?Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"):!0)}function iRe(e){return Xu(e)&&"listItem"in e&&typeof e.listItem=="string"&&"level"in e&&Number.isInteger(e.level)}function sm(e){return!!e&&(typeof e=="object"||typeof e=="function")}function Ga(e){return sm(e)?e.jsonType==="object":!1}function Ol(e){return sm(e)?e.jsonType==="array":!1}function pF(e){return Ol(e)&&e.of.every(t=>Ga(t))}function sRe(e){return Ol(e)&&e.of.every(t=>Dge(t))}function Jx(e){return sm(e)?e.jsonType==="boolean":!1}function Age(e){return sm(e)?e.jsonType==="string":!1}function Op(e){return sm(e)?e.jsonType==="number":!1}function Dge(e){return Jx(e)||Age(e)||Op(e)}function _f(e){return sm(e)&&(e.name==="reference"||_f(e.type))}function mF(e){return sm(e)&&(e.name==="crossDatasetReference"||mF(e.type))}function gF(e){return typeof e=="object"&&e!==null&&"title"in e&&"value"in e}function f0(e,t){return e}function gr(e,t){return e}function C2(e,t){return e}function aRe(e){return e.level==="error"}function lRe(e){return e.level==="warning"}var xs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function De(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function cRe(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var Ige={exports:{}},Lk={},Pge={exports:{}},Vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ew=Symbol.for("react.element"),uRe=Symbol.for("react.portal"),dRe=Symbol.for("react.fragment"),fRe=Symbol.for("react.strict_mode"),hRe=Symbol.for("react.profiler"),pRe=Symbol.for("react.provider"),mRe=Symbol.for("react.context"),gRe=Symbol.for("react.forward_ref"),vRe=Symbol.for("react.suspense"),yRe=Symbol.for("react.memo"),bRe=Symbol.for("react.lazy"),wz=Symbol.iterator;function xRe(e){return e===null||typeof e!="object"?null:(e=wz&&e[wz]||e["@@iterator"],typeof e=="function"?e:null)}var Oge={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$ge=Object.assign,Rge={};function h0(e,t,n){this.props=e,this.context=t,this.refs=Rge,this.updater=n||Oge}h0.prototype.isReactComponent={};h0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};h0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Mge(){}Mge.prototype=h0.prototype;function vF(e,t,n){this.props=e,this.context=t,this.refs=Rge,this.updater=n||Oge}var yF=vF.prototype=new Mge;yF.constructor=vF;$ge(yF,h0.prototype);yF.isPureReactComponent=!0;var Cz=Array.isArray,Fge=Object.prototype.hasOwnProperty,bF={current:null},Lge={key:!0,ref:!0,__self:!0,__source:!0};function Bge(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Fge.call(t,r)&&!Lge.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:ew,type:e,key:i,ref:s,props:o,_owner:bF.current}}function wRe(e,t){return{$$typeof:ew,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xF(e){return typeof e=="object"&&e!==null&&e.$$typeof===ew}function CRe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var _z=/\/+/g;function mD(e,t){return typeof e=="object"&&e!==null&&e.key!=null?CRe(""+e.key):t.toString(36)}function _2(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ew:case uRe:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+mD(s,0):r,Cz(o)?(n="",e!=null&&(n=e.replace(_z,"$&/")+"/"),_2(o,t,n,"",function(u){return u})):o!=null&&(xF(o)&&(o=wRe(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(_z,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",Cz(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+mD(i,a);s+=_2(i,t,n,l,o)}else if(l=xRe(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+mD(i,a++),s+=_2(i,t,n,l,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function jC(e,t,n){if(e==null)return e;var r=[],o=0;return _2(e,r,"","",function(i){return t.call(n,i,o++)}),r}function _Re(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qi={current:null},S2={transition:null},SRe={ReactCurrentDispatcher:Qi,ReactCurrentBatchConfig:S2,ReactCurrentOwner:bF};Vt.Children={map:jC,forEach:function(e,t,n){jC(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return jC(e,function(){t++}),t},toArray:function(e){return jC(e,function(t){return t})||[]},only:function(e){if(!xF(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Vt.Component=h0;Vt.Fragment=dRe;Vt.Profiler=hRe;Vt.PureComponent=vF;Vt.StrictMode=fRe;Vt.Suspense=vRe;Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SRe;Vt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=$ge({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=bF.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Fge.call(t,l)&&!Lge.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ew,type:e.type,key:o,ref:i,props:r,_owner:s}};Vt.createContext=function(e){return e={$$typeof:mRe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:pRe,_context:e},e.Consumer=e};Vt.createElement=Bge;Vt.createFactory=function(e){var t=Bge.bind(null,e);return t.type=e,t};Vt.createRef=function(){return{current:null}};Vt.forwardRef=function(e){return{$$typeof:gRe,render:e}};Vt.isValidElement=xF;Vt.lazy=function(e){return{$$typeof:bRe,_payload:{_status:-1,_result:e},_init:_Re}};Vt.memo=function(e,t){return{$$typeof:yRe,type:e,compare:t===void 0?null:t}};Vt.startTransition=function(e){var t=S2.transition;S2.transition={};try{e()}finally{S2.transition=t}};Vt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Vt.useCallback=function(e,t){return Qi.current.useCallback(e,t)};Vt.useContext=function(e){return Qi.current.useContext(e)};Vt.useDebugValue=function(){};Vt.useDeferredValue=function(e){return Qi.current.useDeferredValue(e)};Vt.useEffect=function(e,t){return Qi.current.useEffect(e,t)};Vt.useId=function(){return Qi.current.useId()};Vt.useImperativeHandle=function(e,t,n){return Qi.current.useImperativeHandle(e,t,n)};Vt.useInsertionEffect=function(e,t){return Qi.current.useInsertionEffect(e,t)};Vt.useLayoutEffect=function(e,t){return Qi.current.useLayoutEffect(e,t)};Vt.useMemo=function(e,t){return Qi.current.useMemo(e,t)};Vt.useReducer=function(e,t,n){return Qi.current.useReducer(e,t,n)};Vt.useRef=function(e){return Qi.current.useRef(e)};Vt.useState=function(e){return Qi.current.useState(e)};Vt.useSyncExternalStore=function(e,t,n){return Qi.current.useSyncExternalStore(e,t,n)};Vt.useTransition=function(){return Qi.current.useTransition()};Vt.version="18.2.0";Pge.exports=Vt;var h=Pge.exports;const re=De(h);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ERe=h,kRe=Symbol.for("react.element"),jRe=Symbol.for("react.fragment"),TRe=Object.prototype.hasOwnProperty,ARe=ERe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DRe={key:!0,ref:!0,__self:!0,__source:!0};function Nge(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)TRe.call(t,r)&&!DRe.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:kRe,type:e,key:i,ref:s,props:o,_owner:ARe.current}}Lk.Fragment=jRe;Lk.jsx=Nge;Lk.jsxs=Nge;Ige.exports=Lk;var c=Ige.exports;const IRe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,PRe=/_key\s*==\s*['"](.*)['"]/,zge=[],Vge="$";function p0(e,t,n){const r=typeof t=="string"?Sf(t):t;if(!Array.isArray(r))throw new Error("Path must be an array or a string");let o=e;for(let i=0;i<r.length;i++){const s=r[i];if(bc(s)){if(!Array.isArray(o))return n;o=o[s]}if(Or(s)){if(!Array.isArray(o))return n;o=o.find(a=>a._key===s._key)}if(typeof s=="string"&&(o=typeof o=="object"&&o!==null?o[s]:void 0),typeof o>"u")return n}return o}const gD=new Map;function am(e){if(e.length===0)return zge;const t=yr(e);return gD.has(t)?gD.get(t):(gD.set(t,e),Object.freeze(e),e)}function Cn(e,t){return e.length===t.length&&e.every((n,r)=>Bk(n,t[r]))}function ORe(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++)if(!Bk(e[r],t[r]))return r;return n}function Bk(e,t){return Or(e)&&Or(t)?e._key===t._key:bc(e)?Number(e)===Number(t):Pp(e)&&Pp(t)?e[0]===t[0]&&e[1]===t[1]:e===t}function vi(e,t){return e.every((n,r)=>Bk(n,t[r]))}function Vy(e,t){if(e.length===0||t.length===0)return t;const[n,...r]=e,[o,...i]=t;return Bk(n,o)?am(Vy(r,i)):t}function wF(e,t){return vi(e,t)?Vy(e,t):zge}function yr(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(Or(n)&&n._key)return"".concat(t,'[_key=="').concat(n._key,'"]');if(Array.isArray(n)){const[i,s]=n;return"".concat(t,"[").concat(i,":").concat(s,"]")}throw new Error("Unsupported path segment `".concat(JSON.stringify(n),"`"))},"")}function D3(e,t){if(t.length===0)return t;const[n,...r]=t;if(typeof n=="number"){if(!Array.isArray(e)||!(n in e))return[];const i=e[n];return[typeof(i==null?void 0:i._key)=="string"?{_key:i._key}:n,...D3(i,r)]}const o=p0(e,[n]);return[n,...D3(o,r)]}function $Re(e,t){if(!Array.isArray(t))throw new Error("Path is not an array");return am(D3(e,t))}function Sf(e){if(typeof e!="string")throw new Error("Path is not a string");const t=e.match(IRe);if(!t)throw new Error("Invalid path string");return t.map(RRe)}function RRe(e){return bc(e)?MRe(e):Or(e)?FRe(e):Pp(e)?LRe(e):e}function MRe(e){return Number(e.replace(/[^\d]/g,""))}function FRe(e){return{_key:e.match(PRe)[1]}}function LRe(e){const[t,n]=e.split(":").map(r=>r===""?r:Number(r));return[t,n]}var BRe=typeof Element<"u",NRe=typeof Map=="function",zRe=typeof Set=="function",VRe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function E2(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!E2(e[r],t[r]))return!1;return!0}var i;if(NRe&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;for(i=e.entries();!(r=i.next()).done;)if(!E2(r.value[1],t.get(r.value[0])))return!1;return!0}if(zRe&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(VRe&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;if(BRe&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((o[r]==="_owner"||o[r]==="__v"||o[r]==="__o")&&e.$$typeof)&&!E2(e[o[r]],t[o[r]]))return!1;return!0}return e!==e&&t!==t}var HRe=function(t,n){try{return E2(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const CF=De(HRe);function URe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ka=URe;const tw=De(Ka);var WRe=typeof xs=="object"&&xs&&xs.Object===Object&&xs,Hge=WRe,YRe=Hge,qRe=typeof self=="object"&&self&&self.Object===Object&&self,GRe=YRe||qRe||Function("return this")(),$l=GRe,KRe=$l,ZRe=function(){return KRe.Date.now()},XRe=ZRe,QRe=/\s/;function JRe(e){for(var t=e.length;t--&&QRe.test(e.charAt(t)););return t}var eMe=JRe,tMe=eMe,nMe=/^\s+/;function rMe(e){return e&&e.slice(0,tMe(e)+1).replace(nMe,"")}var Uge=rMe,oMe=$l,iMe=oMe.Symbol,m0=iMe,Sz=m0,Wge=Object.prototype,sMe=Wge.hasOwnProperty,aMe=Wge.toString,C1=Sz?Sz.toStringTag:void 0;function lMe(e){var t=sMe.call(e,C1),n=e[C1];try{e[C1]=void 0;var r=!0}catch{}var o=aMe.call(e);return r&&(t?e[C1]=n:delete e[C1]),o}var cMe=lMe,uMe=Object.prototype,dMe=uMe.toString;function fMe(e){return dMe.call(e)}var hMe=fMe,Ez=m0,pMe=cMe,mMe=hMe,gMe="[object Null]",vMe="[object Undefined]",kz=Ez?Ez.toStringTag:void 0;function yMe(e){return e==null?e===void 0?vMe:gMe:kz&&kz in Object(e)?pMe(e):mMe(e)}var Gf=yMe;function bMe(e){return e!=null&&typeof e=="object"}var Za=bMe,xMe=Gf,wMe=Za,CMe="[object Symbol]";function _Me(e){return typeof e=="symbol"||wMe(e)&&xMe(e)==CMe}var lm=_Me,SMe=Uge,jz=Ka,EMe=lm,Tz=0/0,kMe=/^[-+]0x[0-9a-f]+$/i,jMe=/^0b[01]+$/i,TMe=/^0o[0-7]+$/i,AMe=parseInt;function DMe(e){if(typeof e=="number")return e;if(EMe(e))return Tz;if(jz(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=jz(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=SMe(e);var n=jMe.test(e);return n||TMe.test(e)?AMe(e.slice(2),n?2:8):kMe.test(e)?Tz:+e}var Yge=DMe,IMe=Ka,vD=XRe,Az=Yge,PMe="Expected a function",OMe=Math.max,$Me=Math.min;function RMe(e,t,n){var r,o,i,s,a,l,u=0,d=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(PMe);t=Az(t)||0,IMe(n)&&(d=!!n.leading,f="maxWait"in n,i=f?OMe(Az(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p);function m(S){var E=r,j=o;return r=o=void 0,u=S,s=e.apply(j,E),s}function v(S){return u=S,a=setTimeout(x,t),d?m(S):s}function g(S){var E=S-l,j=S-u,k=t-E;return f?$Me(k,i-j):k}function b(S){var E=S-l,j=S-u;return l===void 0||E>=t||E<0||f&&j>=i}function x(){var S=vD();if(b(S))return y(S);a=setTimeout(x,g(S))}function y(S){return a=void 0,p&&r?m(S):(r=o=void 0,s)}function w(){a!==void 0&&clearTimeout(a),u=0,r=l=o=a=void 0}function C(){return a===void 0?s:y(vD())}function _(){var S=vD(),E=b(S);if(r=arguments,o=this,l=S,E){if(a===void 0)return v(l);if(f)return clearTimeout(a),a=setTimeout(x,t),m(l)}return a===void 0&&(a=setTimeout(x,t)),s}return _.cancel=w,_.flush=C,_}var qge=RMe;const nw=De(qge);function _F(){var e=Object.create(null),t=0;function n(o){var i=t++;return e[i]=o,function(){delete e[i]}}function r(o){for(var i in e)e[i](o)}return{publish:r,subscribe:n}}var Gge={exports:{}},jn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SF=Symbol.for("react.element"),EF=Symbol.for("react.portal"),Nk=Symbol.for("react.fragment"),zk=Symbol.for("react.strict_mode"),Vk=Symbol.for("react.profiler"),Hk=Symbol.for("react.provider"),Uk=Symbol.for("react.context"),MMe=Symbol.for("react.server_context"),Wk=Symbol.for("react.forward_ref"),Yk=Symbol.for("react.suspense"),qk=Symbol.for("react.suspense_list"),Gk=Symbol.for("react.memo"),Kk=Symbol.for("react.lazy"),FMe=Symbol.for("react.offscreen"),Kge;Kge=Symbol.for("react.module.reference");function Xa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case SF:switch(e=e.type,e){case Nk:case Vk:case zk:case Yk:case qk:return e;default:switch(e=e&&e.$$typeof,e){case MMe:case Uk:case Wk:case Kk:case Gk:case Hk:return e;default:return t}}case EF:return t}}}jn.ContextConsumer=Uk;jn.ContextProvider=Hk;jn.Element=SF;jn.ForwardRef=Wk;jn.Fragment=Nk;jn.Lazy=Kk;jn.Memo=Gk;jn.Portal=EF;jn.Profiler=Vk;jn.StrictMode=zk;jn.Suspense=Yk;jn.SuspenseList=qk;jn.isAsyncMode=function(){return!1};jn.isConcurrentMode=function(){return!1};jn.isContextConsumer=function(e){return Xa(e)===Uk};jn.isContextProvider=function(e){return Xa(e)===Hk};jn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===SF};jn.isForwardRef=function(e){return Xa(e)===Wk};jn.isFragment=function(e){return Xa(e)===Nk};jn.isLazy=function(e){return Xa(e)===Kk};jn.isMemo=function(e){return Xa(e)===Gk};jn.isPortal=function(e){return Xa(e)===EF};jn.isProfiler=function(e){return Xa(e)===Vk};jn.isStrictMode=function(e){return Xa(e)===zk};jn.isSuspense=function(e){return Xa(e)===Yk};jn.isSuspenseList=function(e){return Xa(e)===qk};jn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Nk||e===Vk||e===zk||e===Yk||e===qk||e===FMe||typeof e=="object"&&e!==null&&(e.$$typeof===Kk||e.$$typeof===Gk||e.$$typeof===Hk||e.$$typeof===Uk||e.$$typeof===Wk||e.$$typeof===Kge||e.getModuleId!==void 0)};jn.typeOf=Xa;Gge.exports=jn;var $r=Gge.exports;const LMe=De($r);var Bo=function(){return Bo=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Bo.apply(this,arguments)};function kv(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var er="-ms-",Hy="-moz-",bn="-webkit-",Zge="comm",Zk="rule",kF="decl",BMe="@import",Xge="@keyframes",NMe="@layer",zMe=Math.abs,jF=String.fromCharCode,I3=Object.assign;function VMe(e,t){return Ro(e,0)^45?(((t<<2^Ro(e,0))<<2^Ro(e,1))<<2^Ro(e,2))<<2^Ro(e,3):0}function Qge(e){return e.trim()}function su(e,t){return(e=t.exec(e))?e[0]:e}function kt(e,t,n){return e.replace(t,n)}function k2(e,t){return e.indexOf(t)}function Ro(e,t){return e.charCodeAt(t)|0}function jv(e,t,n){return e.slice(t,n)}function ic(e){return e.length}function Jge(e){return e.length}function hy(e,t){return t.push(e),e}function HMe(e,t){return e.map(t).join("")}function Dz(e,t){return e.filter(function(n){return!su(n,t)})}var Xk=1,Tv=1,eve=0,La=0,ao=0,g0="";function Qk(e,t,n,r,o,i,s,a){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:Xk,column:Tv,length:s,return:"",siblings:a}}function Cd(e,t){return I3(Qk("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Vm(e){for(;e.root;)e=Cd(e.root,{children:[e]});hy(e,e.siblings)}function UMe(){return ao}function WMe(){return ao=La>0?Ro(g0,--La):0,Tv--,ao===10&&(Tv=1,Xk--),ao}function yl(){return ao=La<eve?Ro(g0,La++):0,Tv++,ao===10&&(Tv=1,Xk++),ao}function bp(){return Ro(g0,La)}function j2(){return La}function Jk(e,t){return jv(g0,e,t)}function P3(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function YMe(e){return Xk=Tv=1,eve=ic(g0=e),La=0,[]}function qMe(e){return g0="",e}function yD(e){return Qge(Jk(La-1,O3(e===91?e+2:e===40?e+1:e)))}function GMe(e){for(;(ao=bp())&&ao<33;)yl();return P3(e)>2||P3(ao)>3?"":" "}function KMe(e,t){for(;--t&&yl()&&!(ao<48||ao>102||ao>57&&ao<65||ao>70&&ao<97););return Jk(e,j2()+(t<6&&bp()==32&&yl()==32))}function O3(e){for(;yl();)switch(ao){case e:return La;case 34:case 39:e!==34&&e!==39&&O3(ao);break;case 40:e===41&&O3(e);break;case 92:yl();break}return La}function ZMe(e,t){for(;yl()&&e+ao!==47+10;)if(e+ao===42+42&&bp()===47)break;return"/*"+Jk(t,La-1)+"*"+jF(e===47?e:yl())}function XMe(e){for(;!P3(bp());)yl();return Jk(e,La)}function QMe(e){return qMe(T2("",null,null,null,[""],e=YMe(e),0,[0],e))}function T2(e,t,n,r,o,i,s,a,l){for(var u=0,d=0,f=s,p=0,m=0,v=0,g=1,b=1,x=1,y=0,w="",C=o,_=i,S=r,E=w;b;)switch(v=y,y=yl()){case 40:if(v!=108&&Ro(E,f-1)==58){k2(E+=kt(yD(y),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:E+=yD(y);break;case 9:case 10:case 13:case 32:E+=GMe(v);break;case 92:E+=KMe(j2()-1,7);continue;case 47:switch(bp()){case 42:case 47:hy(JMe(ZMe(yl(),j2()),t,n,l),l);break;default:E+="/"}break;case 123*g:a[u++]=ic(E)*x;case 125*g:case 59:case 0:switch(y){case 0:case 125:b=0;case 59+d:x==-1&&(E=kt(E,/\f/g,"")),m>0&&ic(E)-f&&hy(m>32?Pz(E+";",r,n,f-1,l):Pz(kt(E," ","")+";",r,n,f-2,l),l);break;case 59:E+=";";default:if(hy(S=Iz(E,t,n,u,d,o,a,w,C=[],_=[],f,i),i),y===123)if(d===0)T2(E,t,S,S,C,i,f,a,_);else switch(p===99&&Ro(E,3)===110?100:p){case 100:case 108:case 109:case 115:T2(e,S,S,r&&hy(Iz(e,S,S,0,0,o,a,w,o,C=[],f,_),_),o,_,f,a,r?C:_);break;default:T2(E,S,S,S,[""],_,0,a,_)}}u=d=m=0,g=x=1,w=E="",f=s;break;case 58:f=1+ic(E),m=v;default:if(g<1){if(y==123)--g;else if(y==125&&g++==0&&WMe()==125)continue}switch(E+=jF(y),y*g){case 38:x=d>0?1:(E+="\f",-1);break;case 44:a[u++]=(ic(E)-1)*x,x=1;break;case 64:bp()===45&&(E+=yD(yl())),p=bp(),d=f=ic(w=E+=XMe(j2())),y++;break;case 45:v===45&&ic(E)==2&&(g=0)}}return i}function Iz(e,t,n,r,o,i,s,a,l,u,d,f){for(var p=o-1,m=o===0?i:[""],v=Jge(m),g=0,b=0,x=0;g<r;++g)for(var y=0,w=jv(e,p+1,p=zMe(b=s[g])),C=e;y<v;++y)(C=Qge(b>0?m[y]+" "+w:kt(w,/&\f/g,m[y])))&&(l[x++]=C);return Qk(e,t,n,o===0?Zk:a,l,u,d,f)}function JMe(e,t,n,r){return Qk(e,t,n,Zge,jF(UMe()),jv(e,2,-2),0,r)}function Pz(e,t,n,r,o){return Qk(e,t,n,kF,jv(e,0,r),jv(e,r+1,-1),r,o)}function tve(e,t,n){switch(VMe(e,t)){case 5103:return bn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return bn+e+e;case 4789:return Hy+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return bn+e+Hy+e+er+e+e;case 5936:switch(Ro(e,t+11)){case 114:return bn+e+er+kt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return bn+e+er+kt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return bn+e+er+kt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return bn+e+er+e+e;case 6165:return bn+e+er+"flex-"+e+e;case 5187:return bn+e+kt(e,/(\w+).+(:[^]+)/,bn+"box-$1$2"+er+"flex-$1$2")+e;case 5443:return bn+e+er+"flex-item-"+kt(e,/flex-|-self/g,"")+(su(e,/flex-|baseline/)?"":er+"grid-row-"+kt(e,/flex-|-self/g,""))+e;case 4675:return bn+e+er+"flex-line-pack"+kt(e,/align-content|flex-|-self/g,"")+e;case 5548:return bn+e+er+kt(e,"shrink","negative")+e;case 5292:return bn+e+er+kt(e,"basis","preferred-size")+e;case 6060:return bn+"box-"+kt(e,"-grow","")+bn+e+er+kt(e,"grow","positive")+e;case 4554:return bn+kt(e,/([^-])(transform)/g,"$1"+bn+"$2")+e;case 6187:return kt(kt(kt(e,/(zoom-|grab)/,bn+"$1"),/(image-set)/,bn+"$1"),e,"")+e;case 5495:case 3959:return kt(e,/(image-set\([^]*)/,bn+"$1$`$1");case 4968:return kt(kt(e,/(.+:)(flex-)?(.*)/,bn+"box-pack:$3"+er+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+bn+e+e;case 4200:if(!su(e,/flex-|baseline/))return er+"grid-column-align"+jv(e,t)+e;break;case 2592:case 3360:return er+kt(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,o){return t=o,su(r.props,/grid-\w+-end/)})?~k2(e+(n=n[t].value),"span")?e:er+kt(e,"-start","")+e+er+"grid-row-span:"+(~k2(n,"span")?su(n,/\d+/):+su(n,/\d+/)-+su(e,/\d+/))+";":er+kt(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return su(r.props,/grid-\w+-start/)})?e:er+kt(kt(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return kt(e,/(.+)-inline(.+)/,bn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ic(e)-1-t>6)switch(Ro(e,t+1)){case 109:if(Ro(e,t+4)!==45)break;case 102:return kt(e,/(.+:)(.+)-([^]+)/,"$1"+bn+"$2-$3$1"+Hy+(Ro(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~k2(e,"stretch")?tve(kt(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return kt(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,o,i,s,a,l,u){return er+o+":"+i+u+(s?er+o+"-span:"+(a?l:+l-+i)+u:"")+e});case 4949:if(Ro(e,t+6)===121)return kt(e,":",":"+bn)+e;break;case 6444:switch(Ro(e,Ro(e,14)===45?18:11)){case 120:return kt(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+bn+(Ro(e,14)===45?"inline-":"")+"box$3$1"+bn+"$2$3$1"+er+"$2box$3")+e;case 100:return kt(e,":",":"+er)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return kt(e,"scroll-","scroll-snap-")+e}return e}function WS(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function e4e(e,t,n,r){switch(e.type){case NMe:if(e.children.length)break;case BMe:case kF:return e.return=e.return||e.value;case Zge:return"";case Xge:return e.return=e.value+"{"+WS(e.children,r)+"}";case Zk:if(!ic(e.value=e.props.join(",")))return""}return ic(n=WS(e.children,r))?e.return=e.value+"{"+n+"}":""}function t4e(e){var t=Jge(e);return function(n,r,o,i){for(var s="",a=0;a<t;a++)s+=e[a](n,r,o,i)||"";return s}}function n4e(e){return function(t){t.root||(t=t.return)&&e(t)}}function r4e(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case kF:e.return=tve(e.value,e.length,n);return;case Xge:return WS([Cd(e,{value:kt(e.value,"@","@"+bn)})],r);case Zk:if(e.length)return HMe(n=e.props,function(o){switch(su(o,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Vm(Cd(e,{props:[kt(o,/:(read-\w+)/,":"+Hy+"$1")]})),Vm(Cd(e,{props:[o]})),I3(e,{props:Dz(n,r)});break;case"::placeholder":Vm(Cd(e,{props:[kt(o,/:(plac\w+)/,":"+bn+"input-$1")]})),Vm(Cd(e,{props:[kt(o,/:(plac\w+)/,":"+Hy+"$1")]})),Vm(Cd(e,{props:[kt(o,/:(plac\w+)/,er+"input-$1")]})),Vm(Cd(e,{props:[o]})),I3(e,{props:Dz(n,r)});break}return""})}}var o4e={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Av=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",TF=typeof window<"u"&&"HTMLElement"in window,i4e=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),s4e={},ej=Object.freeze([]),Dv=Object.freeze({});function nve(e,t,n){return n===void 0&&(n=Dv),e.theme!==n.theme&&e.theme||t||n.theme}var rve=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),a4e=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,l4e=/(^-|-$)/g;function Oz(e){return e.replace(a4e,"-").replace(l4e,"")}var c4e=/(a)(d)/gi,$z=function(e){return String.fromCharCode(e+(e>25?39:97))};function $3(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=$z(t%52)+n;return($z(t%52)+n).replace(c4e,"$1-$2")}var bD,Cg=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},ove=function(e){return Cg(5381,e)};function AF(e){return $3(ove(e)>>>0)}function u4e(e){return e.displayName||e.name||"Component"}function xD(e){return typeof e=="string"&&!0}var ive=typeof Symbol=="function"&&Symbol.for,sve=ive?Symbol.for("react.memo"):60115,d4e=ive?Symbol.for("react.forward_ref"):60112,f4e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},h4e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ave={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},p4e=((bD={})[d4e]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},bD[sve]=ave,bD);function Rz(e){return("type"in(t=e)&&t.type.$$typeof)===sve?ave:"$$typeof"in e?p4e[e.$$typeof]:f4e;var t}var m4e=Object.defineProperty,g4e=Object.getOwnPropertyNames,Mz=Object.getOwnPropertySymbols,v4e=Object.getOwnPropertyDescriptor,y4e=Object.getPrototypeOf,Fz=Object.prototype;function lve(e,t,n){if(typeof t!="string"){if(Fz){var r=y4e(t);r&&r!==Fz&&lve(e,r,n)}var o=g4e(t);Mz&&(o=o.concat(Mz(t)));for(var i=Rz(e),s=Rz(t),a=0;a<o.length;++a){var l=o[a];if(!(l in h4e||n&&n[l]||s&&l in s||i&&l in i)){var u=v4e(t,l);try{m4e(e,l,u)}catch{}}}}return e}function $p(e){return typeof e=="function"}function DF(e){return typeof e=="object"&&"styledComponentId"in e}function np(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function YS(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function $b(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function R3(e,t,n){if(n===void 0&&(n=!1),!n&&!$b(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=R3(e[r],t[r]);else if($b(t))for(var r in t)e[r]=R3(e[r],t[r]);return e}function IF(e,t){Object.defineProperty(e,"toString",{value:t})}function Ef(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var b4e=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,o=r.length,i=o;t>=i;)if((i<<=1)<0)throw Ef(16,"".concat(t));this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var s=o;s<i;s++)this.groupSizes[s]=0}for(var a=this.indexOfGroup(t+1),l=(s=0,n.length);s<l;s++)this.tag.insertRule(a,n[s])&&(this.groupSizes[t]++,a++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),o=r+n;this.groupSizes[t]=0;for(var i=r;i<o;i++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],o=this.indexOfGroup(t),i=o+r,s=o;s<i;s++)n+="".concat(this.tag.getRule(s)).concat(`/*!sc*/
`);return n},e}(),A2=new Map,qS=new Map,wD=1,TC=function(e){if(A2.has(e))return A2.get(e);for(;qS.has(wD);)wD++;var t=wD++;return A2.set(e,t),qS.set(t,e),t},x4e=function(e,t){A2.set(e,t),qS.set(t,e)},w4e="style[".concat(Av,"][").concat("data-styled-version",'="').concat("6.1.0",'"]'),C4e=new RegExp("^".concat(Av,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),_4e=function(e,t,n){for(var r,o=n.split(","),i=0,s=o.length;i<s;i++)(r=o[i])&&e.registerName(t,r)},S4e=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(`/*!sc*/
`),o=[],i=0,s=r.length;i<s;i++){var a=r[i].trim();if(a){var l=a.match(C4e);if(l){var u=0|parseInt(l[1],10),d=l[2];u!==0&&(x4e(d,u),_4e(e,d,l[3]),e.getTag().insertRules(u,o)),o.length=0}else o.push(a)}}};function E4e(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var cve=function(e){var t=document.head,n=e||t,r=document.createElement("style"),o=function(a){var l=Array.from(a.querySelectorAll("style[".concat(Av,"]")));return l[l.length-1]}(n),i=o!==void 0?o.nextSibling:null;r.setAttribute(Av,"active"),r.setAttribute("data-styled-version","6.1.0");var s=E4e();return s&&r.setAttribute("nonce",s),n.insertBefore(r,i),r},k4e=function(){function e(t){this.element=cve(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,o=0,i=r.length;o<i;o++){var s=r[o];if(s.ownerNode===n)return s}throw Ef(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),j4e=function(){function e(t){this.element=cve(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),T4e=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),Lz=TF,A4e={isServer:!TF,useCSSOMInjection:!i4e},GS=function(){function e(t,n,r){t===void 0&&(t=Dv),n===void 0&&(n={});var o=this;this.options=Bo(Bo({},A4e),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&TF&&Lz&&(Lz=!1,function(i){for(var s=document.querySelectorAll(w4e),a=0,l=s.length;a<l;a++){var u=s[a];u&&u.getAttribute(Av)!=="active"&&(S4e(i,u),u.parentNode&&u.parentNode.removeChild(u))}}(this)),IF(this,function(){return function(i){for(var s=i.getTag(),a=s.length,l="",u=function(f){var p=function(x){return qS.get(x)}(f);if(p===void 0)return"continue";var m=i.names.get(p),v=s.getGroup(f);if(m===void 0||v.length===0)return"continue";var g="".concat(Av,".g").concat(f,'[id="').concat(p,'"]'),b="";m!==void 0&&m.forEach(function(x){x.length>0&&(b+="".concat(x,","))}),l+="".concat(v).concat(g,'{content:"').concat(b,'"}').concat(`/*!sc*/
`)},d=0;d<a;d++)u(d);return l}(o)})}return e.registerId=function(t){return TC(t)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(Bo(Bo({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var r=n.useCSSOMInjection,o=n.target;return n.isServer?new T4e(o):r?new k4e(o):new j4e(o)}(this.options),new b4e(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(TC(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(TC(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(TC(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),D4e=/&/g,I4e=/^\s*\/\/.*$/gm;function uve(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=uve(n.children,t)),n})}function P4e(e){var t,n,r,o=e===void 0?Dv:e,i=o.options,s=i===void 0?Dv:i,a=o.plugins,l=a===void 0?ej:a,u=function(p,m,v){return v===n||v.startsWith(n)&&v.endsWith(n)&&v.replaceAll(n,"").length>0?".".concat(t):p},d=l.slice();d.push(function(p){p.type===Zk&&p.value.includes("&")&&(p.props[0]=p.props[0].replace(D4e,n).replace(r,u))}),s.prefix&&d.push(r4e),d.push(e4e);var f=function(p,m,v,g){m===void 0&&(m=""),v===void 0&&(v=""),g===void 0&&(g="&"),t=g,n=m,r=new RegExp("\\".concat(n,"\\b"),"g");var b=p.replace(I4e,""),x=QMe(v||m?"".concat(v," ").concat(m," { ").concat(b," }"):b);s.namespace&&(x=uve(x,s.namespace));var y=[];return WS(x,t4e(d.concat(n4e(function(w){return y.push(w)})))),y};return f.hash=l.length?l.reduce(function(p,m){return m.name||Ef(15),Cg(p,m.name)},5381).toString():"",f}var O4e=new GS,M3=P4e(),dve=re.createContext({shouldForwardProp:void 0,styleSheet:O4e,stylis:M3});dve.Consumer;re.createContext(void 0);function F3(){return h.useContext(dve)}var fve=function(){function e(t,n){var r=this;this.inject=function(o,i){i===void 0&&(i=M3);var s=r.name+i.hash;o.hasNameForId(r.id,s)||o.insertRules(r.id,s,i(r.rules,s,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,IF(this,function(){throw Ef(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=M3),this.name+t.hash},e}(),$4e=function(e){return e>="A"&&e<="Z"};function Bz(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;$4e(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var hve=function(e){return e==null||e===!1||e===""},pve=function(e){var t,n,r=[];for(var o in e){var i=e[o];e.hasOwnProperty(o)&&!hve(i)&&(Array.isArray(i)&&i.isCss||$p(i)?r.push("".concat(Bz(o),":"),i,";"):$b(i)?r.push.apply(r,kv(kv(["".concat(o," {")],pve(i),!1),["}"],!1)):r.push("".concat(Bz(o),": ").concat((t=o,(n=i)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in o4e||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function rf(e,t,n,r){if(hve(e))return[];if(DF(e))return[".".concat(e.styledComponentId)];if($p(e)){if(!$p(i=e)||i.prototype&&i.prototype.isReactComponent||!t)return[e];var o=e(t);return rf(o,t,n,r)}var i;return e instanceof fve?n?(e.inject(n,r),[e.getName(r)]):[e]:$b(e)?pve(e):Array.isArray(e)?Array.prototype.concat.apply(ej,e.map(function(s){return rf(s,t,n,r)})):[e.toString()]}function mve(e){for(var t=0;t<e.length;t+=1){var n=e[t];if($p(n)&&!DF(n))return!1}return!0}var R4e=ove("6.1.0"),M4e=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&mve(t),this.componentId=n,this.baseHash=Cg(R4e,n),this.baseStyle=r,GS.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=np(o,this.staticRulesId);else{var i=YS(rf(this.rules,t,n,r)),s=$3(Cg(this.baseHash,i)>>>0);if(!n.hasNameForId(this.componentId,s)){var a=r(i,".".concat(s),void 0,this.componentId);n.insertRules(this.componentId,s,a)}o=np(o,s),this.staticRulesId=s}else{for(var l=Cg(this.baseHash,r.hash),u="",d=0;d<this.rules.length;d++){var f=this.rules[d];if(typeof f=="string")u+=f;else if(f){var p=YS(rf(f,t,n,r));l=Cg(l,p+d),u+=p}}if(u){var m=$3(l>>>0);n.hasNameForId(this.componentId,m)||n.insertRules(this.componentId,m,r(u,".".concat(m),void 0,this.componentId)),o=np(o,m)}}return o},e}(),Iv=re.createContext(void 0);Iv.Consumer;function gve(){var e=h.useContext(Iv);if(!e)throw Ef(18);return e}function F4e(e){var t=re.useContext(Iv),n=h.useMemo(function(){return function(r,o){if(!r)throw Ef(14);if($p(r)){var i=r(o);return i}if(Array.isArray(r)||typeof r!="object")throw Ef(8);return o?Bo(Bo({},o),r):r}(e.theme,t)},[e.theme,t]);return e.children?re.createElement(Iv.Provider,{value:n},e.children):null}var CD={};function L4e(e,t,n){var r=DF(e),o=e,i=!xD(e),s=t.attrs,a=s===void 0?ej:s,l=t.componentId,u=l===void 0?function(w,C){var _=typeof w!="string"?"sc":Oz(w);CD[_]=(CD[_]||0)+1;var S="".concat(_,"-").concat(AF("6.1.0"+_+CD[_]));return C?"".concat(C,"-").concat(S):S}(t.displayName,t.parentComponentId):l,d=t.displayName;d===void 0&&function(w){return xD(w)?"styled.".concat(w):"Styled(".concat(u4e(w),")")}(e);var f=t.displayName&&t.componentId?"".concat(Oz(t.displayName),"-").concat(t.componentId):t.componentId||u,p=r&&o.attrs?o.attrs.concat(a).filter(Boolean):a,m=t.shouldForwardProp;if(r&&o.shouldForwardProp){var v=o.shouldForwardProp;if(t.shouldForwardProp){var g=t.shouldForwardProp;m=function(w,C){return v(w,C)&&g(w,C)}}else m=v}var b=new M4e(n,f,r?o.componentStyle:void 0);function x(w,C){return function(_,S,E){var j=_.attrs,k=_.componentStyle,T=_.defaultProps,A=_.foldedComponentIds,D=_.styledComponentId,I=_.target,P=re.useContext(Iv),M=F3(),$=_.shouldForwardProp||M.shouldForwardProp,V=function(te,N,G){for(var q,K=Bo(Bo({},N),{className:void 0,theme:G}),Q=0;Q<te.length;Q+=1){var X=$p(q=te[Q])?q(K):q;for(var Z in X)K[Z]=Z==="className"?np(K[Z],X[Z]):Z==="style"?Bo(Bo({},K[Z]),X[Z]):X[Z]}return N.className&&(K.className=np(K.className,N.className)),K}(j,S,nve(S,P,T)||Dv),L=V.as||I,H={};for(var U in V)V[U]===void 0||U[0]==="$"||U==="as"||U==="theme"||(U==="forwardedAs"?H.as=V.forwardedAs:$&&!$(U,L)||(H[U]=V[U]));var z=function(te,N){var G=F3(),q=te.generateAndInjectStyles(N,G.styleSheet,G.stylis);return q}(k,V),Y=np(A,D);return z&&(Y+=" "+z),V.className&&(Y+=" "+V.className),H[xD(L)&&!rve.has(L)?"class":"className"]=Y,H.ref=E,h.createElement(L,H)}(y,w,C)}var y=re.forwardRef(x);return y.attrs=p,y.componentStyle=b,y.shouldForwardProp=m,y.foldedComponentIds=r?np(o.foldedComponentIds,o.styledComponentId):"",y.styledComponentId=f,y.target=r?o.target:e,Object.defineProperty(y,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(w){this._foldedDefaultProps=r?function(C){for(var _=[],S=1;S<arguments.length;S++)_[S-1]=arguments[S];for(var E=0,j=_;E<j.length;E++)R3(C,j[E],!0);return C}({},o.defaultProps,w):w}}),IF(y,function(){return".".concat(y.styledComponentId)}),i&&lve(y,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),y}function Nz(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n}var zz=function(e){return Object.assign(e,{isCss:!0})};function de(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if($p(e)||$b(e)){var r=e;return zz(rf(Nz(ej,kv([r],t,!0))))}var o=e;return t.length===0&&o.length===1&&typeof o[0]=="string"?rf(o):zz(rf(Nz(o,t)))}function L3(e,t,n){if(n===void 0&&(n=Dv),!t)throw Ef(1,t);var r=function(o){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return e(t,n,de.apply(void 0,kv([o],i,!1)))};return r.attrs=function(o){return L3(e,t,Bo(Bo({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},r.withConfig=function(o){return L3(e,t,Bo(Bo({},n),o))},r}var vve=function(e){return L3(L4e,e)},O=vve;rve.forEach(function(e){O[e]=vve(e)});var B4e=function(){function e(t,n){this.rules=t,this.componentId=n,this.isStatic=mve(t),GS.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,n,r,o){var i=o(YS(rf(this.rules,n,r,o)),""),s=this.componentId+t;r.insertRules(s,s,i)},e.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,n,r,o){t>2&&GS.registerId(this.componentId+t),this.removeStyles(t,r),this.createStyles(t,n,r,o)},e}();function yve(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=de.apply(void 0,kv([e],t,!1)),o="sc-global-".concat(AF(JSON.stringify(r))),i=new B4e(r,o),s=function(l){var u=F3(),d=re.useContext(Iv),f=re.useRef(u.styleSheet.allocateGSInstance(o)).current;return u.styleSheet.server&&a(f,l,u.styleSheet,d,u.stylis),re.useLayoutEffect(function(){if(!u.styleSheet.server)return a(f,l,u.styleSheet,d,u.stylis),function(){return i.removeStyles(f,u.styleSheet)}},[f,l,u.styleSheet,d,u.stylis]),null};function a(l,u,d,f,p){if(i.isStatic)i.renderStyles(l,s4e,d,p);else{var m=Bo(Bo({},u),{theme:nve(u,f,s.defaultProps)});i.renderStyles(l,m,d,p)}}return re.memo(s)}function tj(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=YS(de.apply(void 0,kv([e],t,!1))),o=AF(r);return new fve(o,r)}const N4e="#101112",z4e="#fff",D2={50:{title:"Gray 50",hex:"#f2f3f5"},100:{title:"Gray 100",hex:"#e6e8ec"},200:{title:"Gray 200",hex:"#ced2d9"},300:{title:"Gray 300",hex:"#b6bcc6"},400:{title:"Gray 400",hex:"#9ea6b3"},500:{title:"Gray 500",hex:"#8690a0"},600:{title:"Gray 600",hex:"#6e7683"},700:{title:"Gray 700",hex:"#565d67"},800:{title:"Gray 800",hex:"#3f434a"},900:{title:"Gray 900",hex:"#272a2e"},950:{title:"Gray 950",hex:"#1b1d20"}},py={50:{title:"Blue 50",hex:"#e8f1fe"},100:{title:"Blue 100",hex:"#d2e3fe"},200:{title:"Blue 200",hex:"#a6c8fd"},300:{title:"Blue 300",hex:"#7aacfd"},400:{title:"Blue 400",hex:"#4e91fc"},500:{title:"Blue 500",hex:"#2276fc"},600:{title:"Blue 600",hex:"#1e61cd"},700:{title:"Blue 700",hex:"#1a4d9e"},800:{title:"Blue 800",hex:"#17396f"},900:{title:"Blue 900",hex:"#132540"},950:{title:"Blue 950",hex:"#111b29"}},V4e={50:{title:"Purple 50",hex:"#f8e9fe"},100:{title:"Purple 100",hex:"#f2d3fe"},200:{title:"Purple 200",hex:"#e6a7fd"},300:{title:"Purple 300",hex:"#d97bfd"},400:{title:"Purple 400",hex:"#cd4efc"},500:{title:"Purple 500",hex:"#c123fc"},600:{title:"Purple 600",hex:"#9d1fcd"},700:{title:"Purple 700",hex:"#7a1b9e"},800:{title:"Purple 800",hex:"#56186f"},900:{title:"Purple 900",hex:"#331440"},950:{title:"Purple 950",hex:"#211229"}},H4e={50:{title:"Magenta 50",hex:"#fcebf5"},100:{title:"Magenta 100",hex:"#f9d7eb"},200:{title:"Magenta 200",hex:"#f4afd8"},300:{title:"Magenta 300",hex:"#ef87c4"},400:{title:"Magenta 400",hex:"#ea5fb1"},500:{title:"Magenta 500",hex:"#e5389e"},600:{title:"Magenta 600",hex:"#ba3082"},700:{title:"Magenta 700",hex:"#8f2866"},800:{title:"Magenta 800",hex:"#65204a"},900:{title:"Magenta 900",hex:"#3a182d"},950:{title:"Magenta 950",hex:"#25141f"}},B3={50:{title:"Red 50",hex:"#fdebea"},100:{title:"Red 100",hex:"#fcd8d5"},200:{title:"Red 200",hex:"#f9b1ab"},300:{title:"Red 300",hex:"#f68b82"},400:{title:"Red 400",hex:"#f36458"},500:{title:"Red 500",hex:"#f03e2f"},600:{title:"Red 600",hex:"#c33529"},700:{title:"Red 700",hex:"#962c23"},800:{title:"Red 800",hex:"#69231d"},900:{title:"Red 900",hex:"#3c1a17"},950:{title:"Red 950",hex:"#261514"}},U4e={50:{title:"Orange 50",hex:"#fef0e6"},100:{title:"Orange 100",hex:"#fee2ce"},200:{title:"Orange 200",hex:"#fdc59d"},300:{title:"Orange 300",hex:"#fca86d"},400:{title:"Orange 400",hex:"#fb8b3c"},500:{title:"Orange 500",hex:"#e57322"},600:{title:"Orange 600",hex:"#ba5f1f"},700:{title:"Orange 700",hex:"#904b1b"},800:{title:"Orange 800",hex:"#653818"},900:{title:"Orange 900",hex:"#3a2415"},950:{title:"Orange 950",hex:"#251a13"}},N3={50:{title:"Yellow 50",hex:"#fef7da"},100:{title:"Yellow 100",hex:"#fdefb6"},200:{title:"Yellow 200",hex:"#fcdf6d"},300:{title:"Yellow 300",hex:"#fbd024"},400:{title:"Yellow 400",hex:"#d9b421"},500:{title:"Yellow 500",hex:"#b7991e"},600:{title:"Yellow 600",hex:"#967e1c"},700:{title:"Yellow 700",hex:"#746219"},800:{title:"Yellow 800",hex:"#534717"},900:{title:"Yellow 900",hex:"#312c14"},950:{title:"Yellow 950",hex:"#201e13"}},z3={50:{title:"Green 50",hex:"#e7f9ed"},100:{title:"Green 100",hex:"#d0f4dc"},200:{title:"Green 200",hex:"#a1eaba"},300:{title:"Green 300",hex:"#72e097"},400:{title:"Green 400",hex:"#43d675"},500:{title:"Green 500",hex:"#3ab564"},600:{title:"Green 600",hex:"#329454"},700:{title:"Green 700",hex:"#297343"},800:{title:"Green 800",hex:"#215233"},900:{title:"Green 900",hex:"#183122"},950:{title:"Green 950",hex:"#14211a"}},W4e={50:{title:"Cyan 50",hex:"#e3fafd"},100:{title:"Cyan 100",hex:"#c7f5fc"},200:{title:"Cyan 200",hex:"#90ecf9"},300:{title:"Cyan 300",hex:"#59e3f6"},400:{title:"Cyan 400",hex:"#22daf4"},500:{title:"Cyan 500",hex:"#1fb8ce"},600:{title:"Cyan 600",hex:"#1c97a8"},700:{title:"Cyan 700",hex:"#197583"},800:{title:"Cyan 800",hex:"#16545d"},900:{title:"Cyan 900",hex:"#133237"},950:{title:"Cyan 950",hex:"#112124"}},fe={gray:D2,blue:py,purple:V4e,magenta:H4e,red:B3,orange:U4e,yellow:N3,green:z3,cyan:W4e},bve=["gray","blue","purple","magenta","red","orange","yellow","green","cyan"],oc={title:"Black",hex:N4e},Ca={title:"White",hex:z4e},kf=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"access-denied",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18.1568 6.84315C21.281 9.96734 21.281 15.0327 18.1568 18.1569C15.0326 21.281 9.96733 21.281 6.84313 18.1569C3.71894 15.0327 3.71894 9.96734 6.84313 6.84315C9.96733 3.71895 15.0326 3.71895 18.1568 6.84315ZM18.1568 6.84315L6.844 18.156",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Y4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"activity",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M21 15H19L15.5 7L11 18L8 12L6 15H4",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),V3=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"add-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 12.4H17M12.5 8V17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Js=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"add",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 5V20M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),q4e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"api",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M5.93047 13.2107L6.66782 10.3728H6.73089L7.45854 13.2107H5.93047ZM8.17164 16H9.66089L7.56041 9H5.93047L3.82999 16H5.20767L5.65396 14.2876H7.73505L8.17164 16Z",fill:"currentColor"}),c.jsx("path",{d:"M10.5389 9V16H11.9166V13.7782H13.0323C14.541 13.7782 15.5015 12.8517 15.5015 11.3964C15.5015 9.92654 14.5701 9 13.1003 9H10.5389ZM11.9166 10.1303H12.751C13.6533 10.1303 14.1044 10.5475 14.1044 11.3867C14.1044 12.2308 13.6533 12.6431 12.751 12.6431H11.9166V10.1303Z",fill:"currentColor"}),c.jsx("path",{d:"M21.1675 16V14.8164H19.717V10.1836H21.1675V9H16.8889V10.1836H18.3393V14.8164H16.8889V16H21.1675Z",fill:"currentColor"})]})}),G4e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"archive",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12.5 10.5V17M20.5 7.5V20.5H4.5V7.5L7.5 4.5H17.5L20.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M4.5 7.5H20.5M16 14L12.5 17.5L9 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),xve=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"arrow-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12.5 19.5V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M18 14L12.5 19.5L7 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),PF=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"arrow-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M5.5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11 18L5.5 12.5L11 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),wve=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M19.5 12.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M14 7L19.5 12.5L14 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),K4e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"arrow-top-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M16.5 8.5L7 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M9 8.5H16.5V16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Z4e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"arrow-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M7 11L12.5 5.5L18 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M12.5 5.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),X4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"bar-chart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 5V19.5H20M8.5 18V13M11.5 18V9M14.5 18V11M17.5 18V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Q4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"basket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8.5 10.5H5L6.5 19.5H18.5L20 10.5H16.5M8.5 10.5L10.2721 5.18377C10.4082 4.77543 10.7903 4.5 11.2208 4.5H13.7792C14.2097 4.5 14.5918 4.77543 14.7279 5.18377L16.5 10.5M8.5 10.5H16.5M8.5 10.5L9.5 19.5M16.5 10.5L15.5 19.5M12.5 10.5V19.5M19.5 13.5H5.5M19 16.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),J4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"bell",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.5 17.5V18.5C10.5 20 11.5 20.5 12.5 20.5C13.5 20.5 14.5 20 14.5 18.5V17.5M5.5 17.5C6.5 16 6.5 15 6.5 12C6.5 8 8.5 5.5 12.5 5.5C16.5 5.5 18.5 8 18.5 12C18.5 15 18.5 16 19.5 17.5H5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),eFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"bill",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M6.50001 5.5C8.50003 5.5 8.50003 8 8.50003 8V9.5M6.50001 5.5C4.5 5.5 4.5 8 4.5 8L4.50001 9.5H8.50003M6.50001 5.5C6.50001 5.5 15.8333 5.5 17.6667 5.5C19.5 5.5 19.5 8.5 19.5 8.5V20L17.6667 19L15.8333 20L14 19L12.1667 20L10.3334 19L8.50003 20V9.5M11 12.5H15M11 9.5H16M11 15.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),v0=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"binary-document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M9.5 12.5V17.5M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM12.5 12.5V17.5H15.5V12.5H12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})]})}),Cve=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"block-content",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 7.60002L11 7.60003V6.40003L21 6.40002V7.60002Z",fill:"currentColor"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 11.2667L12.4833 11.2667V10.0667L21 10.0667V11.2667Z",fill:"currentColor"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 14.9334H13.9254V13.7334L21 13.7334V14.9334Z",fill:"currentColor"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 18.6002H4V17.4002H21V18.6002Z",fill:"currentColor"}),c.jsx("path",{d:"M9.86438 15.6H11.2L8.27623 7.60003H6.92377L4 15.6H5.29072L6.0371 13.4767H9.12362L9.86438 15.6ZM7.53546 9.05255H7.63086L8.80374 12.4344H6.35698L7.53546 9.05255Z",fill:"currentColor"})]})}),_ve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"block-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5 19.5H20M5 5.5H20M6.5 8.5H18.5V16.5H6.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),tFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"blockquote",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10 17.5H19M6 7.5H19M10 12.5H17M6.5 12V18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Sve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"bold",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M13.2087 18C15.5322 18 16.9731 16.793 16.9731 14.8844C16.9731 13.4812 15.9245 12.3949 14.4836 12.2892V12.1534C15.6001 11.9875 16.4526 10.9841 16.4526 9.82991C16.4526 8.14761 15.1927 7.11409 13.0804 7.11409H8.32019V18H13.2087ZM10.5985 8.85674H12.4995C13.5859 8.85674 14.212 9.37727 14.212 10.2448C14.212 11.1199 13.5406 11.6254 12.3109 11.6254H10.5985V8.85674ZM10.5985 16.2574V13.1643H12.575C13.9178 13.1643 14.6496 13.6924 14.6496 14.6882C14.6496 15.7066 13.9404 16.2574 12.6278 16.2574H10.5985Z",fill:"currentColor"})})}),nFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"bolt",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18 11.5L9 21L11 13.5H7L16 4L14 11.5H18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),rFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"book",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M20.5 17.5V5.5L12.5 6.5M20.5 17.5L12.5 18.5M20.5 17.5V18.5M4.5 17.5V5.5L12.5 6.5M4.5 17.5L12.5 18.5M4.5 17.5V18.5M12.5 18.5L4.5 19.5V18.5M12.5 18.5L20.5 19.5V18.5M12.5 18.5V6.5M12.5 18.5H4.5M12.5 18.5H20.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),oFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"bottle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M7.5 17.5L17.5 17.5M17.5 13C17.5 12.087 17.5 11.3518 17.5 11C17.5 8.5 14.5 9 14.5 7.37494L14.5 5.5M17.5 13C17.5 15.1229 17.5 18.7543 17.5 20.5022C17.5 21.0545 17.0523 21.5 16.5 21.5L8.5 21.5C7.94772 21.5 7.5 21.0547 7.5 20.5024C7.5 18.8157 7.5 15.3546 7.5 13M17.5 13L7.5 13M7.5 13C7.5 12.2538 7.5 11.5648 7.5 11C7.5 8.5 10.5 9 10.5 7.37494L10.5 5.5M10.5 5.5L10.5 3.99999C10.5 3.72385 10.7239 3.49999 11 3.49999L14 3.49999C14.2761 3.49999 14.5 3.72385 14.5 3.99999L14.5 5.5M10.5 5.5L14.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),iFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"bulb-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H14V20.5C14 21.0523 13.5523 21.5 13 21.5H12C11.4477 21.5 11 21.0523 11 20.5V19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10C18 11.94 17.3978 12.9767 16.4272 14.3368Z",fill:"currentColor"}),c.jsx("path",{d:"M16.4272 14.3368L15.9388 13.9883L16.4272 14.3368ZM14 19.5V18.9H13.4V19.5H14ZM11 19.5H11.6V18.9H11V19.5ZM8.57284 14.3368L9.06122 13.9883H9.06122L8.57284 14.3368ZM16.1 17.212C16.1 16.3069 16.3868 15.4261 16.9155 14.6853L15.9388 13.9883C15.2678 14.9284 14.9 16.0519 14.9 17.212H16.1ZM16.1 18.5V17.212H14.9V18.5H16.1ZM14.5 20.1C15.3837 20.1 16.1 19.3837 16.1 18.5H14.9C14.9 18.7209 14.7209 18.9 14.5 18.9V20.1ZM14 20.1H14.5V18.9H14V20.1ZM13.4 19.5V20.5H14.6V19.5H13.4ZM13.4 20.5C13.4 20.7209 13.2209 20.9 13 20.9V22.1C13.8837 22.1 14.6 21.3837 14.6 20.5H13.4ZM13 20.9H12V22.1H13V20.9ZM12 20.9C11.7791 20.9 11.6 20.7209 11.6 20.5H10.4C10.4 21.3837 11.1163 22.1 12 22.1V20.9ZM11.6 20.5V19.5H10.4V20.5H11.6ZM10.5 20.1H11V18.9H10.5V20.1ZM8.9 18.5C8.9 19.3837 9.61634 20.1 10.5 20.1V18.9C10.2791 18.9 10.1 18.7209 10.1 18.5H8.9ZM8.9 17.212V18.5H10.1V17.212H8.9ZM8.08446 14.6853C8.61315 15.4261 8.9 16.3069 8.9 17.212H10.1C10.1 16.0519 9.73217 14.9284 9.06122 13.9883L8.08446 14.6853ZM6.4 10C6.4 11.0377 6.56208 11.8595 6.86624 12.611C7.16624 13.3521 7.59495 13.9995 8.08446 14.6853L9.06122 13.9883C8.58004 13.314 8.22233 12.7629 7.97858 12.1607C7.739 11.5688 7.6 10.9023 7.6 10H6.4ZM12.5 3.9C9.16863 3.9 6.4 6.66863 6.4 10H7.6C7.6 7.33137 9.83137 5.1 12.5 5.1V3.9ZM18.6 10C18.6 6.66863 15.8314 3.9 12.5 3.9V5.1C15.1686 5.1 17.4 7.33137 17.4 10H18.6ZM16.9155 14.6853C17.4051 13.9995 17.8338 13.3521 18.1338 12.611C18.4379 11.8595 18.6 11.0377 18.6 10H17.4C17.4 10.9023 17.261 11.5688 17.0214 12.1607C16.7777 12.7629 16.42 13.314 15.9388 13.9883L16.9155 14.6853Z",fill:"currentColor"})]})}),nj=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"bulb-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 16.5H15.5M11 20V20.5C11 21.0523 11.4477 21.5 12 21.5H13C13.5523 21.5 14 21.0523 14 20.5V20M18 10C18 11.94 17.3978 12.9767 16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10Z",stroke:"currentColor",strokeWidth:1.2})})}),_g=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"calendar",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M4.5 10.5V19.5H20.5V10.5M4.5 10.5V5.5H20.5V10.5M4.5 10.5H12.5H20.5M20.5 13.5H16.5M16.5 13.5H12.5M16.5 13.5V10.5M16.5 13.5V16.5M12.5 13.5H8.5M12.5 13.5V16.5M12.5 13.5V10.5M8.5 13.5H4.5M8.5 13.5V10.5M8.5 13.5V16.5M20.5 16.5H16.5M16.5 16.5H12.5M16.5 16.5V19.5M12.5 16.5H8.5M12.5 16.5V19.5M8.5 16.5H4.5M8.5 16.5V19.5M17.5 8V3M7.5 8V3",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),sFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"case",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9 8.5122V6C9 5.44772 9.44772 5 10 5H15C15.5523 5 16 5.44772 16 6V8.5122M4.5 12V18.5C4.5 19.0523 4.94772 19.5 5.5 19.5H19.5C20.0523 19.5 20.5 19.0523 20.5 18.5V12M4.5 12V9.5122C4.5 8.95991 4.94772 8.5122 5.5 8.5122H19.5C20.0523 8.5122 20.5 8.95991 20.5 9.5122V12M4.5 12L11.7978 14.7367C12.2505 14.9064 12.7495 14.9064 13.2022 14.7367L20.5 12",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),aFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"chart-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 5V19.5H20M7.5 16L11.5 11.5L15.5 14L19.5 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),rj=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"checkmark-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 12.1316L11.7414 14.5L16 10M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ba=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"checkmark",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 11.5L10.5 16.5L19.5 7.60001",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Rl=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17 10.5L12.5 15L8 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),oj=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M14.5 17L10 12.5L14.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Qu=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.5 8L15 12.5L10.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Eve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 14.5L12.5 10L17 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),lFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),cFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"clipboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 5.5H6.5V19.5H18.5V5.5H17M12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),uFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"clipboard-image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 5.5H6.5V19.5H10.5M17 5.5H18.5V11.5M10.5 18.5L12.73 15.8983C13.1327 15.4285 13.8613 15.4335 14.2575 15.909L15.299 17.1588C15.6754 17.6105 16.3585 17.6415 16.7743 17.2257L16.9903 17.0097C17.2947 16.7053 17.7597 16.6298 18.1447 16.8223L20.5 18M10.5 11.5H20.5V21.5H10.5V11.5ZM12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),kve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"clock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 8V12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),dFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"close-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 15.5L12.5 12.5M12.5 12.5L15.5 9.5M12.5 12.5L9.5 9.5M12.5 12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),la=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"close",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18 7L7 18M7 7L18 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),fFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"code-block",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M11 15L8.5 12.5L11 10M14 10L16.5 12.5L14 15M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),jve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"code",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M11 16L7.5 12.5L11 9M14 9L17.5 12.5L14 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ij=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"cog",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M14.2624 5.40607L13.8714 4.42848C13.6471 3.86771 13.104 3.5 12.5 3.5C11.896 3.5 11.3529 3.86771 11.1286 4.42848L10.7376 5.40607C10.5857 5.78585 10.2869 6.08826 9.90901 6.2448C9.53111 6.40133 9.10603 6.39874 8.73006 6.23761L7.76229 5.82285C7.20716 5.58494 6.56311 5.70897 6.13604 6.13604C5.70897 6.56311 5.58494 7.20716 5.82285 7.76229L6.23761 8.73006C6.39874 9.10602 6.40133 9.53111 6.2448 9.90901C6.08826 10.2869 5.78585 10.5857 5.40607 10.7376L4.42848 11.1286C3.86771 11.3529 3.5 11.896 3.5 12.5C3.5 13.104 3.86771 13.6471 4.42848 13.8714L5.40607 14.2624C5.78585 14.4143 6.08826 14.7131 6.2448 15.091C6.40133 15.4689 6.39874 15.894 6.23761 16.2699L5.82285 17.2377C5.58494 17.7928 5.70897 18.4369 6.13604 18.864C6.56311 19.291 7.20716 19.4151 7.76229 19.1772L8.73006 18.7624C9.10603 18.6013 9.53111 18.5987 9.90901 18.7552C10.2869 18.9117 10.5857 19.2141 10.7376 19.5939L11.1286 20.5715C11.3529 21.1323 11.896 21.5 12.5 21.5C13.104 21.5 13.6471 21.1323 13.8714 20.5715L14.2624 19.5939C14.4143 19.2141 14.7131 18.9117 15.091 18.7552C15.4689 18.5987 15.894 18.6013 16.2699 18.7624L17.2377 19.1771C17.7928 19.4151 18.4369 19.291 18.864 18.864C19.291 18.4369 19.4151 17.7928 19.1771 17.2377L18.7624 16.2699C18.6013 15.894 18.5987 15.4689 18.7552 15.091C18.9117 14.7131 19.2141 14.4143 19.5939 14.2624L20.5715 13.8714C21.1323 13.6471 21.5 13.104 21.5 12.5C21.5 11.896 21.1323 11.3529 20.5715 11.1286L19.5939 10.7376C19.2141 10.5857 18.9117 10.2869 18.7552 9.90901C18.5987 9.53111 18.6013 9.10602 18.7624 8.73006L19.1772 7.76229C19.4151 7.20716 19.291 6.56311 18.864 6.13604C18.4369 5.70897 17.7928 5.58494 17.2377 5.82285L16.2699 6.23761C15.894 6.39874 15.4689 6.40133 15.091 6.2448C14.7131 6.08826 14.4143 5.78585 14.2624 5.40607Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16.5 12.5C16.5 14.7091 14.7091 16.5 12.5 16.5C10.2909 16.5 8.5 14.7091 8.5 12.5C8.5 10.2909 10.2909 8.5 12.5 8.5C14.7091 8.5 16.5 10.2909 16.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Tve=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"collapse",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M6 14.5L10.5 14.5V19M19 10.5H14.5L14.5 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10.5 14.5L6 19M14.5 10.5L19 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),hFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"color-wheel",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.43853 5.10896L11.1606 9.26642M13.8394 15.7336L15.5615 19.891M15.7336 11.1606L19.891 9.43853M9.26642 13.8394L5.10896 15.5615M5.3139 9.52342L9.23359 11.147M15.7664 13.853L19.6861 15.4766M13.853 9.23359L15.4766 5.3139M9.52342 19.6861L11.147 15.7664M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5ZM16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ave=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M7.5 16.5H9.5V20.5L13.5 16.5H17.5C18.6046 16.5 19.5 15.6046 19.5 14.5V8.5C19.5 7.39543 18.6046 6.5 17.5 6.5H7.5C6.39543 6.5 5.5 7.39543 5.5 8.5V14.5C5.5 15.6046 6.39543 16.5 7.5 16.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),pFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"component",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8.5 8.5L12.5 12.5M12.5 12.5L16.5 16.5M12.5 12.5L16.5 8.5M12.5 12.5L8.5 16.5M12.5 4L21 12.5L12.5 21L4 12.5L12.5 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),xp=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"compose",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17 6L19 8M14 5.5H5.5V19.5H19.5V11M9 16L9.5 13.5L19 4L21 6L11.5 15.5L9 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),sj=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"controls",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M6.5 5V7.5M6.5 7.5C5.39543 7.5 4.5 8.39543 4.5 9.5C4.5 10.6046 5.39543 11.5 6.5 11.5M6.5 7.5C7.60457 7.5 8.5 8.39543 8.5 9.5C8.5 10.6046 7.60457 11.5 6.5 11.5M6.5 11.5V20M12.5 5V13.5M12.5 13.5C11.3954 13.5 10.5 14.3954 10.5 15.5C10.5 16.6046 11.3954 17.5 12.5 17.5M12.5 13.5C13.6046 13.5 14.5 14.3954 14.5 15.5C14.5 16.6046 13.6046 17.5 12.5 17.5M12.5 17.5V20M18.5 5V7.5M18.5 7.5C17.3954 7.5 16.5 8.39543 16.5 9.5C16.5 10.6046 17.3954 11.5 18.5 11.5M18.5 7.5C19.6046 7.5 20.5 8.39543 20.5 9.5C20.5 10.6046 19.6046 11.5 18.5 11.5M18.5 11.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Au=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"copy",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8.5 8.5H5.5V20.5H16.5V16.5M19.5 4.5H8.5V16.5H19.5V4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),mFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"credit-card",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M20.5 9.5H4.5V11.5H20.5V9.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7 15.5H14M5.5 18.5H19.5C20.0523 18.5 20.5 18.0523 20.5 17.5V7.5C20.5 6.94772 20.0523 6.5 19.5 6.5H5.5C4.94772 6.5 4.5 6.94772 4.5 7.5V17.5C4.5 18.0523 4.94772 18.5 5.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Dve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"crop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 5V15.5H20M5 9.5H15.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),gFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"cube",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M12.5 22V13M12.5 13L4.5 8M12.5 13L20.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),vFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"dashboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M14.5 19.5V12.5M10.5 12.5V5.5M5.5 12.5H19.5M5.5 19.5H19.5V5.5H5.5V19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),yFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"database",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18.5 7V17.5C18.5 19.0594 16.0504 20.5 12.5 20.5C8.9496 20.5 6.5 19.0594 6.5 17.5V7M18.5 7C18.5 8.45543 15.8137 9.5 12.5 9.5C9.18629 9.5 6.5 8.45543 6.5 7C6.5 5.54457 9.18629 4.5 12.5 4.5C15.8137 4.5 18.5 5.54457 18.5 7Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ive=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"desktop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M4.5 13.5V15.5C4.5 16.0523 4.94772 16.5 5.5 16.5H12.5M4.5 13.5V6.5C4.5 5.94772 4.94772 5.5 5.5 5.5H19.5C20.0523 5.5 20.5 5.94772 20.5 6.5V13.5M4.5 13.5H20.5M20.5 13.5V15.5C20.5 16.0523 20.0523 16.5 19.5 16.5H12.5M12.5 16.5V19.5M12.5 19.5H8M12.5 19.5H17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Rp=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5L6.5 9.5M11.5 4.5L6.5 9.5M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),bFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document-pdf",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12.7127 13.8012L12.7193 13.77C12.8488 13.2366 13.0117 12.5716 12.8845 11.969C12.7997 11.4937 12.4493 11.3084 12.1503 11.295C11.7977 11.2794 11.483 11.4803 11.4049 11.7726C11.2576 12.3082 11.3893 13.0402 11.6303 13.973C11.3268 14.6961 10.8425 15.7472 10.4877 16.3721C9.8271 16.7135 8.94113 17.2402 8.80946 17.9053C8.78268 18.028 8.81392 18.1842 8.88757 18.3248C8.97014 18.481 9.10181 18.6015 9.25579 18.6596C9.32274 18.6841 9.40308 18.7042 9.49681 18.7042C9.88959 18.7042 10.5256 18.3873 11.3736 16.9322C11.5031 16.8898 11.637 16.8452 11.7664 16.8006C12.3734 16.5953 13.0028 16.381 13.5718 16.2851C14.2012 16.622 14.9175 16.8385 15.404 16.8385C15.8861 16.8385 16.0758 16.5529 16.1472 16.381C16.2722 16.0797 16.2119 15.7004 16.0088 15.4973C15.7143 15.2072 14.9979 15.1313 13.882 15.2696C13.3331 14.9349 12.9738 14.4796 12.7127 13.8012ZM10.2645 17.1911C9.95431 17.6419 9.71998 17.8673 9.59278 17.9655C9.7423 17.691 10.0346 17.4009 10.2645 17.1911ZM12.2195 11.9355C12.3355 12.1341 12.3199 12.7345 12.2306 13.038C12.1213 12.5939 12.1056 11.9645 12.1704 11.8909L12.2195 11.9355ZM12.1837 14.6247C12.4225 15.0376 12.7238 15.3924 13.0563 15.6557C12.5743 15.7651 12.1346 15.9458 11.7419 16.1065C11.6481 16.1445 11.5566 16.1824 11.4674 16.2181C11.7642 15.6803 12.0119 15.071 12.1837 14.6247ZM15.6562 16.0864L15.6428 16.1065C15.6428 16.1065 15.4375 16.2315 14.6497 15.9213C15.5558 15.8789 15.6562 16.0864 15.6562 16.0864Z",fill:"currentColor"}),c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),xFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M6.5 14V20.5H18.5V14M6.5 11V9.5L11.5 4.5H18.5V11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),wFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document-sheet",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10.4 19V16.4M10.4 16.4L10.4 13.4M10.4 16.4H8M10.4 16.4H14.4M10.4 13.4V11M10.4 13.4H8M10.4 13.4H14.4M14.4 19V16.4M14.4 16.4V13.4M14.4 16.4H17M14.4 13.4V11M14.4 13.4H17M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),CFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document-text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16 13H9M14 16H9M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),_Fe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document-video",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.5 16.5V13.5L14 15L11.5 16.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),SFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document-word",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12.4699 13.4588H12.5263L13.6328 17H14.5435L16 12H14.9952L14.0656 15.7214H14.0129L12.929 12H12.0672L10.9984 15.7214H10.9419L10.0124 12H9L10.4565 17H11.371L12.4699 13.4588Z",fill:"currentColor"}),c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),EFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document-zip",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M15 4.5L13.5 5L15.5 6L13.5 7L15.5 8L13.5 9L15.5 10L13.5 11L14.5 11.5V13M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM13.5 13H15.5L16 17H13L13.5 13Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),OF=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"documents",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M10.5 4.5V9.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16.5 7.5H19.5V21.5H8.5V18.5M10.5 4.5H16.5V18.5H5.5V9.5L10.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),kFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"dot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("circle",{cx:12.5,cy:12.5,r:1.5,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2})})}),jFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"double-chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17 8.5L12.5 13L8 8.5M17 12.5L12.5 17L8 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),TFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"double-chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 17L8 12.5L12.5 8M16.5 17L12 12.5L16.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Pve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"double-chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 8L17 12.5L12.5 17M8.5 8L13 12.5L8.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),AFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"double-chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 12.5L12.5 8L17 12.5M8 16.5L12.5 12L17 16.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$F=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"download",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M19.5 17V19.5H5.5V17M12.5 16L12.5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Ove=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"drag-handle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M9.5 8C10.3284 8 11 7.32843 11 6.5C11 5.67157 10.3284 5 9.5 5C8.67157 5 8 5.67157 8 6.5C8 7.32843 8.67157 8 9.5 8Z",fill:"currentColor"}),c.jsx("path",{d:"M9.5 14C10.3284 14 11 13.3284 11 12.5C11 11.6716 10.3284 11 9.5 11C8.67157 11 8 11.6716 8 12.5C8 13.3284 8.67157 14 9.5 14Z",fill:"currentColor"}),c.jsx("path",{d:"M11 18.5C11 19.3284 10.3284 20 9.5 20C8.67157 20 8 19.3284 8 18.5C8 17.6716 8.67157 17 9.5 17C10.3284 17 11 17.6716 11 18.5Z",fill:"currentColor"}),c.jsx("path",{d:"M15.5 8C16.3284 8 17 7.32843 17 6.5C17 5.67157 16.3284 5 15.5 5C14.6716 5 14 5.67157 14 6.5C14 7.32843 14.6716 8 15.5 8Z",fill:"currentColor"}),c.jsx("path",{d:"M17 12.5C17 13.3284 16.3284 14 15.5 14C14.6716 14 14 13.3284 14 12.5C14 11.6716 14.6716 11 15.5 11C16.3284 11 17 11.6716 17 12.5Z",fill:"currentColor"}),c.jsx("path",{d:"M15.5 20C16.3284 20 17 19.3284 17 18.5C17 17.6716 16.3284 17 15.5 17C14.6716 17 14 17.6716 14 18.5C14 19.3284 14.6716 20 15.5 20Z",fill:"currentColor"})]})}),DFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"drop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18.5 14.5C18.5 18 16 20.5 12.5 20.5C9 20.5 6.5 18 6.5 14.5C6.5 11 9.5 7.50001 12.5 4.5C15.5 7.5 18.5 11 18.5 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$ve=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"earth-americas",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M7 13L5.5 9L10 5H15V10L14 9H11L9.5 11L10.5 12H12V13L13 14.5H15.5L18.5 17L15.5 19.5L10.5 20V17L12.5 15L9 13L7 10.5V13Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),IFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"earth-globe",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 16.5H19.5M5.5 8.5H19.5M4.5 12.5H20.5M12.5 20.5C12.5 20.5 8 18.5 8 12.5C8 6.5 12.5 4.5 12.5 4.5M12.5 4.5C12.5 4.5 17 6.5 17 12.5C17 18.5 12.5 20.5 12.5 20.5M12.5 4.5V20.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Du=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"edit",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),PFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"ellipsis-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M6.5 11C7.32843 11 8 11.6716 8 12.5C8 13.3284 7.32843 14 6.5 14C5.67157 14 5 13.3284 5 12.5C5 11.6716 5.67157 11 6.5 11Z",fill:"currentColor"}),c.jsx("path",{d:"M12.5 11C13.3284 11 14 11.6716 14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11Z",fill:"currentColor"}),c.jsx("path",{d:"M18.5 11C19.3284 11 20 11.6716 20 12.5C20 13.3284 19.3284 14 18.5 14C17.6716 14 17 13.3284 17 12.5C17 11.6716 17.6716 11 18.5 11Z",fill:"currentColor"})]})}),Ho=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"ellipsis-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M14 6.5C14 7.32843 13.3284 8 12.5 8C11.6716 8 11 7.32843 11 6.5C11 5.67157 11.6716 5 12.5 5C13.3284 5 14 5.67157 14 6.5Z",fill:"currentColor"}),c.jsx("path",{d:"M14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11C13.3284 11 14 11.6716 14 12.5Z",fill:"currentColor"}),c.jsx("path",{d:"M14 18.5C14 19.3284 13.3284 20 12.5 20C11.6716 20 11 19.3284 11 18.5C11 17.6716 11.6716 17 12.5 17C13.3284 17 14 17.6716 14 18.5Z",fill:"currentColor"})]})}),OFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"enter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M6 14.5H19.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10 18.5L6 14.5L10 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),$Fe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"enter-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M19 14.5H5.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M15 18.5L19 14.5L15 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),RFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"envelope",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M20.5 18.5H4.5V6.5H20.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M20.5 18.5L17.75 15.5L15 12.5M4.5 18.5L10 12.5M20.5 6.5L12.5 15L4.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),MFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"equal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M7.5 4.5H3.5V20.5H7.5",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M17.5 20.5L21.5 20.5L21.5 4.5L17.5 4.5",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M9 10.5H16",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M9 14.5H16",stroke:"currentColor",strokeWidth:1.2})]})}),FFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"error-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5ZM13 14.5V16H12V14.5H13ZM12 9V13H13V9H12Z",fill:"currentColor"})})}),ca=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"error-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 16V14.5M12.5 9V13M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Rve=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"expand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M14 6.5H18.5V11M11 18.5H6.5V14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M18.5 6.5L14 11M6.5 18.5L11 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),LFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"eye-closed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M7 15.5L5.5 17.5M20.5 12.5C19.8612 13.5647 19.041 14.6294 18.0008 15.501M18.0008 15.501C16.5985 16.676 14.7965 17.5 12.5 17.5M18.0008 15.501L18 15.5M18.0008 15.501L19.5 17.5M12.5 17.5C8.5 17.5 6 15 4.5 12.5M12.5 17.5V20M15.5 17L16.5 19.5M9.5 17L8.5 19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),RF=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"eye-open",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.39999 12.5C9.39999 10.7879 10.7879 9.39999 12.5 9.39999C14.2121 9.39999 15.6 10.7879 15.6 12.5C15.6 14.2121 14.2121 15.6 12.5 15.6C10.7879 15.6 9.39999 14.2121 9.39999 12.5Z",fill:"currentColor"}),c.jsx("path",{d:"M12.5 7.5C8.5 7.5 6 10 4.5 12.5C6 15 8.5 17.5 12.5 17.5C16.5 17.5 19 15 20.5 12.5C19 10 16.5 7.5 12.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),BFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"filter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M11 12L6 7V6L19 6L19 7L14 12V17L11 19V12Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),NFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"folder",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M11.5 8.5H19.5V18.5H5.5V5.5H10.5L11.5 8.5ZM11.5 8.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),zFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"generate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M9 5.30423C6.33576 6.60253 4.5 9.33688 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5V14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16 11L12.5 14.5L9 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),VFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"groq",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M13 13H21L13 21L13 13Z",fill:"currentColor"}),c.jsx("path",{d:"M12 12V4L4 12H12Z",fill:"currentColor"}),c.jsx("path",{d:"M12 13H4L12 21V13Z",fill:"currentColor"})]})}),HFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"heart-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),UFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"heart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Pv=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"help-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),WFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"home",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M6.5 8.75V18.5H18.5V8.75M4.5 10L12.5 5L20.5 10M14.5 18.5V11.5H10.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),YFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"ice-cream",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 13.5L12.5 20.5L15.5 13.5M12.5 8.26389C11.9692 7.78885 11.2684 7.5 10.5 7.5C8.84315 7.5 7.5 8.84315 7.5 10.5C7.5 12.1569 8.84315 13.5 10.5 13.5C11.2684 13.5 11.9692 13.2111 12.5 12.7361M9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5M17.5 10.5C17.5 12.1569 16.1569 13.5 14.5 13.5C12.8431 13.5 11.5 12.1569 11.5 10.5C11.5 8.84315 12.8431 7.5 14.5 7.5C16.1569 7.5 17.5 8.84315 17.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Sl=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 15.5L8.79289 12.2071C9.18342 11.8166 9.81658 11.8166 10.2071 12.2071L12.8867 14.8867C13.2386 15.2386 13.7957 15.2782 14.1938 14.9796L15.1192 14.2856C15.3601 14.1049 15.6696 14.0424 15.9618 14.1154L19.5 15M5.5 6.5H19.5V18.5H5.5V6.5ZM15.5 10.5C15.5 11.0523 15.0523 11.5 14.5 11.5C13.9477 11.5 13.5 11.0523 13.5 10.5C13.5 9.94772 13.9477 9.5 14.5 9.5C15.0523 9.5 15.5 9.94772 15.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),qFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"image-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 11V6.5H19.5V11M5.5 14V18.5H19.5V14M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),GFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"images",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18.5 7.5H20.5V19.5H6.5V17.5M4.5 14.5L7.79289 11.2071C8.18342 10.8166 8.81658 10.8166 9.20711 11.2071L11.8867 13.8867C12.2386 14.2386 12.7957 14.2782 13.1938 13.9796L14.1192 13.2856C14.3601 13.1049 14.6696 13.0424 14.9618 13.1154L18.5 14M4.5 5.5H18.5V17.5H4.5V5.5ZM14.5 9.5C14.5 10.0523 14.0523 10.5 13.5 10.5C12.9477 10.5 12.5 10.0523 12.5 9.5C12.5 8.94772 12.9477 8.5 13.5 8.5C14.0523 8.5 14.5 8.94772 14.5 9.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),KFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"info-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5ZM12 10.5V9H13V10.5H12ZM13 16V12H12V16H13Z",fill:"currentColor"})})}),cm=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"info-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 10.5V9M12.5 12V16M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Mve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"inline-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 5V20M19.5 5V20M8.5 6.5H16.5V18.5H8.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ZFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"inline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 6.5H19.5V18.5H12.5M12.5 6.5H5.5V18.5H12.5M12.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Fve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"insert-above",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M14.5 10.5556L10.5 10.5556M12.5 12.5L12.5 8.5M18.5 5.5L6.5 5.5M18.5 19.5L6.5 19.5L6.5 15.5L18.5 15.5L18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),Lve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"insert-below",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.5 14.5H14.5M12.5 12.5V16.5M6.5 19.5H18.5M6.5 5.5H18.5V9.5H6.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),Bve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"italic",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.43 18H11.7276L13.4551 9.86763H12.1576L10.43 18ZM13.3043 8.29849C13.8022 8.29849 14.2095 7.89112 14.2095 7.39322C14.2095 6.89532 13.8022 6.48795 13.3043 6.48795C12.8064 6.48795 12.399 6.89532 12.399 7.39322C12.399 7.89112 12.8064 8.29849 13.3043 8.29849Z",fill:"currentColor"})})}),XFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"joystick",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 16V14.5H15.5V16M13.5 10.5V14.5M11.5 10.5V14.5M15.5 7.5C15.5 9.15685 14.1569 10.5 12.5 10.5C10.8431 10.5 9.5 9.15685 9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5ZM18.5 19.5H6.5C5.94772 19.5 5.5 19.0523 5.5 18.5V17.5C5.5 16.9477 5.94772 16.5 6.5 16.5H18.5C19.0523 16.5 19.5 16.9477 19.5 17.5V18.5C19.5 19.0523 19.0523 19.5 18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),QFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"json",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M11 5.5H9.5C8.39543 5.5 7.5 6.39543 7.5 7.5V12.5M7.5 12.5H4M7.5 12.5V17.5C7.5 18.6046 8.39543 19.5 9.5 19.5H11M14 5.5H15.5C16.6046 5.5 17.5 6.39543 17.5 7.5V12.5M17.5 12.5H21M17.5 12.5V17.5C17.5 18.6046 16.6046 19.5 15.5 19.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),y0=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"launch",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12 7.5H6.5V18.5H17.5V13M19.5 5.5L10.5 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M14 5.5H19.5V11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),MF=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"leave",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M14.5 15V18.5H5.5V6.5H14.5V10M9 12.5H21.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M18 9L21.5 12.5L18 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),JFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"lemon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.6569 10.3431L6.41422 14.5858C7.58579 15.7574 9.12132 16.3431 10.6569 16.3431M10.6569 10.3431L14.8995 6.1005C16.0711 7.27208 16.6569 8.80761 16.6569 10.3431M10.6569 10.3431L10.6569 16.3431M10.6569 10.3431L16.6569 10.3431M10.6569 10.3431L14.8995 14.5858M14.8995 14.5858C13.7279 15.7574 12.1924 16.3431 10.6569 16.3431M14.8995 14.5858C16.0711 13.4142 16.6569 11.8787 16.6569 10.3431M16.3137 4.68629C19.4379 7.81049 19.4379 12.8758 16.3137 16C13.1895 19.1242 8.12419 19.1242 5 16L16.3137 4.68629Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),jf=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"link",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M11 12.5L12.5 14C13.281 14.781 14.719 14.781 15.5 14L18.5 11C19.281 10.219 19.281 8.78105 18.5 8L18 7.5C17.2189 6.71895 15.781 6.71895 15 7.5L13 9.5M12 15.5L10 17.5C9.21895 18.281 7.78105 18.281 7 17.5L6.5 17C5.71895 16.219 5.71896 14.781 6.5 14L9.50001 11C10.2811 10.219 11.719 10.2189 12.5 11L14 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),e6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"link-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18.5 11C19.281 10.219 19.281 8.78108 18.5 8.00003L18 7.50003C17.2189 6.71898 15.781 6.71898 15 7.50003L13 9.50003M15.5 14C14.7189 14.7811 13.281 14.7811 12.5 14M6.5 14C5.71895 14.7811 5.71894 16.219 6.49999 17L6.99999 17.5C7.78104 18.2811 9.21894 18.2811 9.99999 17.5L12 15.5M12.5 11C11.719 10.219 10.281 10.219 9.5 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),t6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"lock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M15.5 11.5V8.5C15.5 6.5 14 5.5 12.5 5.5C11 5.5 9.5 6.5 9.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),n6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"logo-js",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM12.5254 16.1572C12.5254 17.4189 11.7742 18.1536 10.4792 18.1536C9.24243 18.1536 8.49121 17.4189 8.45801 16.2942V16.261H9.67407V16.2859C9.69897 16.7466 9.9729 17.0703 10.4626 17.0703C10.9939 17.0703 11.272 16.7507 11.272 16.1489V12.011H12.5254V16.1572ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),r6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"logo-ts",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM11.0769 18H9.82349V13.0444H8.02637V12.011H12.874V13.0444H11.0769V18ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),Nve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"master-detail",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M7 9.5H10M11.5 6.5V18.5M7 12.5H10M13 9.5H18M7 15.5H10M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),FF=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"menu",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M6 7.5H19M6 17.5H19M6 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),o6e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"mobile-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M7.5 6.5C7.5 5.39543 8.39543 4.5 9.5 4.5H15.5C16.6046 4.5 17.5 5.39543 17.5 6.5V18.5C17.5 19.6046 16.6046 20.5 15.5 20.5H9.5C8.39543 20.5 7.5 19.6046 7.5 18.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M13.5 17.5C13.5 18.0523 13.0523 18.5 12.5 18.5C11.9477 18.5 11.5 18.0523 11.5 17.5C11.5 16.9477 11.9477 16.5 12.5 16.5C13.0523 16.5 13.5 16.9477 13.5 17.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),LF=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"moon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M19.6065 16.1775C18.9417 16.387 18.234 16.5 17.5 16.5C13.634 16.5 10.5 13.366 10.5 9.5C10.5 7.54163 11.3042 5.77109 12.6004 4.50062C12.567 4.50021 12.5335 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C15.5924 20.5 18.275 18.7454 19.6065 16.1775Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),zve=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"number",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.0165 17.6336H3.83636V16.4336H21.0165V17.6336Z",fill:"currentColor"}),c.jsx("path",{d:"M7.09808 13.3967V7.508H5.74066L3.83636 8.78241V10.091L5.65277 8.88495H5.74066V13.3967H3.84125V14.5539H8.89984V13.3967H7.09808Z",fill:"currentColor"}),c.jsx("path",{d:"M9.81781 9.63202V9.66132H11.1069V9.62714C11.1069 8.95331 11.5756 8.49432 12.2739 8.49432C12.9575 8.49432 13.4018 8.89471 13.4018 9.50507C13.4018 9.9787 13.1528 10.3498 12.1909 11.3117L9.89594 13.5822V14.5539H14.8618V13.3869H11.7807V13.299L13.1577 11.9855C14.3491 10.843 14.7543 10.1838 14.7543 9.41229C14.7543 8.19159 13.7729 7.36639 12.3178 7.36639C10.8383 7.36639 9.81781 8.28436 9.81781 9.63202Z",fill:"currentColor"}),c.jsx("path",{d:"M17.6694 11.4631H18.5092C19.3198 11.4631 19.8422 11.8683 19.8422 12.4982C19.8422 13.1183 19.3295 13.5139 18.5239 13.5139C17.767 13.5139 17.2592 13.133 17.2104 12.5324H15.9262C15.9897 13.8508 17.0248 14.6955 18.5629 14.6955C20.1401 14.6955 21.2192 13.841 21.2192 12.591C21.2192 11.6584 20.6528 11.0334 19.7006 10.9211V10.8332C20.4721 10.6769 20.9457 10.0666 20.9457 9.23651C20.9457 8.12323 19.9741 7.36639 18.5434 7.36639C17.0541 7.36639 16.1118 8.17694 16.0629 9.50018H17.2983C17.3422 8.88007 17.8061 8.48456 18.4995 8.48456C19.2075 8.48456 19.6567 8.85565 19.6567 9.44159C19.6567 10.0324 19.1977 10.4182 18.4946 10.4182H17.6694V11.4631Z",fill:"currentColor"})]})}),i6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"ok-hand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M15.9957 11.5C14.8197 10.912 11.9957 9 10.4957 9C8.9957 9 5.17825 11.7674 6 13C7 14.5 9.15134 11.7256 10.4957 12C11.8401 12.2744 13 13.5 13 14.5C13 15.5 11.8401 16.939 10.4957 16.5C9.15134 16.061 8.58665 14.3415 7.4957 14C6.21272 13.5984 5.05843 14.6168 5.5 15.5C5.94157 16.3832 7.10688 17.6006 8.4957 19C9.74229 20.2561 11.9957 21.5 14.9957 20C17.9957 18.5 18.5 16.2498 18.5 13C18.5 11.5 13.7332 5.36875 11.9957 4.5C10.9957 4 10 5 10.9957 6.5C11.614 7.43149 13.5 9.27705 14 10.3751M15.5 8C15.5 8 15.3707 7.5 14.9957 6C14.4957 4 15.9957 3.5 16.4957 4.5C17.1281 5.76491 18.2872 10.9147 18.4957 13",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Vve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"olist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10 7.5H19M10 12.5H19M10 17.5H19M5 18.5H7.5L7 17.5L7.5 16.5H5M5 6.5H6.5V8.5M5 8.5H6.5M6.5 8.5H8M8 13.5H6L7 11.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),s6e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"overage",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M18.5 11V6.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M6.5 18.5L9 16L12 13L18.5 6.5M3 13.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),a6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"package",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 13V22M12.5 13L4.5 8M12.5 13L20.5 8M8.5 5.5L16.5 10.5M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),l6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"panel-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.5 6.5H19.5V18.5H10.5M10.5 6.5H5.5V18.5H10.5M10.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),c6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"panel-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M14.5 6.5H19.5V18.5H14.5M14.5 6.5H5.5V18.5H14.5M14.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),u6e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"pause",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",fill:"currentColor"}),c.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",fill:"currentColor"}),c.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",stroke:"currentColor",strokeWidth:1.2})]})}),d6e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"pin",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 14 15.5 17.5 12.5 20.5C9.5 17.5 6.5 14 6.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M14 10.5C14 11.3284 13.3284 12 12.5 12C11.6716 12 11 11.3284 11 10.5C11 9.67157 11.6716 9 12.5 9C13.3284 9 14 9.67157 14 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),f6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"pin-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M7.39787 14C8.51075 16.2897 10.5054 18.5054 12.5 20.5C14.4946 18.5054 16.4892 16.2897 17.6021 14M6.52009 11C6.50681 10.8334 6.5 10.6667 6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 10.6667 18.4932 10.8334 18.4799 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),h6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"play",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M7.5 18.5V6.5L17.5 12.5L7.5 18.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Hve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"plug",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M13.25 8.5L16.75 5M16.25 11.5L19.75 8M9.25 15.5L5.25 19.5M7.75 14L9.75 12C8.25 10 8.75 9 9.75 8C10.15 7.6 11.25 6.5 11.25 6.5L18.25 13.5C18.25 13.5 17.3825 14.3675 16.75 15C15.75 16 14.75 16.5 12.75 15L10.75 17L7.75 14Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),p6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"presentation",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.5 18H5.5V8.5H19.5V18H14.5M10.5 18L9 22M10.5 18H14.5M14.5 18L16 22M4.5 8.5H20.5V6.5H4.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),rw=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"publish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M4.99997 5.50006H20M12.5 9.00005V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.5 14L12.5 9.00006L17.5 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),BF=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"read-only",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M15 7L18 10M10 12L7 15L6 19L10 18L13 15M12 10L17 5L20 8L15 13M19 19L5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),m6e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"redo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),g6e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"refresh",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M19.5 13.5C19.5 17.366 16.366 20.5 12.5 20.5C8.63401 20.5 5.5 17.366 5.5 13.5C5.5 9.63401 8.63401 6.5 12.5 6.5H15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 10.5L15.5 6.5L11.5 2.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),v6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"remove-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 12.4H17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Uve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Iu=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"reset",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M4.56189 13.5L4.14285 13.9294C4.25676 14.0406 4.41017 14.1019 4.56932 14.1C4.72847 14.098 4.88032 14.0329 4.99144 13.9189L4.56189 13.5ZM9.92427 15.9243L15.9243 9.92427L15.0757 9.07574L9.07574 15.0757L9.92427 15.9243ZM9.07574 9.92426L15.0757 15.9243L15.9243 15.0757L9.92426 9.07574L9.07574 9.92426ZM19.9 12.5C19.9 16.5869 16.5869 19.9 12.5 19.9V21.1C17.2496 21.1 21.1 17.2496 21.1 12.5H19.9ZM5.1 12.5C5.1 8.41309 8.41309 5.1 12.5 5.1V3.9C7.75035 3.9 3.9 7.75035 3.9 12.5H5.1ZM12.5 5.1C16.5869 5.1 19.9 8.41309 19.9 12.5H21.1C21.1 7.75035 17.2496 3.9 12.5 3.9V5.1ZM5.15728 13.4258C5.1195 13.1227 5.1 12.8138 5.1 12.5H3.9C3.9 12.8635 3.92259 13.2221 3.9665 13.5742L5.15728 13.4258ZM12.5 19.9C9.9571 19.9 7.71347 18.6179 6.38048 16.6621L5.38888 17.3379C6.93584 19.6076 9.54355 21.1 12.5 21.1V19.9ZM4.99144 13.9189L7.42955 11.4189L6.57045 10.5811L4.13235 13.0811L4.99144 13.9189ZM4.98094 13.0706L2.41905 10.5706L1.58095 11.4294L4.14285 13.9294L4.98094 13.0706Z",fill:"currentColor"})})}),NF=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"restore",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M5.88468 17C7.32466 19.1128 9.75033 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5V13.5M12.5 8V12.5L15.5 15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7 11L4.5 13.5L2 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),y6e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"retrieve",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M16 14L12.5 10.5L9 14M5.5 7.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M12.5 10.5L12.5 17.5M19.5 7.5V19.5H5.5V7.5L7.5 5.5H17.5L19.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),b6e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"retry",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),zF=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"revert",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),x6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"robot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 15.5V17.5M12.5 8.5V6.5M12.5 6.5C13.3284 6.5 14 5.82843 14 5C14 4.17157 13.3284 3.5 12.5 3.5C11.6716 3.5 11 4.17157 11 5C11 5.82843 11.6716 6.5 12.5 6.5ZM20.5 20.5V19.5C20.5 18.3954 19.6046 17.5 18.5 17.5H6.5C5.39543 17.5 4.5 18.3954 4.5 19.5V20.5H20.5ZM11.5 12C11.5 12.5523 11.0523 13 10.5 13C9.94772 13 9.5 12.5523 9.5 12C9.5 11.4477 9.94772 11 10.5 11C11.0523 11 11.5 11.4477 11.5 12ZM15.5 12C15.5 12.5523 15.0523 13 14.5 13C13.9477 13 13.5 12.5523 13.5 12C13.5 11.4477 13.9477 11 14.5 11C15.0523 11 15.5 11.4477 15.5 12ZM8.5 15.5H16.5C17.6046 15.5 18.5 14.6046 18.5 13.5V10.5C18.5 9.39543 17.6046 8.5 16.5 8.5H8.5C7.39543 8.5 6.5 9.39543 6.5 10.5V13.5C6.5 14.6046 7.39543 15.5 8.5 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),w6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"rocket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 20.5L15.5 14M11 9.49999L4.5 12.5M9 14C9 14 7.54688 14.9531 6.5 16C5.5 17 4.5 20.5 4.5 20.5C4.5 20.5 8 19.5 9 18.5C10 17.5 11 16 11 16M9 14C9 14 10.1 9.9 12.5 7.5C15.5 4.5 20.5 4.5 20.5 4.5C20.5 4.5 20.5 9.5 17.5 12.5C15.7492 14.2508 11 16 11 16L9 14ZM16.5 9.99999C16.5 10.8284 15.8284 11.5 15 11.5C14.1716 11.5 13.5 10.8284 13.5 9.99999C13.5 9.17157 14.1716 8.49999 15 8.49999C15.8284 8.49999 16.5 9.17157 16.5 9.99999Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),C6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"schema",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 9.5V12.5M12.5 12.5H8.5V15.5M12.5 12.5H16.5V15.5M10.5 5.5H14.5V9.5H10.5V5.5ZM6.5 15.5H10.5V19.5H6.5V15.5ZM14.5 15.5H18.5V19.5H14.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Yi=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"search",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M15.0355 15.0355L20 20M16.5 11.5C16.5 14.2614 14.2614 16.5 11.5 16.5C8.73858 16.5 6.5 14.2614 6.5 11.5C6.5 8.73858 8.73858 6.5 11.5 6.5C14.2614 6.5 16.5 8.73858 16.5 11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ml=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"select",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M16.5 15.5L12.5 19.5L8.5 15.5M8.5 9.5L12.5 5.5L16.5 9.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_6e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"share",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M15 10.5H18.5V19.5H6.5L6.5 10.5H10M12.5 16V3.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M9 7L12.5 3.5L16 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),VF=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"sort",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8.5 18.5V6M16.5 19V6.5M12 15L8.5 18.5L5 15M13 10L16.5 6.5L20 10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),S6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"sparkle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.5 10.5C8.5 12.5 5 12.5 5 12.5C5 12.5 8.5 12.5 10.5 14.5C12.5 16.5 12.5 20 12.5 20C12.5 20 12.5 16.5 14.5 14.5C16.5 12.5 20 12.5 20 12.5C20 12.5 16.5 12.5 14.5 10.5C12.5 8.5 12.5 5 12.5 5C12.5 5 12.5 8.5 10.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),E6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"sparkles",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M11 3.5V5M11 5V6.5M11 5H12.5M11 5H9.5M9.5 15C9.5 15 12.2308 14.7692 13.5 13.5C14.7692 12.2308 15 9.5 15 9.5C15 9.5 15.2308 12.2308 16.5 13.5C17.7692 14.7692 20.5 15 20.5 15C20.5 15 17.7692 15.2308 16.5 16.5C15.2308 17.7692 15 20.5 15 20.5C15 20.5 14.7692 17.7692 13.5 16.5C12.2308 15.2308 9.5 15 9.5 15ZM4.5 10C4.5 10 5.72308 9.87692 6.3 9.3C6.87692 8.72308 7 7.5 7 7.5C7 7.5 7.12308 8.72308 7.7 9.3C8.27692 9.87692 9.5 10 9.5 10C9.5 10 8.27692 10.1231 7.7 10.7C7.12308 11.2769 7 12.5 7 12.5C7 12.5 6.87692 11.2769 6.3 10.7C5.72308 10.1231 4.5 10 4.5 10Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})})}),aj=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"spinner",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),k6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"split-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M19.5 10.5V20.5H5.5V10.5M19.5 10.5H5.5M19.5 10.5V4.5H5.5V10.5M12.5 13V15.5M12.5 18V15.5M12.5 15.5H15M12.5 15.5H10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),j6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"split-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.5 5.5V19.5M13 12.5H15.5M18 12.5H15.5M15.5 12.5V15M15.5 12.5V10M4.5 5.5H20.5V19.5H4.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),T6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"square",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("rect",{x:5.5,y:5.5,width:14,height:14,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Wve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"stack-compact",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 15.5V18.5H19.5V15.5M5.5 15.5H19.5M5.5 15.5V9.5M19.5 15.5V9.5M5.5 9.5V6.5H19.5V9.5M5.5 9.5H19.5M5.5 12.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Yve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"stack",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 12.5H19.5M5.5 18.5H19.5V6.5H5.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),A6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"star",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M13 4L15.2747 9.8691L21.5595 10.2188L16.6806 14.1959L18.2901 20.2812L13 16.87L7.70993 20.2812L9.31941 14.1959L4.44049 10.2188L10.7253 9.8691L13 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),D6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"stop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("rect",{x:7.5,y:7.5,width:10,height:10,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),qve=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"strikethrough",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12.5656 7.73438C11.0656 7.73438 10.0734 8.48438 10.0734 9.625C10.0734 10.2317 10.3649 10.6613 11.0519 11H8.90358C8.71703 10.6199 8.62813 10.1801 8.62813 9.67188C8.62813 7.75781 10.2297 6.46094 12.6125 6.46094C14.7922 6.46094 16.4172 7.75781 16.5344 9.57812H15.1203C14.925 8.42188 13.9719 7.73438 12.5656 7.73438Z",fill:"currentColor"}),c.jsx("path",{d:"M12.4875 18.2656C10.0969 18.2656 8.44844 17 8.3 15.0547H9.72188C9.89375 16.2344 11.0188 16.9844 12.6203 16.9844C14.1359 16.9844 15.2531 16.1641 15.2531 15.0469C15.2531 14.6375 15.1255 14.292 14.8589 14H16.5912C16.6638 14.266 16.6984 14.5566 16.6984 14.875C16.6984 16.9453 15.0656 18.2656 12.4875 18.2656Z",fill:"currentColor"}),c.jsx("path",{d:"M7 13.1H18V11.9H7V13.1Z",fill:"currentColor"})]})}),cg=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"string",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.6748 15.5227H13.1855L9.87842 6.36304H8.34863L5.0415 15.5227H6.50146L7.3457 13.0916H10.8369L11.6748 15.5227ZM9.04053 8.02612H9.14844L10.4751 11.8982H7.70752L9.04053 8.02612Z",fill:"currentColor"}),c.jsx("path",{d:"M16.8101 14.488C16.0674 14.488 15.5278 14.1262 15.5278 13.5042C15.5278 12.8948 15.9595 12.571 16.9116 12.5076L18.6001 12.3997V12.9773C18.6001 13.8342 17.8384 14.488 16.8101 14.488ZM16.4609 15.637C17.3687 15.637 18.124 15.2434 18.5366 14.5515H18.6445V15.5227H19.9585V10.8C19.9585 9.34009 18.981 8.47681 17.248 8.47681C15.6802 8.47681 14.563 9.23853 14.4233 10.4255H15.7437C15.896 9.93677 16.4229 9.65747 17.1846 9.65747C18.1177 9.65747 18.6001 10.0701 18.6001 10.8V11.3967L16.7275 11.5046C15.0835 11.6062 14.1567 12.3235 14.1567 13.5676C14.1567 14.8308 15.1279 15.637 16.4609 15.637Z",fill:"currentColor"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.9585 18.637L5.0415 18.637V17.437L19.9585 17.437V18.637Z",fill:"currentColor"})]})}),HF=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"sun",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M19 12.5H22M3 12.5H6M12.5 6V3M12.5 22V19M17.3891 7.61091L19.5104 5.48959M5.48959 19.5104L7.61091 17.3891M7.61091 7.61091L5.48959 5.48959M19.5104 19.5104L17.3891 17.3891M16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),lj=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"sync",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M13.5 4.5H12.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 15.6631 6.33576 18.3975 9 19.6958M11.5 20.5H12.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 9.33688 18.6642 6.60253 16 5.30423",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),I6e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"tablet-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M5.5 5.5C5.5 4.94772 5.94772 4.5 6.5 4.5H18.5C19.0523 4.5 19.5 4.94772 19.5 5.5V19.5C19.5 20.0523 19.0523 20.5 18.5 20.5H6.5C5.94772 20.5 5.5 20.0523 5.5 19.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M13 18C13 18.2761 12.7761 18.5 12.5 18.5C12.2239 18.5 12 18.2761 12 18C12 17.7239 12.2239 17.5 12.5 17.5C12.7761 17.5 13 17.7239 13 18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),P6e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"tag",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12.5 20L5 20L5 12.5L12.5 5L20 12.5L12.5 20Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11 15.5C11 16.3284 10.3284 17 9.5 17C8.67157 17 8 16.3284 8 15.5C8 14.6716 8.67157 14 9.5 14C10.3284 14 11 14.6716 11 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),O6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"tags",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.1562 7.93179L13.9717 6.11633L20.3553 12.5L13.9717 18.8836L10.6855 18.8836M11.0283 18.8836L17.4119 12.5L11.0283 6.11633L4.64462 12.5L4.64462 18.8836L11.0283 18.8836ZM9.75153 15.0534C9.75153 15.7585 9.17992 16.3302 8.47481 16.3302C7.76969 16.3302 7.19808 15.7585 7.19808 15.0534C7.19808 14.3483 7.76969 13.7767 8.47481 13.7767C9.17992 13.7767 9.75153 14.3483 9.75153 15.0534Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"terminal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8.5 9.5L11.5 12.5L8.5 15.5M13 15.5H17M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),R6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M7.5 9V6.5H17.5V9M12.5 18.5V6.5M10 18.5H15",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),M6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"th-large",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 6.5V12.5M12.5 12.5V18.5M12.5 12.5H20.5M12.5 12.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),F6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"th-list",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 6.5V10.5M9.5 10.5V14.5M9.5 10.5H20.5M9.5 10.5H4.5M9.5 14.5V18.5M9.5 14.5H20.5M9.5 14.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),L6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"tiers",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M16.5 14.5L20.5 16.5L12.5 20.5L4.5 16.5L8.5 14.5M16.5 10.5L20.5 12.5L12.5 16.5L4.5 12.5L8.5 10.5M12.5 12.5L20.5 8.5L12.5 4.5L4.5 8.5L12.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),cj=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"toggle-arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10 16.5V8.5L16 12.5L10 16.5Z",fill:"currentColor",stroke:"currentColor",strokeLinejoin:"round"})})}),B6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"token",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17.5711 12.5C17.5711 15.2614 15.3325 17.5 12.5711 17.5M7.57107 12.5C7.57107 9.73858 9.80964 7.5 12.5711 7.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),N6e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"transfer",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M19.5 16.5H6M5.5 8.5L19 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16 13L19.5 16.5L16 20M9 12L5.5 8.5L9 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),z6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"translate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.4 5.4H4V6.6H13.2189C13.1612 6.78478 13.0895 6.99578 13.0025 7.22211C12.7032 8.00031 12.2402 8.91125 11.5757 9.57574L10 11.1515L9.42426 10.5757C8.72102 9.8725 8.25297 9.16987 7.96199 8.64611C7.81668 8.38455 7.71617 8.16874 7.65305 8.02146C7.62151 7.94787 7.59937 7.89154 7.5857 7.85534C7.57886 7.83725 7.57415 7.8242 7.57144 7.81657L7.56886 7.80922C7.56886 7.80922 7.56921 7.81026 7 8C6.43079 8.18974 6.43091 8.19009 6.43091 8.19009L6.43133 8.19135L6.43206 8.19351L6.4341 8.19948L6.44052 8.21786C6.44587 8.23292 6.45336 8.25357 6.46313 8.27942C6.48266 8.33112 6.5113 8.40369 6.55008 8.49416C6.62758 8.67501 6.74582 8.92795 6.91301 9.22889C7.24703 9.83013 7.77898 10.6275 8.57574 11.4243L9.15147 12L4.57964 16.5718L4.57655 16.5749L4.57577 16.5757L5.4243 17.4242L5.42688 17.4216L10.0368 12.8117L12.6159 14.9609L13.3841 14.0391L10.8888 11.9597L12.4243 10.4243C13.2598 9.58875 13.7968 8.49969 14.1225 7.65289C14.2818 7.23863 14.395 6.87072 14.4696 6.6H16V5.4H10.6V4H9.4V5.4ZM17.4405 10L21.553 19.7672H20.2509L19.1279 17.1H14.8721L13.7491 19.7672H12.447L16.5595 10H17.4405ZM15.3773 15.9H18.6227L17 12.0462L15.3773 15.9Z",fill:"currentColor"})})}),fo=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"trash",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5 6.5H20M10 6.5V4.5C10 3.94772 10.4477 3.5 11 3.5H14C14.5523 3.5 15 3.94772 15 4.5V6.5M12.5 9V17M15.5 9L15 17M9.5 9L10 17M18.5 6.5L17.571 18.5767C17.5309 19.0977 17.0965 19.5 16.574 19.5H8.42603C7.90349 19.5 7.46905 19.0977 7.42898 18.5767L6.5 6.5H18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),V6e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"trend-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M4.5 18.5L11.5 10.5L13.5 14.5L20.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M20.5 11V6.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),H6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"triangle-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M20.5 18.5H4.5L12.5 5.5L20.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),U6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"trolley",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 17.5L5.81763 6.26772C5.71013 5.81757 5.30779 5.5 4.84498 5.5H3M8 17.5H17M8 17.5C8.82843 17.5 9.5 18.1716 9.5 19C9.5 19.8284 8.82843 20.5 8 20.5C7.17157 20.5 6.5 19.8284 6.5 19C6.5 18.1716 7.17157 17.5 8 17.5ZM17 17.5C17.8284 17.5 18.5 18.1716 18.5 19C18.5 19.8284 17.8284 20.5 17 20.5C16.1716 20.5 15.5 19.8284 15.5 19C15.5 18.1716 16.1716 17.5 17 17.5ZM7.78357 14.5H17.5L19 7.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),W6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"truncate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5 12.5H20M8.5 19.5L12.5 15.5L16.5 19.5M16.5 5.5L12.5 9.5L8.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Y6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"twitter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18.8738 6.65751C18.1994 5.9447 17.2445 5.5 16.1857 5.5C14.1423 5.5 12.4857 7.15655 12.4857 9.2C12.4857 9.55263 12.535 9.89374 12.6272 10.2168C7.0826 9.56422 4.55703 6.02857 4.55703 6.02857C4.55703 6.02857 4.02846 9.2 6.14274 11.3143C5.08571 11.3143 4.55703 10.7857 4.55703 10.7857C4.55703 10.7857 4.55703 13.4286 7.19989 14.4857C6.67143 15.0143 5.61417 14.4857 5.61417 14.4857C5.97533 15.9303 7.45606 16.8562 8.82133 17.1358C6.67298 19.1676 3.5 18.7143 3.5 18.7143C5.14562 19.771 7.21334 20.3 9.31429 20.3C16.1214 20.3 19.8162 15.6315 19.8848 9.37762C20.8722 8.58943 22 7.08571 22 7.08571C22 7.08571 21.277 7.45458 19.6913 7.98315C21.277 6.92601 21.4714 5.5 21.4714 5.5C21.4714 5.5 20.4135 6.55789 18.8738 6.65751Z",fill:"currentColor"})})}),Uy=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"ulist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M7.10153 17.5001C7.10153 17.8323 6.83221 18.1016 6.5 18.1016C6.16778 18.1016 5.89847 17.8323 5.89847 17.5001C5.89847 17.1678 6.16778 16.8985 6.5 16.8985C6.83221 16.8985 7.10153 17.1678 7.10153 17.5001Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.10153 7.5C7.10153 7.83221 6.83221 8.10153 6.5 8.10153C6.16778 8.10153 5.89847 7.83221 5.89847 7.5C5.89847 7.16778 6.16778 6.89847 6.5 6.89847C6.83221 6.89847 7.10153 7.16778 7.10153 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.10153 12.5C7.10153 12.8322 6.83221 13.1015 6.5 13.1015C6.16778 13.1015 5.89847 12.8322 5.89847 12.5C5.89847 12.1678 6.16778 11.8985 6.5 11.8985C6.83221 11.8985 7.10153 12.1678 7.10153 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10 7.5H19M10 17.5H19M10 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Gve=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"underline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M9.52791 7.11407H8.17V14.2582C8.17 16.5817 9.79195 18.2565 12.4927 18.2565C15.1934 18.2565 16.8154 16.5817 16.8154 14.2582V7.11407H15.4574V14.1677C15.4574 15.8122 14.3787 17.0042 12.4927 17.0042C10.6067 17.0042 9.52791 15.8122 9.52791 14.1677V7.11407Z",fill:"currentColor"}),c.jsx("path",{d:"M7 20.5H18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),KS=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"undo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),bl=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"unknown",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M5.5 5.5H19.5V19.5H5.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),q6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"unlock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 11.5V8.5C9.5 6.5 8 5.5 6.5 5.5C5 5.5 3.5 6.5 3.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ZS=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"unpublish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M5 19.5H20M12.5 16V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),uj=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"upload",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12.5 6.00003V15.5M5.5 15.5H19.5V19.5H5.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.5 11L12.5 6.00003L17.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),G6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"user",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 14.5C7 15 5.5 16 5.5 19.5H19.5C19.5 16 18.3416 15.1708 17 14.5C16 14 14 14 14 12.5C14 11 15 10.25 15 8.25C15 6.25 14 5.25 12.5 5.25C11 5.25 10 6.25 10 8.25C10 10.25 11 11 11 12.5C11 14 9 14 8 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),dj=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"users",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17.5 18.5H21.5C21.5 15 20.8416 14.1708 19.5 13.5C18.5 13 16.5 12.5 16.5 11C16.5 9.5 17.5 9 17.5 7C17.5 5 16.5 4 15 4C13.6628 4 12.723 4.79472 12.5347 6.38415M4.5 20.5C4.5 17 5.5 16 6.5 15.5C7.5 15 9.5 14.5 9.5 13C9.5 11.5 8.5 11 8.5 9C8.5 7 9.5 6 11 6C12.5 6 13.5 7 13.5 9C13.5 11 12.5 11.5 12.5 13C12.5 14.5 14.5 15 15.5 15.5C16.8416 16.1708 17.5 17 17.5 20.5H4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),K6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"warning-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.741 5.12637C13.7357 3.41737 11.2643 3.41737 10.259 5.12637L3.7558 16.1818C2.73624 17.915 3.98595 20.1 5.99683 20.1H19.0032C21.014 20.1 22.2637 17.915 21.2442 16.1818L14.741 5.12637ZM11.9 9V13H13.1V9H11.9ZM13.1 16V14.5H11.9V16H13.1Z",fill:"currentColor"})})}),Qr=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"warning-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 9V13M12.5 16V14.5M14.2239 5.43058L20.727 16.486C21.5113 17.8192 20.55 19.5 19.0032 19.5H5.99683C4.45 19.5 3.48869 17.8192 4.27297 16.486L10.7761 5.43058C11.5494 4.11596 13.4506 4.11596 14.2239 5.43058Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Z6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"wrench",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17.0407 5.14624L17.4649 5.57051C17.6166 5.41887 17.6757 5.19783 17.6202 4.99071C17.5646 4.78359 17.4027 4.62189 17.1955 4.56656L17.0407 5.14624ZM14.4013 7.7856L13.977 7.36134C13.8288 7.50959 13.7687 7.72447 13.8185 7.92813L14.4013 7.7856ZM12.8778 6.26211L12.4535 5.83784V5.83784L12.8778 6.26211ZM11.8309 10.6568L12.2552 11.0811C12.4152 10.9211 12.4716 10.6847 12.401 10.4697L11.8309 10.6568ZM5.63925 16.8485L5.21498 16.4242H5.21498L5.63925 16.8485ZM5.63925 19.935L6.06351 19.5108H6.06351L5.63925 19.935ZM8.72581 19.935L9.15007 20.3593L8.72581 19.935ZM15.1184 13.5425L15.2301 12.953C15.0351 12.916 14.8344 12.9779 14.6941 13.1182L15.1184 13.5425ZM18.9718 12.3561L19.3961 12.7804L18.9718 12.3561ZM20.0877 8.19324L20.6674 8.03843C20.612 7.83125 20.4503 7.66934 20.2432 7.61375C20.0361 7.55816 19.815 7.61734 19.6634 7.76898L20.0877 8.19324ZM17.4483 10.8326L17.3058 11.4154C17.5094 11.4652 17.7243 11.4051 17.8726 11.2569L17.4483 10.8326ZM15 10.2339L14.4172 10.3764C14.4704 10.5938 14.6401 10.7635 14.8575 10.8167L15 10.2339ZM16.6164 4.72198L13.977 7.36134L14.8256 8.20986L17.4649 5.57051L16.6164 4.72198ZM13.3021 6.68637C14.2723 5.71612 15.6467 5.39501 16.8859 5.72593L17.1955 4.56656C15.5595 4.12966 13.7389 4.55245 12.4535 5.83784L13.3021 6.68637ZM12.401 10.4697C11.9779 9.18109 12.2794 7.70907 13.3021 6.68637L12.4535 5.83784C11.0985 7.19284 10.7021 9.14218 11.2608 10.844L12.401 10.4697ZM11.4066 10.2326L5.21498 16.4242L6.06351 17.2727L12.2552 11.0811L11.4066 10.2326ZM5.21498 16.4242C4.12834 17.5109 4.12834 19.2727 5.21498 20.3593L6.06351 19.5108C5.4455 18.8928 5.4455 17.8908 6.06351 17.2727L5.21498 16.4242ZM5.21498 20.3593C6.30163 21.446 8.06343 21.446 9.15007 20.3593L8.30155 19.5108C7.68353 20.1288 6.68153 20.1288 6.06351 19.5108L5.21498 20.3593ZM9.15007 20.3593L15.5426 13.9668L14.6941 13.1182L8.30155 19.5108L9.15007 20.3593ZM18.5475 11.9318C17.6463 12.8331 16.3968 13.1742 15.2301 12.953L15.0066 14.132C16.5466 14.4239 18.2023 13.9741 19.3961 12.7804L18.5475 11.9318ZM19.508 8.34804C19.8389 9.58721 19.5178 10.9616 18.5475 11.9318L19.3961 12.7804C20.6815 11.495 21.1043 9.67445 20.6674 8.03843L19.508 8.34804ZM17.8726 11.2569L20.5119 8.6175L19.6634 7.76898L17.024 10.4083L17.8726 11.2569ZM14.8575 10.8167L17.3058 11.4154L17.5908 10.2498L15.1426 9.65106L14.8575 10.8167ZM13.8185 7.92813L14.4172 10.3764L15.5829 10.0914L14.9841 7.64307L13.8185 7.92813Z",fill:"currentColor"})})}),X6e={"access-denied":kf,activity:Y4e,"add-circle":V3,add:Js,api:q4e,archive:G4e,"arrow-down":xve,"arrow-left":PF,"arrow-right":wve,"arrow-top-right":K4e,"arrow-up":Z4e,"bar-chart":X4e,basket:Q4e,bell:J4e,bill:eFe,"binary-document":v0,"block-content":Cve,"block-element":_ve,blockquote:tFe,bold:Sve,bolt:nFe,book:rFe,bottle:oFe,"bulb-filled":iFe,"bulb-outline":nj,calendar:_g,case:sFe,"chart-upward":aFe,"checkmark-circle":rj,checkmark:Ba,"chevron-down":Rl,"chevron-left":oj,"chevron-right":Qu,"chevron-up":Eve,circle:lFe,clipboard:cFe,"clipboard-image":uFe,clock:kve,"close-circle":dFe,close:la,"code-block":fFe,code:jve,cog:ij,collapse:Tve,"color-wheel":hFe,comment:Ave,component:pFe,compose:xp,controls:sj,copy:Au,"credit-card":mFe,crop:Dve,cube:gFe,dashboard:vFe,database:yFe,desktop:Ive,document:Rp,"document-pdf":bFe,"document-remove":xFe,"document-sheet":wFe,"document-text":CFe,"document-video":_Fe,"document-word":SFe,"document-zip":EFe,documents:OF,dot:kFe,"double-chevron-down":jFe,"double-chevron-left":TFe,"double-chevron-right":Pve,"double-chevron-up":AFe,download:$F,"drag-handle":Ove,drop:DFe,"earth-americas":$ve,"earth-globe":IFe,edit:Du,"ellipsis-horizontal":PFe,"ellipsis-vertical":Ho,enter:OFe,"enter-right":$Fe,envelope:RFe,equal:MFe,"error-filled":FFe,"error-outline":ca,expand:Rve,"eye-closed":LFe,"eye-open":RF,filter:BFe,folder:NFe,generate:zFe,groq:VFe,"heart-filled":HFe,heart:UFe,"help-circle":Pv,home:WFe,"ice-cream":YFe,image:Sl,"image-remove":qFe,images:GFe,"info-filled":KFe,"info-outline":cm,"inline-element":Mve,inline:ZFe,"insert-above":Fve,"insert-below":Lve,italic:Bve,joystick:XFe,json:QFe,launch:y0,leave:MF,lemon:JFe,link:jf,"link-removed":e6e,lock:t6e,"logo-js":n6e,"logo-ts":r6e,"master-detail":Nve,menu:FF,"mobile-device":o6e,moon:LF,number:zve,"ok-hand":i6e,olist:Vve,overage:s6e,package:a6e,"panel-left":l6e,"panel-right":c6e,pause:u6e,pin:d6e,"pin-removed":f6e,play:h6e,plug:Hve,presentation:p6e,publish:rw,"read-only":BF,redo:m6e,refresh:g6e,"remove-circle":v6e,remove:Uve,reset:Iu,restore:NF,retrieve:y6e,retry:b6e,revert:zF,robot:x6e,rocket:w6e,schema:C6e,search:Yi,select:Ml,share:_6e,sort:VF,sparkle:S6e,sparkles:E6e,spinner:aj,"split-horizontal":k6e,"split-vertical":j6e,square:T6e,"stack-compact":Wve,stack:Yve,star:A6e,stop:D6e,strikethrough:qve,string:cg,sun:HF,sync:lj,"tablet-device":I6e,tag:P6e,tags:O6e,terminal:$6e,text:R6e,"th-large":M6e,"th-list":F6e,tiers:L6e,"toggle-arrow-right":cj,token:B6e,transfer:N6e,translate:z6e,trash:fo,"trend-upward":V6e,"triangle-outline":H6e,trolley:U6e,truncate:W6e,twitter:Y6e,ulist:Uy,underline:Gve,undo:KS,unknown:bl,unlock:q6e,unpublish:ZS,upload:uj,user:G6e,users:dj,"warning-filled":K6e,"warning-outline":Qr,wrench:Z6e};h.forwardRef(function(t,n){const{symbol:r,...o}=t,i=X6e[r];return i?h.createElement(i,{...o,ref:n}):null});var Kve={exports:{}},Q6e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",J6e=Q6e,eLe=J6e;function Zve(){}function Xve(){}Xve.resetWarningCache=Zve;var tLe=function(){function e(r,o,i,s,a,l){if(l!==eLe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Xve,resetWarningCache:Zve};return n.PropTypes=n,n};Kve.exports=tLe();var Qve=Kve.exports;const SOn=De(Qve);var nLe=oLe,rLe=Object.prototype.hasOwnProperty;function oLe(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)rLe.call(n,r)&&(e[r]=n[r])}return e}var Jve=e0e,UF=e0e.prototype;UF.space=null;UF.normal={};UF.property={};function e0e(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}var Vz=nLe,iLe=Jve,sLe=aLe;function aLe(e){for(var t=e.length,n=[],r=[],o=-1,i,s;++o<t;)i=e[o],n.push(i.property),r.push(i.normal),s=i.space;return new iLe(Vz.apply(null,n),Vz.apply(null,r),s)}var WF=lLe;function lLe(e){return e.toLowerCase()}var t0e=n0e,Qa=n0e.prototype;Qa.space=null;Qa.attribute=null;Qa.property=null;Qa.boolean=!1;Qa.booleanish=!1;Qa.overloadedBoolean=!1;Qa.number=!1;Qa.commaSeparated=!1;Qa.spaceSeparated=!1;Qa.commaOrSpaceSeparated=!1;Qa.mustUseProperty=!1;Qa.defined=!1;function n0e(e,t){this.property=e,this.attribute=t}var $c={},cLe=0;$c.boolean=um();$c.booleanish=um();$c.overloadedBoolean=um();$c.number=um();$c.spaceSeparated=um();$c.commaSeparated=um();$c.commaOrSpaceSeparated=um();function um(){return Math.pow(2,++cLe)}var r0e=t0e,Hz=$c,o0e=YF;YF.prototype=new r0e;YF.prototype.defined=!0;var i0e=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],uLe=i0e.length;function YF(e,t,n,r){var o=-1,i;for(Uz(this,"space",r),r0e.call(this,e,t);++o<uLe;)i=i0e[o],Uz(this,i,(n&Hz[i])===Hz[i])}function Uz(e,t,n){n&&(e[t]=n)}var Wz=WF,dLe=Jve,fLe=o0e,ow=hLe;function hLe(e){var t=e.space,n=e.mustUseProperty||[],r=e.attributes||{},o=e.properties,i=e.transform,s={},a={},l,u;for(l in o)u=new fLe(l,i(r,l),o[l],t),n.indexOf(l)!==-1&&(u.mustUseProperty=!0),s[l]=u,a[Wz(l)]=l,a[Wz(u.attribute)]=l;return new dLe(s,a,t)}var pLe=ow,mLe=pLe({space:"xlink",transform:gLe,properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}});function gLe(e,t){return"xlink:"+t.slice(5).toLowerCase()}var vLe=ow,yLe=vLe({space:"xml",transform:bLe,properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function bLe(e,t){return"xml:"+t.slice(3).toLowerCase()}var xLe=wLe;function wLe(e,t){return t in e?e[t]:t}var CLe=xLe,s0e=_Le;function _Le(e,t){return CLe(e,t.toLowerCase())}var SLe=ow,ELe=s0e,kLe=SLe({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:ELe,properties:{xmlns:null,xmlnsXLink:null}}),qF=$c,jLe=ow,as=qF.booleanish,ga=qF.number,yh=qF.spaceSeparated,TLe=jLe({transform:ALe,properties:{ariaActiveDescendant:null,ariaAtomic:as,ariaAutoComplete:null,ariaBusy:as,ariaChecked:as,ariaColCount:ga,ariaColIndex:ga,ariaColSpan:ga,ariaControls:yh,ariaCurrent:null,ariaDescribedBy:yh,ariaDetails:null,ariaDisabled:as,ariaDropEffect:yh,ariaErrorMessage:null,ariaExpanded:as,ariaFlowTo:yh,ariaGrabbed:as,ariaHasPopup:null,ariaHidden:as,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:yh,ariaLevel:ga,ariaLive:null,ariaModal:as,ariaMultiLine:as,ariaMultiSelectable:as,ariaOrientation:null,ariaOwns:yh,ariaPlaceholder:null,ariaPosInSet:ga,ariaPressed:as,ariaReadOnly:as,ariaRelevant:null,ariaRequired:as,ariaRoleDescription:yh,ariaRowCount:ga,ariaRowIndex:ga,ariaRowSpan:ga,ariaSelected:as,ariaSetSize:ga,ariaSort:null,ariaValueMax:ga,ariaValueMin:ga,ariaValueNow:ga,ariaValueText:null,role:null}});function ALe(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}var b0=$c,DLe=ow,ILe=s0e,$t=b0.boolean,PLe=b0.overloadedBoolean,_1=b0.booleanish,Jn=b0.number,$i=b0.spaceSeparated,AC=b0.commaSeparated,OLe=DLe({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:ILe,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:AC,acceptCharset:$i,accessKey:$i,action:null,allow:null,allowFullScreen:$t,allowPaymentRequest:$t,allowUserMedia:$t,alt:null,as:null,async:$t,autoCapitalize:null,autoComplete:$i,autoFocus:$t,autoPlay:$t,capture:$t,charSet:null,checked:$t,cite:null,className:$i,cols:Jn,colSpan:null,content:null,contentEditable:_1,controls:$t,controlsList:$i,coords:Jn|AC,crossOrigin:null,data:null,dateTime:null,decoding:null,default:$t,defer:$t,dir:null,dirName:null,disabled:$t,download:PLe,draggable:_1,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:$t,formTarget:null,headers:$i,height:Jn,hidden:$t,high:Jn,href:null,hrefLang:null,htmlFor:$i,httpEquiv:$i,id:null,imageSizes:null,imageSrcSet:AC,inputMode:null,integrity:null,is:null,isMap:$t,itemId:null,itemProp:$i,itemRef:$i,itemScope:$t,itemType:$i,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:$t,low:Jn,manifest:null,max:null,maxLength:Jn,media:null,method:null,min:null,minLength:Jn,multiple:$t,muted:$t,name:null,nonce:null,noModule:$t,noValidate:$t,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:$t,optimum:Jn,pattern:null,ping:$i,placeholder:null,playsInline:$t,poster:null,preload:null,readOnly:$t,referrerPolicy:null,rel:$i,required:$t,reversed:$t,rows:Jn,rowSpan:Jn,sandbox:$i,scope:null,scoped:$t,seamless:$t,selected:$t,shape:null,size:Jn,sizes:null,slot:null,span:Jn,spellCheck:_1,src:null,srcDoc:null,srcLang:null,srcSet:AC,start:Jn,step:null,style:null,tabIndex:Jn,target:null,title:null,translate:null,type:null,typeMustMatch:$t,useMap:null,value:_1,width:Jn,wrap:null,align:null,aLink:null,archive:$i,axis:null,background:null,bgColor:null,border:Jn,borderColor:null,bottomMargin:Jn,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:$t,declare:$t,event:null,face:null,frame:null,frameBorder:null,hSpace:Jn,leftMargin:Jn,link:null,longDesc:null,lowSrc:null,marginHeight:Jn,marginWidth:Jn,noResize:$t,noHref:$t,noShade:$t,noWrap:$t,object:null,profile:null,prompt:null,rev:null,rightMargin:Jn,rules:null,scheme:null,scrolling:_1,standby:null,summary:null,text:null,topMargin:Jn,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Jn,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:$t,disableRemotePlayback:$t,prefix:null,property:null,results:Jn,security:null,unselectable:null}}),$Le=sLe,RLe=mLe,MLe=yLe,FLe=kLe,LLe=TLe,BLe=OLe,NLe=$Le([MLe,RLe,FLe,LLe,BLe]),zLe=WF,VLe=o0e,HLe=t0e,GF="data",ULe=qLe,WLe=/^data[-\w.:]+$/i,a0e=/-[a-z]/g,YLe=/[A-Z]/g;function qLe(e,t){var n=zLe(t),r=t,o=HLe;return n in e.normal?e.property[e.normal[n]]:(n.length>4&&n.slice(0,4)===GF&&WLe.test(t)&&(t.charAt(4)==="-"?r=GLe(t):t=KLe(t),o=VLe),new o(r,t))}function GLe(e){var t=e.slice(5).replace(a0e,XLe);return GF+t.charAt(0).toUpperCase()+t.slice(1)}function KLe(e){var t=e.slice(4);return a0e.test(t)?e:(t=t.replace(YLe,ZLe),t.charAt(0)!=="-"&&(t="-"+t),GF+t)}function ZLe(e){return"-"+e.toLowerCase()}function XLe(e){return e.charAt(1).toUpperCase()}var QLe=JLe,Yz=/[#.]/g;function JLe(e,t){for(var n=e||"",r=t||"div",o={},i=0,s,a,l;i<n.length;)Yz.lastIndex=i,l=Yz.exec(n),s=n.slice(i,l?l.index:n.length),s&&(a?a==="#"?o.id=s:o.className?o.className.push(s):o.className=[s]:r=s,i+=s.length),l&&(a=l[0],i++);return{type:"element",tagName:r,properties:o,children:[]}}var KF={};KF.parse=n8e;KF.stringify=r8e;var qz="",e8e=" ",t8e=/[ \t\n\r\f]+/g;function n8e(e){var t=String(e||qz).trim();return t===qz?[]:t.split(t8e)}function r8e(e){return e.join(e8e).trim()}var ZF={};ZF.parse=o8e;ZF.stringify=i8e;var H3=",",Gz=" ",my="";function o8e(e){for(var t=[],n=String(e||my),r=n.indexOf(H3),o=0,i=!1,s;!i;)r===-1&&(r=n.length,i=!0),s=n.slice(o,r).trim(),(s||!i)&&t.push(s),o=r+1,r=n.indexOf(H3,o);return t}function i8e(e,t){var n=t||{},r=n.padLeft===!1?my:Gz,o=n.padRight?Gz:my;return e[e.length-1]===my&&(e=e.concat(my)),e.join(o+H3+r).trim()}var s8e=ULe,Kz=WF,a8e=QLe,Zz=KF.parse,Xz=ZF.parse,l8e=u8e,c8e={}.hasOwnProperty;function u8e(e,t,n){var r=n?m8e(n):null;return o;function o(s,a){var l=a8e(s,t),u=Array.prototype.slice.call(arguments,2),d=l.tagName.toLowerCase(),f;if(l.tagName=r&&c8e.call(r,d)?r[d]:d,a&&d8e(a,l)&&(u.unshift(a),a=null),a)for(f in a)i(l.properties,f,a[f]);return l0e(l.children,u),l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}function i(s,a,l){var u,d,f;l==null||l!==l||(u=s8e(e,a),d=u.property,f=l,typeof f=="string"&&(u.spaceSeparated?f=Zz(f):u.commaSeparated?f=Xz(f):u.commaOrSpaceSeparated&&(f=Zz(Xz(f).join(" ")))),d==="style"&&typeof l!="string"&&(f=p8e(f)),d==="className"&&s.className&&(f=s.className.concat(f)),s[d]=h8e(u,d,f))}}function d8e(e,t){return typeof e=="string"||"length"in e||f8e(t.tagName,e)}function f8e(e,t){var n=t.type;return e==="input"||!n||typeof n!="string"?!1:typeof t.children=="object"&&"length"in t.children?!0:(n=n.toLowerCase(),e==="button"?n!=="menu"&&n!=="submit"&&n!=="reset"&&n!=="button":"value"in t)}function l0e(e,t){var n,r;if(typeof t=="string"||typeof t=="number"){e.push({type:"text",value:String(t)});return}if(typeof t=="object"&&"length"in t){for(n=-1,r=t.length;++n<r;)l0e(e,t[n]);return}if(typeof t!="object"||!("type"in t))throw new Error("Expected node, nodes, or string, got `"+t+"`");e.push(t)}function h8e(e,t,n){var r,o,i;if(typeof n!="object"||!("length"in n))return Qz(e,t,n);for(o=n.length,r=-1,i=[];++r<o;)i[r]=Qz(e,t,n[r]);return i}function Qz(e,t,n){var r=n;return e.number||e.positiveNumber?!isNaN(r)&&r!==""&&(r=Number(r)):(e.boolean||e.overloadedBoolean)&&typeof r=="string"&&(r===""||Kz(n)===Kz(t))&&(r=!0),r}function p8e(e){var t=[],n;for(n in e)t.push([n,e[n]].join(": "));return t.join("; ")}function m8e(e){for(var t=e.length,n=-1,r={},o;++n<t;)o=e[n],r[o.toLowerCase()]=o;return r}var g8e=NLe,v8e=l8e,c0e=v8e(g8e,"div");c0e.displayName="html";var y8e=c0e,b8e=y8e;const x8e="Æ",w8e="&",C8e="Á",_8e="Â",S8e="À",E8e="Å",k8e="Ã",j8e="Ä",T8e="©",A8e="Ç",D8e="Ð",I8e="É",P8e="Ê",O8e="È",$8e="Ë",R8e=">",M8e="Í",F8e="Î",L8e="Ì",B8e="Ï",N8e="<",z8e="Ñ",V8e="Ó",H8e="Ô",U8e="Ò",W8e="Ø",Y8e="Õ",q8e="Ö",G8e='"',K8e="®",Z8e="Þ",X8e="Ú",Q8e="Û",J8e="Ù",e9e="Ü",t9e="Ý",n9e="á",r9e="â",o9e="´",i9e="æ",s9e="à",a9e="&",l9e="å",c9e="ã",u9e="ä",d9e="¦",f9e="ç",h9e="¸",p9e="¢",m9e="©",g9e="¤",v9e="°",y9e="÷",b9e="é",x9e="ê",w9e="è",C9e="ð",_9e="ë",S9e="½",E9e="¼",k9e="¾",j9e=">",T9e="í",A9e="î",D9e="¡",I9e="ì",P9e="¿",O9e="ï",$9e="«",R9e="<",M9e="¯",F9e="µ",L9e="·",B9e=" ",N9e="¬",z9e="ñ",V9e="ó",H9e="ô",U9e="ò",W9e="ª",Y9e="º",q9e="ø",G9e="õ",K9e="ö",Z9e="¶",X9e="±",Q9e="£",J9e='"',e7e="»",t7e="®",n7e="§",r7e="­",o7e="¹",i7e="²",s7e="³",a7e="ß",l7e="þ",c7e="×",u7e="ú",d7e="û",f7e="ù",h7e="¨",p7e="ü",m7e="ý",g7e="¥",v7e="ÿ",y7e={AElig:x8e,AMP:w8e,Aacute:C8e,Acirc:_8e,Agrave:S8e,Aring:E8e,Atilde:k8e,Auml:j8e,COPY:T8e,Ccedil:A8e,ETH:D8e,Eacute:I8e,Ecirc:P8e,Egrave:O8e,Euml:$8e,GT:R8e,Iacute:M8e,Icirc:F8e,Igrave:L8e,Iuml:B8e,LT:N8e,Ntilde:z8e,Oacute:V8e,Ocirc:H8e,Ograve:U8e,Oslash:W8e,Otilde:Y8e,Ouml:q8e,QUOT:G8e,REG:K8e,THORN:Z8e,Uacute:X8e,Ucirc:Q8e,Ugrave:J8e,Uuml:e9e,Yacute:t9e,aacute:n9e,acirc:r9e,acute:o9e,aelig:i9e,agrave:s9e,amp:a9e,aring:l9e,atilde:c9e,auml:u9e,brvbar:d9e,ccedil:f9e,cedil:h9e,cent:p9e,copy:m9e,curren:g9e,deg:v9e,divide:y9e,eacute:b9e,ecirc:x9e,egrave:w9e,eth:C9e,euml:_9e,frac12:S9e,frac14:E9e,frac34:k9e,gt:j9e,iacute:T9e,icirc:A9e,iexcl:D9e,igrave:I9e,iquest:P9e,iuml:O9e,laquo:$9e,lt:R9e,macr:M9e,micro:F9e,middot:L9e,nbsp:B9e,not:N9e,ntilde:z9e,oacute:V9e,ocirc:H9e,ograve:U9e,ordf:W9e,ordm:Y9e,oslash:q9e,otilde:G9e,ouml:K9e,para:Z9e,plusmn:X9e,pound:Q9e,quot:J9e,raquo:e7e,reg:t7e,sect:n7e,shy:r7e,sup1:o7e,sup2:i7e,sup3:s7e,szlig:a7e,thorn:l7e,times:c7e,uacute:u7e,ucirc:d7e,ugrave:f7e,uml:h7e,uuml:p7e,yacute:m7e,yen:g7e,yuml:v7e},b7e={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};var u0e=x7e;function x7e(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=48&&t<=57}var w7e=C7e;function C7e(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}var _7e=S7e;function S7e(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}var E7e=_7e,k7e=u0e,j7e=T7e;function T7e(e){return E7e(e)||k7e(e)}var DC,A7e=59,D7e=I7e;function I7e(e){var t="&"+e+";",n;return DC=DC||document.createElement("i"),DC.innerHTML=t,n=DC.textContent,n.charCodeAt(n.length-1)===A7e&&e!=="semi"||n===t?!1:n}var Jz=y7e,eV=b7e,P7e=u0e,O7e=w7e,d0e=j7e,$7e=D7e,R7e=G7e,M7e={}.hasOwnProperty,Hm=String.fromCharCode,F7e=Function.prototype,tV={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},L7e=9,nV=10,B7e=12,N7e=32,rV=38,z7e=59,V7e=60,H7e=61,U7e=35,W7e=88,Y7e=120,q7e=65533,ug="named",XF="hexadecimal",QF="decimal",JF={};JF[XF]=16;JF[QF]=10;var fj={};fj[ug]=d0e;fj[QF]=P7e;fj[XF]=O7e;var f0e=1,h0e=2,p0e=3,m0e=4,g0e=5,U3=6,v0e=7,Kf={};Kf[f0e]="Named character references must be terminated by a semicolon";Kf[h0e]="Numeric character references must be terminated by a semicolon";Kf[p0e]="Named character references cannot be empty";Kf[m0e]="Numeric character references cannot be empty";Kf[g0e]="Named character references must be known";Kf[U3]="Numeric character references cannot be disallowed";Kf[v0e]="Numeric character references cannot be outside the permissible Unicode range";function G7e(e,t){var n={},r,o;t||(t={});for(o in tV)r=t[o],n[o]=r??tV[o];return(n.position.indent||n.position.start)&&(n.indent=n.position.indent||[],n.position=n.position.start),K7e(e,n)}function K7e(e,t){var n=t.additional,r=t.nonTerminated,o=t.text,i=t.reference,s=t.warning,a=t.textContext,l=t.referenceContext,u=t.warningContext,d=t.position,f=t.indent||[],p=e.length,m=0,v=-1,g=d.column||1,b=d.line||1,x="",y=[],w,C,_,S,E,j,k,T,A,D,I,P,M,$,V,L,H,U,z;for(typeof n=="string"&&(n=n.charCodeAt(0)),L=Y(),T=s?te:F7e,m--,p++;++m<p;)if(E===nV&&(g=f[v]||1),E=e.charCodeAt(m),E===rV){if(k=e.charCodeAt(m+1),k===L7e||k===nV||k===B7e||k===N7e||k===rV||k===V7e||k!==k||n&&k===n){x+=Hm(E),g++;continue}for(M=m+1,P=M,z=M,k===U7e?(z=++P,k=e.charCodeAt(z),k===W7e||k===Y7e?($=XF,z=++P):$=QF):$=ug,w="",I="",S="",V=fj[$],z--;++z<p&&(k=e.charCodeAt(z),!!V(k));)S+=Hm(k),$===ug&&M7e.call(Jz,S)&&(w=S,I=Jz[S]);_=e.charCodeAt(z)===z7e,_&&(z++,C=$===ug?$7e(S):!1,C&&(w=S,I=C)),U=1+z-M,!_&&!r||(S?$===ug?(_&&!I?T(g0e,1):(w!==S&&(z=P+w.length,U=1+z-P,_=!1),_||(A=w?f0e:p0e,t.attribute?(k=e.charCodeAt(z),k===H7e?(T(A,U),I=null):d0e(k)?I=null:T(A,U)):T(A,U))),j=I):(_||T(h0e,U),j=parseInt(S,JF[$]),Z7e(j)?(T(v0e,U),j=Hm(q7e)):j in eV?(T(U3,U),j=eV[j]):(D="",X7e(j)&&T(U3,U),j>65535&&(j-=65536,D+=Hm(j>>>10|55296),j=56320|j&1023),j=D+Hm(j))):$!==ug&&T(m0e,U)),j?(N(),L=Y(),m=z-1,g+=z-M+1,y.push(j),H=Y(),H.offset++,i&&i.call(l,j,{start:L,end:H},e.slice(M-1,z)),L=H):(S=e.slice(M-1,z),x+=S,g+=S.length,m=z-1)}else E===10&&(b++,v++,g=0),E===E?(x+=Hm(E),g++):N();return y.join("");function Y(){return{line:b,column:g,offset:m+(d.offset||0)}}function te(G,q){var K=Y();K.column+=q,K.offset+=q,s.call(u,Kf[G],K,G)}function N(){x&&(y.push(x),o&&o.call(a,x,{start:L,end:Y()}),x="")}}function Z7e(e){return e>=55296&&e<=57343||e>1114111}function X7e(e){return e>=1&&e<=8||e===11||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534}var y0e={exports:{}};(function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var o=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,s={},a={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function y(w){return w instanceof l?new l(w.type,y(w.content),w.alias):Array.isArray(w)?w.map(y):w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(y){return Object.prototype.toString.call(y).slice(8,-1)},objId:function(y){return y.__id||Object.defineProperty(y,"__id",{value:++i}),y.__id},clone:function y(w,C){C=C||{};var _,S;switch(a.util.type(w)){case"Object":if(S=a.util.objId(w),C[S])return C[S];_={},C[S]=_;for(var E in w)w.hasOwnProperty(E)&&(_[E]=y(w[E],C));return _;case"Array":return S=a.util.objId(w),C[S]?C[S]:(_=[],C[S]=_,w.forEach(function(j,k){_[k]=y(j,C)}),_);default:return w}},getLanguage:function(y){for(;y;){var w=o.exec(y.className);if(w)return w[1].toLowerCase();y=y.parentElement}return"none"},setLanguage:function(y,w){y.className=y.className.replace(RegExp(o,"gi"),""),y.classList.add("language-"+w)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(_){var y=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(_.stack)||[])[1];if(y){var w=document.getElementsByTagName("script");for(var C in w)if(w[C].src==y)return w[C]}return null}},isActive:function(y,w,C){for(var _="no-"+w;y;){var S=y.classList;if(S.contains(w))return!0;if(S.contains(_))return!1;y=y.parentElement}return!!C}},languages:{plain:s,plaintext:s,text:s,txt:s,extend:function(y,w){var C=a.util.clone(a.languages[y]);for(var _ in w)C[_]=w[_];return C},insertBefore:function(y,w,C,_){_=_||a.languages;var S=_[y],E={};for(var j in S)if(S.hasOwnProperty(j)){if(j==w)for(var k in C)C.hasOwnProperty(k)&&(E[k]=C[k]);C.hasOwnProperty(j)||(E[j]=S[j])}var T=_[y];return _[y]=E,a.languages.DFS(a.languages,function(A,D){D===T&&A!=y&&(this[A]=E)}),E},DFS:function y(w,C,_,S){S=S||{};var E=a.util.objId;for(var j in w)if(w.hasOwnProperty(j)){C.call(w,j,w[j],_||j);var k=w[j],T=a.util.type(k);T==="Object"&&!S[E(k)]?(S[E(k)]=!0,y(k,C,null,S)):T==="Array"&&!S[E(k)]&&(S[E(k)]=!0,y(k,C,j,S))}}},plugins:{},highlightAll:function(y,w){a.highlightAllUnder(document,y,w)},highlightAllUnder:function(y,w,C){var _={callback:C,container:y,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",_),_.elements=Array.prototype.slice.apply(_.container.querySelectorAll(_.selector)),a.hooks.run("before-all-elements-highlight",_);for(var S=0,E;E=_.elements[S++];)a.highlightElement(E,w===!0,_.callback)},highlightElement:function(y,w,C){var _=a.util.getLanguage(y),S=a.languages[_];a.util.setLanguage(y,_);var E=y.parentElement;E&&E.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(E,_);var j=y.textContent,k={element:y,language:_,grammar:S,code:j};function T(D){k.highlightedCode=D,a.hooks.run("before-insert",k),k.element.innerHTML=k.highlightedCode,a.hooks.run("after-highlight",k),a.hooks.run("complete",k),C&&C.call(k.element)}if(a.hooks.run("before-sanity-check",k),E=k.element.parentElement,E&&E.nodeName.toLowerCase()==="pre"&&!E.hasAttribute("tabindex")&&E.setAttribute("tabindex","0"),!k.code){a.hooks.run("complete",k),C&&C.call(k.element);return}if(a.hooks.run("before-highlight",k),!k.grammar){T(a.util.encode(k.code));return}if(w&&r.Worker){var A=new Worker(a.filename);A.onmessage=function(D){T(D.data)},A.postMessage(JSON.stringify({language:k.language,code:k.code,immediateClose:!0}))}else T(a.highlight(k.code,k.grammar,k.language))},highlight:function(y,w,C){var _={code:y,grammar:w,language:C};if(a.hooks.run("before-tokenize",_),!_.grammar)throw new Error('The language "'+_.language+'" has no grammar.');return _.tokens=a.tokenize(_.code,_.grammar),a.hooks.run("after-tokenize",_),l.stringify(a.util.encode(_.tokens),_.language)},tokenize:function(y,w){var C=w.rest;if(C){for(var _ in C)w[_]=C[_];delete w.rest}var S=new f;return p(S,S.head,y),d(y,S,w,S.head,0),v(S)},hooks:{all:{},add:function(y,w){var C=a.hooks.all;C[y]=C[y]||[],C[y].push(w)},run:function(y,w){var C=a.hooks.all[y];if(!(!C||!C.length))for(var _=0,S;S=C[_++];)S(w)}},Token:l};r.Prism=a;function l(y,w,C,_){this.type=y,this.content=w,this.alias=C,this.length=(_||"").length|0}l.stringify=function y(w,C){if(typeof w=="string")return w;if(Array.isArray(w)){var _="";return w.forEach(function(T){_+=y(T,C)}),_}var S={type:w.type,content:y(w.content,C),tag:"span",classes:["token",w.type],attributes:{},language:C},E=w.alias;E&&(Array.isArray(E)?Array.prototype.push.apply(S.classes,E):S.classes.push(E)),a.hooks.run("wrap",S);var j="";for(var k in S.attributes)j+=" "+k+'="'+(S.attributes[k]||"").replace(/"/g,"&quot;")+'"';return"<"+S.tag+' class="'+S.classes.join(" ")+'"'+j+">"+S.content+"</"+S.tag+">"};function u(y,w,C,_){y.lastIndex=w;var S=y.exec(C);if(S&&_&&S[1]){var E=S[1].length;S.index+=E,S[0]=S[0].slice(E)}return S}function d(y,w,C,_,S,E){for(var j in C)if(!(!C.hasOwnProperty(j)||!C[j])){var k=C[j];k=Array.isArray(k)?k:[k];for(var T=0;T<k.length;++T){if(E&&E.cause==j+","+T)return;var A=k[T],D=A.inside,I=!!A.lookbehind,P=!!A.greedy,M=A.alias;if(P&&!A.pattern.global){var $=A.pattern.toString().match(/[imsuy]*$/)[0];A.pattern=RegExp(A.pattern.source,$+"g")}for(var V=A.pattern||A,L=_.next,H=S;L!==w.tail&&!(E&&H>=E.reach);H+=L.value.length,L=L.next){var U=L.value;if(w.length>y.length)return;if(!(U instanceof l)){var z=1,Y;if(P){if(Y=u(V,H,y,I),!Y||Y.index>=y.length)break;var q=Y.index,te=Y.index+Y[0].length,N=H;for(N+=L.value.length;q>=N;)L=L.next,N+=L.value.length;if(N-=L.value.length,H=N,L.value instanceof l)continue;for(var G=L;G!==w.tail&&(N<te||typeof G.value=="string");G=G.next)z++,N+=G.value.length;z--,U=y.slice(H,N),Y.index-=H}else if(Y=u(V,0,U,I),!Y)continue;var q=Y.index,K=Y[0],Q=U.slice(0,q),X=U.slice(q+K.length),Z=H+U.length;E&&Z>E.reach&&(E.reach=Z);var oe=L.prev;Q&&(oe=p(w,oe,Q),H+=Q.length),m(w,oe,z);var le=new l(j,D?a.tokenize(K,D):K,M,K);if(L=p(w,oe,le),X&&p(w,L,X),z>1){var he={cause:j+","+T,reach:Z};d(y,w,C,L.prev,H,he),E&&he.reach>E.reach&&(E.reach=he.reach)}}}}}}function f(){var y={value:null,prev:null,next:null},w={value:null,prev:y,next:null};y.next=w,this.head=y,this.tail=w,this.length=0}function p(y,w,C){var _=w.next,S={value:C,prev:w,next:_};return w.next=S,_.prev=S,y.length++,S}function m(y,w,C){for(var _=w.next,S=0;S<C&&_!==y.tail;S++)_=_.next;w.next=_,_.prev=w,y.length-=S}function v(y){for(var w=[],C=y.head.next;C!==y.tail;)w.push(C.value),C=C.next;return w}if(!r.document)return r.addEventListener&&(a.disableWorkerMessageHandler||r.addEventListener("message",function(y){var w=JSON.parse(y.data),C=w.language,_=w.code,S=w.immediateClose;r.postMessage(a.highlight(_,a.languages[C],C)),S&&r.close()},!1)),a;var g=a.util.currentScript();g&&(a.filename=g.src,g.hasAttribute("data-manual")&&(a.manual=!0));function b(){a.manual||a.highlightAll()}if(!a.manual){var x=document.readyState;x==="loading"||x==="interactive"&&g&&g.defer?document.addEventListener("DOMContentLoaded",b):window.requestAnimationFrame?window.requestAnimationFrame(b):window.setTimeout(b,16)}return a}(t);e.exports&&(e.exports=n),typeof xs<"u"&&(xs.Prism=n)})(y0e);var Q7e=y0e.exports,J7e=e6;e6.displayName="markup";e6.aliases=["html","mathml","svg","xml","ssml","atom","rss"];function e6(e){e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(n,r){var o={};o["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[r]},o.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:o}};i["language-"+r]={pattern:/[\s\S]+/,inside:e.languages[r]};var s={};s[n]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return n}),"i"),lookbehind:!0,greedy:!0,inside:i},e.languages.insertBefore("markup","cdata",s)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(t,n){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:e.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml}var eBe=t6;t6.displayName="css";t6.aliases=[];function t6(e){(function(t){var n=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+n.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+n.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+n.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:n,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var r=t.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))})(e)}var tBe=n6;n6.displayName="clike";n6.aliases=[];function n6(e){e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}var b0e=r6;r6.displayName="javascript";r6.aliases=["js"];function r6(e){e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript}const nBe=De(b0e);var gy=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof xs=="object"?xs:{},rBe=bBe();gy.Prism={manual:!0,disableWorkerMessageHandler:!0};var oBe=b8e,iBe=R7e,x0e=Q7e,sBe=J7e,aBe=eBe,lBe=tBe,cBe=b0e;rBe();var o6={}.hasOwnProperty;function w0e(){}w0e.prototype=x0e;var co=new w0e,uBe=co;co.highlight=fBe;co.register=iw;co.alias=dBe;co.registered=hBe;co.listLanguages=pBe;iw(sBe);iw(aBe);iw(lBe);iw(cBe);co.util.encode=vBe;co.Token.stringify=mBe;function iw(e){if(typeof e!="function"||!e.displayName)throw new Error("Expected `function` for `grammar`, got `"+e+"`");co.languages[e.displayName]===void 0&&e(co)}function dBe(e,t){var n=co.languages,r=e,o,i,s,a;t&&(r={},r[e]=t);for(o in r)for(i=r[o],i=typeof i=="string"?[i]:i,s=i.length,a=-1;++a<s;)n[i[a]]=n[o]}function fBe(e,t){var n=x0e.highlight,r;if(typeof e!="string")throw new Error("Expected `string` for `value`, got `"+e+"`");if(co.util.type(t)==="Object")r=t,t=null;else{if(typeof t!="string")throw new Error("Expected `string` for `name`, got `"+t+"`");if(o6.call(co.languages,t))r=co.languages[t];else throw new Error("Unknown language: `"+t+"` is not registered")}return n.call(this,e,r,t)}function hBe(e){if(typeof e!="string")throw new Error("Expected `string` for `language`, got `"+e+"`");return o6.call(co.languages,e)}function pBe(){var e=co.languages,t=[],n;for(n in e)o6.call(e,n)&&typeof e[n]=="object"&&t.push(n);return t}function mBe(e,t,n){var r;return typeof e=="string"?{type:"text",value:e}:co.util.type(e)==="Array"?gBe(e,t):(r={type:e.type,content:co.Token.stringify(e.content,t,n),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:n},e.alias&&(r.classes=r.classes.concat(e.alias)),co.hooks.run("wrap",r),oBe(r.tag+"."+r.classes.join("."),yBe(r.attributes),r.content))}function gBe(e,t){for(var n=[],r=e.length,o=-1,i;++o<r;)i=e[o],i!==""&&i!==null&&i!==void 0&&n.push(i);for(o=-1,r=n.length;++o<r;)i=n[o],n[o]=co.Token.stringify(i,t,n);return n}function vBe(e){return e}function yBe(e){var t;for(t in e)e[t]=iBe(e[t]);return e}function bBe(){var e="Prism"in gy,t=e?gy.Prism:void 0;return n;function n(){e?gy.Prism=t:delete gy.Prism,e=void 0,t=void 0}}var C0e={},xBe=h;function wBe(e,t,n){if(e.tagName){var r=e.properties&&Array.isArray(e.properties.className)?e.properties.className.join(" "):e.properties.className;return xBe.createElement(e.tagName,Object.assign({key:"fract-".concat(n,"-").concat(t)},e.properties,{className:r}),e.children&&e.children.map(_0e(n+1)))}return e.value}function _0e(e){return function(n,r){return wBe(n,r,e)}}C0e.depth=_0e;var S0e=E0e;function E0e(e){if(e==null)return EBe;if(typeof e=="string")return SBe(e);if(typeof e=="object")return"length"in e?_Be(e):CBe(e);if(typeof e=="function")return e;throw new Error("Expected function, string, or object as test")}function CBe(e){return t;function t(n){var r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function _Be(e){for(var t=[],n=-1;++n<e.length;)t[n]=E0e(e[n]);return r;function r(){for(var o=-1;++o<t.length;)if(t[o].apply(this,arguments))return!0;return!1}}function SBe(e){return t;function t(n){return!!(n&&n.type===e)}}function EBe(){return!0}var kBe=S0e,jBe=ABe,TBe={}.hasOwnProperty;function ABe(e,t,n){var r=kBe(n||t),o=t.cascade==null?!0:t.cascade;return i(e,null,null);function i(s,a,l){var u,d,f,p,m;if(!r(s,a,l))return null;if(s.children){for(u=[],d=-1;++d<s.children.length;)f=i(s.children[d],d,s),f&&u.push(f);if(o&&s.children.length&&!u.length)return null}p={};for(m in s)TBe.call(s,m)&&(p[m]=m==="children"?u:s[m]);return p}}var DBe=IBe;function IBe(e){return e}var PBe=hj,OBe=S0e,$Be=DBe,k0e=!0,j0e="skip",W3=!1;hj.CONTINUE=k0e;hj.SKIP=j0e;hj.EXIT=W3;function hj(e,t,n,r){var o,i;typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),i=OBe(t),o=r?-1:1,s(e,null,[])();function s(a,l,u){var d=typeof a=="object"&&a!==null?a:{},f;return typeof d.type=="string"&&(f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0,p.displayName="node ("+$Be(d.type+(f?"<"+f+">":""))+")"),p;function p(){var m=u.concat(a),v=[],g,b;if((!t||i(a,l,u[u.length-1]||null))&&(v=RBe(n(a,u)),v[0]===W3))return v;if(a.children&&v[0]!==j0e)for(b=(r?a.children.length:-1)+o;b>-1&&b<a.children.length;){if(g=s(a.children[b],b,m)(),g[0]===W3)return g;b=typeof g[1]=="number"?g[1]:b+o}return v}}}function RBe(e){return e!==null&&typeof e=="object"&&"length"in e?e:typeof e=="number"?[k0e,e]:[e]}var MBe=typeof WeakMap=="function"?sw:aw;function sw(){this.map=new WeakMap}sw.prototype.has=function(e){return this.map.has(e)};sw.prototype.set=function(e,t){return this.map.set(e,t),this};sw.prototype.get=function(e){return this.map.get(e)};sw.prototype.clear=function(){};function aw(){this.keys=[],this.values=[]}aw.prototype.has=function(e){return this.keys.indexOf(e)!==-1};aw.prototype.set=function(e,t){var n=this.keys.indexOf(e);return n===-1?(this.keys.push(e),this.values.push(t)):this.values[n]=t,this};aw.prototype.get=function(e){var t=this.keys.indexOf(e);return t===-1?void 0:this.values[t]};aw.prototype.clear=function(){this.keys=[],this.values=[]};var FBe=jBe,oV=PBe,_D=MBe;function T0e(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{lineNumber:1};return e.reduce(function(n,r){var o=t.lineNumber;if(r.type==="text"){if(r.value.indexOf(`
`)===-1)return r.lineStart=o,r.lineEnd=o,n.nodes.push(r),n;for(var i=r.value.split(`
`),s=0;s<i.length;s++){var a=s===0?t.lineNumber:++t.lineNumber;n.nodes.push({type:"text",value:s===i.length-1?i[s]:"".concat(i[s],`
`),lineStart:a,lineEnd:a})}return n.lineNumber=t.lineNumber,n}if(r.children){var l=T0e(r.children,t),u=l.nodes[0],d=l.nodes[l.nodes.length-1];return r.lineStart=u?u.lineStart:o,r.lineEnd=d?d.lineEnd:o,r.children=l.nodes,n.lineNumber=l.lineNumber,n.nodes.push(r),n}return n.nodes.push(r),n},{nodes:[],lineNumber:t.lineNumber})}function LBe(e,t){var n={type:"root",children:t},r=new _D,o=new _D,i=new _D,s=[];function a(f,p,m){s.push(p),m.forEach(function(y){f.has(y)||(f.set(y,Object.assign({},y,{children:[]})),y!==n&&s.push(y))});for(var v=m.length;v--;){var g=f.get(m[v]),b=m[v+1],x=f.get(b)||p;g.children.indexOf(x)===-1&&g.children.push(x)}}oV(n,function(f,p){if(!f.children){if(f.lineStart<e){a(r,f,p);return}if(f.lineStart===e){a(o,f,p);return}f.lineEnd>e&&s.some(function(m){return p.indexOf(m)!==-1})&&a(i,f,p)}});var l=FBe(n,function(f){return s.indexOf(f)===-1}),u=function(p){var m=p.get(n);return m?(oV(m,function(v,g){if(v.children){v.lineStart=0,v.lineEnd=0;return}g.forEach(function(b){b.lineStart=Math.max(b.lineStart,v.lineStart),b.lineEnd=Math.max(b.lineEnd,v.lineEnd)})}),m.children):[]},d=[].concat(u(r),u(o),u(i),l?l.children:[]);return r.clear(),o.clear(),i.clear(),d}function BBe(e,t,n){var r=t.className||"refractor-marker";return{type:"element",tagName:t.component||"div",properties:t.component?Object.assign({},n,{className:r}):{className:r},children:e,lineStart:t.line,lineEnd:e[e.length-1].lineEnd,isMarker:!0}}function NBe(e,t,n){if(t.length===0||e.length===0)return e;for(var r=t.reduce(function(f,p){return LBe(p.line,f)},e),o=[],i=0,s=0;s<t.length;s++){for(var a=t[s],l=r[i];l&&l.lineEnd<a.line;l=r[++i])o.push(l);for(var u=[],d=r[i];d&&d.lineEnd===a.line;d=r[++i])u.push(d);u.length>0&&o.push(BBe(u,a,n))}for(;i<r.length;)o.push(r[i++]);return o}function zBe(e,t){var n=t.markers.map(function(o){return o.line?o:{line:o}}).sort(function(o,i){return o.line-i.line}),r=T0e(e).nodes;return NBe(r,n,t)}var VBe=zBe,HBe=h,Rs=Qve,i6=uBe,UBe=C0e,WBe=VBe,iV=HBe.createElement;function lw(e){var t="language-".concat(e.language),n={className:t},r={className:[e.className,t].filter(Boolean).join(" ")};e.inline&&(n.style={display:"inline"},n.className=e.className);var o=i6.highlight(e.value,e.language);e.markers&&e.markers.length>0&&(o=WBe(o,{markers:e.markers}));var i=o.length===0?e.value:o.map(UBe.depth(0)),s=iV("code",n,i);return e.inline?s:iV("pre",r,s)}lw.propTypes={className:Rs.string,inline:Rs.bool,language:Rs.string.isRequired,value:Rs.string.isRequired,markers:Rs.arrayOf(Rs.oneOfType([Rs.number,Rs.shape({line:Rs.number.isRequired,className:Rs.string,component:Rs.oneOfType([Rs.node,Rs.func])})]))};lw.defaultProps={className:"refractor",inline:!1};lw.registerLanguage=function(e){return i6.register(e)};lw.hasLanguage=function(e){return i6.registered(e)};var YBe=lw;const Mp=De(YBe),qBe=["top","right","bottom","left"],Tf=Math.min,Gs=Math.max,XS=Math.round,IC=Math.floor,Af=e=>({x:e,y:e}),GBe={left:"right",right:"left",bottom:"top",top:"bottom"},KBe={start:"end",end:"start"};function Y3(e,t,n){return Gs(e,Tf(t,n))}function dm(e,t){return typeof e=="function"?e(t):e}function Df(e){return e.split("-")[0]}function x0(e){return e.split("-")[1]}function A0e(e){return e==="x"?"y":"x"}function s6(e){return e==="y"?"height":"width"}function cw(e){return["top","bottom"].includes(Df(e))?"y":"x"}function a6(e){return A0e(cw(e))}function ZBe(e,t,n){n===void 0&&(n=!1);const r=x0(e),o=a6(e),i=s6(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=QS(s)),[s,QS(s)]}function XBe(e){const t=QS(e);return[q3(e),t,q3(t)]}function q3(e){return e.replace(/start|end/g,t=>KBe[t])}function QBe(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function JBe(e,t,n,r){const o=x0(e);let i=QBe(Df(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(q3)))),i}function QS(e){return e.replace(/left|right|bottom|top/g,t=>GBe[t])}function eNe(e){return{top:0,right:0,bottom:0,left:0,...e}}function D0e(e){return typeof e!="number"?eNe(e):{top:e,right:e,bottom:e,left:e}}function JS(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function sV(e,t,n){let{reference:r,floating:o}=e;const i=cw(t),s=a6(t),a=s6(s),l=Df(t),u=i==="y",d=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,p=r[a]/2-o[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-o.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-o.width,y:f};break;default:m={x:r.x,y:r.y}}switch(x0(t)){case"start":m[s]-=p*(n&&u?-1:1);break;case"end":m[s]+=p*(n&&u?-1:1);break}return m}const tNe=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:f}=sV(u,r,l),p=r,m={},v=0;for(let g=0;g<a.length;g++){const{name:b,fn:x}=a[g],{x:y,y:w,data:C,reset:_}=await x({x:d,y:f,initialPlacement:r,placement:p,strategy:o,middlewareData:m,rects:u,platform:s,elements:{reference:e,floating:t}});if(d=y??d,f=w??f,m={...m,[b]:{...m[b],...C}},_&&v<=50){v++,typeof _=="object"&&(_.placement&&(p=_.placement),_.rects&&(u=_.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):_.rects),{x:d,y:f}=sV(u,p,l)),g=-1;continue}}return{x:d,y:f,placement:p,strategy:o,middlewareData:m}};async function Ov(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=dm(t,e),v=D0e(m),b=a[p?f==="floating"?"reference":"floating":f],x=JS(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),y=f==="floating"?{...s.floating,x:r,y:o}:s.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},_=JS(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:w,strategy:l}):y);return{top:(x.top-_.top+v.top)/C.y,bottom:(_.bottom-x.bottom+v.bottom)/C.y,left:(x.left-_.left+v.left)/C.x,right:(_.right-x.right+v.right)/C.x}}const aV=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:l}=t,{element:u,padding:d=0}=dm(e,t)||{};if(u==null)return{};const f=D0e(d),p={x:n,y:r},m=a6(o),v=s6(m),g=await s.getDimensions(u),b=m==="y",x=b?"top":"left",y=b?"bottom":"right",w=b?"clientHeight":"clientWidth",C=i.reference[v]+i.reference[m]-p[m]-i.floating[v],_=p[m]-i.reference[m],S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let E=S?S[w]:0;(!E||!await(s.isElement==null?void 0:s.isElement(S)))&&(E=a.floating[w]||i.floating[v]);const j=C/2-_/2,k=E/2-g[v]/2-1,T=Tf(f[x],k),A=Tf(f[y],k),D=T,I=E-g[v]-A,P=E/2-g[v]/2+j,M=Y3(D,P,I),$=!l.arrow&&x0(o)!=null&&P!=M&&i.reference[v]/2-(P<D?T:A)-g[v]/2<0,V=$?P<D?P-D:P-I:0;return{[m]:p[m]+V,data:{[m]:M,centerOffset:P-M-V,...$&&{alignmentOffset:V}},reset:$}}}),I0e=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...b}=dm(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Df(o),y=Df(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(u.floating)),C=p||(y||!g?[QS(a)]:XBe(a));!p&&v!=="none"&&C.push(...JBe(a,g,v,w));const _=[a,...C],S=await Ov(t,b),E=[];let j=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&E.push(S[x]),f){const D=ZBe(o,s,w);E.push(S[D[0]],S[D[1]])}if(j=[...j,{placement:o,overflows:E}],!E.every(D=>D<=0)){var k,T;const D=(((k=i.flip)==null?void 0:k.index)||0)+1,I=_[D];if(I)return{data:{index:D,overflows:j},reset:{placement:I}};let P=(T=j.filter(M=>M.overflows[0]<=0).sort((M,$)=>M.overflows[1]-$.overflows[1])[0])==null?void 0:T.placement;if(!P)switch(m){case"bestFit":{var A;const M=(A=j.map($=>[$.placement,$.overflows.filter(V=>V>0).reduce((V,L)=>V+L,0)]).sort(($,V)=>$[1]-V[1])[0])==null?void 0:A[0];M&&(P=M);break}case"initialPlacement":P=a;break}if(o!==P)return{reset:{placement:P}}}return{}}}};function lV(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function cV(e){return qBe.some(t=>e[t]>=0)}const nNe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=dm(e,t);switch(r){case"referenceHidden":{const i=await Ov(t,{...o,elementContext:"reference"}),s=lV(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:cV(s)}}}case"escaped":{const i=await Ov(t,{...o,altBoundary:!0}),s=lV(i,n.floating);return{data:{escapedOffsets:s,escaped:cV(s)}}}default:return{}}}}};async function rNe(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Df(n),a=x0(n),l=cw(n)==="y",u=["left","top"].includes(s)?-1:1,d=i&&l?-1:1,f=dm(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const P0e=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await rNe(t,e);return{x:n+o.x,y:r+o.y,data:o}}}},O0e=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:b=>{let{x,y}=b;return{x,y}}},...l}=dm(e,t),u={x:n,y:r},d=await Ov(t,l),f=cw(Df(o)),p=A0e(f);let m=u[p],v=u[f];if(i){const b=p==="y"?"top":"left",x=p==="y"?"bottom":"right",y=m+d[b],w=m-d[x];m=Y3(y,m,w)}if(s){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=v+d[b],w=v-d[x];v=Y3(y,v,w)}const g=a.fn({...t,[p]:m,[f]:v});return{...g,data:{x:g.x-n,y:g.y-r}}}}},oNe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:i}=t,{apply:s=()=>{},...a}=dm(e,t),l=await Ov(t,a),u=Df(n),d=x0(n),f=cw(n)==="y",{width:p,height:m}=r.floating;let v,g;u==="top"||u==="bottom"?(v=u,g=d===(await(o.isRTL==null?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(g=u,v=d==="end"?"top":"bottom");const b=m-l[v],x=p-l[g],y=!t.middlewareData.shift;let w=b,C=x;if(f){const S=p-l.left-l.right;C=d||y?Tf(x,S):S}else{const S=m-l.top-l.bottom;w=d||y?Tf(b,S):S}if(y&&!d){const S=Gs(l.left,0),E=Gs(l.right,0),j=Gs(l.top,0),k=Gs(l.bottom,0);f?C=p-2*(S!==0||E!==0?S+E:Gs(l.left,l.right)):w=m-2*(j!==0||k!==0?j+k:Gs(l.top,l.bottom))}await s({...t,availableWidth:C,availableHeight:w});const _=await o.getDimensions(i.floating);return p!==_.width||m!==_.height?{reset:{rects:!0}}:{}}}};function If(e){return $0e(e)?(e.nodeName||"").toLowerCase():"#document"}function ea(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ju(e){var t;return(t=($0e(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function $0e(e){return e instanceof Node||e instanceof ea(e).Node}function Pu(e){return e instanceof Element||e instanceof ea(e).Element}function Tc(e){return e instanceof HTMLElement||e instanceof ea(e).HTMLElement}function uV(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ea(e).ShadowRoot}function uw(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Na(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function iNe(e){return["table","td","th"].includes(If(e))}function l6(e){const t=c6(),n=Na(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function sNe(e){let t=$v(e);for(;Tc(t)&&!pj(t);){if(l6(t))return t;t=$v(t)}return null}function c6(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function pj(e){return["html","body","#document"].includes(If(e))}function Na(e){return ea(e).getComputedStyle(e)}function mj(e){return Pu(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function $v(e){if(If(e)==="html")return e;const t=e.assignedSlot||e.parentNode||uV(e)&&e.host||Ju(e);return uV(t)?t.host:t}function R0e(e){const t=$v(e);return pj(t)?e.ownerDocument?e.ownerDocument.body:e.body:Tc(t)&&uw(t)?t:R0e(t)}function Rb(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=R0e(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=ea(o);return i?t.concat(s,s.visualViewport||[],uw(o)?o:[],s.frameElement&&n?Rb(s.frameElement):[]):t.concat(o,Rb(o,[],n))}function M0e(e){const t=Na(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Tc(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=XS(n)!==i||XS(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function u6(e){return Pu(e)?e:e.contextElement}function Gg(e){const t=u6(e);if(!Tc(t))return Af(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=M0e(t);let s=(i?XS(n.width):n.width)/r,a=(i?XS(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const aNe=Af(0);function F0e(e){const t=ea(e);return!c6()||!t.visualViewport?aNe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function lNe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ea(e)?!1:t}function Fp(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=u6(e);let s=Af(1);t&&(r?Pu(r)&&(s=Gg(r)):s=Gg(e));const a=lNe(i,n,r)?F0e(i):Af(0);let l=(o.left+a.x)/s.x,u=(o.top+a.y)/s.y,d=o.width/s.x,f=o.height/s.y;if(i){const p=ea(i),m=r&&Pu(r)?ea(r):r;let v=p.frameElement;for(;v&&r&&m!==p;){const g=Gg(v),b=v.getBoundingClientRect(),x=Na(v),y=b.left+(v.clientLeft+parseFloat(x.paddingLeft))*g.x,w=b.top+(v.clientTop+parseFloat(x.paddingTop))*g.y;l*=g.x,u*=g.y,d*=g.x,f*=g.y,l+=y,u+=w,v=ea(v).frameElement}}return JS({width:d,height:f,x:l,y:u})}function cNe(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=Tc(n),i=Ju(n);if(n===i)return t;let s={scrollLeft:0,scrollTop:0},a=Af(1);const l=Af(0);if((o||!o&&r!=="fixed")&&((If(n)!=="body"||uw(i))&&(s=mj(n)),Tc(n))){const u=Fp(n);a=Gg(n),l.x=u.x+n.clientLeft,l.y=u.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-s.scrollLeft*a.x+l.x,y:t.y*a.y-s.scrollTop*a.y+l.y}}function uNe(e){return Array.from(e.getClientRects())}function L0e(e){return Fp(Ju(e)).left+mj(e).scrollLeft}function dNe(e){const t=Ju(e),n=mj(e),r=e.ownerDocument.body,o=Gs(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Gs(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+L0e(e);const a=-n.scrollTop;return Na(r).direction==="rtl"&&(s+=Gs(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}function fNe(e,t){const n=ea(e),r=Ju(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;const u=c6();(!u||u&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a,y:l}}function hNe(e,t){const n=Fp(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Tc(e)?Gg(e):Af(1),s=e.clientWidth*i.x,a=e.clientHeight*i.y,l=o*i.x,u=r*i.y;return{width:s,height:a,x:l,y:u}}function dV(e,t,n){let r;if(t==="viewport")r=fNe(e,n);else if(t==="document")r=dNe(Ju(e));else if(Pu(t))r=hNe(t,n);else{const o=F0e(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return JS(r)}function B0e(e,t){const n=$v(e);return n===t||!Pu(n)||pj(n)?!1:Na(n).position==="fixed"||B0e(n,t)}function pNe(e,t){const n=t.get(e);if(n)return n;let r=Rb(e,[],!1).filter(a=>Pu(a)&&If(a)!=="body"),o=null;const i=Na(e).position==="fixed";let s=i?$v(e):e;for(;Pu(s)&&!pj(s);){const a=Na(s),l=l6(s);!l&&a.position==="fixed"&&(o=null),(i?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||uw(s)&&!l&&B0e(e,s))?r=r.filter(d=>d!==s):o=a,s=$v(s)}return t.set(e,r),r}function mNe(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?pNe(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((u,d)=>{const f=dV(t,d,o);return u.top=Gs(f.top,u.top),u.right=Tf(f.right,u.right),u.bottom=Tf(f.bottom,u.bottom),u.left=Gs(f.left,u.left),u},dV(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function gNe(e){return M0e(e)}function vNe(e,t,n){const r=Tc(t),o=Ju(t),i=n==="fixed",s=Fp(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=Af(0);if(r||!r&&!i)if((If(t)!=="body"||uw(o))&&(a=mj(t)),r){const u=Fp(t,!0,i,t);l.x=u.x+t.clientLeft,l.y=u.y+t.clientTop}else o&&(l.x=L0e(o));return{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function fV(e,t){return!Tc(e)||Na(e).position==="fixed"?null:t?t(e):e.offsetParent}function N0e(e,t){const n=ea(e);if(!Tc(e))return n;let r=fV(e,t);for(;r&&iNe(r)&&Na(r).position==="static";)r=fV(r,t);return r&&(If(r)==="html"||If(r)==="body"&&Na(r).position==="static"&&!l6(r))?n:r||sNe(e)||n}const yNe=async function(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||N0e,i=this.getDimensions;return{reference:vNe(t,await o(n),r),floating:{x:0,y:0,...await i(n)}}};function bNe(e){return Na(e).direction==="rtl"}const xNe={convertOffsetParentRelativeRectToViewportRelativeRect:cNe,getDocumentElement:Ju,getClippingRect:mNe,getOffsetParent:N0e,getElementRects:yNe,getClientRects:uNe,getDimensions:gNe,getScale:Gg,isElement:Pu,isRTL:bNe};function wNe(e,t){let n=null,r;const o=Ju(e);function i(){clearTimeout(r),n&&n.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:u,top:d,width:f,height:p}=e.getBoundingClientRect();if(a||t(),!f||!p)return;const m=IC(d),v=IC(o.clientWidth-(u+f)),g=IC(o.clientHeight-(d+p)),b=IC(u),y={rootMargin:-m+"px "+-v+"px "+-g+"px "+-b+"px",threshold:Gs(0,Tf(1,l))||1};let w=!0;function C(_){const S=_[0].intersectionRatio;if(S!==l){if(!w)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(C,{...y,root:o.ownerDocument})}catch{n=new IntersectionObserver(C,y)}n.observe(e)}return s(!0),i}function z0e(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=u6(e),d=o||i?[...u?Rb(u):[],...Rb(t)]:[];d.forEach(x=>{o&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=u&&a?wNe(u,n):null;let p=-1,m=null;s&&(m=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{m&&m.observe(t)})),n()}),u&&!l&&m.observe(u),m.observe(t));let v,g=l?Fp(e):null;l&&b();function b(){const x=Fp(e);g&&(x.x!==g.x||x.y!==g.y||x.width!==g.width||x.height!==g.height)&&n(),g=x,v=requestAnimationFrame(b)}return n(),()=>{d.forEach(x=>{o&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),f&&f(),m&&m.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const CNe=(e,t,n)=>{const r=new Map,o={platform:xNe,...n},i={...o.platform,_c:r};return tNe(e,t,{...o,platform:i})};var V0e={exports:{}},ua={},H0e={exports:{}},U0e={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,H){var U=L.length;L.push(H);e:for(;0<U;){var z=U-1>>>1,Y=L[z];if(0<o(Y,H))L[z]=H,L[U]=Y,U=z;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var H=L[0],U=L.pop();if(U!==H){L[0]=U;e:for(var z=0,Y=L.length,te=Y>>>1;z<te;){var N=2*(z+1)-1,G=L[N],q=N+1,K=L[q];if(0>o(G,U))q<Y&&0>o(K,G)?(L[z]=K,L[q]=U,z=q):(L[z]=G,L[N]=U,z=N);else if(q<Y&&0>o(K,U))L[z]=K,L[q]=U,z=q;else break e}}return H}function o(L,H){var U=L.sortIndex-H.sortIndex;return U!==0?U:L.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],d=1,f=null,p=3,m=!1,v=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(L){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=L)r(u),H.sortIndex=H.expirationTime,t(l,H);else break;H=n(u)}}function C(L){if(g=!1,w(L),!v)if(n(l)!==null)v=!0,$(_);else{var H=n(u);H!==null&&V(C,H.startTime-L)}}function _(L,H){v=!1,g&&(g=!1,x(j),j=-1),m=!0;var U=p;try{for(w(H),f=n(l);f!==null&&(!(f.expirationTime>H)||L&&!A());){var z=f.callback;if(typeof z=="function"){f.callback=null,p=f.priorityLevel;var Y=z(f.expirationTime<=H);H=e.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(l)&&r(l),w(H)}else r(l);f=n(l)}if(f!==null)var te=!0;else{var N=n(u);N!==null&&V(C,N.startTime-H),te=!1}return te}finally{f=null,p=U,m=!1}}var S=!1,E=null,j=-1,k=5,T=-1;function A(){return!(e.unstable_now()-T<k)}function D(){if(E!==null){var L=e.unstable_now();T=L;var H=!0;try{H=E(!0,L)}finally{H?I():(S=!1,E=null)}}else S=!1}var I;if(typeof y=="function")I=function(){y(D)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,M=P.port2;P.port1.onmessage=D,I=function(){M.postMessage(null)}}else I=function(){b(D,0)};function $(L){E=L,S||(S=!0,I())}function V(L,H){j=b(function(){L(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,$(_))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(L){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var U=p;p=H;try{return L()}finally{p=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,H){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var U=p;p=L;try{return H()}finally{p=U}},e.unstable_scheduleCallback=function(L,H,U){var z=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?z+U:z):U=z,L){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=U+Y,L={id:d++,callback:H,priorityLevel:L,startTime:U,expirationTime:Y,sortIndex:-1},U>z?(L.sortIndex=U,t(u,L),n(l)===null&&L===n(u)&&(g?(x(j),j=-1):g=!0,V(C,U-z))):(L.sortIndex=Y,t(l,L),v||m||(v=!0,$(_))),L},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(L){var H=p;return function(){var U=p;p=H;try{return L.apply(this,arguments)}finally{p=U}}}})(U0e);H0e.exports=U0e;var _Ne=H0e.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0e=h,ra=_Ne;function ke(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Y0e=new Set,Mb={};function fm(e,t){Rv(e,t),Rv(e+"Capture",t)}function Rv(e,t){for(Mb[e]=t,e=0;e<t.length;e++)Y0e.add(t[e])}var Ou=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),G3=Object.prototype.hasOwnProperty,SNe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hV={},pV={};function ENe(e){return G3.call(pV,e)?!0:G3.call(hV,e)?!1:SNe.test(e)?pV[e]=!0:(hV[e]=!0,!1)}function kNe(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function jNe(e,t,n,r){if(t===null||typeof t>"u"||kNe(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ji(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Qo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qo[e]=new Ji(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qo[t]=new Ji(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qo[e]=new Ji(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qo[e]=new Ji(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qo[e]=new Ji(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qo[e]=new Ji(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qo[e]=new Ji(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qo[e]=new Ji(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qo[e]=new Ji(e,5,!1,e.toLowerCase(),null,!1,!1)});var d6=/[\-:]([a-z])/g;function f6(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(d6,f6);Qo[t]=new Ji(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(d6,f6);Qo[t]=new Ji(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(d6,f6);Qo[t]=new Ji(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qo[e]=new Ji(e,1,!1,e.toLowerCase(),null,!1,!1)});Qo.xlinkHref=new Ji("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qo[e]=new Ji(e,1,!1,e.toLowerCase(),null,!0,!0)});function h6(e,t,n,r){var o=Qo.hasOwnProperty(t)?Qo[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(jNe(t,n,o,r)&&(n=null),r||o===null?ENe(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ed=W0e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,PC=Symbol.for("react.element"),Sg=Symbol.for("react.portal"),Eg=Symbol.for("react.fragment"),p6=Symbol.for("react.strict_mode"),K3=Symbol.for("react.profiler"),q0e=Symbol.for("react.provider"),G0e=Symbol.for("react.context"),m6=Symbol.for("react.forward_ref"),Z3=Symbol.for("react.suspense"),X3=Symbol.for("react.suspense_list"),g6=Symbol.for("react.memo"),jd=Symbol.for("react.lazy"),K0e=Symbol.for("react.offscreen"),mV=Symbol.iterator;function S1(e){return e===null||typeof e!="object"?null:(e=mV&&e[mV]||e["@@iterator"],typeof e=="function"?e:null)}var Rr=Object.assign,SD;function vy(e){if(SD===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);SD=t&&t[1]||""}return`
`+SD+e}var ED=!1;function kD(e,t){if(!e||ED)return"";ED=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{ED=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?vy(e):""}function TNe(e){switch(e.tag){case 5:return vy(e.type);case 16:return vy("Lazy");case 13:return vy("Suspense");case 19:return vy("SuspenseList");case 0:case 2:case 15:return e=kD(e.type,!1),e;case 11:return e=kD(e.type.render,!1),e;case 1:return e=kD(e.type,!0),e;default:return""}}function Q3(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Eg:return"Fragment";case Sg:return"Portal";case K3:return"Profiler";case p6:return"StrictMode";case Z3:return"Suspense";case X3:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case G0e:return(e.displayName||"Context")+".Consumer";case q0e:return(e._context.displayName||"Context")+".Provider";case m6:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case g6:return t=e.displayName||null,t!==null?t:Q3(e.type)||"Memo";case jd:t=e._payload,e=e._init;try{return Q3(e(t))}catch{}}return null}function ANe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q3(t);case 8:return t===p6?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Z0e(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function DNe(e){var t=Z0e(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function OC(e){e._valueTracker||(e._valueTracker=DNe(e))}function X0e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Z0e(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function e5(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function J3(e,t){var n=t.checked;return Rr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function gV(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Pf(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Q0e(e,t){t=t.checked,t!=null&&h6(e,"checked",t,!1)}function e$(e,t){Q0e(e,t);var n=Pf(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?t$(e,t.type,n):t.hasOwnProperty("defaultValue")&&t$(e,t.type,Pf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vV(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function t$(e,t,n){(t!=="number"||e5(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var yy=Array.isArray;function Kg(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Pf(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function n$(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ke(91));return Rr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yV(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ke(92));if(yy(n)){if(1<n.length)throw Error(ke(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Pf(n)}}function J0e(e,t){var n=Pf(t.value),r=Pf(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function bV(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function e1e(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function r$(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?e1e(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $C,t1e=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($C=$C||document.createElement("div"),$C.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$C.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fb(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Wy={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},INe=["Webkit","ms","Moz","O"];Object.keys(Wy).forEach(function(e){INe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wy[t]=Wy[e]})});function n1e(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Wy.hasOwnProperty(e)&&Wy[e]?(""+t).trim():t+"px"}function r1e(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=n1e(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var PNe=Rr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function o$(e,t){if(t){if(PNe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ke(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ke(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ke(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ke(62))}}function i$(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var s$=null;function v6(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var a$=null,Zg=null,Xg=null;function xV(e){if(e=hw(e)){if(typeof a$!="function")throw Error(ke(280));var t=e.stateNode;t&&(t=xj(t),a$(e.stateNode,e.type,t))}}function o1e(e){Zg?Xg?Xg.push(e):Xg=[e]:Zg=e}function i1e(){if(Zg){var e=Zg,t=Xg;if(Xg=Zg=null,xV(e),t)for(e=0;e<t.length;e++)xV(t[e])}}function s1e(e,t){return e(t)}function a1e(){}var jD=!1;function l1e(e,t,n){if(jD)return e(t,n);jD=!0;try{return s1e(e,t,n)}finally{jD=!1,(Zg!==null||Xg!==null)&&(a1e(),i1e())}}function Lb(e,t){var n=e.stateNode;if(n===null)return null;var r=xj(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ke(231,t,typeof n));return n}var l$=!1;if(Ou)try{var E1={};Object.defineProperty(E1,"passive",{get:function(){l$=!0}}),window.addEventListener("test",E1,E1),window.removeEventListener("test",E1,E1)}catch{l$=!1}function ONe(e,t,n,r,o,i,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Yy=!1,t5=null,n5=!1,c$=null,$Ne={onError:function(e){Yy=!0,t5=e}};function RNe(e,t,n,r,o,i,s,a,l){Yy=!1,t5=null,ONe.apply($Ne,arguments)}function MNe(e,t,n,r,o,i,s,a,l){if(RNe.apply(this,arguments),Yy){if(Yy){var u=t5;Yy=!1,t5=null}else throw Error(ke(198));n5||(n5=!0,c$=u)}}function hm(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function c1e(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wV(e){if(hm(e)!==e)throw Error(ke(188))}function FNe(e){var t=e.alternate;if(!t){if(t=hm(e),t===null)throw Error(ke(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return wV(o),e;if(i===r)return wV(o),t;i=i.sibling}throw Error(ke(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(ke(189))}}if(n.alternate!==r)throw Error(ke(190))}if(n.tag!==3)throw Error(ke(188));return n.stateNode.current===n?e:t}function u1e(e){return e=FNe(e),e!==null?d1e(e):null}function d1e(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=d1e(e);if(t!==null)return t;e=e.sibling}return null}var f1e=ra.unstable_scheduleCallback,CV=ra.unstable_cancelCallback,LNe=ra.unstable_shouldYield,BNe=ra.unstable_requestPaint,Gr=ra.unstable_now,NNe=ra.unstable_getCurrentPriorityLevel,y6=ra.unstable_ImmediatePriority,h1e=ra.unstable_UserBlockingPriority,r5=ra.unstable_NormalPriority,zNe=ra.unstable_LowPriority,p1e=ra.unstable_IdlePriority,gj=null,xc=null;function VNe(e){if(xc&&typeof xc.onCommitFiberRoot=="function")try{xc.onCommitFiberRoot(gj,e,void 0,(e.current.flags&128)===128)}catch{}}var xl=Math.clz32?Math.clz32:WNe,HNe=Math.log,UNe=Math.LN2;function WNe(e){return e>>>=0,e===0?32:31-(HNe(e)/UNe|0)|0}var RC=64,MC=4194304;function by(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function o5(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=by(a):(i&=s,i!==0&&(r=by(i)))}else s=n&~o,s!==0?r=by(s):i!==0&&(r=by(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-xl(t),o=1<<n,r|=e[n],t&=~o;return r}function YNe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qNe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-xl(i),a=1<<s,l=o[s];l===-1?(!(a&n)||a&r)&&(o[s]=YNe(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function u$(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function m1e(){var e=RC;return RC<<=1,!(RC&4194240)&&(RC=64),e}function TD(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function dw(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xl(t),e[t]=n}function GNe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-xl(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function b6(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xl(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Sn=0;function g1e(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var v1e,x6,y1e,b1e,x1e,d$=!1,FC=[],of=null,sf=null,af=null,Bb=new Map,Nb=new Map,Md=[],KNe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _V(e,t){switch(e){case"focusin":case"focusout":of=null;break;case"dragenter":case"dragleave":sf=null;break;case"mouseover":case"mouseout":af=null;break;case"pointerover":case"pointerout":Bb.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nb.delete(t.pointerId)}}function k1(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=hw(t),t!==null&&x6(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function ZNe(e,t,n,r,o){switch(t){case"focusin":return of=k1(of,e,t,n,r,o),!0;case"dragenter":return sf=k1(sf,e,t,n,r,o),!0;case"mouseover":return af=k1(af,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Bb.set(i,k1(Bb.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Nb.set(i,k1(Nb.get(i)||null,e,t,n,r,o)),!0}return!1}function w1e(e){var t=rp(e.target);if(t!==null){var n=hm(t);if(n!==null){if(t=n.tag,t===13){if(t=c1e(n),t!==null){e.blockedOn=t,x1e(e.priority,function(){y1e(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function I2(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=f$(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);s$=r,n.target.dispatchEvent(r),s$=null}else return t=hw(n),t!==null&&x6(t),e.blockedOn=n,!1;t.shift()}return!0}function SV(e,t,n){I2(e)&&n.delete(t)}function XNe(){d$=!1,of!==null&&I2(of)&&(of=null),sf!==null&&I2(sf)&&(sf=null),af!==null&&I2(af)&&(af=null),Bb.forEach(SV),Nb.forEach(SV)}function j1(e,t){e.blockedOn===t&&(e.blockedOn=null,d$||(d$=!0,ra.unstable_scheduleCallback(ra.unstable_NormalPriority,XNe)))}function zb(e){function t(o){return j1(o,e)}if(0<FC.length){j1(FC[0],e);for(var n=1;n<FC.length;n++){var r=FC[n];r.blockedOn===e&&(r.blockedOn=null)}}for(of!==null&&j1(of,e),sf!==null&&j1(sf,e),af!==null&&j1(af,e),Bb.forEach(t),Nb.forEach(t),n=0;n<Md.length;n++)r=Md[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Md.length&&(n=Md[0],n.blockedOn===null);)w1e(n),n.blockedOn===null&&Md.shift()}var Qg=ed.ReactCurrentBatchConfig,i5=!0;function QNe(e,t,n,r){var o=Sn,i=Qg.transition;Qg.transition=null;try{Sn=1,w6(e,t,n,r)}finally{Sn=o,Qg.transition=i}}function JNe(e,t,n,r){var o=Sn,i=Qg.transition;Qg.transition=null;try{Sn=4,w6(e,t,n,r)}finally{Sn=o,Qg.transition=i}}function w6(e,t,n,r){if(i5){var o=f$(e,t,n,r);if(o===null)LD(e,t,r,s5,n),_V(e,r);else if(ZNe(o,e,t,n,r))r.stopPropagation();else if(_V(e,r),t&4&&-1<KNe.indexOf(e)){for(;o!==null;){var i=hw(o);if(i!==null&&v1e(i),i=f$(e,t,n,r),i===null&&LD(e,t,r,s5,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else LD(e,t,r,null,n)}}var s5=null;function f$(e,t,n,r){if(s5=null,e=v6(r),e=rp(e),e!==null)if(t=hm(e),t===null)e=null;else if(n=t.tag,n===13){if(e=c1e(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return s5=e,null}function C1e(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NNe()){case y6:return 1;case h1e:return 4;case r5:case zNe:return 16;case p1e:return 536870912;default:return 16}default:return 16}}var zd=null,C6=null,P2=null;function _1e(){if(P2)return P2;var e,t=C6,n=t.length,r,o="value"in zd?zd.value:zd.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return P2=o.slice(e,1<r?1-r:void 0)}function O2(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function LC(){return!0}function EV(){return!1}function da(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?LC:EV,this.isPropagationStopped=EV,this}return Rr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=LC)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=LC)},persist:function(){},isPersistent:LC}),t}var w0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_6=da(w0),fw=Rr({},w0,{view:0,detail:0}),eze=da(fw),AD,DD,T1,vj=Rr({},fw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:S6,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==T1&&(T1&&e.type==="mousemove"?(AD=e.screenX-T1.screenX,DD=e.screenY-T1.screenY):DD=AD=0,T1=e),AD)},movementY:function(e){return"movementY"in e?e.movementY:DD}}),kV=da(vj),tze=Rr({},vj,{dataTransfer:0}),nze=da(tze),rze=Rr({},fw,{relatedTarget:0}),ID=da(rze),oze=Rr({},w0,{animationName:0,elapsedTime:0,pseudoElement:0}),ize=da(oze),sze=Rr({},w0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aze=da(sze),lze=Rr({},w0,{data:0}),jV=da(lze),cze={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uze={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dze={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fze(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dze[e])?!!t[e]:!1}function S6(){return fze}var hze=Rr({},fw,{key:function(e){if(e.key){var t=cze[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=O2(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uze[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:S6,charCode:function(e){return e.type==="keypress"?O2(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?O2(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pze=da(hze),mze=Rr({},vj,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),TV=da(mze),gze=Rr({},fw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:S6}),vze=da(gze),yze=Rr({},w0,{propertyName:0,elapsedTime:0,pseudoElement:0}),bze=da(yze),xze=Rr({},vj,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wze=da(xze),Cze=[9,13,27,32],E6=Ou&&"CompositionEvent"in window,qy=null;Ou&&"documentMode"in document&&(qy=document.documentMode);var _ze=Ou&&"TextEvent"in window&&!qy,S1e=Ou&&(!E6||qy&&8<qy&&11>=qy),AV=String.fromCharCode(32),DV=!1;function E1e(e,t){switch(e){case"keyup":return Cze.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k1e(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kg=!1;function Sze(e,t){switch(e){case"compositionend":return k1e(t);case"keypress":return t.which!==32?null:(DV=!0,AV);case"textInput":return e=t.data,e===AV&&DV?null:e;default:return null}}function Eze(e,t){if(kg)return e==="compositionend"||!E6&&E1e(e,t)?(e=_1e(),P2=C6=zd=null,kg=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return S1e&&t.locale!=="ko"?null:t.data;default:return null}}var kze={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function IV(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kze[e.type]:t==="textarea"}function j1e(e,t,n,r){o1e(r),t=a5(t,"onChange"),0<t.length&&(n=new _6("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gy=null,Vb=null;function jze(e){L1e(e,0)}function yj(e){var t=Ag(e);if(X0e(t))return e}function Tze(e,t){if(e==="change")return t}var T1e=!1;if(Ou){var PD;if(Ou){var OD="oninput"in document;if(!OD){var PV=document.createElement("div");PV.setAttribute("oninput","return;"),OD=typeof PV.oninput=="function"}PD=OD}else PD=!1;T1e=PD&&(!document.documentMode||9<document.documentMode)}function OV(){Gy&&(Gy.detachEvent("onpropertychange",A1e),Vb=Gy=null)}function A1e(e){if(e.propertyName==="value"&&yj(Vb)){var t=[];j1e(t,Vb,e,v6(e)),l1e(jze,t)}}function Aze(e,t,n){e==="focusin"?(OV(),Gy=t,Vb=n,Gy.attachEvent("onpropertychange",A1e)):e==="focusout"&&OV()}function Dze(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yj(Vb)}function Ize(e,t){if(e==="click")return yj(t)}function Pze(e,t){if(e==="input"||e==="change")return yj(t)}function Oze(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var El=typeof Object.is=="function"?Object.is:Oze;function Hb(e,t){if(El(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!G3.call(t,o)||!El(e[o],t[o]))return!1}return!0}function $V(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function RV(e,t){var n=$V(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$V(n)}}function D1e(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?D1e(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function I1e(){for(var e=window,t=e5();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=e5(e.document)}return t}function k6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $ze(e){var t=I1e(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&D1e(n.ownerDocument.documentElement,n)){if(r!==null&&k6(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=RV(n,i);var s=RV(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Rze=Ou&&"documentMode"in document&&11>=document.documentMode,jg=null,h$=null,Ky=null,p$=!1;function MV(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;p$||jg==null||jg!==e5(r)||(r=jg,"selectionStart"in r&&k6(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ky&&Hb(Ky,r)||(Ky=r,r=a5(h$,"onSelect"),0<r.length&&(t=new _6("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=jg)))}function BC(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tg={animationend:BC("Animation","AnimationEnd"),animationiteration:BC("Animation","AnimationIteration"),animationstart:BC("Animation","AnimationStart"),transitionend:BC("Transition","TransitionEnd")},$D={},P1e={};Ou&&(P1e=document.createElement("div").style,"AnimationEvent"in window||(delete Tg.animationend.animation,delete Tg.animationiteration.animation,delete Tg.animationstart.animation),"TransitionEvent"in window||delete Tg.transitionend.transition);function bj(e){if($D[e])return $D[e];if(!Tg[e])return e;var t=Tg[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in P1e)return $D[e]=t[n];return e}var O1e=bj("animationend"),$1e=bj("animationiteration"),R1e=bj("animationstart"),M1e=bj("transitionend"),F1e=new Map,FV="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zf(e,t){F1e.set(e,t),fm(t,[e])}for(var RD=0;RD<FV.length;RD++){var MD=FV[RD],Mze=MD.toLowerCase(),Fze=MD[0].toUpperCase()+MD.slice(1);Zf(Mze,"on"+Fze)}Zf(O1e,"onAnimationEnd");Zf($1e,"onAnimationIteration");Zf(R1e,"onAnimationStart");Zf("dblclick","onDoubleClick");Zf("focusin","onFocus");Zf("focusout","onBlur");Zf(M1e,"onTransitionEnd");Rv("onMouseEnter",["mouseout","mouseover"]);Rv("onMouseLeave",["mouseout","mouseover"]);Rv("onPointerEnter",["pointerout","pointerover"]);Rv("onPointerLeave",["pointerout","pointerover"]);fm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fm("onBeforeInput",["compositionend","keypress","textInput","paste"]);fm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lze=new Set("cancel close invalid load scroll toggle".split(" ").concat(xy));function LV(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,MNe(r,t,void 0,e),e.currentTarget=null}function L1e(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;LV(o,a,u),i=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;LV(o,a,u),i=l}}}if(n5)throw e=c$,n5=!1,c$=null,e}function tr(e,t){var n=t[b$];n===void 0&&(n=t[b$]=new Set);var r=e+"__bubble";n.has(r)||(B1e(t,e,2,!1),n.add(r))}function FD(e,t,n){var r=0;t&&(r|=4),B1e(n,e,r,t)}var NC="_reactListening"+Math.random().toString(36).slice(2);function Ub(e){if(!e[NC]){e[NC]=!0,Y0e.forEach(function(n){n!=="selectionchange"&&(Lze.has(n)||FD(n,!1,e),FD(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[NC]||(t[NC]=!0,FD("selectionchange",!1,t))}}function B1e(e,t,n,r){switch(C1e(t)){case 1:var o=QNe;break;case 4:o=JNe;break;default:o=w6}n=o.bind(null,t,n,e),o=void 0,!l$||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function LD(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=rp(a),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}a=a.parentNode}}r=r.return}l1e(function(){var u=i,d=v6(n),f=[];e:{var p=F1e.get(e);if(p!==void 0){var m=_6,v=e;switch(e){case"keypress":if(O2(n)===0)break e;case"keydown":case"keyup":m=pze;break;case"focusin":v="focus",m=ID;break;case"focusout":v="blur",m=ID;break;case"beforeblur":case"afterblur":m=ID;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=kV;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=nze;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=vze;break;case O1e:case $1e:case R1e:m=ize;break;case M1e:m=bze;break;case"scroll":m=eze;break;case"wheel":m=wze;break;case"copy":case"cut":case"paste":m=aze;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=TV}var g=(t&4)!==0,b=!g&&e==="scroll",x=g?p!==null?p+"Capture":null:p;g=[];for(var y=u,w;y!==null;){w=y;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,x!==null&&(C=Lb(y,x),C!=null&&g.push(Wb(y,C,w)))),b)break;y=y.return}0<g.length&&(p=new m(p,v,null,n,d),f.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==s$&&(v=n.relatedTarget||n.fromElement)&&(rp(v)||v[$u]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?rp(v):null,v!==null&&(b=hm(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(g=kV,C="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=TV,C="onPointerLeave",x="onPointerEnter",y="pointer"),b=m==null?p:Ag(m),w=v==null?p:Ag(v),p=new g(C,y+"leave",m,n,d),p.target=b,p.relatedTarget=w,C=null,rp(d)===u&&(g=new g(x,y+"enter",v,n,d),g.target=w,g.relatedTarget=b,C=g),b=C,m&&v)t:{for(g=m,x=v,y=0,w=g;w;w=Um(w))y++;for(w=0,C=x;C;C=Um(C))w++;for(;0<y-w;)g=Um(g),y--;for(;0<w-y;)x=Um(x),w--;for(;y--;){if(g===x||x!==null&&g===x.alternate)break t;g=Um(g),x=Um(x)}g=null}else g=null;m!==null&&BV(f,p,m,g,!1),v!==null&&b!==null&&BV(f,b,v,g,!0)}}e:{if(p=u?Ag(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var _=Tze;else if(IV(p))if(T1e)_=Pze;else{_=Dze;var S=Aze}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(_=Ize);if(_&&(_=_(e,u))){j1e(f,_,n,d);break e}S&&S(e,p,u),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&t$(p,"number",p.value)}switch(S=u?Ag(u):window,e){case"focusin":(IV(S)||S.contentEditable==="true")&&(jg=S,h$=u,Ky=null);break;case"focusout":Ky=h$=jg=null;break;case"mousedown":p$=!0;break;case"contextmenu":case"mouseup":case"dragend":p$=!1,MV(f,n,d);break;case"selectionchange":if(Rze)break;case"keydown":case"keyup":MV(f,n,d)}var E;if(E6)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else kg?E1e(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(S1e&&n.locale!=="ko"&&(kg||j!=="onCompositionStart"?j==="onCompositionEnd"&&kg&&(E=_1e()):(zd=d,C6="value"in zd?zd.value:zd.textContent,kg=!0)),S=a5(u,j),0<S.length&&(j=new jV(j,e,null,n,d),f.push({event:j,listeners:S}),E?j.data=E:(E=k1e(n),E!==null&&(j.data=E)))),(E=_ze?Sze(e,n):Eze(e,n))&&(u=a5(u,"onBeforeInput"),0<u.length&&(d=new jV("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}L1e(f,t)})}function Wb(e,t,n){return{instance:e,listener:t,currentTarget:n}}function a5(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Lb(e,n),i!=null&&r.unshift(Wb(e,i,o)),i=Lb(e,t),i!=null&&r.push(Wb(e,i,o))),e=e.return}return r}function Um(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function BV(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,o?(l=Lb(n,i),l!=null&&s.unshift(Wb(n,l,a))):o||(l=Lb(n,i),l!=null&&s.push(Wb(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Bze=/\r\n?/g,Nze=/\u0000|\uFFFD/g;function NV(e){return(typeof e=="string"?e:""+e).replace(Bze,`
`).replace(Nze,"")}function zC(e,t,n){if(t=NV(t),NV(e)!==t&&n)throw Error(ke(425))}function l5(){}var m$=null,g$=null;function v$(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var y$=typeof setTimeout=="function"?setTimeout:void 0,zze=typeof clearTimeout=="function"?clearTimeout:void 0,zV=typeof Promise=="function"?Promise:void 0,Vze=typeof queueMicrotask=="function"?queueMicrotask:typeof zV<"u"?function(e){return zV.resolve(null).then(e).catch(Hze)}:y$;function Hze(e){setTimeout(function(){throw e})}function BD(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),zb(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);zb(t)}function lf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function VV(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var C0=Math.random().toString(36).slice(2),cc="__reactFiber$"+C0,Yb="__reactProps$"+C0,$u="__reactContainer$"+C0,b$="__reactEvents$"+C0,Uze="__reactListeners$"+C0,Wze="__reactHandles$"+C0;function rp(e){var t=e[cc];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$u]||n[cc]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=VV(e);e!==null;){if(n=e[cc])return n;e=VV(e)}return t}e=n,n=e.parentNode}return null}function hw(e){return e=e[cc]||e[$u],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ag(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ke(33))}function xj(e){return e[Yb]||null}var x$=[],Dg=-1;function Xf(e){return{current:e}}function ir(e){0>Dg||(e.current=x$[Dg],x$[Dg]=null,Dg--)}function Hn(e,t){Dg++,x$[Dg]=e.current,e.current=t}var Of={},_i=Xf(Of),Ss=Xf(!1),Lp=Of;function Mv(e,t){var n=e.type.contextTypes;if(!n)return Of;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Es(e){return e=e.childContextTypes,e!=null}function c5(){ir(Ss),ir(_i)}function HV(e,t,n){if(_i.current!==Of)throw Error(ke(168));Hn(_i,t),Hn(Ss,n)}function N1e(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(ke(108,ANe(e)||"Unknown",o));return Rr({},n,r)}function u5(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Of,Lp=_i.current,Hn(_i,e),Hn(Ss,Ss.current),!0}function UV(e,t,n){var r=e.stateNode;if(!r)throw Error(ke(169));n?(e=N1e(e,t,Lp),r.__reactInternalMemoizedMergedChildContext=e,ir(Ss),ir(_i),Hn(_i,e)):ir(Ss),Hn(Ss,n)}var uu=null,wj=!1,ND=!1;function z1e(e){uu===null?uu=[e]:uu.push(e)}function Yze(e){wj=!0,z1e(e)}function Qf(){if(!ND&&uu!==null){ND=!0;var e=0,t=Sn;try{var n=uu;for(Sn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}uu=null,wj=!1}catch(o){throw uu!==null&&(uu=uu.slice(e+1)),f1e(y6,Qf),o}finally{Sn=t,ND=!1}}return null}var Ig=[],Pg=0,d5=null,f5=0,Sa=[],Ea=0,Bp=null,pu=1,mu="";function Oh(e,t){Ig[Pg++]=f5,Ig[Pg++]=d5,d5=e,f5=t}function V1e(e,t,n){Sa[Ea++]=pu,Sa[Ea++]=mu,Sa[Ea++]=Bp,Bp=e;var r=pu;e=mu;var o=32-xl(r)-1;r&=~(1<<o),n+=1;var i=32-xl(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,pu=1<<32-xl(t)+o|n<<o|r,mu=i+e}else pu=1<<i|n<<o|r,mu=e}function j6(e){e.return!==null&&(Oh(e,1),V1e(e,1,0))}function T6(e){for(;e===d5;)d5=Ig[--Pg],Ig[Pg]=null,f5=Ig[--Pg],Ig[Pg]=null;for(;e===Bp;)Bp=Sa[--Ea],Sa[Ea]=null,mu=Sa[--Ea],Sa[Ea]=null,pu=Sa[--Ea],Sa[Ea]=null}var ta=null,Zs=null,br=!1,cl=null;function H1e(e,t){var n=Ia(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function WV(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ta=e,Zs=lf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ta=e,Zs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Bp!==null?{id:pu,overflow:mu}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ia(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ta=e,Zs=null,!0):!1;default:return!1}}function w$(e){return(e.mode&1)!==0&&(e.flags&128)===0}function C$(e){if(br){var t=Zs;if(t){var n=t;if(!WV(e,t)){if(w$(e))throw Error(ke(418));t=lf(n.nextSibling);var r=ta;t&&WV(e,t)?H1e(r,n):(e.flags=e.flags&-4097|2,br=!1,ta=e)}}else{if(w$(e))throw Error(ke(418));e.flags=e.flags&-4097|2,br=!1,ta=e}}}function YV(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ta=e}function VC(e){if(e!==ta)return!1;if(!br)return YV(e),br=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!v$(e.type,e.memoizedProps)),t&&(t=Zs)){if(w$(e))throw U1e(),Error(ke(418));for(;t;)H1e(e,t),t=lf(t.nextSibling)}if(YV(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ke(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Zs=lf(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Zs=null}}else Zs=ta?lf(e.stateNode.nextSibling):null;return!0}function U1e(){for(var e=Zs;e;)e=lf(e.nextSibling)}function Fv(){Zs=ta=null,br=!1}function A6(e){cl===null?cl=[e]:cl.push(e)}var qze=ed.ReactCurrentBatchConfig;function al(e,t){if(e&&e.defaultProps){t=Rr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var h5=Xf(null),p5=null,Og=null,D6=null;function I6(){D6=Og=p5=null}function P6(e){var t=h5.current;ir(h5),e._currentValue=t}function _$(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Jg(e,t){p5=e,D6=Og=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ws=!0),e.firstContext=null)}function za(e){var t=e._currentValue;if(D6!==e)if(e={context:e,memoizedValue:t,next:null},Og===null){if(p5===null)throw Error(ke(308));Og=e,p5.dependencies={lanes:0,firstContext:e}}else Og=Og.next=e;return t}var op=null;function O6(e){op===null?op=[e]:op.push(e)}function W1e(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,O6(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ru(e,r)}function Ru(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Td=!1;function $6(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Y1e(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Cu(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cf(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,tn&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ru(e,n)}return o=r.interleaved,o===null?(t.next=t,O6(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ru(e,n)}function $2(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,b6(e,n)}}function qV(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function m5(e,t,n,r){var o=e.updateQueue;Td=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?i=u:s.next=u,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=o.baseState;s=0,d=u=l=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,g=a;switch(p=t,m=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=Rr({},f,p);break e;case 2:Td=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=o.effects,p===null?o.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,s|=p;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;p=a,a=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(1);if(d===null&&(l=f),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);zp|=s,e.lanes=s,e.memoizedState=f}}function GV(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(ke(191,o));o.call(r)}}}var q1e=new W0e.Component().refs;function S$(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Rr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Cj={isMounted:function(e){return(e=e._reactInternals)?hm(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=qi(),o=df(e),i=Cu(r,o);i.payload=t,n!=null&&(i.callback=n),t=cf(e,i,o),t!==null&&(wl(t,e,o,r),$2(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=qi(),o=df(e),i=Cu(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=cf(e,i,o),t!==null&&(wl(t,e,o,r),$2(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qi(),r=df(e),o=Cu(n,r);o.tag=2,t!=null&&(o.callback=t),t=cf(e,o,r),t!==null&&(wl(t,e,r,n),$2(t,e,r))}};function KV(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Hb(n,r)||!Hb(o,i):!0}function G1e(e,t,n){var r=!1,o=Of,i=t.contextType;return typeof i=="object"&&i!==null?i=za(i):(o=Es(t)?Lp:_i.current,r=t.contextTypes,i=(r=r!=null)?Mv(e,o):Of),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Cj,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function ZV(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Cj.enqueueReplaceState(t,t.state,null)}function E$(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=q1e,$6(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=za(i):(i=Es(t)?Lp:_i.current,o.context=Mv(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(S$(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Cj.enqueueReplaceState(o,o.state,null),m5(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function A1(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ke(309));var r=n.stateNode}if(!r)throw Error(ke(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=o.refs;a===q1e&&(a=o.refs={}),s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(ke(284));if(!n._owner)throw Error(ke(290,e))}return e}function HC(e,t){throw e=Object.prototype.toString.call(t),Error(ke(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function XV(e){var t=e._init;return t(e._payload)}function K1e(e){function t(x,y){if(e){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function n(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function o(x,y){return x=ff(x,y),x.index=0,x.sibling=null,x}function i(x,y,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,y,w,C){return y===null||y.tag!==6?(y=qD(w,x.mode,C),y.return=x,y):(y=o(y,w),y.return=x,y)}function l(x,y,w,C){var _=w.type;return _===Eg?d(x,y,w.props.children,C,w.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===jd&&XV(_)===y.type)?(C=o(y,w.props),C.ref=A1(x,y,w),C.return=x,C):(C=N2(w.type,w.key,w.props,null,x.mode,C),C.ref=A1(x,y,w),C.return=x,C)}function u(x,y,w,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=GD(w,x.mode,C),y.return=x,y):(y=o(y,w.children||[]),y.return=x,y)}function d(x,y,w,C,_){return y===null||y.tag!==7?(y=Cp(w,x.mode,C,_),y.return=x,y):(y=o(y,w),y.return=x,y)}function f(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=qD(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case PC:return w=N2(y.type,y.key,y.props,null,x.mode,w),w.ref=A1(x,null,y),w.return=x,w;case Sg:return y=GD(y,x.mode,w),y.return=x,y;case jd:var C=y._init;return f(x,C(y._payload),w)}if(yy(y)||S1(y))return y=Cp(y,x.mode,w,null),y.return=x,y;HC(x,y)}return null}function p(x,y,w,C){var _=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:a(x,y,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case PC:return w.key===_?l(x,y,w,C):null;case Sg:return w.key===_?u(x,y,w,C):null;case jd:return _=w._init,p(x,y,_(w._payload),C)}if(yy(w)||S1(w))return _!==null?null:d(x,y,w,C,null);HC(x,w)}return null}function m(x,y,w,C,_){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(w)||null,a(y,x,""+C,_);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case PC:return x=x.get(C.key===null?w:C.key)||null,l(y,x,C,_);case Sg:return x=x.get(C.key===null?w:C.key)||null,u(y,x,C,_);case jd:var S=C._init;return m(x,y,w,S(C._payload),_)}if(yy(C)||S1(C))return x=x.get(w)||null,d(y,x,C,_,null);HC(y,C)}return null}function v(x,y,w,C){for(var _=null,S=null,E=y,j=y=0,k=null;E!==null&&j<w.length;j++){E.index>j?(k=E,E=null):k=E.sibling;var T=p(x,E,w[j],C);if(T===null){E===null&&(E=k);break}e&&E&&T.alternate===null&&t(x,E),y=i(T,y,j),S===null?_=T:S.sibling=T,S=T,E=k}if(j===w.length)return n(x,E),br&&Oh(x,j),_;if(E===null){for(;j<w.length;j++)E=f(x,w[j],C),E!==null&&(y=i(E,y,j),S===null?_=E:S.sibling=E,S=E);return br&&Oh(x,j),_}for(E=r(x,E);j<w.length;j++)k=m(E,x,j,w[j],C),k!==null&&(e&&k.alternate!==null&&E.delete(k.key===null?j:k.key),y=i(k,y,j),S===null?_=k:S.sibling=k,S=k);return e&&E.forEach(function(A){return t(x,A)}),br&&Oh(x,j),_}function g(x,y,w,C){var _=S1(w);if(typeof _!="function")throw Error(ke(150));if(w=_.call(w),w==null)throw Error(ke(151));for(var S=_=null,E=y,j=y=0,k=null,T=w.next();E!==null&&!T.done;j++,T=w.next()){E.index>j?(k=E,E=null):k=E.sibling;var A=p(x,E,T.value,C);if(A===null){E===null&&(E=k);break}e&&E&&A.alternate===null&&t(x,E),y=i(A,y,j),S===null?_=A:S.sibling=A,S=A,E=k}if(T.done)return n(x,E),br&&Oh(x,j),_;if(E===null){for(;!T.done;j++,T=w.next())T=f(x,T.value,C),T!==null&&(y=i(T,y,j),S===null?_=T:S.sibling=T,S=T);return br&&Oh(x,j),_}for(E=r(x,E);!T.done;j++,T=w.next())T=m(E,x,j,T.value,C),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?j:T.key),y=i(T,y,j),S===null?_=T:S.sibling=T,S=T);return e&&E.forEach(function(D){return t(x,D)}),br&&Oh(x,j),_}function b(x,y,w,C){if(typeof w=="object"&&w!==null&&w.type===Eg&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case PC:e:{for(var _=w.key,S=y;S!==null;){if(S.key===_){if(_=w.type,_===Eg){if(S.tag===7){n(x,S.sibling),y=o(S,w.props.children),y.return=x,x=y;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===jd&&XV(_)===S.type){n(x,S.sibling),y=o(S,w.props),y.ref=A1(x,S,w),y.return=x,x=y;break e}n(x,S);break}else t(x,S);S=S.sibling}w.type===Eg?(y=Cp(w.props.children,x.mode,C,w.key),y.return=x,x=y):(C=N2(w.type,w.key,w.props,null,x.mode,C),C.ref=A1(x,y,w),C.return=x,x=C)}return s(x);case Sg:e:{for(S=w.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(x,y.sibling),y=o(y,w.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else t(x,y);y=y.sibling}y=GD(w,x.mode,C),y.return=x,x=y}return s(x);case jd:return S=w._init,b(x,y,S(w._payload),C)}if(yy(w))return v(x,y,w,C);if(S1(w))return g(x,y,w,C);HC(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(x,y.sibling),y=o(y,w),y.return=x,x=y):(n(x,y),y=qD(w,x.mode,C),y.return=x,x=y),s(x)):n(x,y)}return b}var Lv=K1e(!0),Z1e=K1e(!1),pw={},wc=Xf(pw),qb=Xf(pw),Gb=Xf(pw);function ip(e){if(e===pw)throw Error(ke(174));return e}function R6(e,t){switch(Hn(Gb,t),Hn(qb,e),Hn(wc,pw),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:r$(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=r$(t,e)}ir(wc),Hn(wc,t)}function Bv(){ir(wc),ir(qb),ir(Gb)}function X1e(e){ip(Gb.current);var t=ip(wc.current),n=r$(t,e.type);t!==n&&(Hn(qb,e),Hn(wc,n))}function M6(e){qb.current===e&&(ir(wc),ir(qb))}var jr=Xf(0);function g5(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zD=[];function F6(){for(var e=0;e<zD.length;e++)zD[e]._workInProgressVersionPrimary=null;zD.length=0}var R2=ed.ReactCurrentDispatcher,VD=ed.ReactCurrentBatchConfig,Np=0,Pr=null,xo=null,Mo=null,v5=!1,Zy=!1,Kb=0,Gze=0;function ci(){throw Error(ke(321))}function L6(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!El(e[n],t[n]))return!1;return!0}function B6(e,t,n,r,o,i){if(Np=i,Pr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R2.current=e===null||e.memoizedState===null?Qze:Jze,e=n(r,o),Zy){i=0;do{if(Zy=!1,Kb=0,25<=i)throw Error(ke(301));i+=1,Mo=xo=null,t.updateQueue=null,R2.current=eVe,e=n(r,o)}while(Zy)}if(R2.current=y5,t=xo!==null&&xo.next!==null,Np=0,Mo=xo=Pr=null,v5=!1,t)throw Error(ke(300));return e}function N6(){var e=Kb!==0;return Kb=0,e}function ec(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mo===null?Pr.memoizedState=Mo=e:Mo=Mo.next=e,Mo}function Va(){if(xo===null){var e=Pr.alternate;e=e!==null?e.memoizedState:null}else e=xo.next;var t=Mo===null?Pr.memoizedState:Mo.next;if(t!==null)Mo=t,xo=e;else{if(e===null)throw Error(ke(310));xo=e,e={memoizedState:xo.memoizedState,baseState:xo.baseState,baseQueue:xo.baseQueue,queue:xo.queue,next:null},Mo===null?Pr.memoizedState=Mo=e:Mo=Mo.next=e}return Mo}function Zb(e,t){return typeof t=="function"?t(e):t}function HD(e){var t=Va(),n=t.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=e;var r=xo,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,l=null,u=i;do{var d=u.lane;if((Np&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Pr.lanes|=d,zp|=d}u=u.next}while(u!==null&&u!==i);l===null?s=r:l.next=a,El(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,Pr.lanes|=i,zp|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function UD(e){var t=Va(),n=t.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);El(i,t.memoizedState)||(ws=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Q1e(){}function J1e(e,t){var n=Pr,r=Va(),o=t(),i=!El(r.memoizedState,o);if(i&&(r.memoizedState=o,ws=!0),r=r.queue,z6(nye.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Mo!==null&&Mo.memoizedState.tag&1){if(n.flags|=2048,Xb(9,tye.bind(null,n,r,o,t),void 0,null),zo===null)throw Error(ke(349));Np&30||eye(n,t,o)}return o}function eye(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Pr.updateQueue,t===null?(t={lastEffect:null,stores:null},Pr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function tye(e,t,n,r){t.value=n,t.getSnapshot=r,rye(t)&&oye(e)}function nye(e,t,n){return n(function(){rye(t)&&oye(e)})}function rye(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!El(e,n)}catch{return!0}}function oye(e){var t=Ru(e,1);t!==null&&wl(t,e,1,-1)}function QV(e){var t=ec();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zb,lastRenderedState:e},t.queue=e,e=e.dispatch=Xze.bind(null,Pr,e),[t.memoizedState,e]}function Xb(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Pr.updateQueue,t===null?(t={lastEffect:null,stores:null},Pr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function iye(){return Va().memoizedState}function M2(e,t,n,r){var o=ec();Pr.flags|=e,o.memoizedState=Xb(1|t,n,void 0,r===void 0?null:r)}function _j(e,t,n,r){var o=Va();r=r===void 0?null:r;var i=void 0;if(xo!==null){var s=xo.memoizedState;if(i=s.destroy,r!==null&&L6(r,s.deps)){o.memoizedState=Xb(t,n,i,r);return}}Pr.flags|=e,o.memoizedState=Xb(1|t,n,i,r)}function JV(e,t){return M2(8390656,8,e,t)}function z6(e,t){return _j(2048,8,e,t)}function sye(e,t){return _j(4,2,e,t)}function aye(e,t){return _j(4,4,e,t)}function lye(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cye(e,t,n){return n=n!=null?n.concat([e]):null,_j(4,4,lye.bind(null,t,e),n)}function V6(){}function uye(e,t){var n=Va();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&L6(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function dye(e,t){var n=Va();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&L6(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function fye(e,t,n){return Np&21?(El(n,t)||(n=m1e(),Pr.lanes|=n,zp|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n)}function Kze(e,t){var n=Sn;Sn=n!==0&&4>n?n:4,e(!0);var r=VD.transition;VD.transition={};try{e(!1),t()}finally{Sn=n,VD.transition=r}}function hye(){return Va().memoizedState}function Zze(e,t,n){var r=df(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},pye(e))mye(t,n);else if(n=W1e(e,t,n,r),n!==null){var o=qi();wl(n,e,r,o),gye(n,t,r)}}function Xze(e,t,n){var r=df(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(pye(e))mye(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,El(a,s)){var l=t.interleaved;l===null?(o.next=o,O6(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=W1e(e,t,o,r),n!==null&&(o=qi(),wl(n,e,r,o),gye(n,t,r))}}function pye(e){var t=e.alternate;return e===Pr||t!==null&&t===Pr}function mye(e,t){Zy=v5=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gye(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,b6(e,n)}}var y5={readContext:za,useCallback:ci,useContext:ci,useEffect:ci,useImperativeHandle:ci,useInsertionEffect:ci,useLayoutEffect:ci,useMemo:ci,useReducer:ci,useRef:ci,useState:ci,useDebugValue:ci,useDeferredValue:ci,useTransition:ci,useMutableSource:ci,useSyncExternalStore:ci,useId:ci,unstable_isNewReconciler:!1},Qze={readContext:za,useCallback:function(e,t){return ec().memoizedState=[e,t===void 0?null:t],e},useContext:za,useEffect:JV,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,M2(4194308,4,lye.bind(null,t,e),n)},useLayoutEffect:function(e,t){return M2(4194308,4,e,t)},useInsertionEffect:function(e,t){return M2(4,2,e,t)},useMemo:function(e,t){var n=ec();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ec();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Zze.bind(null,Pr,e),[r.memoizedState,e]},useRef:function(e){var t=ec();return e={current:e},t.memoizedState=e},useState:QV,useDebugValue:V6,useDeferredValue:function(e){return ec().memoizedState=e},useTransition:function(){var e=QV(!1),t=e[0];return e=Kze.bind(null,e[1]),ec().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Pr,o=ec();if(br){if(n===void 0)throw Error(ke(407));n=n()}else{if(n=t(),zo===null)throw Error(ke(349));Np&30||eye(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,JV(nye.bind(null,r,i,e),[e]),r.flags|=2048,Xb(9,tye.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ec(),t=zo.identifierPrefix;if(br){var n=mu,r=pu;n=(r&~(1<<32-xl(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Kb++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Gze++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Jze={readContext:za,useCallback:uye,useContext:za,useEffect:z6,useImperativeHandle:cye,useInsertionEffect:sye,useLayoutEffect:aye,useMemo:dye,useReducer:HD,useRef:iye,useState:function(){return HD(Zb)},useDebugValue:V6,useDeferredValue:function(e){var t=Va();return fye(t,xo.memoizedState,e)},useTransition:function(){var e=HD(Zb)[0],t=Va().memoizedState;return[e,t]},useMutableSource:Q1e,useSyncExternalStore:J1e,useId:hye,unstable_isNewReconciler:!1},eVe={readContext:za,useCallback:uye,useContext:za,useEffect:z6,useImperativeHandle:cye,useInsertionEffect:sye,useLayoutEffect:aye,useMemo:dye,useReducer:UD,useRef:iye,useState:function(){return UD(Zb)},useDebugValue:V6,useDeferredValue:function(e){var t=Va();return xo===null?t.memoizedState=e:fye(t,xo.memoizedState,e)},useTransition:function(){var e=UD(Zb)[0],t=Va().memoizedState;return[e,t]},useMutableSource:Q1e,useSyncExternalStore:J1e,useId:hye,unstable_isNewReconciler:!1};function Nv(e,t){try{var n="",r=t;do n+=TNe(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function WD(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function k$(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var tVe=typeof WeakMap=="function"?WeakMap:Map;function vye(e,t,n){n=Cu(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){x5||(x5=!0,M$=r),k$(e,t)},n}function yye(e,t,n){n=Cu(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){k$(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){k$(e,t),typeof r!="function"&&(uf===null?uf=new Set([this]):uf.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function eH(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new tVe;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=mVe.bind(null,e,t,n),t.then(e,e))}function tH(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nH(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Cu(-1,1),t.tag=2,cf(n,t,1))),n.lanes|=1),e)}var nVe=ed.ReactCurrentOwner,ws=!1;function Ni(e,t,n,r){t.child=e===null?Z1e(t,null,n,r):Lv(t,e.child,n,r)}function rH(e,t,n,r,o){n=n.render;var i=t.ref;return Jg(t,o),r=B6(e,t,n,r,i,o),n=N6(),e!==null&&!ws?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Mu(e,t,o)):(br&&n&&j6(t),t.flags|=1,Ni(e,t,r,o),t.child)}function oH(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!Z6(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,bye(e,t,i,r,o)):(e=N2(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Hb,n(s,r)&&e.ref===t.ref)return Mu(e,t,o)}return t.flags|=1,e=ff(i,r),e.ref=t.ref,e.return=t,t.child=e}function bye(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Hb(i,r)&&e.ref===t.ref)if(ws=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(ws=!0);else return t.lanes=e.lanes,Mu(e,t,o)}return j$(e,t,n,r,o)}function xye(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Hn(Rg,zs),zs|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Hn(Rg,zs),zs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Hn(Rg,zs),zs|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Hn(Rg,zs),zs|=r;return Ni(e,t,o,n),t.child}function wye(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function j$(e,t,n,r,o){var i=Es(n)?Lp:_i.current;return i=Mv(t,i),Jg(t,o),n=B6(e,t,n,r,i,o),r=N6(),e!==null&&!ws?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Mu(e,t,o)):(br&&r&&j6(t),t.flags|=1,Ni(e,t,n,o),t.child)}function iH(e,t,n,r,o){if(Es(n)){var i=!0;u5(t)}else i=!1;if(Jg(t,o),t.stateNode===null)F2(e,t),G1e(t,n,r),E$(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=za(u):(u=Es(n)?Lp:_i.current,u=Mv(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&ZV(t,s,r,u),Td=!1;var p=t.memoizedState;s.state=p,m5(t,r,s,o),l=t.memoizedState,a!==r||p!==l||Ss.current||Td?(typeof d=="function"&&(S$(t,n,d,r),l=t.memoizedState),(a=Td||KV(t,n,a,r,p,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Y1e(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:al(t.type,a),s.props=u,f=t.pendingProps,p=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=za(l):(l=Es(n)?Lp:_i.current,l=Mv(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||p!==l)&&ZV(t,s,r,l),Td=!1,p=t.memoizedState,s.state=p,m5(t,r,s,o);var v=t.memoizedState;a!==f||p!==v||Ss.current||Td?(typeof m=="function"&&(S$(t,n,m,r),v=t.memoizedState),(u=Td||KV(t,n,u,r,p,v,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return T$(e,t,n,r,i,o)}function T$(e,t,n,r,o,i){wye(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&UV(t,n,!1),Mu(e,t,i);r=t.stateNode,nVe.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Lv(t,e.child,null,i),t.child=Lv(t,null,a,i)):Ni(e,t,a,i),t.memoizedState=r.state,o&&UV(t,n,!0),t.child}function Cye(e){var t=e.stateNode;t.pendingContext?HV(e,t.pendingContext,t.pendingContext!==t.context):t.context&&HV(e,t.context,!1),R6(e,t.containerInfo)}function sH(e,t,n,r,o){return Fv(),A6(o),t.flags|=256,Ni(e,t,n,r),t.child}var A$={dehydrated:null,treeContext:null,retryLane:0};function D$(e){return{baseLanes:e,cachePool:null,transitions:null}}function _ye(e,t,n){var r=t.pendingProps,o=jr.current,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Hn(jr,o&1),e===null)return C$(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=kj(s,r,0,null),e=Cp(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=D$(n),t.memoizedState=A$,e):H6(t,s));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return rVe(e,t,s,r,a,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ff(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=ff(a,i):(i=Cp(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?D$(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=A$,r}return i=e.child,e=i.sibling,r=ff(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function H6(e,t){return t=kj({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function UC(e,t,n,r){return r!==null&&A6(r),Lv(t,e.child,null,n),e=H6(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function rVe(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=WD(Error(ke(422))),UC(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=kj({mode:"visible",children:r.children},o,0,null),i=Cp(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Lv(t,e.child,null,s),t.child.memoizedState=D$(s),t.memoizedState=A$,i);if(!(t.mode&1))return UC(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(ke(419)),r=WD(i,r,void 0),UC(e,t,s,r)}if(a=(s&e.childLanes)!==0,ws||a){if(r=zo,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Ru(e,o),wl(r,e,o,-1))}return K6(),r=WD(Error(ke(421))),UC(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=gVe.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Zs=lf(o.nextSibling),ta=t,br=!0,cl=null,e!==null&&(Sa[Ea++]=pu,Sa[Ea++]=mu,Sa[Ea++]=Bp,pu=e.id,mu=e.overflow,Bp=t),t=H6(t,r.children),t.flags|=4096,t)}function aH(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),_$(e.return,t,n)}function YD(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Sye(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Ni(e,t,r.children,n),r=jr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&aH(e,n,t);else if(e.tag===19)aH(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Hn(jr,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&g5(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),YD(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&g5(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}YD(t,!0,n,null,i);break;case"together":YD(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function F2(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mu(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zp|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ke(153));if(t.child!==null){for(e=t.child,n=ff(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ff(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function oVe(e,t,n){switch(t.tag){case 3:Cye(t),Fv();break;case 5:X1e(t);break;case 1:Es(t.type)&&u5(t);break;case 4:R6(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Hn(h5,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Hn(jr,jr.current&1),t.flags|=128,null):n&t.child.childLanes?_ye(e,t,n):(Hn(jr,jr.current&1),e=Mu(e,t,n),e!==null?e.sibling:null);Hn(jr,jr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Sye(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Hn(jr,jr.current),r)break;return null;case 22:case 23:return t.lanes=0,xye(e,t,n)}return Mu(e,t,n)}var Eye,I$,kye,jye;Eye=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};I$=function(){};kye=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,ip(wc.current);var i=null;switch(n){case"input":o=J3(e,o),r=J3(e,r),i=[];break;case"select":o=Rr({},o,{value:void 0}),r=Rr({},r,{value:void 0}),i=[];break;case"textarea":o=n$(e,o),r=n$(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=l5)}o$(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mb.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Mb.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&tr("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};jye=function(e,t,n,r){n!==r&&(t.flags|=4)};function D1(e,t){if(!br)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ui(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function iVe(e,t,n){var r=t.pendingProps;switch(T6(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ui(t),null;case 1:return Es(t.type)&&c5(),ui(t),null;case 3:return r=t.stateNode,Bv(),ir(Ss),ir(_i),F6(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(VC(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,cl!==null&&(B$(cl),cl=null))),I$(e,t),ui(t),null;case 5:M6(t);var o=ip(Gb.current);if(n=t.type,e!==null&&t.stateNode!=null)kye(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ke(166));return ui(t),null}if(e=ip(wc.current),VC(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[cc]=t,r[Yb]=i,e=(t.mode&1)!==0,n){case"dialog":tr("cancel",r),tr("close",r);break;case"iframe":case"object":case"embed":tr("load",r);break;case"video":case"audio":for(o=0;o<xy.length;o++)tr(xy[o],r);break;case"source":tr("error",r);break;case"img":case"image":case"link":tr("error",r),tr("load",r);break;case"details":tr("toggle",r);break;case"input":gV(r,i),tr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},tr("invalid",r);break;case"textarea":yV(r,i),tr("invalid",r)}o$(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&zC(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&zC(r.textContent,a,e),o=["children",""+a]):Mb.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&tr("scroll",r)}switch(n){case"input":OC(r),vV(r,i,!0);break;case"textarea":OC(r),bV(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=l5)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=e1e(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[cc]=t,e[Yb]=r,Eye(e,t,!1,!1),t.stateNode=e;e:{switch(s=i$(n,r),n){case"dialog":tr("cancel",e),tr("close",e),o=r;break;case"iframe":case"object":case"embed":tr("load",e),o=r;break;case"video":case"audio":for(o=0;o<xy.length;o++)tr(xy[o],e);o=r;break;case"source":tr("error",e),o=r;break;case"img":case"image":case"link":tr("error",e),tr("load",e),o=r;break;case"details":tr("toggle",e),o=r;break;case"input":gV(e,r),o=J3(e,r),tr("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Rr({},r,{value:void 0}),tr("invalid",e);break;case"textarea":yV(e,r),o=n$(e,r),tr("invalid",e);break;default:o=r}o$(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?r1e(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&t1e(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Fb(e,l):typeof l=="number"&&Fb(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Mb.hasOwnProperty(i)?l!=null&&i==="onScroll"&&tr("scroll",e):l!=null&&h6(e,i,l,s))}switch(n){case"input":OC(e),vV(e,r,!1);break;case"textarea":OC(e),bV(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Pf(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Kg(e,!!r.multiple,i,!1):r.defaultValue!=null&&Kg(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=l5)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ui(t),null;case 6:if(e&&t.stateNode!=null)jye(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ke(166));if(n=ip(Gb.current),ip(wc.current),VC(t)){if(r=t.stateNode,n=t.memoizedProps,r[cc]=t,(i=r.nodeValue!==n)&&(e=ta,e!==null))switch(e.tag){case 3:zC(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zC(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cc]=t,t.stateNode=r}return ui(t),null;case 13:if(ir(jr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(br&&Zs!==null&&t.mode&1&&!(t.flags&128))U1e(),Fv(),t.flags|=98560,i=!1;else if(i=VC(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(ke(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ke(317));i[cc]=t}else Fv(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ui(t),i=!1}else cl!==null&&(B$(cl),cl=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||jr.current&1?So===0&&(So=3):K6())),t.updateQueue!==null&&(t.flags|=4),ui(t),null);case 4:return Bv(),I$(e,t),e===null&&Ub(t.stateNode.containerInfo),ui(t),null;case 10:return P6(t.type._context),ui(t),null;case 17:return Es(t.type)&&c5(),ui(t),null;case 19:if(ir(jr),i=t.memoizedState,i===null)return ui(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)D1(i,!1);else{if(So!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=g5(e),s!==null){for(t.flags|=128,D1(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Hn(jr,jr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Gr()>zv&&(t.flags|=128,r=!0,D1(i,!1),t.lanes=4194304)}else{if(!r)if(e=g5(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),D1(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!br)return ui(t),null}else 2*Gr()-i.renderingStartTime>zv&&n!==1073741824&&(t.flags|=128,r=!0,D1(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Gr(),t.sibling=null,n=jr.current,Hn(jr,r?n&1|2:n&1),t):(ui(t),null);case 22:case 23:return G6(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?zs&1073741824&&(ui(t),t.subtreeFlags&6&&(t.flags|=8192)):ui(t),null;case 24:return null;case 25:return null}throw Error(ke(156,t.tag))}function sVe(e,t){switch(T6(t),t.tag){case 1:return Es(t.type)&&c5(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bv(),ir(Ss),ir(_i),F6(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return M6(t),null;case 13:if(ir(jr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ke(340));Fv()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ir(jr),null;case 4:return Bv(),null;case 10:return P6(t.type._context),null;case 22:case 23:return G6(),null;case 24:return null;default:return null}}var WC=!1,yi=!1,aVe=typeof WeakSet=="function"?WeakSet:Set,Be=null;function $g(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fr(e,t,r)}else n.current=null}function P$(e,t,n){try{n()}catch(r){Fr(e,t,r)}}var lH=!1;function lVe(e,t){if(m$=i5,e=I1e(),k6(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||o!==0&&f.nodeType!==3||(a=s+o),f!==i||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++u===o&&(a=s),p===i&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(g$={focusedElem:e,selectionRange:n},i5=!1,Be=t;Be!==null;)if(t=Be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Be=e;else for(;Be!==null;){t=Be;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,b=v.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:al(t.type,g),b);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ke(163))}}catch(C){Fr(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,Be=e;break}Be=t.return}return v=lH,lH=!1,v}function Xy(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&P$(t,n,i)}o=o.next}while(o!==r)}}function Sj(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function O$(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Tye(e){var t=e.alternate;t!==null&&(e.alternate=null,Tye(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cc],delete t[Yb],delete t[b$],delete t[Uze],delete t[Wze])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Aye(e){return e.tag===5||e.tag===3||e.tag===4}function cH(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Aye(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $$(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=l5));else if(r!==4&&(e=e.child,e!==null))for($$(e,t,n),e=e.sibling;e!==null;)$$(e,t,n),e=e.sibling}function R$(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(R$(e,t,n),e=e.sibling;e!==null;)R$(e,t,n),e=e.sibling}var Wo=null,ll=!1;function md(e,t,n){for(n=n.child;n!==null;)Dye(e,t,n),n=n.sibling}function Dye(e,t,n){if(xc&&typeof xc.onCommitFiberUnmount=="function")try{xc.onCommitFiberUnmount(gj,n)}catch{}switch(n.tag){case 5:yi||$g(n,t);case 6:var r=Wo,o=ll;Wo=null,md(e,t,n),Wo=r,ll=o,Wo!==null&&(ll?(e=Wo,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Wo.removeChild(n.stateNode));break;case 18:Wo!==null&&(ll?(e=Wo,n=n.stateNode,e.nodeType===8?BD(e.parentNode,n):e.nodeType===1&&BD(e,n),zb(e)):BD(Wo,n.stateNode));break;case 4:r=Wo,o=ll,Wo=n.stateNode.containerInfo,ll=!0,md(e,t,n),Wo=r,ll=o;break;case 0:case 11:case 14:case 15:if(!yi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&P$(n,t,s),o=o.next}while(o!==r)}md(e,t,n);break;case 1:if(!yi&&($g(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Fr(n,t,a)}md(e,t,n);break;case 21:md(e,t,n);break;case 22:n.mode&1?(yi=(r=yi)||n.memoizedState!==null,md(e,t,n),yi=r):md(e,t,n);break;default:md(e,t,n)}}function uH(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new aVe),t.forEach(function(r){var o=vVe.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function rl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Wo=a.stateNode,ll=!1;break e;case 3:Wo=a.stateNode.containerInfo,ll=!0;break e;case 4:Wo=a.stateNode.containerInfo,ll=!0;break e}a=a.return}if(Wo===null)throw Error(ke(160));Dye(i,s,o),Wo=null,ll=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(u){Fr(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Iye(t,e),t=t.sibling}function Iye(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rl(t,e),Wl(e),r&4){try{Xy(3,e,e.return),Sj(3,e)}catch(g){Fr(e,e.return,g)}try{Xy(5,e,e.return)}catch(g){Fr(e,e.return,g)}}break;case 1:rl(t,e),Wl(e),r&512&&n!==null&&$g(n,n.return);break;case 5:if(rl(t,e),Wl(e),r&512&&n!==null&&$g(n,n.return),e.flags&32){var o=e.stateNode;try{Fb(o,"")}catch(g){Fr(e,e.return,g)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Q0e(o,i),i$(a,s);var u=i$(a,i);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?r1e(o,f):d==="dangerouslySetInnerHTML"?t1e(o,f):d==="children"?Fb(o,f):h6(o,d,f,u)}switch(a){case"input":e$(o,i);break;case"textarea":J0e(o,i);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Kg(o,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?Kg(o,!!i.multiple,i.defaultValue,!0):Kg(o,!!i.multiple,i.multiple?[]:"",!1))}o[Yb]=i}catch(g){Fr(e,e.return,g)}}break;case 6:if(rl(t,e),Wl(e),r&4){if(e.stateNode===null)throw Error(ke(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(g){Fr(e,e.return,g)}}break;case 3:if(rl(t,e),Wl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zb(t.containerInfo)}catch(g){Fr(e,e.return,g)}break;case 4:rl(t,e),Wl(e);break;case 13:rl(t,e),Wl(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Y6=Gr())),r&4&&uH(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(yi=(u=yi)||d,rl(t,e),yi=u):rl(t,e),Wl(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Be=e,d=e.child;d!==null;){for(f=Be=d;Be!==null;){switch(p=Be,m=p.child,p.tag){case 0:case 11:case 14:case 15:Xy(4,p,p.return);break;case 1:$g(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Fr(r,n,g)}}break;case 5:$g(p,p.return);break;case 22:if(p.memoizedState!==null){fH(f);continue}}m!==null?(m.return=p,Be=m):fH(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{o=f.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=n1e("display",s))}catch(g){Fr(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Fr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:rl(t,e),Wl(e),r&4&&uH(e);break;case 21:break;default:rl(t,e),Wl(e)}}function Wl(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Aye(n)){var r=n;break e}n=n.return}throw Error(ke(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Fb(o,""),r.flags&=-33);var i=cH(e);R$(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=cH(e);$$(e,a,s);break;default:throw Error(ke(161))}}catch(l){Fr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cVe(e,t,n){Be=e,Pye(e)}function Pye(e,t,n){for(var r=(e.mode&1)!==0;Be!==null;){var o=Be,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||WC;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||yi;a=WC;var u=yi;if(WC=s,(yi=l)&&!u)for(Be=o;Be!==null;)s=Be,l=s.child,s.tag===22&&s.memoizedState!==null?hH(o):l!==null?(l.return=s,Be=l):hH(o);for(;i!==null;)Be=i,Pye(i),i=i.sibling;Be=o,WC=a,yi=u}dH(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,Be=i):dH(e)}}function dH(e){for(;Be!==null;){var t=Be;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:yi||Sj(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!yi)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:al(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&GV(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}GV(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&zb(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ke(163))}yi||t.flags&512&&O$(t)}catch(p){Fr(t,t.return,p)}}if(t===e){Be=null;break}if(n=t.sibling,n!==null){n.return=t.return,Be=n;break}Be=t.return}}function fH(e){for(;Be!==null;){var t=Be;if(t===e){Be=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Be=n;break}Be=t.return}}function hH(e){for(;Be!==null;){var t=Be;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Sj(4,t)}catch(l){Fr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){Fr(t,o,l)}}var i=t.return;try{O$(t)}catch(l){Fr(t,i,l)}break;case 5:var s=t.return;try{O$(t)}catch(l){Fr(t,s,l)}}}catch(l){Fr(t,t.return,l)}if(t===e){Be=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Be=a;break}Be=t.return}}var uVe=Math.ceil,b5=ed.ReactCurrentDispatcher,U6=ed.ReactCurrentOwner,Ra=ed.ReactCurrentBatchConfig,tn=0,zo=null,lo=null,Xo=0,zs=0,Rg=Xf(0),So=0,Qb=null,zp=0,Ej=0,W6=0,Qy=null,ms=null,Y6=0,zv=1/0,au=null,x5=!1,M$=null,uf=null,YC=!1,Vd=null,w5=0,Jy=0,F$=null,L2=-1,B2=0;function qi(){return tn&6?Gr():L2!==-1?L2:L2=Gr()}function df(e){return e.mode&1?tn&2&&Xo!==0?Xo&-Xo:qze.transition!==null?(B2===0&&(B2=m1e()),B2):(e=Sn,e!==0||(e=window.event,e=e===void 0?16:C1e(e.type)),e):1}function wl(e,t,n,r){if(50<Jy)throw Jy=0,F$=null,Error(ke(185));dw(e,n,r),(!(tn&2)||e!==zo)&&(e===zo&&(!(tn&2)&&(Ej|=n),So===4&&Fd(e,Xo)),ks(e,r),n===1&&tn===0&&!(t.mode&1)&&(zv=Gr()+500,wj&&Qf()))}function ks(e,t){var n=e.callbackNode;qNe(e,t);var r=o5(e,e===zo?Xo:0);if(r===0)n!==null&&CV(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&CV(n),t===1)e.tag===0?Yze(pH.bind(null,e)):z1e(pH.bind(null,e)),Vze(function(){!(tn&6)&&Qf()}),n=null;else{switch(g1e(r)){case 1:n=y6;break;case 4:n=h1e;break;case 16:n=r5;break;case 536870912:n=p1e;break;default:n=r5}n=Nye(n,Oye.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Oye(e,t){if(L2=-1,B2=0,tn&6)throw Error(ke(327));var n=e.callbackNode;if(ev()&&e.callbackNode!==n)return null;var r=o5(e,e===zo?Xo:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=C5(e,r);else{t=r;var o=tn;tn|=2;var i=Rye();(zo!==e||Xo!==t)&&(au=null,zv=Gr()+500,wp(e,t));do try{hVe();break}catch(a){$ye(e,a)}while(1);I6(),b5.current=i,tn=o,lo!==null?t=0:(zo=null,Xo=0,t=So)}if(t!==0){if(t===2&&(o=u$(e),o!==0&&(r=o,t=L$(e,o))),t===1)throw n=Qb,wp(e,0),Fd(e,r),ks(e,Gr()),n;if(t===6)Fd(e,r);else{if(o=e.current.alternate,!(r&30)&&!dVe(o)&&(t=C5(e,r),t===2&&(i=u$(e),i!==0&&(r=i,t=L$(e,i))),t===1))throw n=Qb,wp(e,0),Fd(e,r),ks(e,Gr()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(ke(345));case 2:$h(e,ms,au);break;case 3:if(Fd(e,r),(r&130023424)===r&&(t=Y6+500-Gr(),10<t)){if(o5(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){qi(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=y$($h.bind(null,e,ms,au),t);break}$h(e,ms,au);break;case 4:if(Fd(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-xl(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=Gr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uVe(r/1960))-r,10<r){e.timeoutHandle=y$($h.bind(null,e,ms,au),r);break}$h(e,ms,au);break;case 5:$h(e,ms,au);break;default:throw Error(ke(329))}}}return ks(e,Gr()),e.callbackNode===n?Oye.bind(null,e):null}function L$(e,t){var n=Qy;return e.current.memoizedState.isDehydrated&&(wp(e,t).flags|=256),e=C5(e,t),e!==2&&(t=ms,ms=n,t!==null&&B$(t)),e}function B$(e){ms===null?ms=e:ms.push.apply(ms,e)}function dVe(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!El(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fd(e,t){for(t&=~W6,t&=~Ej,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xl(t),r=1<<n;e[n]=-1,t&=~r}}function pH(e){if(tn&6)throw Error(ke(327));ev();var t=o5(e,0);if(!(t&1))return ks(e,Gr()),null;var n=C5(e,t);if(e.tag!==0&&n===2){var r=u$(e);r!==0&&(t=r,n=L$(e,r))}if(n===1)throw n=Qb,wp(e,0),Fd(e,t),ks(e,Gr()),n;if(n===6)throw Error(ke(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$h(e,ms,au),ks(e,Gr()),null}function q6(e,t){var n=tn;tn|=1;try{return e(t)}finally{tn=n,tn===0&&(zv=Gr()+500,wj&&Qf())}}function Vp(e){Vd!==null&&Vd.tag===0&&!(tn&6)&&ev();var t=tn;tn|=1;var n=Ra.transition,r=Sn;try{if(Ra.transition=null,Sn=1,e)return e()}finally{Sn=r,Ra.transition=n,tn=t,!(tn&6)&&Qf()}}function G6(){zs=Rg.current,ir(Rg)}function wp(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,zze(n)),lo!==null)for(n=lo.return;n!==null;){var r=n;switch(T6(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&c5();break;case 3:Bv(),ir(Ss),ir(_i),F6();break;case 5:M6(r);break;case 4:Bv();break;case 13:ir(jr);break;case 19:ir(jr);break;case 10:P6(r.type._context);break;case 22:case 23:G6()}n=n.return}if(zo=e,lo=e=ff(e.current,null),Xo=zs=t,So=0,Qb=null,W6=Ej=zp=0,ms=Qy=null,op!==null){for(t=0;t<op.length;t++)if(n=op[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}op=null}return e}function $ye(e,t){do{var n=lo;try{if(I6(),R2.current=y5,v5){for(var r=Pr.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}v5=!1}if(Np=0,Mo=xo=Pr=null,Zy=!1,Kb=0,U6.current=null,n===null||n.return===null){So=1,Qb=t,lo=null;break}e:{var i=e,s=n.return,a=n,l=t;if(t=Xo,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=tH(s);if(m!==null){m.flags&=-257,nH(m,s,a,i,t),m.mode&1&&eH(i,u,t),t=m,l=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(l),t.updateQueue=g}else v.add(l);break e}else{if(!(t&1)){eH(i,u,t),K6();break e}l=Error(ke(426))}}else if(br&&a.mode&1){var b=tH(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),nH(b,s,a,i,t),A6(Nv(l,a));break e}}i=l=Nv(l,a),So!==4&&(So=2),Qy===null?Qy=[i]:Qy.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=vye(i,l,t);qV(i,x);break e;case 1:a=l;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(uf===null||!uf.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var C=yye(i,a,t);qV(i,C);break e}}i=i.return}while(i!==null)}Fye(n)}catch(_){t=_,lo===n&&n!==null&&(lo=n=n.return);continue}break}while(1)}function Rye(){var e=b5.current;return b5.current=y5,e===null?y5:e}function K6(){(So===0||So===3||So===2)&&(So=4),zo===null||!(zp&268435455)&&!(Ej&268435455)||Fd(zo,Xo)}function C5(e,t){var n=tn;tn|=2;var r=Rye();(zo!==e||Xo!==t)&&(au=null,wp(e,t));do try{fVe();break}catch(o){$ye(e,o)}while(1);if(I6(),tn=n,b5.current=r,lo!==null)throw Error(ke(261));return zo=null,Xo=0,So}function fVe(){for(;lo!==null;)Mye(lo)}function hVe(){for(;lo!==null&&!LNe();)Mye(lo)}function Mye(e){var t=Bye(e.alternate,e,zs);e.memoizedProps=e.pendingProps,t===null?Fye(e):lo=t,U6.current=null}function Fye(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=sVe(n,t),n!==null){n.flags&=32767,lo=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{So=6,lo=null;return}}else if(n=iVe(n,t,zs),n!==null){lo=n;return}if(t=t.sibling,t!==null){lo=t;return}lo=t=e}while(t!==null);So===0&&(So=5)}function $h(e,t,n){var r=Sn,o=Ra.transition;try{Ra.transition=null,Sn=1,pVe(e,t,n,r)}finally{Ra.transition=o,Sn=r}return null}function pVe(e,t,n,r){do ev();while(Vd!==null);if(tn&6)throw Error(ke(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ke(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(GNe(e,i),e===zo&&(lo=zo=null,Xo=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||YC||(YC=!0,Nye(r5,function(){return ev(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ra.transition,Ra.transition=null;var s=Sn;Sn=1;var a=tn;tn|=4,U6.current=null,lVe(e,n),Iye(n,e),$ze(g$),i5=!!m$,g$=m$=null,e.current=n,cVe(n),BNe(),tn=a,Sn=s,Ra.transition=i}else e.current=n;if(YC&&(YC=!1,Vd=e,w5=o),i=e.pendingLanes,i===0&&(uf=null),VNe(n.stateNode),ks(e,Gr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(x5)throw x5=!1,e=M$,M$=null,e;return w5&1&&e.tag!==0&&ev(),i=e.pendingLanes,i&1?e===F$?Jy++:(Jy=0,F$=e):Jy=0,Qf(),null}function ev(){if(Vd!==null){var e=g1e(w5),t=Ra.transition,n=Sn;try{if(Ra.transition=null,Sn=16>e?16:e,Vd===null)var r=!1;else{if(e=Vd,Vd=null,w5=0,tn&6)throw Error(ke(331));var o=tn;for(tn|=4,Be=e.current;Be!==null;){var i=Be,s=i.child;if(Be.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Be=u;Be!==null;){var d=Be;switch(d.tag){case 0:case 11:case 15:Xy(8,d,i)}var f=d.child;if(f!==null)f.return=d,Be=f;else for(;Be!==null;){d=Be;var p=d.sibling,m=d.return;if(Tye(d),d===u){Be=null;break}if(p!==null){p.return=m,Be=p;break}Be=m}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}Be=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Be=s;else e:for(;Be!==null;){if(i=Be,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xy(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Be=x;break e}Be=i.return}}var y=e.current;for(Be=y;Be!==null;){s=Be;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Be=w;else e:for(s=y;Be!==null;){if(a=Be,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Sj(9,a)}}catch(_){Fr(a,a.return,_)}if(a===s){Be=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Be=C;break e}Be=a.return}}if(tn=o,Qf(),xc&&typeof xc.onPostCommitFiberRoot=="function")try{xc.onPostCommitFiberRoot(gj,e)}catch{}r=!0}return r}finally{Sn=n,Ra.transition=t}}return!1}function mH(e,t,n){t=Nv(n,t),t=vye(e,t,1),e=cf(e,t,1),t=qi(),e!==null&&(dw(e,1,t),ks(e,t))}function Fr(e,t,n){if(e.tag===3)mH(e,e,n);else for(;t!==null;){if(t.tag===3){mH(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(uf===null||!uf.has(r))){e=Nv(n,e),e=yye(t,e,1),t=cf(t,e,1),e=qi(),t!==null&&(dw(t,1,e),ks(t,e));break}}t=t.return}}function mVe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=qi(),e.pingedLanes|=e.suspendedLanes&n,zo===e&&(Xo&n)===n&&(So===4||So===3&&(Xo&130023424)===Xo&&500>Gr()-Y6?wp(e,0):W6|=n),ks(e,t)}function Lye(e,t){t===0&&(e.mode&1?(t=MC,MC<<=1,!(MC&130023424)&&(MC=4194304)):t=1);var n=qi();e=Ru(e,t),e!==null&&(dw(e,t,n),ks(e,n))}function gVe(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Lye(e,n)}function vVe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ke(314))}r!==null&&r.delete(t),Lye(e,n)}var Bye;Bye=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ss.current)ws=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ws=!1,oVe(e,t,n);ws=!!(e.flags&131072)}else ws=!1,br&&t.flags&1048576&&V1e(t,f5,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;F2(e,t),e=t.pendingProps;var o=Mv(t,_i.current);Jg(t,n),o=B6(null,t,r,e,o,n);var i=N6();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Es(r)?(i=!0,u5(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,$6(t),o.updater=Cj,t.stateNode=o,o._reactInternals=t,E$(t,r,e,n),t=T$(null,t,r,!0,i,n)):(t.tag=0,br&&i&&j6(t),Ni(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(F2(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=bVe(r),e=al(r,e),o){case 0:t=j$(null,t,r,e,n);break e;case 1:t=iH(null,t,r,e,n);break e;case 11:t=rH(null,t,r,e,n);break e;case 14:t=oH(null,t,r,al(r.type,e),n);break e}throw Error(ke(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:al(r,o),j$(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:al(r,o),iH(e,t,r,o,n);case 3:e:{if(Cye(t),e===null)throw Error(ke(387));r=t.pendingProps,i=t.memoizedState,o=i.element,Y1e(e,t),m5(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Nv(Error(ke(423)),t),t=sH(e,t,r,n,o);break e}else if(r!==o){o=Nv(Error(ke(424)),t),t=sH(e,t,r,n,o);break e}else for(Zs=lf(t.stateNode.containerInfo.firstChild),ta=t,br=!0,cl=null,n=Z1e(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fv(),r===o){t=Mu(e,t,n);break e}Ni(e,t,r,n)}t=t.child}return t;case 5:return X1e(t),e===null&&C$(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,v$(r,o)?s=null:i!==null&&v$(r,i)&&(t.flags|=32),wye(e,t),Ni(e,t,s,n),t.child;case 6:return e===null&&C$(t),null;case 13:return _ye(e,t,n);case 4:return R6(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Lv(t,null,r,n):Ni(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:al(r,o),rH(e,t,r,o,n);case 7:return Ni(e,t,t.pendingProps,n),t.child;case 8:return Ni(e,t,t.pendingProps.children,n),t.child;case 12:return Ni(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,Hn(h5,r._currentValue),r._currentValue=s,i!==null)if(El(i.value,s)){if(i.children===o.children&&!Ss.current){t=Mu(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Cu(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),_$(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(ke(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),_$(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Ni(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Jg(t,n),o=za(o),r=r(o),t.flags|=1,Ni(e,t,r,n),t.child;case 14:return r=t.type,o=al(r,t.pendingProps),o=al(r.type,o),oH(e,t,r,o,n);case 15:return bye(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:al(r,o),F2(e,t),t.tag=1,Es(r)?(e=!0,u5(t)):e=!1,Jg(t,n),G1e(t,r,o),E$(t,r,o,n),T$(null,t,r,!0,e,n);case 19:return Sye(e,t,n);case 22:return xye(e,t,n)}throw Error(ke(156,t.tag))};function Nye(e,t){return f1e(e,t)}function yVe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ia(e,t,n,r){return new yVe(e,t,n,r)}function Z6(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bVe(e){if(typeof e=="function")return Z6(e)?1:0;if(e!=null){if(e=e.$$typeof,e===m6)return 11;if(e===g6)return 14}return 2}function ff(e,t){var n=e.alternate;return n===null?(n=Ia(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function N2(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")Z6(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Eg:return Cp(n.children,o,i,t);case p6:s=8,o|=8;break;case K3:return e=Ia(12,n,t,o|2),e.elementType=K3,e.lanes=i,e;case Z3:return e=Ia(13,n,t,o),e.elementType=Z3,e.lanes=i,e;case X3:return e=Ia(19,n,t,o),e.elementType=X3,e.lanes=i,e;case K0e:return kj(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q0e:s=10;break e;case G0e:s=9;break e;case m6:s=11;break e;case g6:s=14;break e;case jd:s=16,r=null;break e}throw Error(ke(130,e==null?e:typeof e,""))}return t=Ia(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Cp(e,t,n,r){return e=Ia(7,e,r,t),e.lanes=n,e}function kj(e,t,n,r){return e=Ia(22,e,r,t),e.elementType=K0e,e.lanes=n,e.stateNode={isHidden:!1},e}function qD(e,t,n){return e=Ia(6,e,null,t),e.lanes=n,e}function GD(e,t,n){return t=Ia(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xVe(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=TD(0),this.expirationTimes=TD(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=TD(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function X6(e,t,n,r,o,i,s,a,l){return e=new xVe(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ia(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$6(i),e}function wVe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sg,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function zye(e){if(!e)return Of;e=e._reactInternals;e:{if(hm(e)!==e||e.tag!==1)throw Error(ke(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Es(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ke(171))}if(e.tag===1){var n=e.type;if(Es(n))return N1e(e,n,t)}return t}function Vye(e,t,n,r,o,i,s,a,l){return e=X6(n,r,!0,e,o,i,s,a,l),e.context=zye(null),n=e.current,r=qi(),o=df(n),i=Cu(r,o),i.callback=t??null,cf(n,i,o),e.current.lanes=o,dw(e,o,r),ks(e,r),e}function jj(e,t,n,r){var o=t.current,i=qi(),s=df(o);return n=zye(n),t.context===null?t.context=n:t.pendingContext=n,t=Cu(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=cf(o,t,s),e!==null&&(wl(e,o,s,i),$2(e,o,s)),s}function _5(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gH(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Q6(e,t){gH(e,t),(e=e.alternate)&&gH(e,t)}function CVe(){return null}var Hye=typeof reportError=="function"?reportError:function(e){console.error(e)};function J6(e){this._internalRoot=e}Tj.prototype.render=J6.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ke(409));jj(e,t,null,null)};Tj.prototype.unmount=J6.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vp(function(){jj(null,e,null,null)}),t[$u]=null}};function Tj(e){this._internalRoot=e}Tj.prototype.unstable_scheduleHydration=function(e){if(e){var t=b1e();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Md.length&&t!==0&&t<Md[n].priority;n++);Md.splice(n,0,e),n===0&&w1e(e)}};function eL(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Aj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vH(){}function _Ve(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=_5(s);i.call(u)}}var s=Vye(t,r,e,0,null,!1,!1,"",vH);return e._reactRootContainer=s,e[$u]=s.current,Ub(e.nodeType===8?e.parentNode:e),Vp(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var u=_5(l);a.call(u)}}var l=X6(e,0,!1,null,null,!1,!1,"",vH);return e._reactRootContainer=l,e[$u]=l.current,Ub(e.nodeType===8?e.parentNode:e),Vp(function(){jj(t,l,n,r)}),l}function Dj(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=_5(s);a.call(l)}}jj(t,s,e,o)}else s=_Ve(n,t,e,o,r);return _5(s)}v1e=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=by(t.pendingLanes);n!==0&&(b6(t,n|1),ks(t,Gr()),!(tn&6)&&(zv=Gr()+500,Qf()))}break;case 13:Vp(function(){var r=Ru(e,1);if(r!==null){var o=qi();wl(r,e,1,o)}}),Q6(e,1)}};x6=function(e){if(e.tag===13){var t=Ru(e,134217728);if(t!==null){var n=qi();wl(t,e,134217728,n)}Q6(e,134217728)}};y1e=function(e){if(e.tag===13){var t=df(e),n=Ru(e,t);if(n!==null){var r=qi();wl(n,e,t,r)}Q6(e,t)}};b1e=function(){return Sn};x1e=function(e,t){var n=Sn;try{return Sn=e,t()}finally{Sn=n}};a$=function(e,t,n){switch(t){case"input":if(e$(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=xj(r);if(!o)throw Error(ke(90));X0e(r),e$(r,o)}}}break;case"textarea":J0e(e,n);break;case"select":t=n.value,t!=null&&Kg(e,!!n.multiple,t,!1)}};s1e=q6;a1e=Vp;var SVe={usingClientEntryPoint:!1,Events:[hw,Ag,xj,o1e,i1e,q6]},I1={findFiberByHostInstance:rp,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},EVe={bundleType:I1.bundleType,version:I1.version,rendererPackageName:I1.rendererPackageName,rendererConfig:I1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ed.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=u1e(e),e===null?null:e.stateNode},findFiberByHostInstance:I1.findFiberByHostInstance||CVe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qC=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qC.isDisabled&&qC.supportsFiber)try{gj=qC.inject(EVe),xc=qC}catch{}}ua.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SVe;ua.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eL(t))throw Error(ke(200));return wVe(e,t,null,n)};ua.createRoot=function(e,t){if(!eL(e))throw Error(ke(299));var n=!1,r="",o=Hye;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=X6(e,1,!1,null,null,n,!1,r,o),e[$u]=t.current,Ub(e.nodeType===8?e.parentNode:e),new J6(t)};ua.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ke(188)):(e=Object.keys(e).join(","),Error(ke(268,e)));return e=u1e(t),e=e===null?null:e.stateNode,e};ua.flushSync=function(e){return Vp(e)};ua.hydrate=function(e,t,n){if(!Aj(t))throw Error(ke(200));return Dj(null,e,t,!0,n)};ua.hydrateRoot=function(e,t,n){if(!eL(e))throw Error(ke(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=Hye;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Vye(t,null,e,1,n??null,o,!1,i,s),e[$u]=t.current,Ub(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Tj(t)};ua.render=function(e,t,n){if(!Aj(t))throw Error(ke(200));return Dj(null,e,t,!1,n)};ua.unmountComponentAtNode=function(e){if(!Aj(e))throw Error(ke(40));return e._reactRootContainer?(Vp(function(){Dj(null,null,e,!1,function(){e._reactRootContainer=null,e[$u]=null})}),!0):!1};ua.unstable_batchedUpdates=q6;ua.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Aj(n))throw Error(ke(200));if(e==null||e._reactInternals===void 0)throw Error(ke(38));return Dj(e,t,n,!1,r)};ua.version="18.2.0-next-9e3b772b8-20220608";function Uye(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Uye)}catch(e){console.error(e)}}Uye(),V0e.exports=ua;var uc=V0e.exports;const kVe=De(uc),Wye=e=>{const{element:t,padding:n}=e;function r(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){return t&&r(t)?t.current!=null?aV({element:t.current,padding:n}).fn(o):{}:t?aV({element:t,padding:n}).fn(o):{}}}};var z2=typeof document<"u"?h.useLayoutEffect:h.useEffect;function S5(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!S5(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!S5(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Yye(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function yH(e,t){const n=Yye(e);return Math.round(t*n)/n}function bH(e){const t=h.useRef(e);return z2(()=>{t.current=e}),t}function qye(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=h.useState(r);S5(p,r)||m(r);const[v,g]=h.useState(null),[b,x]=h.useState(null),y=h.useCallback($=>{$!=S.current&&(S.current=$,g($))},[g]),w=h.useCallback($=>{$!==E.current&&(E.current=$,x($))},[x]),C=i||v,_=s||b,S=h.useRef(null),E=h.useRef(null),j=h.useRef(d),k=bH(l),T=bH(o),A=h.useCallback(()=>{if(!S.current||!E.current)return;const $={placement:t,strategy:n,middleware:p};T.current&&($.platform=T.current),CNe(S.current,E.current,$).then(V=>{const L={...V,isPositioned:!0};D.current&&!S5(j.current,L)&&(j.current=L,uc.flushSync(()=>{f(L)}))})},[p,t,n,T]);z2(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f($=>({...$,isPositioned:!1})))},[u]);const D=h.useRef(!1);z2(()=>(D.current=!0,()=>{D.current=!1}),[]),z2(()=>{if(C&&(S.current=C),_&&(E.current=_),C&&_){if(k.current)return k.current(C,_,A);A()}},[C,_,A,k]);const I=h.useMemo(()=>({reference:S,floating:E,setReference:y,setFloating:w}),[y,w]),P=h.useMemo(()=>({reference:C,floating:_}),[C,_]),M=h.useMemo(()=>{const $={position:n,left:0,top:0};if(!P.floating)return $;const V=yH(P.floating,d.x),L=yH(P.floating,d.y);return a?{...$,transform:"translate("+V+"px, "+L+"px)",...Yye(P.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:L}},[n,a,P.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:A,refs:I,elements:P,floatingStyles:M}),[d,A,I,P,M])}const Gye=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Ij=h.createContext({}),Pj=h.createContext(null),Oj=typeof document<"u",tL=Oj?h.useLayoutEffect:h.useEffect,Kye=h.createContext({strict:!1});function jVe(e,t,n,r){const{visualElement:o}=h.useContext(Ij),i=h.useContext(Kye),s=h.useContext(Pj),a=h.useContext(Gye).reducedMotion,l=h.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:o,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;h.useInsertionEffect(()=>{u&&u.update(n,s)});const d=h.useRef(!!window.HandoffAppearAnimations);return tL(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),h.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,d.current=!1)}),u}function Mg(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function TVe(e,t,n){return h.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Mg(n)&&(n.current=r))},[t])}function Jb(e){return typeof e=="string"||Array.isArray(e)}function $j(e){return typeof e=="object"&&typeof e.start=="function"}const nL=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],rL=["initial",...nL];function Rj(e){return $j(e.animate)||rL.some(t=>Jb(e[t]))}function Zye(e){return!!(Rj(e)||e.variants)}function AVe(e,t){if(Rj(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Jb(n)?n:void 0,animate:Jb(r)?r:void 0}}return e.inherit!==!1?t:{}}function DVe(e){const{initial:t,animate:n}=AVe(e,h.useContext(Ij));return h.useMemo(()=>({initial:t,animate:n}),[xH(t),xH(n)])}function xH(e){return Array.isArray(e)?e.join(" "):e}const wH={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ex={};for(const e in wH)ex[e]={isEnabled:t=>wH[e].some(n=>!!t[n])};function IVe(e){for(const t in e)ex[t]={...ex[t],...e[t]}}const oL=h.createContext({}),Xye=h.createContext({}),PVe=Symbol.for("motionComponentSymbol");function OVe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&IVe(e);function i(a,l){let u;const d={...h.useContext(Gye),...a,layoutId:$Ve(a)},{isStatic:f}=d,p=DVe(a),m=r(a,f);if(!f&&Oj){p.visualElement=jVe(o,m,d,t);const v=h.useContext(Xye),g=h.useContext(Kye).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,g,e,v))}return h.createElement(Ij.Provider,{value:p},u&&p.visualElement?h.createElement(u,{visualElement:p.visualElement,...d}):null,n(o,a,TVe(m,p.visualElement,l),m,f,p.visualElement))}const s=h.forwardRef(i);return s[PVe]=o,s}function $Ve({layoutId:e}){const t=h.useContext(oL).id;return t&&e!==void 0?t+"-"+e:e}function RVe(e){function t(r,o={}){return OVe(e(r,o))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,o)=>(n.has(o)||n.set(o,t(o)),n.get(o))})}const MVe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function iL(e){return typeof e!="string"||e.includes("-")?!1:!!(MVe.indexOf(e)>-1||/[A-Z]/.test(e))}const E5={};function FVe(e){Object.assign(E5,e)}const mw=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pm=new Set(mw);function Qye(e,{layout:t,layoutId:n}){return pm.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!E5[e]||e==="opacity")}const Ts=e=>!!(e&&e.getVelocity),LVe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},BVe=mw.length;function NVe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,o){let i="";for(let s=0;s<BVe;s++){const a=mw[s];if(e[a]!==void 0){const l=LVe[a]||a;i+=`${l}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(e,r?"":i):n&&r&&(i="none"),i}const Jye=e=>t=>typeof t=="string"&&t.startsWith(e),ebe=Jye("--"),N$=Jye("var(--"),zVe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,VVe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,$f=(e,t,n)=>Math.min(Math.max(n,e),t),mm={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},eb={...mm,transform:e=>$f(0,1,e)},GC={...mm,default:1},tb=e=>Math.round(e*1e5)/1e5,Mj=/(-)?([\d]*\.?[\d])+/g,tbe=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,HVe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function gw(e){return typeof e=="string"}const vw=e=>({test:t=>gw(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),_d=vw("deg"),Cc=vw("%"),ot=vw("px"),UVe=vw("vh"),WVe=vw("vw"),CH={...Cc,parse:e=>Cc.parse(e)/100,transform:e=>Cc.transform(e*100)},_H={...mm,transform:Math.round},nbe={borderWidth:ot,borderTopWidth:ot,borderRightWidth:ot,borderBottomWidth:ot,borderLeftWidth:ot,borderRadius:ot,radius:ot,borderTopLeftRadius:ot,borderTopRightRadius:ot,borderBottomRightRadius:ot,borderBottomLeftRadius:ot,width:ot,maxWidth:ot,height:ot,maxHeight:ot,size:ot,top:ot,right:ot,bottom:ot,left:ot,padding:ot,paddingTop:ot,paddingRight:ot,paddingBottom:ot,paddingLeft:ot,margin:ot,marginTop:ot,marginRight:ot,marginBottom:ot,marginLeft:ot,rotate:_d,rotateX:_d,rotateY:_d,rotateZ:_d,scale:GC,scaleX:GC,scaleY:GC,scaleZ:GC,skew:_d,skewX:_d,skewY:_d,distance:ot,translateX:ot,translateY:ot,translateZ:ot,x:ot,y:ot,z:ot,perspective:ot,transformPerspective:ot,opacity:eb,originX:CH,originY:CH,originZ:ot,zIndex:_H,fillOpacity:eb,strokeOpacity:eb,numOctaves:_H};function sL(e,t,n,r){const{style:o,vars:i,transform:s,transformOrigin:a}=e;let l=!1,u=!1,d=!0;for(const f in t){const p=t[f];if(ebe(f)){i[f]=p;continue}const m=nbe[f],v=VVe(p,m);if(pm.has(f)){if(l=!0,s[f]=v,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,a[f]=v):o[f]=v}if(t.transform||(l||r?o.transform=NVe(e.transform,n,d,r):o.transform&&(o.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;o.transformOrigin=`${f} ${p} ${m}`}}const aL=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rbe(e,t,n){for(const r in t)!Ts(t[r])&&!Qye(r,n)&&(e[r]=t[r])}function YVe({transformTemplate:e},t,n){return h.useMemo(()=>{const r=aL();return sL(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function qVe(e,t,n){const r=e.style||{},o={};return rbe(o,r,e),Object.assign(o,YVe(e,t,n)),e.transformValues?e.transformValues(o):o}function GVe(e,t,n){const r={},o=qVe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r}const KVe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function k5(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||KVe.has(e)}let obe=e=>!k5(e);function ZVe(e){e&&(obe=t=>t.startsWith("on")?!k5(t):e(t))}try{ZVe(require("@emotion/is-prop-valid").default)}catch{}function XVe(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(obe(o)||n===!0&&k5(o)||!t&&!k5(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function SH(e,t,n){return typeof e=="string"?e:ot.transform(t+n*e)}function QVe(e,t,n){const r=SH(t,e.x,e.width),o=SH(n,e.y,e.height);return`${r} ${o}`}const JVe={offset:"stroke-dashoffset",array:"stroke-dasharray"},eHe={offset:"strokeDashoffset",array:"strokeDasharray"};function tHe(e,t,n=1,r=0,o=!0){e.pathLength=1;const i=o?JVe:eHe;e[i.offset]=ot.transform(-r);const s=ot.transform(t),a=ot.transform(n);e[i.array]=`${s} ${a}`}function lL(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:i,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},d,f,p){if(sL(e,u,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:v,dimensions:g}=e;m.transform&&(g&&(v.transform=m.transform),delete m.transform),g&&(o!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=QVe(g,o!==void 0?o:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&tHe(m,s,a,l,!1)}const ibe=()=>({...aL(),attrs:{}}),cL=e=>typeof e=="string"&&e.toLowerCase()==="svg";function nHe(e,t,n,r){const o=h.useMemo(()=>{const i=ibe();return lL(i,t,{enableHardwareAcceleration:!1},cL(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};rbe(i,e.style,e),o.style={...i,...o.style}}return o}function rHe(e=!1){return(n,r,o,{latestValues:i},s)=>{const l=(iL(n)?nHe:GVe)(r,i,s,n),d={...XVe(r,typeof n=="string",e),...l,ref:o},{children:f}=r,p=h.useMemo(()=>Ts(f)?f.get():f,[f]);return h.createElement(n,{...d,children:p})}}const uL=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function sbe(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const abe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function lbe(e,t,n,r){sbe(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(abe.has(o)?o:uL(o),t.attrs[o])}function dL(e,t){const{style:n}=e,r={};for(const o in n)(Ts(n[o])||t.style&&Ts(t.style[o])||Qye(o,e))&&(r[o]=n[o]);return r}function cbe(e,t){const n=dL(e,t);for(const r in e)if(Ts(e[r])||Ts(t[r])){const o=mw.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=e[r]}return n}function fL(e,t,n,r={},o={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),t}function ube(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const j5=e=>Array.isArray(e),oHe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),iHe=e=>j5(e)?e[e.length-1]||0:e;function V2(e){const t=Ts(e)?e.get():e;return oHe(t)?t.toValue():t}function sHe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,i){const s={latestValues:aHe(r,o,i,e),renderState:t()};return n&&(s.mount=a=>n(r,a,s)),s}const dbe=e=>(t,n)=>{const r=h.useContext(Ij),o=h.useContext(Pj),i=()=>sHe(e,t,r,o);return n?i():ube(i)};function aHe(e,t,n,r){const o={},i=r(e,{});for(const p in i)o[p]=V2(i[p]);let{initial:s,animate:a}=e;const l=Rj(e),u=Zye(e);t&&u&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?a:s;return f&&typeof f!="boolean"&&!$j(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const v=fL(e,m);if(!v)return;const{transitionEnd:g,transition:b,...x}=v;for(const y in x){let w=x[y];if(Array.isArray(w)){const C=d?w.length-1:0;w=w[C]}w!==null&&(o[y]=w)}for(const y in g)o[y]=g[y]}),o}const Lr=e=>e;class EH{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function lHe(e){let t=new EH,n=new EH,r=0,o=!1,i=!1;const s=new WeakSet,a={schedule:(l,u=!1,d=!1)=>{const f=d&&o,p=f?t:n;return u&&s.add(l),p.add(l)&&f&&o&&(r=t.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(o){i=!0;return}if(o=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(l),s.has(d)&&(a.schedule(d),e())}o=!1,i&&(i=!1,a.process(l))}};return a}const KC=["prepare","read","update","preRender","render","postRender"],cHe=40;function uHe(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=KC.reduce((f,p)=>(f[p]=lHe(()=>n=!0),f),{}),s=f=>i[f].process(o),a=()=>{const f=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(f-o.timestamp,cHe),1),o.timestamp=f,o.isProcessing=!0,KC.forEach(s),o.isProcessing=!1,n&&t&&(r=!1,e(a))},l=()=>{n=!0,r=!0,o.isProcessing||e(a)};return{schedule:KC.reduce((f,p)=>{const m=i[p];return f[p]=(v,g=!1,b=!1)=>(n||l(),m.schedule(v,g,b)),f},{}),cancel:f=>KC.forEach(p=>i[p].cancel(f)),state:o,steps:i}}const{schedule:Un,cancel:Fu,state:Po,steps:KD}=uHe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Lr,!0),dHe={useVisualState:dbe({scrapeMotionValuesFromProps:cbe,createRenderState:ibe,onMount:(e,t,{renderState:n,latestValues:r})=>{Un.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Un.render(()=>{lL(n,r,{enableHardwareAcceleration:!1},cL(t.tagName),e.transformTemplate),lbe(t,n)})}})},fHe={useVisualState:dbe({scrapeMotionValuesFromProps:dL,createRenderState:aL})};function hHe(e,{forwardMotionProps:t=!1},n,r){return{...iL(e)?dHe:fHe,preloadedFeatures:n,useRender:rHe(t),createVisualElement:r,Component:e}}function gu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const fbe=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Fj(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const pHe=e=>t=>fbe(t)&&e(t,Fj(t));function _u(e,t,n,r){return gu(e,t,pHe(n),r)}const mHe=(e,t)=>n=>t(e(n)),hf=(...e)=>e.reduce(mHe);function hbe(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const kH=hbe("dragHorizontal"),jH=hbe("dragVertical");function pbe(e){let t=!1;if(e==="y")t=jH();else if(e==="x")t=kH();else{const n=kH(),r=jH();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function mbe(){const e=pbe(!0);return e?(e(),!1):!0}class Jf{constructor(t){this.isMounted=!1,this.node=t}update(){}}function TH(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),o=(i,s)=>{if(i.type==="touch"||mbe())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&Un.update(()=>a[r](i,s))};return _u(e.current,n,o,{passive:!e.getProps()[r]})}class gHe extends Jf{mount(){this.unmount=hf(TH(this.node,!0),TH(this.node,!1))}unmount(){}}class vHe extends Jf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hf(gu(this.node.current,"focus",()=>this.onFocus()),gu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const gbe=(e,t)=>t?e===t?!0:gbe(e,t.parentElement):!1;function ZD(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Fj(n))}class yHe extends Jf{constructor(){super(...arguments),this.removeStartListeners=Lr,this.removeEndListeners=Lr,this.removeAccessibleListeners=Lr,this.startPointerPress=(t,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),i=_u(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d}=this.node.getProps();Un.update(()=>{gbe(this.node.current,a.target)?u&&u(a,l):d&&d(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=_u(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=hf(i,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||ZD("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&Un.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=gu(this.node.current,"keyup",s),ZD("down",(a,l)=>{this.startPress(a,l)})},n=gu(this.node.current,"keydown",t),r=()=>{this.isPressing&&ZD("cancel",(i,s)=>this.cancelPress(i,s))},o=gu(this.node.current,"blur",r);this.removeAccessibleListeners=hf(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Un.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!mbe()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Un.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=_u(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=gu(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=hf(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const z$=new WeakMap,XD=new WeakMap,bHe=e=>{const t=z$.get(e.target);t&&t(e)},xHe=e=>{e.forEach(bHe)};function wHe({root:e,...t}){const n=e||document;XD.has(n)||XD.set(n,{});const r=XD.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(xHe,{root:e,...t})),r[o]}function CHe(e,t,n){const r=wHe(t);return z$.set(e,n),r.observe(e),()=>{z$.delete(e),r.unobserve(e)}}const _He={some:0,all:1};class SHe extends Jf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:_He[o]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(l)};return CHe(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(EHe(t,n))&&this.startObserver()}unmount(){}}function EHe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const kHe={inView:{Feature:SHe},tap:{Feature:yHe},focus:{Feature:vHe},hover:{Feature:gHe}};function vbe(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function jHe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function THe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Lj(e,t,n){const r=e.getProps();return fL(r,t,n!==void 0?n:r.custom,jHe(e),THe(e))}const AHe="framerAppearId",DHe="data-"+uL(AHe);let IHe=Lr,Bj=Lr;const pf=e=>e*1e3,Su=e=>e/1e3,PHe={current:!1},ybe=e=>Array.isArray(e)&&typeof e[0]=="number";function bbe(e){return!!(!e||typeof e=="string"&&xbe[e]||ybe(e)||Array.isArray(e)&&e.every(bbe))}const wy=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,xbe={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wy([0,.65,.55,1]),circOut:wy([.55,0,1,.45]),backIn:wy([.31,.01,.66,-.59]),backOut:wy([.33,1.53,.69,.99])};function wbe(e){if(e)return ybe(e)?wy(e):Array.isArray(e)?e.map(wbe):xbe[e]}function OHe(e,t,n,{delay:r=0,duration:o,repeat:i=0,repeatType:s="loop",ease:a,times:l}={}){const u={[t]:n};l&&(u.offset=l);const d=wbe(a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"})}function $He(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const Cbe=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,RHe=1e-7,MHe=12;function FHe(e,t,n,r,o){let i,s,a=0;do s=t+(n-t)/2,i=Cbe(s,r,o)-e,i>0?n=s:t=s;while(Math.abs(i)>RHe&&++a<MHe);return s}function yw(e,t,n,r){if(e===t&&n===r)return Lr;const o=i=>FHe(i,0,1,e,n);return i=>i===0||i===1?i:Cbe(o(i),t,r)}const LHe=yw(.42,0,1,1),BHe=yw(0,0,.58,1),_be=yw(.42,0,.58,1),NHe=e=>Array.isArray(e)&&typeof e[0]!="number",Sbe=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ebe=e=>t=>1-e(1-t),kbe=e=>1-Math.sin(Math.acos(e)),hL=Ebe(kbe),zHe=Sbe(hL),jbe=yw(.33,1.53,.69,.99),pL=Ebe(jbe),VHe=Sbe(pL),HHe=e=>(e*=2)<1?.5*pL(e):.5*(2-Math.pow(2,-10*(e-1))),UHe={linear:Lr,easeIn:LHe,easeInOut:_be,easeOut:BHe,circIn:kbe,circInOut:zHe,circOut:hL,backIn:pL,backInOut:VHe,backOut:jbe,anticipate:HHe},AH=e=>{if(Array.isArray(e)){Bj(e.length===4);const[t,n,r,o]=e;return yw(t,n,r,o)}else if(typeof e=="string")return UHe[e];return e},mL=(e,t)=>n=>!!(gw(n)&&HVe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Tbe=(e,t,n)=>r=>{if(!gw(r))return r;const[o,i,s,a]=r.match(Mj);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},WHe=e=>$f(0,255,e),QD={...mm,transform:e=>Math.round(WHe(e))},sp={test:mL("rgb","red"),parse:Tbe("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+QD.transform(e)+", "+QD.transform(t)+", "+QD.transform(n)+", "+tb(eb.transform(r))+")"};function YHe(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const V$={test:mL("#"),parse:YHe,transform:sp.transform},Fg={test:mL("hsl","hue"),parse:Tbe("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Cc.transform(tb(t))+", "+Cc.transform(tb(n))+", "+tb(eb.transform(r))+")"},Bi={test:e=>sp.test(e)||V$.test(e)||Fg.test(e),parse:e=>sp.test(e)?sp.parse(e):Fg.test(e)?Fg.parse(e):V$.parse(e),transform:e=>gw(e)?e:e.hasOwnProperty("red")?sp.transform(e):Fg.transform(e)},Tr=(e,t,n)=>-n*e+n*t+e;function JD(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function qHe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,i=0,s=0;if(!t)o=i=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;o=JD(l,a,e+1/3),i=JD(l,a,e),s=JD(l,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:r}}const eI=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},GHe=[V$,sp,Fg],KHe=e=>GHe.find(t=>t.test(e));function DH(e){const t=KHe(e);let n=t.parse(e);return t===Fg&&(n=qHe(n)),n}const Abe=(e,t)=>{const n=DH(e),r=DH(t),o={...n};return i=>(o.red=eI(n.red,r.red,i),o.green=eI(n.green,r.green,i),o.blue=eI(n.blue,r.blue,i),o.alpha=Tr(n.alpha,r.alpha,i),sp.transform(o))};function ZHe(e){var t,n;return isNaN(e)&&gw(e)&&(((t=e.match(Mj))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(tbe))===null||n===void 0?void 0:n.length)||0)>0}const Dbe={regex:zVe,countKey:"Vars",token:"${v}",parse:Lr},Ibe={regex:tbe,countKey:"Colors",token:"${c}",parse:Bi.parse},Pbe={regex:Mj,countKey:"Numbers",token:"${n}",parse:mm.parse};function tI(e,{regex:t,countKey:n,token:r,parse:o}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(o)))}function T5(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&tI(n,Dbe),tI(n,Ibe),tI(n,Pbe),n}function Obe(e){return T5(e).values}function $be(e){const{values:t,numColors:n,numVars:r,tokenised:o}=T5(e),i=t.length;return s=>{let a=o;for(let l=0;l<i;l++)l<r?a=a.replace(Dbe.token,s[l]):l<r+n?a=a.replace(Ibe.token,Bi.transform(s[l])):a=a.replace(Pbe.token,tb(s[l]));return a}}const XHe=e=>typeof e=="number"?0:e;function QHe(e){const t=Obe(e);return $be(e)(t.map(XHe))}const Rf={test:ZHe,parse:Obe,createTransformer:$be,getAnimatableNone:QHe},Rbe=(e,t)=>n=>`${n>0?t:e}`;function Mbe(e,t){return typeof e=="number"?n=>Tr(e,t,n):Bi.test(e)?Abe(e,t):e.startsWith("var(")?Rbe(e,t):Lbe(e,t)}const Fbe=(e,t)=>{const n=[...e],r=n.length,o=e.map((i,s)=>Mbe(i,t[s]));return i=>{for(let s=0;s<r;s++)n[s]=o[s](i);return n}},JHe=(e,t)=>{const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=Mbe(e[o],t[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}},Lbe=(e,t)=>{const n=Rf.createTransformer(t),r=T5(e),o=T5(t);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?hf(Fbe(r.values,o.values),n):Rbe(e,t)},tx=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},IH=(e,t)=>n=>Tr(e,t,n);function eUe(e){return typeof e=="number"?IH:typeof e=="string"?Bi.test(e)?Abe:Lbe:Array.isArray(e)?Fbe:typeof e=="object"?JHe:IH}function tUe(e,t,n){const r=[],o=n||eUe(e[0]),i=e.length-1;for(let s=0;s<i;s++){let a=o(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Lr:t;a=hf(l,a)}r.push(a)}return r}function Bbe(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const i=e.length;if(Bj(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=tUe(t,r,o),a=s.length,l=u=>{let d=0;if(a>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=tx(e[d],e[d+1],u);return s[d](f)};return n?u=>l($f(e[0],e[i-1],u)):l}function nUe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=tx(0,t,r);e.push(Tr(n,1,o))}}function rUe(e){const t=[0];return nUe(t,e.length-1),t}function oUe(e,t){return e.map(n=>n*t)}function iUe(e,t){return e.map(()=>t||_be).splice(0,e.length-1)}function A5({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=NHe(r)?r.map(AH):AH(r),i={done:!1,value:t[0]},s=oUe(n&&n.length===t.length?n:rUe(t),e),a=Bbe(s,t,{ease:Array.isArray(o)?o:iUe(t,o)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}function Nbe(e,t){return t?e*(1e3/t):0}const sUe=5;function zbe(e,t,n){const r=Math.max(t-sUe,0);return Nbe(n-e(r),t-r)}const nI=.001,aUe=.01,PH=10,lUe=.05,cUe=1;function uUe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,i;IHe(e<=pf(PH));let s=1-t;s=$f(lUe,cUe,s),e=$f(aUe,PH,Su(e)),s<1?(o=u=>{const d=u*s,f=d*e,p=d-n,m=H$(u,s),v=Math.exp(-f);return nI-p/m*v},i=u=>{const f=u*s*e,p=f*n+n,m=Math.pow(s,2)*Math.pow(u,2)*e,v=Math.exp(-f),g=H$(Math.pow(u,2),s);return(-o(u)+nI>0?-1:1)*((p-m)*v)/g}):(o=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-nI+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const a=5/e,l=fUe(o,i,a);if(e=pf(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const dUe=12;function fUe(e,t,n){let r=n;for(let o=1;o<dUe;o++)r=r-e(r)/t(r);return r}function H$(e,t){return e*Math.sqrt(1-t*t)}const hUe=["duration","bounce"],pUe=["stiffness","damping","mass"];function OH(e,t){return t.some(n=>e[n]!==void 0)}function mUe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!OH(e,pUe)&&OH(e,hUe)){const n=uUe(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}function Vbe({keyframes:e,restDelta:t,restSpeed:n,...r}){const o=e[0],i=e[e.length-1],s={done:!1,value:o},{stiffness:a,damping:l,mass:u,velocity:d,duration:f,isResolvedFromDuration:p}=mUe(r),m=d?-Su(d):0,v=l/(2*Math.sqrt(a*u)),g=i-o,b=Su(Math.sqrt(a/u)),x=Math.abs(g)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let y;if(v<1){const w=H$(b,v);y=C=>{const _=Math.exp(-v*b*C);return i-_*((m+v*b*g)/w*Math.sin(w*C)+g*Math.cos(w*C))}}else if(v===1)y=w=>i-Math.exp(-b*w)*(g+(m+b*g)*w);else{const w=b*Math.sqrt(v*v-1);y=C=>{const _=Math.exp(-v*b*C),S=Math.min(w*C,300);return i-_*((m+v*b*g)*Math.sinh(S)+w*g*Math.cosh(S))/w}}return{calculatedDuration:p&&f||null,next:w=>{const C=y(w);if(p)s.done=w>=f;else{let _=m;w!==0&&(v<1?_=zbe(y,w,C):_=0);const S=Math.abs(_)<=n,E=Math.abs(i-C)<=t;s.done=S&&E}return s.value=s.done?i:C,s}}}function $H({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:s,min:a,max:l,restDelta:u=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},m=j=>a!==void 0&&j<a||l!==void 0&&j>l,v=j=>a===void 0?l:l===void 0||Math.abs(a-j)<Math.abs(l-j)?a:l;let g=n*t;const b=f+g,x=s===void 0?b:s(b);x!==b&&(g=x-f);const y=j=>-g*Math.exp(-j/r),w=j=>x+y(j),C=j=>{const k=y(j),T=w(j);p.done=Math.abs(k)<=u,p.value=p.done?x:T};let _,S;const E=j=>{m(p.value)&&(_=j,S=Vbe({keyframes:[p.value,v(p.value)],velocity:zbe(w,j,p.value),damping:o,stiffness:i,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:j=>{let k=!1;return!S&&_===void 0&&(k=!0,C(j),E(j)),_!==void 0&&j>_?S.next(j-_):(!k&&C(j),p)}}}const gUe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Un.update(t,!0),stop:()=>Fu(t),now:()=>Po.isProcessing?Po.timestamp:performance.now()}},RH=2e4;function MH(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<RH;)t+=n,r=e.next(t);return t>=RH?1/0:t}const vUe={decay:$H,inertia:$H,tween:A5,keyframes:A5,spring:Vbe};function D5({autoplay:e=!0,delay:t=0,driver:n=gUe,keyframes:r,type:o="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:f,...p}){let m=1,v=!1,g,b;const x=()=>{b=new Promise(z=>{g=z})};x();let y;const w=vUe[o]||A5;let C;w!==A5&&typeof r[0]!="number"&&(C=Bbe([0,100],r,{clamp:!1}),r=[0,100]);const _=w({...p,keyframes:r});let S;a==="mirror"&&(S=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let E="idle",j=null,k=null,T=null;_.calculatedDuration===null&&i&&(_.calculatedDuration=MH(_));const{calculatedDuration:A}=_;let D=1/0,I=1/0;A!==null&&(D=A+s,I=D*(i+1)-s);let P=0;const M=z=>{if(k===null)return;m>0&&(k=Math.min(k,z)),m<0&&(k=Math.min(z-I/m,k)),j!==null?P=j:P=Math.round(z-k)*m;const Y=P-t*(m>=0?1:-1),te=m>=0?Y<0:Y>I;P=Math.max(Y,0),E==="finished"&&j===null&&(P=I);let N=P,G=_;if(i){const X=P/D;let Z=Math.floor(X),oe=X%1;!oe&&X>=1&&(oe=1),oe===1&&Z--,Z=Math.min(Z,i+1);const le=!!(Z%2);le&&(a==="reverse"?(oe=1-oe,s&&(oe-=s/D)):a==="mirror"&&(G=S));let he=$f(0,1,oe);P>I&&(he=a==="reverse"&&le?1:0),N=he*D}const q=te?{done:!1,value:r[0]}:G.next(N);C&&(q.value=C(q.value));let{done:K}=q;!te&&A!==null&&(K=m>=0?P>=I:P<=0);const Q=j===null&&(E==="finished"||E==="running"&&K);return f&&f(q.value),Q&&L(),q},$=()=>{y&&y.stop(),y=void 0},V=()=>{E="idle",$(),g(),x(),k=T=null},L=()=>{E="finished",d&&d(),$(),g()},H=()=>{if(v)return;y||(y=n(M));const z=y.now();l&&l(),j!==null?k=z-j:(!k||E==="finished")&&(k=z),E==="finished"&&x(),T=k,j=null,E="running",y.start()};e&&H();const U={then(z,Y){return b.then(z,Y)},get time(){return Su(P)},set time(z){z=pf(z),P=z,j!==null||!y||m===0?j=z:k=y.now()-z/m},get duration(){const z=_.calculatedDuration===null?MH(_):_.calculatedDuration;return Su(z)},get speed(){return m},set speed(z){z===m||!y||(m=z,U.time=Su(P))},get state(){return E},play:H,pause:()=>{E="paused",j=P},stop:()=>{v=!0,E!=="idle"&&(E="idle",u&&u(),V())},cancel:()=>{T!==null&&M(T),V()},complete:()=>{E="finished"},sample:z=>(k=0,M(z))};return U}function yUe(e){let t;return()=>(t===void 0&&(t=e()),t)}const bUe=yUe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),xUe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ZC=10,wUe=2e4,CUe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!bbe(t.ease);function _Ue(e,t,{onUpdate:n,onComplete:r,...o}){if(!(bUe()&&xUe.has(t)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let s=!1,a,l;const u=()=>{l=new Promise(y=>{a=y})};u();let{keyframes:d,duration:f=300,ease:p,times:m}=o;if(CUe(t,o)){const y=D5({...o,repeat:0,delay:0});let w={done:!1,value:d[0]};const C=[];let _=0;for(;!w.done&&_<wUe;)w=y.sample(_),C.push(w.value),_+=ZC;m=void 0,d=C,f=_-ZC,p="linear"}const v=OHe(e.owner.current,t,d,{...o,duration:f,ease:p,times:m});o.syncStart&&(v.startTime=Po.isProcessing?Po.timestamp:document.timeline?document.timeline.currentTime:performance.now());const g=()=>v.cancel(),b=()=>{Un.update(g),a(),u()};return v.onfinish=()=>{e.set($He(d,o)),r&&r(),b()},{then(y,w){return l.then(y,w)},attachTimeline(y){return v.timeline=y,v.onfinish=null,Lr},get time(){return Su(v.currentTime||0)},set time(y){v.currentTime=pf(y)},get speed(){return v.playbackRate},set speed(y){v.playbackRate=y},get duration(){return Su(f)},play:()=>{s||(v.play(),Fu(g))},pause:()=>v.pause(),stop:()=>{if(s=!0,v.playState==="idle")return;const{currentTime:y}=v;if(y){const w=D5({...o,autoplay:!1});e.setWithVelocity(w.sample(y-ZC).value,w.sample(y).value,ZC)}b()},complete:()=>v.finish(),cancel:b}}function SUe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const o=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Lr,pause:Lr,stop:Lr,then:i=>(i(),Promise.resolve()),cancel:Lr,complete:Lr});return t?D5({keyframes:[0,1],duration:0,delay:t,onComplete:o}):o()}const EUe={type:"spring",stiffness:500,damping:25,restSpeed:10},kUe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),jUe={type:"keyframes",duration:.8},TUe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},AUe=(e,{keyframes:t})=>t.length>2?jUe:pm.has(e)?e.startsWith("scale")?kUe(t[1]):EUe:TUe,U$=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Rf.test(t)||t==="0")&&!t.startsWith("url(")),DUe=new Set(["brightness","contrast","saturate","opacity"]);function IUe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Mj)||[];if(!r)return e;const o=n.replace(r,"");let i=DUe.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const PUe=/([a-z-]*)\(.*?\)/g,W$={...Rf,getAnimatableNone:e=>{const t=e.match(PUe);return t?t.map(IUe).join(" "):e}},OUe={...nbe,color:Bi,backgroundColor:Bi,outlineColor:Bi,fill:Bi,stroke:Bi,borderColor:Bi,borderTopColor:Bi,borderRightColor:Bi,borderBottomColor:Bi,borderLeftColor:Bi,filter:W$,WebkitFilter:W$},gL=e=>OUe[e];function Hbe(e,t){let n=gL(e);return n!==W$&&(n=Rf),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Ube=e=>/^0[^.\s]+$/.test(e);function $Ue(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Ube(e)}function RUe(e,t,n,r){const o=U$(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const s=r.from!==void 0?r.from:e.get();let a;const l=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?s:i[u-1]),$Ue(i[u])&&l.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(o&&l.length&&a)for(let u=0;u<l.length;u++){const d=l[u];i[d]=Hbe(t,a)}return i}function MUe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:s,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function Wbe(e,t){return e[t]||e.default||e}const vL=(e,t,n,r={})=>o=>{const i=Wbe(r,e)||{},s=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-pf(s);const l=RUe(t,e,n,i),u=l[0],d=l[l.length-1],f=U$(e,u),p=U$(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:v=>{t.set(v),i.onUpdate&&i.onUpdate(v)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(MUe(i)||(m={...m,...AUe(e,m)}),m.duration&&(m.duration=pf(m.duration)),m.repeatDelay&&(m.repeatDelay=pf(m.repeatDelay)),!f||!p||PHe.current||i.type===!1)return SUe(m);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const v=_Ue(t,e,m);if(v)return v}return D5(m)};function I5(e){return!!(Ts(e)&&e.add)}const Ybe=e=>/^\-?\d*\.?\d+$/.test(e);function yL(e,t){e.indexOf(t)===-1&&e.push(t)}function bL(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class xL{constructor(){this.subscriptions=[]}add(t){return yL(this.subscriptions,t),()=>bL(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let i=0;i<o;i++){const s=this.subscriptions[i];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const FUe=e=>!isNaN(parseFloat(e));class LUe{constructor(t,n={}){this.version="10.16.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:s}=Po;this.lastUpdated!==s&&(this.timeDelta=i,this.lastUpdated=s,Un.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Un.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=FUe(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new xL);const r=this.events[t].add(n);return t==="change"?()=>{r(),Un.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Nbe(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vv(e,t){return new LUe(e,t)}const qbe=e=>t=>t.test(e),BUe={test:e=>e==="auto",parse:e=>e},Gbe=[mm,ot,Cc,_d,WVe,UVe,BUe],P1=e=>Gbe.find(qbe(e)),NUe=[...Gbe,Bi,Rf],zUe=e=>NUe.find(qbe(e));function VUe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Vv(n))}function HUe(e,t){const n=Lj(e,t);let{transitionEnd:r={},transition:o={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const s in i){const a=iHe(i[s]);VUe(e,s,a)}}function UUe(e,t,n){var r,o;const i=Object.keys(t).filter(a=>!e.hasValue(a)),s=i.length;if(s)for(let a=0;a<s;a++){const l=i[a],u=t[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(o=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&o!==void 0?o:t[l]),d!=null&&(typeof d=="string"&&(Ybe(d)||Ube(d))?d=parseFloat(d):!zUe(d)&&Rf.test(u)&&(d=Hbe(l,u)),e.addValue(l,Vv(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function WUe(e,t){return t?(t[e]||t.default||t).from:void 0}function YUe(e,t,n){const r={};for(const o in e){const i=WUe(o,t);if(i!==void 0)r[o]=i;else{const s=n.getValue(o);s&&(r[o]=s.get())}}return r}function qUe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Kbe(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(i=r);const u=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const f in a){const p=e.getValue(f),m=a[f];if(!p||m===void 0||d&&qUe(d,f))continue;const v={delay:n,elapsed:0,...i};if(window.HandoffAppearAnimations&&!p.hasAnimated){const b=e.getProps()[DHe];b&&(v.elapsed=window.HandoffAppearAnimations(b,f,p,Un),v.syncStart=!0)}p.start(vL(f,p,m,e.shouldReduceMotion&&pm.has(f)?{type:!1}:v));const g=p.animation;I5(l)&&(l.add(f),g.then(()=>l.remove(f))),u.push(g)}return s&&Promise.all(u).then(()=>{s&&HUe(e,s)}),u}function Y$(e,t,n={}){const r=Lj(e,t,n.custom);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(Kbe(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=o;return GUe(e,t,u+l,d,f,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[l,u]=a==="beforeChildren"?[i,s]:[s,i];return l().then(()=>u())}else return Promise.all([i(),s(n.delay)])}function GUe(e,t,n=0,r=0,o=1,i){const s=[],a=(e.variantChildren.size-1)*r,l=o===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(KUe).forEach((u,d)=>{u.notify("AnimationStart",t),s.push(Y$(u,t,{...i,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function KUe(e,t){return e.sortNodePosition(t)}function ZUe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(i=>Y$(e,i,n));r=Promise.all(o)}else if(typeof t=="string")r=Y$(e,t,n);else{const o=typeof t=="function"?Lj(e,t,n.custom):t;r=Promise.all(Kbe(e,o,n))}return r.then(()=>e.notify("AnimationComplete",t))}const XUe=[...nL].reverse(),QUe=nL.length;function JUe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>ZUe(e,n,r)))}function eWe(e){let t=JUe(e);const n=nWe();let r=!0;const o=(l,u)=>{const d=Lj(e,u);if(d){const{transition:f,transitionEnd:p,...m}=d;l={...l,...m,...p}}return l};function i(l){t=l(e)}function s(l,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},p=[],m=new Set;let v={},g=1/0;for(let x=0;x<QUe;x++){const y=XUe[x],w=n[y],C=d[y]!==void 0?d[y]:f[y],_=Jb(C),S=y===u?w.isActive:null;S===!1&&(g=x);let E=C===f[y]&&C!==d[y]&&_;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),w.protectedKeys={...v},!w.isActive&&S===null||!C&&!w.prevProp||$j(C)||typeof C=="boolean")continue;const j=tWe(w.prevProp,C);let k=j||y===u&&w.isActive&&!E&&_||x>g&&_;const T=Array.isArray(C)?C:[C];let A=T.reduce(o,{});S===!1&&(A={});const{prevResolvedValues:D={}}=w,I={...D,...A},P=M=>{k=!0,m.delete(M),w.needsAnimating[M]=!0};for(const M in I){const $=A[M],V=D[M];v.hasOwnProperty(M)||($!==V?j5($)&&j5(V)?!vbe($,V)||j?P(M):w.protectedKeys[M]=!0:$!==void 0?P(M):m.add(M):$!==void 0&&m.has(M)?P(M):w.protectedKeys[M]=!0)}w.prevProp=C,w.prevResolvedValues=A,w.isActive&&(v={...v,...A}),r&&e.blockInitialAnimation&&(k=!1),k&&!E&&p.push(...T.map(M=>({animation:M,options:{type:y,...l}})))}if(m.size){const x={};m.forEach(y=>{const w=e.getBaseTarget(y);w!==void 0&&(x[y]=w)}),p.push({animation:x})}let b=!!p.length;return r&&d.initial===!1&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(p):Promise.resolve()}function a(l,u,d){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(l,u)}),n[l].isActive=u;const p=s(d,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:s,setActive:a,setAnimateFunction:i,getState:()=>n}}function tWe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!vbe(t,e):!1}function bh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nWe(){return{animate:bh(!0),whileInView:bh(),whileHover:bh(),whileTap:bh(),whileDrag:bh(),whileFocus:bh(),exit:bh()}}class rWe extends Jf{constructor(t){super(t),t.animationState||(t.animationState=eWe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),$j(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let oWe=0;class iWe extends Jf{constructor(){super(...arguments),this.id=oWe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const sWe={animation:{Feature:rWe},exit:{Feature:iWe}},FH=(e,t)=>Math.abs(e-t);function aWe(e,t){const n=FH(e.x,t.x),r=FH(e.y,t.y);return Math.sqrt(n**2+r**2)}class Zbe{constructor(t,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=oI(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,f=aWe(u.offset,{x:0,y:0})>=3;if(!d&&!f)return;const{point:p}=u,{timestamp:m}=Po;this.history.push({...p,timestamp:m});const{onStart:v,onMove:g}=this.handlers;d||(v&&v(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,u)},this.handlePointerMove=(u,d)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=rI(d,this.transformPagePoint),Un.update(this.updatePoint,!0)},this.handlePointerUp=(u,d)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:f,onSessionEnd:p}=this.handlers,m=oI(u.type==="pointercancel"?this.lastMoveEventInfo:rI(d,this.transformPagePoint),this.history);this.startEvent&&f&&f(u,m),p&&p(u,m)},!fbe(t))return;this.handlers=n,this.transformPagePoint=r;const o=Fj(t),i=rI(o,this.transformPagePoint),{point:s}=i,{timestamp:a}=Po;this.history=[{...s,timestamp:a}];const{onSessionStart:l}=n;l&&l(t,oI(i,this.history)),this.removeListeners=hf(_u(window,"pointermove",this.handlePointerMove),_u(window,"pointerup",this.handlePointerUp),_u(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Fu(this.updatePoint)}}function rI(e,t){return t?{point:t(e.point)}:e}function LH(e,t){return{x:e.x-t.x,y:e.y-t.y}}function oI({point:e},t){return{point:e,delta:LH(e,Xbe(t)),offset:LH(e,lWe(t)),velocity:cWe(t,.1)}}function lWe(e){return e[0]}function Xbe(e){return e[e.length-1]}function cWe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=Xbe(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>pf(t)));)n--;if(!r)return{x:0,y:0};const i=Su(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function oa(e){return e.max-e.min}function q$(e,t=0,n=.01){return Math.abs(e-t)<=n}function BH(e,t,n,r=.5){e.origin=r,e.originPoint=Tr(t.min,t.max,e.origin),e.scale=oa(n)/oa(t),(q$(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Tr(n.min,n.max,e.origin)-e.originPoint,(q$(e.translate)||isNaN(e.translate))&&(e.translate=0)}function nb(e,t,n,r){BH(e.x,t.x,n.x,r?r.originX:void 0),BH(e.y,t.y,n.y,r?r.originY:void 0)}function NH(e,t,n){e.min=n.min+t.min,e.max=e.min+oa(t)}function uWe(e,t,n){NH(e.x,t.x,n.x),NH(e.y,t.y,n.y)}function zH(e,t,n){e.min=t.min-n.min,e.max=e.min+oa(t)}function rb(e,t,n){zH(e.x,t.x,n.x),zH(e.y,t.y,n.y)}function dWe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Tr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Tr(n,e,r.max):Math.min(e,n)),e}function VH(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function fWe(e,{top:t,left:n,bottom:r,right:o}){return{x:VH(e.x,n,o),y:VH(e.y,t,r)}}function HH(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function hWe(e,t){return{x:HH(e.x,t.x),y:HH(e.y,t.y)}}function pWe(e,t){let n=.5;const r=oa(e),o=oa(t);return o>r?n=tx(t.min,t.max-r,e.min):r>o&&(n=tx(e.min,e.max-o,t.min)),$f(0,1,n)}function mWe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const G$=.35;function gWe(e=G$){return e===!1?e=0:e===!0&&(e=G$),{x:UH(e,"left","right"),y:UH(e,"top","bottom")}}function UH(e,t,n){return{min:WH(e,t),max:WH(e,n)}}function WH(e,t){return typeof e=="number"?e:e[t]||0}const YH=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lg=()=>({x:YH(),y:YH()}),qH=()=>({min:0,max:0}),ro=()=>({x:qH(),y:qH()});function tc(e){return[e("x"),e("y")]}function Qbe({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function vWe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function yWe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function iI(e){return e===void 0||e===1}function K$({scale:e,scaleX:t,scaleY:n}){return!iI(e)||!iI(t)||!iI(n)}function Rh(e){return K$(e)||Jbe(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Jbe(e){return GH(e.x)||GH(e.y)}function GH(e){return e&&e!=="0%"}function P5(e,t,n){const r=e-n,o=t*r;return n+o}function KH(e,t,n,r,o){return o!==void 0&&(e=P5(e,o,r)),P5(e,n,r)+t}function Z$(e,t=0,n=1,r,o){e.min=KH(e.min,t,n,r,o),e.max=KH(e.max,t,n,r,o)}function exe(e,{x:t,y:n}){Z$(e.x,t.translate,t.scale,t.originPoint),Z$(e.y,n.translate,n.scale,n.originPoint)}function bWe(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let i,s;for(let a=0;a<o;a++){i=n[a],s=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Bg(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,exe(e,s)),r&&Rh(i.latestValues)&&Bg(e,i.latestValues))}t.x=ZH(t.x),t.y=ZH(t.y)}function ZH(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Ad(e,t){e.min=e.min+t,e.max=e.max+t}function XH(e,t,[n,r,o]){const i=t[o]!==void 0?t[o]:.5,s=Tr(e.min,e.max,i);Z$(e,t[n],t[r],s,t.scale)}const xWe=["x","scaleX","originX"],wWe=["y","scaleY","originY"];function Bg(e,t){XH(e.x,t,xWe),XH(e.y,t,wWe)}function txe(e,t){return Qbe(yWe(e.getBoundingClientRect(),t))}function CWe(e,t,n){const r=txe(e,n),{scroll:o}=t;return o&&(Ad(r.x,o.offset.x),Ad(r.y,o.offset.y)),r}const _We=new WeakMap;class SWe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ro(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=l=>{this.stopAnimation(),n&&this.snapToCursor(Fj(l,"page").point)},i=(l,u)=>{const{drag:d,dragPropagation:f,onDragStart:p}=this.getProps();if(d&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=pbe(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tc(v=>{let g=this.getAxisMotionValue(v).get()||0;if(Cc.test(g)){const{projection:b}=this.visualElement;if(b&&b.layout){const x=b.layout.layoutBox[v];x&&(g=oa(x)*(parseFloat(g)/100))}}this.originPoint[v]=g}),p&&Un.update(()=>p(l,u),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(l,u)=>{const{dragPropagation:d,dragDirectionLock:f,onDirectionLock:p,onDrag:m}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:v}=u;if(f&&this.currentDirection===null){this.currentDirection=EWe(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",u.point,v),this.updateAxis("y",u.point,v),this.visualElement.render(),m&&m(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new Zbe(t,{onSessionStart:o,onStart:i,onMove:s,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&Un.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!XC(t,o,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=dWe(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},o=this.constraints;t&&Mg(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=fWe(r.layoutBox,t):this.constraints=!1,this.elastic=gWe(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&tc(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=mWe(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Mg(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=CWe(r,o.root,this.visualElement.getTransformPagePoint());let s=hWe(o.layout.layoutBox,i);if(n){const a=n(vWe(s));this.hasMutatedConstraints=!!a,a&&(s=Qbe(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=tc(d=>{if(!XC(d,n,this.currentDirection))return;let f=l&&l[d]||{};s&&(f={min:0,max:0});const p=o?200:1e6,m=o?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(vL(t,r,0,n))}stopAnimation(){tc(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){tc(n=>{const{drag:r}=this.getProps();if(!XC(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:s,max:a}=o.layout.layoutBox[n];i.set(t[n]-Tr(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Mg(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};tc(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();o[s]=pWe({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),tc(s=>{if(!XC(s,t,null))return;const a=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];a.set(Tr(l,u,o[s]))})}addListeners(){if(!this.visualElement.current)return;_We.set(this.visualElement,this);const t=this.visualElement.current,n=_u(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Mg(l)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const s=gu(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(tc(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:s=G$,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function XC(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function EWe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class kWe extends Jf{constructor(t){super(t),this.removeGroupControls=Lr,this.removeListeners=Lr,this.controls=new SWe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Lr}unmount(){this.removeGroupControls(),this.removeListeners()}}const QH=e=>(t,n)=>{e&&Un.update(()=>e(t,n))};class jWe extends Jf{constructor(){super(...arguments),this.removePointerDownListener=Lr}onPointerDown(t){this.session=new Zbe(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:QH(t),onStart:QH(n),onMove:r,onEnd:(i,s)=>{delete this.session,o&&Un.update(()=>o(i,s))}}}mount(){this.removePointerDownListener=_u(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function TWe(){const e=h.useContext(Pj);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=h.useId();return h.useEffect(()=>r(o),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}const H2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function JH(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const O1={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ot.test(e))e=parseFloat(e);else return e;const n=JH(e,t.target.x),r=JH(e,t.target.y);return`${n}% ${r}%`}},AWe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=Rf.parse(e);if(o.length>5)return r;const i=Rf.createTransformer(e),s=typeof o[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;o[0+s]/=a,o[1+s]/=l;const u=Tr(a,l,.5);return typeof o[2+s]=="number"&&(o[2+s]/=u),typeof o[3+s]=="number"&&(o[3+s]/=u),i(o)}};class DWe extends re.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=t;FVe(IWe),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),H2.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,s=r.projection;return s&&(s.isPresent=i,o||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||Un.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function nxe(e){const[t,n]=TWe(),r=h.useContext(oL);return re.createElement(DWe,{...e,layoutGroup:r,switchLayoutGroup:h.useContext(Xye),isPresent:t,safeToRemove:n})}const IWe={borderRadius:{...O1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:O1,borderTopRightRadius:O1,borderBottomLeftRadius:O1,borderBottomRightRadius:O1,boxShadow:AWe},rxe=["TopLeft","TopRight","BottomLeft","BottomRight"],PWe=rxe.length,eU=e=>typeof e=="string"?parseFloat(e):e,tU=e=>typeof e=="number"||ot.test(e);function OWe(e,t,n,r,o,i){o?(e.opacity=Tr(0,n.opacity!==void 0?n.opacity:1,$We(r)),e.opacityExit=Tr(t.opacity!==void 0?t.opacity:1,0,RWe(r))):i&&(e.opacity=Tr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<PWe;s++){const a=`border${rxe[s]}Radius`;let l=nU(t,a),u=nU(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||tU(l)===tU(u)?(e[a]=Math.max(Tr(eU(l),eU(u),r),0),(Cc.test(u)||Cc.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Tr(t.rotate||0,n.rotate||0,r))}function nU(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const $We=oxe(0,.5,hL),RWe=oxe(.5,.95,Lr);function oxe(e,t,n){return r=>r<e?0:r>t?1:n(tx(e,t,r))}function rU(e,t){e.min=t.min,e.max=t.max}function va(e,t){rU(e.x,t.x),rU(e.y,t.y)}function oU(e,t,n,r,o){return e-=t,e=P5(e,1/n,r),o!==void 0&&(e=P5(e,1/o,r)),e}function MWe(e,t=0,n=1,r=.5,o,i=e,s=e){if(Cc.test(t)&&(t=parseFloat(t),t=Tr(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=Tr(i.min,i.max,r);e===i&&(a-=t),e.min=oU(e.min,t,n,a,o),e.max=oU(e.max,t,n,a,o)}function iU(e,t,[n,r,o],i,s){MWe(e,t[n],t[r],t[o],t.scale,i,s)}const FWe=["x","scaleX","originX"],LWe=["y","scaleY","originY"];function sU(e,t,n,r){iU(e.x,t,FWe,n?n.x:void 0,r?r.x:void 0),iU(e.y,t,LWe,n?n.y:void 0,r?r.y:void 0)}function aU(e){return e.translate===0&&e.scale===1}function ixe(e){return aU(e.x)&&aU(e.y)}function BWe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function sxe(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function lU(e){return oa(e.x)/oa(e.y)}class NWe{constructor(){this.members=[]}add(t){yL(this.members,t),t.scheduleRender()}remove(t){if(bL(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cU(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=e.x.scale*t.x,a=e.y.scale*t.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const zWe=(e,t)=>e.depth-t.depth;class VWe{constructor(){this.children=[],this.isDirty=!1}add(t){yL(this.children,t),this.isDirty=!0}remove(t){bL(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(zWe),this.isDirty=!1,this.children.forEach(t)}}function HWe(e,t){const n=performance.now(),r=({timestamp:o})=>{const i=o-n;i>=t&&(Fu(r),e(i-t))};return Un.read(r,!0),()=>Fu(r)}function UWe(e){window.MotionDebug&&window.MotionDebug.record(e)}function WWe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function YWe(e,t,n){const r=Ts(e)?e:Vv(e);return r.start(vL("",r,t,n)),r.animation}const uU=["","X","Y","Z"],dU=1e3;let qWe=0;const Mh={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function axe({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(s={},a=t==null?void 0:t()){this.id=qWe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Mh.totalNodes=Mh.resolvedTargetDeltas=Mh.recalculatedProjection=0,this.nodes.forEach(ZWe),this.nodes.forEach(tYe),this.nodes.forEach(nYe),this.nodes.forEach(XWe),UWe(Mh)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new VWe)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new xL),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=WWe(s),this.instance=s;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let f;const p=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=HWe(p,250),H2.hasAnimatedSinceResize&&(H2.hasAnimatedSinceResize=!1,this.nodes.forEach(hU))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||aYe,{onLayoutAnimationStart:b,onLayoutAnimationComplete:x}=d.getProps(),y=!this.targetLayout||!sxe(this.targetLayout,v)||m,w=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const C={...Wbe(g,"layout"),onPlay:b,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else p||hU(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Fu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rYe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fU);return}this.isUpdating||this.nodes.forEach(JWe),this.isUpdating=!1,this.nodes.forEach(eYe),this.nodes.forEach(GWe),this.nodes.forEach(KWe),this.clearAllSnapshots();const a=performance.now();Po.delta=$f(0,1e3/60,a-Po.timestamp),Po.timestamp=a,Po.isProcessing=!0,KD.update.process(Po),KD.preRender.process(Po),KD.render.process(Po),Po.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(QWe),this.sharedNodes.forEach(oYe)}scheduleUpdateProjection(){Un.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Un.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ro(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!ixe(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&(a||Rh(this.latestValues)||d)&&(o(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),lYe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return ro();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Ad(a.x,l.offset.x),Ad(a.y,l.offset.y)),a}removeElementScroll(s){const a=ro();va(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){va(a,s);const{scroll:p}=this.root;p&&(Ad(a.x,-p.offset.x),Ad(a.y,-p.offset.y))}Ad(a.x,d.offset.x),Ad(a.y,d.offset.y)}}return a}applyTransform(s,a=!1){const l=ro();va(l,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Bg(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Rh(d.latestValues)&&Bg(l,d.latestValues)}return Rh(this.latestValues)&&Bg(l,this.latestValues),l}removeTransform(s){const a=ro();va(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Rh(u.latestValues))continue;K$(u.latestValues)&&u.updateSnapshot();const d=ro(),f=u.measurePageBox();va(d,f),sU(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Rh(this.latestValues)&&sU(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Po.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Po.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ro(),this.relativeTargetOrigin=ro(),rb(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),va(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ro(),this.targetWithTransforms=ro()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uWe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):va(this.target,this.layout.layoutBox),exe(this.target,this.targetDelta)):va(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ro(),this.relativeTargetOrigin=ro(),rb(this.relativeTargetOrigin,this.target,m.target),va(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Mh.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||K$(this.parent.latestValues)||Jbe(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Po.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;va(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;bWe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=Lg(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Lg(),this.projectionDeltaWithTransform=Lg());const g=this.projectionTransform;nb(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=cU(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Mh.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},f=Lg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=ro(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,g=m!==v,b=this.getStack(),x=!b||b.members.length<=1,y=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(sYe));this.animationProgress=0;let w;this.mixTargetDelta=C=>{const _=C/1e3;pU(f.x,s.x,_),pU(f.y,s.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rb(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),iYe(this.relativeTarget,this.relativeTargetOrigin,p,_),w&&BWe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=ro()),va(w,this.relativeTarget)),g&&(this.animationValues=d,OWe(d,u,this.latestValues,_,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Fu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Un.update(()=>{H2.hasAnimatedSinceResize=!0,this.currentAnimation=YWe(0,dU,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=s;if(!(!a||!l||!u)){if(this!==s&&this.layout&&u&&lxe(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||ro();const f=oa(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const p=oa(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+p}va(a,l),Bg(a,d),nb(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new NWe),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<uU.length;d++){const f="rotate"+uU[d];l[f]&&(u[f]=l[f],s.setStaticValue(f,0))}s.render();for(const d in u)s.setStaticValue(d,u[d]);s.scheduleRender()}getProjectionStyles(s={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=V2(s.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=V2(s.pointerEvents)||""),this.hasProjected&&!Rh(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=cU(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:m,y:v}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const g in E5){if(p[g]===void 0)continue;const{correct:b,applyTo:x}=E5[g],y=u.transform==="none"?p[g]:b(p[g],f);if(x){const w=x.length;for(let C=0;C<w;C++)u[x[C]]=y}else u[g]=y}return this.options.layoutId&&(u.pointerEvents=f===this?V2(s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(fU),this.root.sharedNodes.clear()}}}function GWe(e){e.updateLayout()}function KWe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;i==="size"?tc(f=>{const p=s?n.measuredBox[f]:n.layoutBox[f],m=oa(p);p.min=r[f].min,p.max=p.min+m}):lxe(i,n.layoutBox,r)&&tc(f=>{const p=s?n.measuredBox[f]:n.layoutBox[f],m=oa(r[f]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const a=Lg();nb(a,r,n.layoutBox);const l=Lg();s?nb(l,e.applyTransform(o,!0),n.measuredBox):nb(l,r,n.layoutBox);const u=!ixe(a);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const v=ro();rb(v,n.layoutBox,p.layoutBox);const g=ro();rb(g,r,m.layoutBox),sxe(v,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function ZWe(e){Mh.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function XWe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function QWe(e){e.clearSnapshot()}function fU(e){e.clearMeasurements()}function JWe(e){e.isLayoutDirty=!1}function eYe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function hU(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function tYe(e){e.resolveTargetDelta()}function nYe(e){e.calcProjection()}function rYe(e){e.resetRotation()}function oYe(e){e.removeLeadSnapshot()}function pU(e,t,n){e.translate=Tr(t.translate,0,n),e.scale=Tr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function mU(e,t,n,r){e.min=Tr(t.min,n.min,r),e.max=Tr(t.max,n.max,r)}function iYe(e,t,n,r){mU(e.x,t.x,n.x,r),mU(e.y,t.y,n.y,r)}function sYe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const aYe={duration:.45,ease:[.4,0,.1,1]},gU=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),vU=gU("applewebkit/")&&!gU("chrome/")?Math.round:Lr;function yU(e){e.min=vU(e.min),e.max=vU(e.max)}function lYe(e){yU(e.x),yU(e.y)}function lxe(e,t,n){return e==="position"||e==="preserve-aspect"&&!q$(lU(t),lU(n),.2)}const cYe=axe({attachResizeListener:(e,t)=>gu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sI={current:void 0},cxe=axe({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!sI.current){const e=new cYe({});e.mount(window),e.setOptions({layoutScroll:!0}),sI.current=e}return sI.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),uYe={pan:{Feature:jWe},drag:{Feature:kWe,ProjectionNode:cxe,MeasureLayout:nxe}},dYe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function fYe(e){const t=dYe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function X$(e,t,n=1){const[r,o]=fYe(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const s=i.trim();return Ybe(s)?parseFloat(s):s}else return N$(o)?X$(o,t,n+1):o}function hYe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(o=>{const i=o.get();if(!N$(i))return;const s=X$(i,r);s&&o.set(s)});for(const o in t){const i=t[o];if(!N$(i))continue;const s=X$(i,r);s&&(t[o]=s,n||(n={}),n[o]===void 0&&(n[o]=i))}return{target:t,transitionEnd:n}}const pYe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),uxe=e=>pYe.has(e),mYe=e=>Object.keys(e).some(uxe),bU=e=>e===mm||e===ot,xU=(e,t)=>parseFloat(e.split(", ")[t]),wU=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return xU(o[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?xU(i[1],e):0}},gYe=new Set(["x","y","z"]),vYe=mw.filter(e=>!gYe.has(e));function yYe(e){const t=[];return vYe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Hv={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:wU(4,13),y:wU(5,14)};Hv.translateX=Hv.x;Hv.translateY=Hv.y;const bYe=(e,t,n)=>{const r=t.measureViewportBox(),o=t.current,i=getComputedStyle(o),{display:s}=i,a={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=Hv[u](r,i)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(a[u]),e[u]=Hv[u](l,i)}),e},xYe=(e,t,n={},r={})=>{t={...t},r={...r};const o=Object.keys(t).filter(uxe);let i=[],s=!1;const a=[];if(o.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=P1(d);const p=t[l];let m;if(j5(p)){const v=p.length,g=p[0]===null?1:0;d=p[g],f=P1(d);for(let b=g;b<v&&p[b]!==null;b++)m?Bj(P1(p[b])===m):m=P1(p[b])}else m=P1(p);if(f!==m)if(bU(f)&&bU(m)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof p=="string"?t[l]=parseFloat(p):Array.isArray(p)&&m===ot&&(t[l]=p.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||p===0)?d===0?u.set(m.transform(d)):t[l]=f.transform(p):(s||(i=yYe(e),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=bYe(t,e,a);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),Oj&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function wYe(e,t,n,r){return mYe(t)?xYe(e,t,n,r):{target:t,transitionEnd:r}}const CYe=(e,t,n,r)=>{const o=hYe(e,t,r);return t=o.target,r=o.transitionEnd,wYe(e,t,n,r)},Q$={current:null},dxe={current:!1};function _Ye(){if(dxe.current=!0,!!Oj)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Q$.current=e.matches;e.addListener(t),t()}else Q$.current=!1}function SYe(e,t,n){const{willChange:r}=t;for(const o in t){const i=t[o],s=n[o];if(Ts(i))e.addValue(o,i),I5(r)&&r.add(o);else if(Ts(s))e.addValue(o,Vv(i,{owner:e})),I5(r)&&r.remove(o);else if(s!==i)if(e.hasValue(o)){const a=e.getValue(o);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(o);e.addValue(o,Vv(a!==void 0?a:i,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const CU=new WeakMap,fxe=Object.keys(ex),EYe=fxe.length,_U=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],kYe=rL.length;class jYe{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Un.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.isControllingVariants=Rj(n),this.isVariantNode=Zye(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];a[f]!==void 0&&Ts(p)&&(p.set(a[f],!1),I5(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,CU.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),dxe.current||_Ye(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Q$.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){CU.delete(this.current),this.projection&&this.projection.unmount(),Fu(this.notifyUpdate),Fu(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=pm.has(t),o=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&Un.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{o(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,o,i){let s,a;for(let l=0;l<EYe;l++){const u=fxe[l],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=ex[u];p&&(s=p),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(a=m))}if(!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||f&&Mg(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ro()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<_U.length;r++){const o=_U[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i=t["on"+o];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=SYe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<kYe;r++){const o=rL[r],i=this.props[o];(Jb(i)||i===!1)&&(n[o]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Vv(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=fL(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Ts(i)?i:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new xL),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class hxe extends jYe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:o},i){let s=YUe(r,t||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),s&&(s=o(s))),i){UUe(this,r,s);const a=CYe(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function TYe(e){return window.getComputedStyle(e)}class AYe extends hxe{readValueFromInstance(t,n){if(pm.has(n)){const r=gL(n);return r&&r.default||0}else{const r=TYe(t),o=(ebe(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return txe(t,n)}build(t,n,r,o){sL(t,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(t,n){return dL(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ts(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,o){sbe(t,n,r,o)}}class DYe extends hxe{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(pm.has(n)){const r=gL(n);return r&&r.default||0}return n=abe.has(n)?n:uL(n),t.getAttribute(n)}measureInstanceViewportBox(){return ro()}scrapeMotionValuesFromProps(t,n){return cbe(t,n)}build(t,n,r,o){lL(t,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(t,n,r,o){lbe(t,n,r,o)}mount(t){this.isSVGTag=cL(t.tagName),super.mount(t)}}const IYe=(e,t)=>iL(e)?new DYe(t,{enableHardwareAcceleration:!1}):new AYe(t,{enableHardwareAcceleration:!0}),PYe={layout:{ProjectionNode:cxe,MeasureLayout:nxe}},OYe={...sWe,...kHe,...uYe,...PYe},Nj=RVe((e,t)=>hHe(e,t,OYe,IYe));function pxe(){const e=h.useRef(!1);return tL(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function $Ye(){const e=pxe(),[t,n]=h.useState(0),r=h.useCallback(()=>{e.current&&n(t+1)},[t]);return[h.useCallback(()=>Un.postRender(r),[r]),t]}class RYe extends h.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function MYe({children:e,isPresent:t}){const n=h.useId(),r=h.useRef(null),o=h.useRef({width:0,height:0,top:0,left:0});return h.useInsertionEffect(()=>{const{width:i,height:s,top:a,left:l}=o.current;if(t||!r.current||!i||!s)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),h.createElement(RYe,{isPresent:t,childRef:r,sizeRef:o},h.cloneElement(e,{ref:r}))}const aI=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:i,mode:s})=>{const a=ube(FYe),l=h.useId(),u=h.useMemo(()=>({id:l,initial:t,isPresent:n,custom:o,onExitComplete:d=>{a.set(d,!0);for(const f of a.values())if(!f)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),i?void 0:[n]);return h.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[n]),h.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(e=h.createElement(MYe,{isPresent:n},e)),h.createElement(Pj.Provider,{value:u},e)};function FYe(){return new Map}function LYe(e){return h.useEffect(()=>()=>e(),[])}const dg=e=>e.key||"";function BYe(e,t){e.forEach(n=>{const r=dg(n);t.set(r,n)})}function NYe(e){const t=[];return h.Children.forEach(e,n=>{h.isValidElement(n)&&t.push(n)}),t}const wL=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:i=!0,mode:s="sync"})=>{const a=h.useContext(oL).forceRender||$Ye()[0],l=pxe(),u=NYe(e);let d=u;const f=h.useRef(new Map).current,p=h.useRef(d),m=h.useRef(new Map).current,v=h.useRef(!0);if(tL(()=>{v.current=!1,BYe(u,m),p.current=d}),LYe(()=>{v.current=!0,m.clear(),f.clear()}),v.current)return h.createElement(h.Fragment,null,d.map(y=>h.createElement(aI,{key:dg(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:s},y)));d=[...d];const g=p.current.map(dg),b=u.map(dg),x=g.length;for(let y=0;y<x;y++){const w=g[y];b.indexOf(w)===-1&&!f.has(w)&&f.set(w,void 0)}return s==="wait"&&f.size&&(d=[]),f.forEach((y,w)=>{if(b.indexOf(w)!==-1)return;const C=m.get(w);if(!C)return;const _=g.indexOf(w);let S=y;if(!S){const E=()=>{m.delete(w),f.delete(w);const j=p.current.findIndex(k=>k.key===w);if(p.current.splice(j,1),!f.size){if(p.current=u,l.current===!1)return;a(),r&&r()}};S=h.createElement(aI,{key:dg(C),isPresent:!1,onExitComplete:E,custom:t,presenceAffectsLayout:i,mode:s},C),f.set(w,S)}d.splice(_,0,S)}),d=d.map(y=>{const w=y.key;return f.has(w)?y:h.createElement(aI,{key:dg(y),isPresent:!0,presenceAffectsLayout:i,mode:s},y)}),h.createElement(h.Fragment,null,f.size?d:d.map(y=>h.cloneElement(y)))};function zYe(e,t,n){var r;if(typeof e=="string"){let o=document;t&&(Bj(!!t.current),o=t.current),n?((r=n[e])!==null&&r!==void 0||(n[e]=o.querySelectorAll(e)),e=n[e]):e=o.querySelectorAll(e)}else e instanceof Element&&(e=[e]);return Array.from(e||[])}const VYe={some:0,all:1};function HYe(e,t,{root:n,margin:r,amount:o="some"}={}){const i=zYe(e),s=new WeakMap,a=u=>{u.forEach(d=>{const f=s.get(d.target);if(d.isIntersecting!==!!f)if(d.isIntersecting){const p=t(d);typeof p=="function"?s.set(d.target,p):l.unobserve(d.target)}else f&&(f(d),s.delete(d.target))})},l=new IntersectionObserver(a,{root:n,rootMargin:r,threshold:typeof o=="number"?o:VYe[o]});return i.forEach(u=>l.observe(u)),()=>l.disconnect()}function UYe(e,{root:t,margin:n,amount:r,once:o=!1}={}){const[i,s]=h.useState(!1);return h.useEffect(()=>{if(!e.current||o&&i)return;const a=()=>(s(!0),o?void 0:()=>s(!1)),l={root:t&&t.current||void 0,margin:n,amount:r};return HYe(e.current,a,l)},[t,e,n,o]),i}const bw=[],mf={},mxe={top:"bottom",right:"left",bottom:"top",left:"right"};function WYe(e,t){return e.reduce((n,r)=>(n[r]=t,n),{})}function ge(e){return e===0?0:"".concat(e/16,"rem")}function dt(e,t,n){return((t==null?void 0:t.map(n))||[]).map((o,i)=>i===0?o:{["@media screen and (min-width: ".concat(e[i-1],"px)")]:o})}function YYe(e,t){return e===void 0?t||bw:Array.isArray(e)?e:[e]}function ps(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:bw;if(!Array.isArray(n))throw new Error("the property must be array of numbers");return n.length===0?null:dt(e.sanity.media,n,r=>WYe(t,ge(e.sanity.space[r])))}function Uv(e,t){const{$size:n,$weight:r,theme:o}=t,{fonts:i,media:s}=o.sanity,{family:a,sizes:l,weights:u}=i[e],d=r&&u[r]||u.regular,f=l[2],p={position:"relative",fontFamily:a,fontWeight:d,padding:"1px 0",margin:0,"&:before":{content:'""',display:"block",height:0},"&:after":{content:'""',display:"block",height:0},"& > code, & > span":{display:"block"},"&:not([hidden])":{display:"block"}};if(!n)return Uv.warned||(console.warn("No size specified for responsive font",{fontKey:e,$size:n,props:t,base:p}),Uv.warned=!0),[p];const m=dt(s,n,v=>qYe(l[v]||f));return[p,...m]}function qYe(e){const{ascenderHeight:t,descenderHeight:n,fontSize:r,iconSize:o,letterSpacing:i,lineHeight:s}=e,a=t+n,l=s-a,u=(l-o)/2,d=Math.floor(r*1.125/2)*2+1,f=(l-d)/2;return{fontSize:ge(r),lineHeight:"calc(".concat(s," / ").concat(r,")"),letterSpacing:ge(i),transform:"translateY(".concat(ge(n),")"),"&:before":{marginTop:"calc(".concat(ge(0-a)," - 1px)")},"&:after":{marginBottom:"-1px"},"& svg:not([data-sanity-icon])":{fontSize:"calc(".concat(d," / 16 * 1rem)"),margin:ge(f)},"& [data-sanity-icon]":{fontSize:"calc(".concat(o," / 16 * 1rem)"),margin:ge(u)}}}function GYe(e){return Uv("code",e)}function KYe(e){return Uv("heading",e)}function ZYe(e){return Uv("label",e)}function CL(e){const{theme:t}=e;return dt(t.sanity.media,e.$align,n=>({textAlign:n}))}function XYe(e){return Uv("text",e)}function ve(e,t){const n=h.useMemo(()=>JSON.stringify(e??t),[t,e]);return h.useMemo(()=>YYe(e,t),[n])}function SU(e,t){const n=[e];for(const r of t)Array.isArray(r)?n.push(...r):n.push(r);return n.filter(Boolean)}function Vr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bw,n=arguments.length>2?arguments[2]:void 0;const[r,o]=h.useState(null),[i,s]=h.useState(()=>SU(r,t)),a=h.useRef(i);return h.useEffect(()=>{const l=a.current,u=SU(r,t);if(l.length!==u.length){s(u),a.current=u;return}for(const d of l)if(!u.includes(d)){s(u),a.current=u;return}for(const d of u)if(!l.includes(d)){s(u),a.current=u;return}},[r,t]),h.useEffect(()=>{if(!e)return;const l=u=>{const d=u.target;if(d instanceof Node&&!(n&&!n.contains(d))){for(const f of i)if(d===f||f.contains(d))return;e(u)}};return window.addEventListener("mousedown",l),()=>{window.removeEventListener("mousedown",l)}},[n,e,i]),o}var _p=[],QYe=function(){return _p.some(function(e){return e.activeTargets.length>0})},JYe=function(){return _p.some(function(e){return e.skippedTargets.length>0})},EU="ResizeObserver loop completed with undelivered notifications.",eqe=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:EU}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=EU),window.dispatchEvent(e)},nx;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(nx||(nx={}));var Sp=function(e){return Object.freeze(e)},tqe=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,Sp(this)}return e}(),gxe=function(){function e(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Sp(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,o=t.top,i=t.right,s=t.bottom,a=t.left,l=t.width,u=t.height;return{x:n,y:r,top:o,right:i,bottom:s,left:a,width:l,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),_L=function(e){return e instanceof SVGElement&&"getBBox"in e},vxe=function(e){if(_L(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,i=o.offsetWidth,s=o.offsetHeight;return!(i||s||e.getClientRects().length)},kU=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},nqe=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},ob=typeof window<"u"?window:{},QC=new WeakMap,jU=/auto|scroll/,rqe=/^tb|vertical/,oqe=/msie|trident/i.test(ob.navigator&&ob.navigator.userAgent),Yl=function(e){return parseFloat(e||"0")},tv=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new tqe((n?t:e)||0,(n?e:t)||0)},TU=Sp({devicePixelContentBoxSize:tv(),borderBoxSize:tv(),contentBoxSize:tv(),contentRect:new gxe(0,0,0,0)}),yxe=function(e,t){if(t===void 0&&(t=!1),QC.has(e)&&!t)return QC.get(e);if(vxe(e))return QC.set(e,TU),TU;var n=getComputedStyle(e),r=_L(e)&&e.ownerSVGElement&&e.getBBox(),o=!oqe&&n.boxSizing==="border-box",i=rqe.test(n.writingMode||""),s=!r&&jU.test(n.overflowY||""),a=!r&&jU.test(n.overflowX||""),l=r?0:Yl(n.paddingTop),u=r?0:Yl(n.paddingRight),d=r?0:Yl(n.paddingBottom),f=r?0:Yl(n.paddingLeft),p=r?0:Yl(n.borderTopWidth),m=r?0:Yl(n.borderRightWidth),v=r?0:Yl(n.borderBottomWidth),g=r?0:Yl(n.borderLeftWidth),b=f+u,x=l+d,y=g+m,w=p+v,C=a?e.offsetHeight-w-e.clientHeight:0,_=s?e.offsetWidth-y-e.clientWidth:0,S=o?b+y:0,E=o?x+w:0,j=r?r.width:Yl(n.width)-S-_,k=r?r.height:Yl(n.height)-E-C,T=j+b+_+y,A=k+x+C+w,D=Sp({devicePixelContentBoxSize:tv(Math.round(j*devicePixelRatio),Math.round(k*devicePixelRatio),i),borderBoxSize:tv(T,A,i),contentBoxSize:tv(j,k,i),contentRect:new gxe(f,l,j,k)});return QC.set(e,D),D},bxe=function(e,t,n){var r=yxe(e,n),o=r.borderBoxSize,i=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case nx.DEVICE_PIXEL_CONTENT_BOX:return s;case nx.BORDER_BOX:return o;default:return i}},iqe=function(){function e(t){var n=yxe(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=Sp([n.borderBoxSize]),this.contentBoxSize=Sp([n.contentBoxSize]),this.devicePixelContentBoxSize=Sp([n.devicePixelContentBoxSize])}return e}(),xxe=function(e){if(vxe(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},sqe=function(){var e=1/0,t=[];_p.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(u){var d=new iqe(u.target),f=xxe(u.target);a.push(d),u.lastReportedSize=bxe(u.target,u.observedBox),f<e&&(e=f)}),t.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var o=r[n];o()}return e},AU=function(e){_p.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(o){o.isActive()&&(xxe(o.target)>e?n.activeTargets.push(o):n.skippedTargets.push(o))})})},aqe=function(){var e=0;for(AU(e);QYe();)e=sqe(),AU(e);return JYe()&&eqe(),e>0},lI,wxe=[],lqe=function(){return wxe.splice(0).forEach(function(e){return e()})},cqe=function(e){if(!lI){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return lqe()}).observe(n,r),lI=function(){n.textContent="".concat(t?t--:t++)}}wxe.push(e),lI()},uqe=function(e){cqe(function(){requestAnimationFrame(e)})},U2=0,dqe=function(){return!!U2},fqe=250,hqe={attributes:!0,characterData:!0,childList:!0,subtree:!0},DU=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],IU=function(e){return e===void 0&&(e=0),Date.now()+e},cI=!1,pqe=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=fqe),!cI){cI=!0;var r=IU(t);uqe(function(){var o=!1;try{o=aqe()}finally{if(cI=!1,t=r-IU(),!dqe())return;o?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,hqe)};document.body?n():ob.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),DU.forEach(function(n){return ob.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),DU.forEach(function(n){return ob.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),J$=new pqe,PU=function(e){!U2&&e>0&&J$.start(),U2+=e,!U2&&J$.stop()},mqe=function(e){return!_L(e)&&!nqe(e)&&getComputedStyle(e).display==="inline"},gqe=function(){function e(t,n){this.target=t,this.observedBox=n||nx.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=bxe(this.target,this.observedBox,!0);return mqe(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),vqe=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),JC=new WeakMap,OU=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},e_=function(){function e(){}return e.connect=function(t,n){var r=new vqe(t,n);JC.set(t,r)},e.observe=function(t,n,r){var o=JC.get(t),i=o.observationTargets.length===0;OU(o.observationTargets,n)<0&&(i&&_p.push(o),o.observationTargets.push(new gqe(n,r&&r.box)),PU(1),J$.schedule())},e.unobserve=function(t,n){var r=JC.get(t),o=OU(r.observationTargets,n),i=r.observationTargets.length===1;o>=0&&(i&&_p.splice(_p.indexOf(r),1),r.observationTargets.splice(o,1),PU(-1))},e.disconnect=function(t){var n=this,r=JC.get(t);r.observationTargets.slice().forEach(function(o){return n.unobserve(t,o.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),yqe=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");e_.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!kU(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");e_.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!kU(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");e_.unobserve(this,t)},e.prototype.disconnect=function(){e_.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const Cxe=typeof document<"u"&&typeof window<"u"&&window.ResizeObserver?window.ResizeObserver:yqe,bqe=wqe();function xqe(){return{subscribe(e,t){const n=new Cxe(r=>{let[o]=r;t({_contentRect:o.contentRect,border:{width:o.borderBoxSize[0].inlineSize,height:o.borderBoxSize[0].blockSize},content:{width:o.contentRect.width,height:o.contentRect.height}})});return n.observe(e),()=>{n.unobserve(e),n.disconnect()}}}}function wqe(){const e=new WeakMap,t=new WeakMap;return{subscribe(n,r){const o=t.get(n)||[];let i=e.get(n);return t.has(n)||(t.set(n,o),i=xqe().subscribe(n,a=>{for(const l of o)l(a)})),o.push(r),()=>{const s=o.indexOf(r);s>-1&&o.splice(s,1),o.length===0&&i&&i()}}}}function zj(e){const[t,n]=h.useState(null);return h.useEffect(()=>{if(e)return bqe.subscribe(e,n)},[e]),t}function xw(e){const t=zj(e);return(t==null?void 0:t._contentRect)||null}function As(e){return h.useEffect(()=>(addEventListener("keydown",e),()=>removeEventListener("keydown",e)),[e])}function uI(e,t){return e*t}function Cqe(e,t){return{r:Math.round(dI(uI(e.r/255,t.r/255)*255)),g:Math.round(dI(uI(e.g/255,t.g/255)*255)),b:Math.round(dI(uI(e.b/255,t.b/255)*255))}}function dI(e){return Math.max(Math.min(e,255),0)}function fI(e,t){return e+t-e*t}function _qe(e,t){return{r:Math.round(hI(fI(e.r/255,t.r/255)*255)),g:Math.round(hI(fI(e.g/255,t.g/255)*255)),b:Math.round(hI(fI(e.b/255,t.b/255)*255))}}function hI(e){return Math.max(Math.min(e,255),0)}function Sqe(e){if(e.length===4){const t=e.slice(1,2),n=e.slice(2,3),r=e.slice(3,4);return{r:parseInt(t+t,16),g:parseInt(n+n,16),b:parseInt(r+r,16)}}return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16)}}function _xe(e){let{r:t,g:n,b:r}=e;return"#"+((1<<24)+(t<<16)+(n<<8)+r).toString(16).slice(1)}function Eqe(e){const t=e.s/100,n=e.l/100,r=(1-Math.abs(2*n-1))*t,o=r*(1-Math.abs(e.h/60%2-1)),i=n-r/2;let s=0,a=0,l=0;return 0<=e.h&&e.h<60?(s=r,a=o,l=0):60<=e.h&&e.h<120?(s=o,a=r,l=0):120<=e.h&&e.h<180?(s=0,a=r,l=o):180<=e.h&&e.h<240?(s=0,a=o,l=r):240<=e.h&&e.h<300?(s=o,a=0,l=r):300<=e.h&&e.h<360&&(s=r,a=0,l=o),{r:Math.round((s+i)*255),g:Math.round((a+i)*255),b:Math.round((l+i)*255)}}const kqe="0123456789ABCDEFabcdef",jqe=/hsl\(\s*(\d+)\s*,\s*((\d+(?:\.\d+)?)%)\s*,\s*((\d+(?:\.\d+)?)%)\s*\)/i;function Tqe(e){for(const t of e)if(kqe.indexOf(t)===-1)return!1;return!0}function Aqe(e){return e[0]!=="#"||!(e.length===4||e.length===7)?!1:Tqe(e.slice(1))}function Dqe(e){const t=jqe.exec(e);if(!t)throw new Error('parseHsl: string is not a HSL color: "'.concat(e,'"'));return{h:parseInt(t[1]),s:parseFloat(t[3]),l:parseFloat(t[5])}}function rx(e){if(!e)return{r:0,g:0,b:0};if(typeof e!="string")throw new Error("parseColor: expected a string");if(Aqe(e))return Sqe(e);if(e.startsWith("hsl("))return Eqe(Dqe(e));throw new Error('parseColor: unexpected color format: "'.concat(e,'"'))}function At(e,t){const n=rx(e);return"rgba(".concat(n.r,",").concat(n.g,",").concat(n.b,",").concat(t,")")}function pI(e,t,n,r,o,i){return{default:e.button({base:t,dark:n,solid:r.default,muted:o.default,mode:i}),primary:e.button({base:t,dark:n,solid:r.primary,muted:o.primary,mode:i}),positive:e.button({base:t,dark:n,solid:r.positive,muted:o.positive,mode:i}),caution:e.button({base:t,dark:n,solid:r.caution,muted:o.caution,mode:i}),critical:e.button({base:t,dark:n,solid:r.critical,muted:o.critical,mode:i})}}function Iqe(e,t,n,r,o){return{default:pI(e,t,n,r,o,"default"),ghost:pI(e,t,n,r,o,"ghost"),bleed:pI(e,t,n,r,o,"bleed")}}function Pqe(e,t,n,r,o,i){return{enabled:e.card({base:t,dark:n,name:r,state:"enabled",solid:o,muted:i}),disabled:e.card({base:t,dark:n,name:r,state:"disabled",solid:o,muted:i}),hovered:e.card({base:t,dark:n,name:r,state:"hovered",solid:o,muted:i}),pressed:e.card({base:t,dark:n,name:r,state:"pressed",solid:o,muted:i}),selected:e.card({base:t,dark:n,name:r,state:"selected",solid:o,muted:i})}}const Se="hsl(0, 0%, 0%)",Wm="hsl(0, 0%, 100%)",ft={default:{lightest:"hsl(0, 0%, 95%)",lighter:"hsl(0, 0%, 70%)",light:"hsl(0, 0%, 65%)",base:"hsl(0, 0%, 50%)",dark:"hsl(0, 0%, 35%)",darker:"hsl(0, 0%, 20%)",darkest:"hsl(0, 0%, 5%)"},transparent:{lightest:"hsl(240, 100%, 95%)",lighter:"hsl(240, 100%, 70%)",light:"hsl(240, 100%, 65%)",base:"hsl(240, 100%, 50%)",dark:"hsl(240, 100%, 35%)",darker:"hsl(240, 100%, 20%)",darkest:"hsl(240, 100%, 5%)"},primary:{lightest:"hsl(240, 100%, 95%)",lighter:"hsl(240, 100%, 70%)",light:"hsl(240, 100%, 65%)",base:"hsl(240, 100%, 50%)",dark:"hsl(240, 100%, 35%)",darker:"hsl(240, 100%, 20%)",darkest:"hsl(240, 100%, 5%)"},positive:{lightest:"hsl(120, 100%, 95%)",lighter:"hsl(120, 100%, 70%)",light:"hsl(120, 100%, 65%)",base:"hsl(120, 100%, 50%)",dark:"hsl(120, 100%, 35%)",darker:"hsl(120, 100%, 20%)",darkest:"hsl(120, 100%, 5%)"},caution:{lightest:"hsl(60, 100%, 95%)",lighter:"hsl(60, 100%, 70%)",light:"hsl(60, 100%, 65%)",base:"hsl(60, 100%, 50%)",dark:"hsl(60, 100%, 35%)",darker:"hsl(60, 100%, 20%)",darkest:"hsl(60, 100%, 5%)"},critical:{lightest:"hsl(0, 100%, 95%)",lighter:"hsl(0, 100%, 70%)",light:"hsl(0, 100%, 65%)",base:"hsl(0, 100%, 50%)",dark:"hsl(0, 100%, 35%)",darker:"hsl(0, 100%, 20%)",darkest:"hsl(0, 100%, 5%)"}},Oqe={gray:"hsl(0, 0%, 50%)",red:"hsl(0, 100%, 50%)",orange:"hsl(30, 100%, 50%)",yellow:"hsl(60, 100%, 50%)",green:"hsl(120, 100%, 50%)",cyan:"hsl(180, 100%, 50%)",blue:"hsl(240, 100%, 50%)",purple:"hsl(270, 100%, 50%)",magenta:"hsl(300, 100%, 50%)"},t_={transparent:{bg:[ft.transparent.darkest,ft.transparent.lightest],fg:[ft.transparent.lightest,ft.transparent.darkest],border:[ft.transparent.darker,ft.transparent.lighter],focusRing:[ft.transparent.base,ft.transparent.base]},primary:{bg:[ft.primary.darkest,ft.primary.lightest],fg:[ft.primary.lightest,ft.primary.darkest],border:[ft.primary.darker,ft.primary.lighter],focusRing:[ft.primary.base,ft.primary.base]},positive:{bg:[ft.positive.darkest,ft.positive.lightest],fg:[ft.positive.lightest,ft.positive.darkest],border:[ft.positive.darker,ft.positive.lighter],focusRing:[ft.positive.base,ft.positive.base]},caution:{bg:[ft.caution.darkest,ft.caution.lightest],fg:[ft.caution.lightest,ft.caution.darkest],border:[ft.caution.darker,ft.caution.lighter],focusRing:[ft.caution.base,ft.caution.base]},critical:{bg:[ft.critical.darkest,ft.critical.lightest],fg:[ft.critical.lightest,ft.critical.darkest],border:[ft.critical.darker,ft.critical.lighter],focusRing:[ft.critical.base,ft.critical.base]}},$qe={base:e=>{let{dark:t,name:n}=e;return n==="default"?{bg:t?Se:Wm,fg:t?Wm:Se,border:t?ft.default.darkest:ft.default.lightest,focusRing:ft.primary.base,shadow:{outline:Se,umbra:Se,penumbra:Se,ambient:Se},skeleton:{from:t?Wm:Se,to:t?Wm:Se}}:{bg:t_[n].bg[t?0:1],fg:t_[n].fg[t?0:1],border:t_[n].border[t?0:1],focusRing:t_[n].focusRing[t?0:1],shadow:{outline:Se,umbra:Se,penumbra:Se,ambient:Se},skeleton:{from:t?Wm:Se,to:t?Wm:Se}}},solid:e=>{let{base:t,dark:n,state:r,tone:o}=e;const i=ft[o];return r==="hovered"?{bg:n?i.light:i.dark,bg2:n?i.light:i.dark,border:n?i.lighter:i.darker,fg:n?i.darkest:i.lightest,muted:{fg:Se},accent:{fg:Se},link:{fg:Se},code:{bg:Se,fg:Se},skeleton:t.skeleton}:{bg:i.base,bg2:i.base,border:n?i.light:i.dark,fg:n?i.darkest:i.lightest,muted:{fg:Se},accent:{fg:Se},link:{fg:Se},code:{bg:Se,fg:Se},skeleton:t.skeleton}},muted:e=>{let{base:t,dark:n,state:r,tone:o}=e;const i=ft[o];return r==="hovered"?{bg:n?i.darker:i.lighter,bg2:n?i.darker:i.lighter,border:n?i.lighter:i.darker,fg:n?i.lightest:i.darkest,muted:{fg:Se},accent:{fg:Se},link:{fg:Se},code:{bg:Se,fg:Se},skeleton:t.skeleton}:{bg:n?i.darkest:i.lightest,bg2:n?i.darkest:i.lightest,border:n?i.darker:i.lighter,fg:n?i.lighter:i.darker,muted:{fg:Se},accent:{fg:Se},link:{fg:Se},code:{bg:Se,fg:Se},skeleton:t.skeleton}},button:e=>{let{base:t,mode:n,muted:r,solid:o}=e;return n==="bleed"?{...r,enabled:{bg:"transparent",bg2:"transparent",fg:r.enabled.fg,border:"transparent",muted:{fg:Se},accent:{fg:Se},link:{fg:Se},code:{bg:Se,fg:Se},skeleton:t.skeleton},hovered:{bg:r.enabled.bg,bg2:r.enabled.bg,fg:r.hovered.fg,border:"transparent",muted:{fg:Se},accent:{fg:Se},link:{fg:Se},code:{bg:Se,fg:Se},skeleton:t.skeleton}}:n==="ghost"?{...o,enabled:r.enabled}:o},card:e=>{let{base:t}=e;return{bg:Se,bg2:Se,fg:Se,border:Se,muted:{fg:Se},accent:{fg:Se},link:{fg:Se},code:{bg:Se,fg:Se},skeleton:t.skeleton}},input:()=>({bg:Se,fg:Se,border:Se,placeholder:Se}),selectable:e=>{let{muted:t,state:n,tone:r}=e;return t[r][n]},spot:e=>{let{key:t}=e;return Oqe[t]},syntax:()=>({atrule:Se,attrName:Se,attrValue:Se,attribute:Se,boolean:Se,builtin:Se,cdata:Se,char:Se,class:Se,className:Se,comment:Se,constant:Se,deleted:Se,doctype:Se,entity:Se,function:Se,hexcode:Se,id:Se,important:Se,inserted:Se,keyword:Se,number:Se,operator:Se,prolog:Se,property:Se,pseudoClass:Se,pseudoElement:Se,punctuation:Se,regex:Se,selector:Se,string:Se,symbol:Se,tag:Se,unit:Se,url:Se,variable:Se})};function Rqe(e,t,n,r,o){return{default:{enabled:e.input({base:t,dark:n,mode:"default",state:"enabled",solid:r.default,muted:o.default}),disabled:e.input({base:t,dark:n,mode:"default",state:"disabled",solid:r.default,muted:o.default}),hovered:e.input({base:t,dark:n,mode:"default",state:"hovered",solid:r.default,muted:o.default}),readOnly:e.input({base:t,dark:n,mode:"default",state:"readOnly",solid:r.default,muted:o.default})},invalid:{enabled:e.input({base:t,dark:n,mode:"invalid",state:"enabled",solid:r.default,muted:o.default}),disabled:e.input({base:t,dark:n,mode:"invalid",state:"disabled",solid:r.default,muted:o.default}),hovered:e.input({base:t,dark:n,mode:"invalid",state:"hovered",solid:r.default,muted:o.default}),readOnly:e.input({base:t,dark:n,mode:"invalid",state:"readOnly",solid:r.default,muted:o.default})}}}function Mqe(e,t,n,r){return{default:{enabled:e.muted({base:t,dark:n,tone:"default",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"default",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"default",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"default",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"default",name:r,state:"selected"})},transparent:{enabled:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"selected"})},primary:{enabled:e.muted({base:t,dark:n,tone:"primary",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"primary",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"primary",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"primary",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"primary",name:r,state:"selected"})},positive:{enabled:e.muted({base:t,dark:n,tone:"positive",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"positive",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"positive",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"positive",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"positive",name:r,state:"selected"})},caution:{enabled:e.muted({base:t,dark:n,tone:"caution",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"caution",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"caution",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"caution",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"caution",name:r,state:"selected"})},critical:{enabled:e.muted({base:t,dark:n,tone:"critical",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"critical",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"critical",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"critical",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"critical",name:r,state:"selected"})}}}function Fqe(e,t,n,r,o){return{default:$1(e,t,n,r,o,"default"),primary:$1(e,t,n,r,o,"primary"),positive:$1(e,t,n,r,o,"positive"),caution:$1(e,t,n,r,o,"caution"),critical:$1(e,t,n,r,o,"critical")}}function $1(e,t,n,r,o,i){return{enabled:e.selectable({base:t,dark:n,solid:r,muted:o,state:"enabled",tone:i}),hovered:e.selectable({base:t,dark:n,solid:r,muted:o,state:"hovered",tone:i}),pressed:e.selectable({base:t,dark:n,solid:r,muted:o,state:"pressed",tone:i}),selected:e.selectable({base:t,dark:n,solid:r,muted:o,state:"selected",tone:i}),disabled:e.selectable({base:t,dark:n,solid:r,muted:o,state:"disabled",tone:i})}}function Lqe(e,t,n,r){return{default:{enabled:e.solid({base:t,dark:n,tone:"default",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"default",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"default",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"default",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"default",name:r,state:"selected"})},transparent:{enabled:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"selected"})},primary:{enabled:e.solid({base:t,dark:n,tone:"primary",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"primary",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"primary",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"primary",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"primary",name:r,state:"selected"})},positive:{enabled:e.solid({base:t,dark:n,tone:"positive",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"positive",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"positive",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"positive",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"positive",name:r,state:"selected"})},caution:{enabled:e.solid({base:t,dark:n,tone:"caution",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"caution",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"caution",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"caution",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"caution",name:r,state:"selected"})},critical:{enabled:e.solid({base:t,dark:n,tone:"critical",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"critical",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"critical",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"critical",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"critical",name:r,state:"selected"})}}}function Bqe(e,t,n){return{gray:e.spot({base:t,dark:n,key:"gray"}),blue:e.spot({base:t,dark:n,key:"blue"}),purple:e.spot({base:t,dark:n,key:"purple"}),magenta:e.spot({base:t,dark:n,key:"magenta"}),red:e.spot({base:t,dark:n,key:"red"}),orange:e.spot({base:t,dark:n,key:"orange"}),yellow:e.spot({base:t,dark:n,key:"yellow"}),green:e.spot({base:t,dark:n,key:"green"}),cyan:e.spot({base:t,dark:n,key:"cyan"})}}function Nqe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={...$qe,...e};return{light:$U(t,!1),dark:$U(t,!0)}}function $U(e,t){return{default:Ym(e,t,"default"),transparent:Ym(e,t,"transparent"),primary:Ym(e,t,"primary"),positive:Ym(e,t,"positive"),caution:Ym(e,t,"caution"),critical:Ym(e,t,"critical")}}function Ym(e,t,n){const r=e.base({dark:t,name:n}),o=Lqe(e,r,t,n),i=Mqe(e,r,t,n);return{base:r,button:Iqe(e,r,t,o,i),card:Pqe(e,r,t,n,o,i),dark:t,input:Rqe(e,r,t,o,i),selectable:Fqe(e,r,t,o,i),spot:Bqe(e,r,t),syntax:e.syntax({base:r,dark:t}),solid:o,muted:i}}function xh(e,t){const n=rx(e),r=rx(t);return _xe(Cqe(n,r))}function wh(e,t){const n=rx(e),r=rx(t);return _xe(_qe(n,r))}const Ri={default:fe.gray,transparent:fe.gray,primary:fe.blue,positive:fe.green,caution:fe.yellow,critical:fe.red},R1=["default","transparent"],zqe=Nqe({base:e=>{let{dark:t,name:n}=e;if(n==="default"){const i=fe.gray,s=t?i[900].hex:i[100].hex;return{fg:t?Ca.hex:oc.hex,bg:t?oc.hex:Ca.hex,border:i[t?800:200].hex,focusRing:fe.blue[500].hex,shadow:{outline:At(i[500].hex,.4),umbra:t?At(i[950].hex,.4):At(i[500].hex,.2),penumbra:t?At(i[950].hex,.28):At(i[500].hex,.14),ambient:t?At(i[950].hex,.24):At(i[500].hex,.12)},skeleton:{from:s,to:At(s,.5)}}}if(n==="transparent"){const i=Ri.default,s=i[t?800:200].hex;return{fg:i[t?100:900].hex,bg:i[t?950:50].hex,border:i[t?800:300].hex,focusRing:fe.blue[500].hex,shadow:{outline:At(i[500].hex,.4),umbra:t?At(i[900].hex,.4):At(i[500].hex,.2),penumbra:t?At(i[900].hex,.28):At(i[500].hex,.14),ambient:t?At(i[900].hex,.24):At(i[500].hex,.12)},skeleton:{from:s,to:At(s,.5)}}}const r=Ri[n]||Ri.default,o=r[t?800:200].hex;return{fg:r[t?100:900].hex,bg:r[t?950:50].hex,border:r[t?800:200].hex,focusRing:r[500].hex,shadow:{outline:At(r[500].hex,.4),umbra:t?At(r[900].hex,.4):At(r[500].hex,.2),penumbra:t?At(r[900].hex,.28):At(r[500].hex,.14),ambient:t?At(r[900].hex,.24):At(r[500].hex,.12)},skeleton:{from:o,to:At(o,.5)}}},solid:e=>{let{base:t,dark:n,name:r,state:o,tone:i}=e;const s=n?wh:xh,a=n?xh:wh,l=Ri[r]||Ri.default,u=R1.includes(r)&&R1.includes(i);let d=Ri[i==="default"?r:i]||l;if(o==="disabled"){d=l;const m=s(t.bg,d[n?800:200].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?800:200].hex),fg:s(t.bg,n?oc.hex:Ca.hex),muted:{fg:s(t.bg,d[n?950:50].hex)},accent:{fg:s(t.bg,d[n?950:50].hex)},link:{fg:s(t.bg,d[n?950:50].hex)},code:{bg:m,fg:s(t.bg,d[n?950:50].hex)},skeleton:{from:v,to:At(v,.5)}}}if(o==="hovered"){const m=s(t.bg,d[n?300:600].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?300:600].hex),fg:s(t.bg,n?oc.hex:Ca.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,fe.red[n?800:200].hex)},link:{fg:a(m,fe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:At(v,.5)}}}if(o==="pressed"){const m=s(t.bg,d[n?200:800].hex),v=a(m,d[n?200:800].hex);return{bg:s(t.bg,d[n?200:800].hex),bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?200:800].hex),fg:s(t.bg,n?oc.hex:Ca.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,fe.red[n?800:200].hex)},link:{fg:a(m,fe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:At(v,.5)}}}if(o==="selected"){u&&(d=Ri.primary);const m=s(t.bg,d[n?200:800].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?200:800].hex),fg:s(t.bg,n?oc.hex:Ca.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,fe.red[n?800:200].hex)},link:{fg:a(m,fe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:At(v,.5)}}}const f=s(t.bg,d[n?400:500].hex),p=a(f,d[n?200:800].hex);return{bg:f,bg2:a(f,d[n?50:950].hex),border:s(t.bg,d[n?400:500].hex),fg:s(t.bg,n?oc.hex:Ca.hex),muted:{fg:s(t.bg,d[n?900:100].hex)},accent:{fg:a(f,fe.red[n?900:100].hex)},link:{fg:a(f,fe.blue[n?900:100].hex)},code:{bg:s(f,d[n?950:50].hex),fg:s(t.bg,d[n?900:100].hex)},skeleton:{from:p,to:At(p,.5)}}},muted:e=>{let{base:t,dark:n,name:r,state:o,tone:i}=e;const s=n?wh:xh,a=Ri[r]||Ri.default,l=R1.includes(r)&&R1.includes(i);let u=Ri[i==="default"?r:i]||a;if(o==="disabled"){u=a;const p=t.bg,m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?950:50].hex),fg:s(p,u[n?800:200].hex),muted:{fg:s(p,u[n?900:100].hex)},accent:{fg:s(p,u[n?900:100].hex)},link:{fg:s(p,u[n?900:100].hex)},code:{bg:p,fg:s(p,u[n?900:100].hex)},skeleton:{from:At(m,.5),to:At(m,.25)}}}if(o==="hovered"){const p=s(t.bg,u[n?950:50].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(t.bg,fe.red[n?400:500].hex)},link:{fg:s(t.bg,fe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:At(m,.5)}}}if(o==="pressed"){l&&(u=Ri.primary);const p=s(t.bg,u[n?900:100].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(p,fe.red[n?400:500].hex)},link:{fg:s(p,fe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:At(m,.5)}}}if(o==="selected"){l&&(u=Ri.primary);const p=s(t.bg,u[n?900:100].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(p,fe.red[n?400:500].hex)},link:{fg:s(p,fe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:At(m,.5)}}}const d=t.bg,f=s(d,u[n?900:100].hex);return{bg:d,bg2:s(d,u[n?950:50].hex),border:s(d,u[n?900:100].hex),fg:s(t.bg,u[n?300:700].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(t.bg,fe.red[n?400:500].hex)},link:{fg:s(t.bg,fe.blue[n?400:600].hex)},code:{bg:s(t.bg,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:f,to:At(f,.5)}}},button:e=>{let{base:t,mode:n,muted:r,solid:o}=e;return n==="bleed"?{enabled:{...r.enabled,border:r.enabled.bg},hovered:{...r.hovered,border:r.hovered.bg},pressed:{...r.pressed,border:r.pressed.bg},selected:{...r.selected,border:r.selected.bg},disabled:{...r.disabled,border:r.disabled.bg}}:n==="ghost"?{...o,enabled:{...r.enabled,border:t.border},disabled:r.disabled}:o},card:e=>{let{base:t,dark:n,muted:r,name:o,solid:i,state:s}=e;if(s==="hovered")return r[o].hovered;if(s==="disabled")return r[o].disabled;const a=R1.includes(o),l=Ri[o]||Ri.default,u=n?wh:xh;if(s==="pressed")return a?r.primary.pressed:r[o].pressed;if(s==="selected")return a?i.primary.enabled:i[o].enabled;const d=t.bg,f=u(t.bg,l[n?900:100].hex);return{bg:d,bg2:u(d,l[n?950:50].hex),fg:t.fg,border:t.border,muted:{fg:u(t.bg,l[n?400:600].hex)},accent:{fg:u(t.bg,fe.red[n?400:500].hex)},link:{fg:u(t.bg,fe.blue[n?400:600].hex)},code:{bg:u(t.bg,l[n?950:50].hex),fg:l[n?400:600].hex},skeleton:{from:f,to:At(f,.5)}}},input:e=>{let{base:t,dark:n,mode:r,state:o}=e;const i=n?wh:xh;if(r==="invalid"){const s=Ri.critical;return{bg:i(t.bg,s[n?950:50].hex),fg:i(t.bg,s[n?400:600].hex),border:i(t.bg,s[n?800:200].hex),placeholder:i(t.bg,s[n?600:400].hex)}}return o==="hovered"?{bg:t.bg,fg:t.fg,border:i(t.bg,fe.gray[n?700:300].hex),placeholder:i(t.bg,fe.gray[n?600:400].hex)}:o==="disabled"?{bg:i(t.bg,fe.gray[n?950:50].hex),fg:i(t.bg,fe.gray[n?700:300].hex),border:i(t.bg,fe.gray[n?900:100].hex),placeholder:i(t.bg,fe.gray[n?800:200].hex)}:o==="readOnly"?{bg:i(t.bg,fe.gray[n?950:50].hex),fg:i(t.bg,fe.gray[n?200:800].hex),border:i(t.bg,fe.gray[n?800:200].hex),placeholder:i(t.bg,fe.gray[n?600:400].hex)}:{bg:t.bg,fg:t.fg,border:t.border,placeholder:i(t.bg,fe.gray[n?600:400].hex)}},selectable:e=>{let{base:t,muted:n,tone:r,solid:o,state:i}=e;return i==="enabled"?{...n[r].enabled,bg:t.bg}:i==="pressed"?r==="default"?n.primary.pressed:n[r].pressed:i==="selected"?r==="default"?o.primary.enabled:o[r].enabled:i==="disabled"?{...n[r].disabled,bg:t.bg}:n[r][i]},spot:e=>{let{base:t,dark:n,key:r}=e;return(n?wh:xh)(t.bg,fe[r][n?400:500].hex)},syntax:e=>{let{base:t,dark:n}=e;const r=n?wh:xh,o=n?400:600,i=n?600:400;return{atrule:r(t.bg,fe.purple[o].hex),attrName:r(t.bg,fe.green[o].hex),attrValue:r(t.bg,fe.yellow[o].hex),attribute:r(t.bg,fe.yellow[o].hex),boolean:r(t.bg,fe.purple[o].hex),builtin:r(t.bg,fe.purple[o].hex),cdata:r(t.bg,fe.yellow[o].hex),char:r(t.bg,fe.yellow[o].hex),class:r(t.bg,fe.orange[o].hex),className:r(t.bg,fe.cyan[o].hex),comment:r(t.bg,fe.gray[i].hex),constant:r(t.bg,fe.purple[o].hex),deleted:r(t.bg,fe.red[o].hex),doctype:r(t.bg,fe.gray[i].hex),entity:r(t.bg,fe.red[o].hex),function:r(t.bg,fe.green[o].hex),hexcode:r(t.bg,fe.blue[o].hex),id:r(t.bg,fe.purple[o].hex),important:r(t.bg,fe.purple[o].hex),inserted:r(t.bg,fe.yellow[o].hex),keyword:r(t.bg,fe.magenta[o].hex),number:r(t.bg,fe.purple[o].hex),operator:r(t.bg,fe.magenta[o].hex),prolog:r(t.bg,fe.gray[i].hex),property:r(t.bg,fe.blue[o].hex),pseudoClass:r(t.bg,fe.yellow[o].hex),pseudoElement:r(t.bg,fe.yellow[o].hex),punctuation:r(t.bg,fe.gray[o].hex),regex:r(t.bg,fe.blue[o].hex),selector:r(t.bg,fe.red[o].hex),string:r(t.bg,fe.yellow[o].hex),symbol:r(t.bg,fe.purple[o].hex),tag:r(t.bg,fe.red[o].hex),unit:r(t.bg,fe.orange[o].hex),url:r(t.bg,fe.red[o].hex),variable:r(t.bg,fe.red[o].hex)}}}),Vqe={code:{family:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace",weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:3,descenderHeight:3,fontSize:10,iconSize:17,lineHeight:13,letterSpacing:0},{ascenderHeight:4,descenderHeight:4,fontSize:13,iconSize:21,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:19,iconSize:29,lineHeight:25,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:22,iconSize:33,lineHeight:29,letterSpacing:0}]},heading:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:700,medium:800,semibold:900,bold:900},sizes:[{ascenderHeight:4,descenderHeight:4,fontSize:12,iconSize:17,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:21,iconSize:33,lineHeight:27,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:27,iconSize:41,lineHeight:33,letterSpacing:0},{ascenderHeight:8,descenderHeight:8,fontSize:33,iconSize:49,lineHeight:39,letterSpacing:0},{ascenderHeight:9,descenderHeight:9,fontSize:38,iconSize:53,lineHeight:45,letterSpacing:0}]},label:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", system-ui, sans-serif',weights:{regular:600,medium:700,semibold:800,bold:900},sizes:[{ascenderHeight:2,descenderHeight:2,fontSize:9.8,iconSize:15,lineHeight:11,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:11.25,iconSize:17,lineHeight:12,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:12.75,iconSize:19,lineHeight:13,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:14,iconSize:21,lineHeight:14,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:15.5,iconSize:23,lineHeight:15,letterSpacing:.5}]},text:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:3,descenderHeight:3,fontSize:10,iconSize:17,lineHeight:13,letterSpacing:0},{ascenderHeight:4,descenderHeight:4,fontSize:13,iconSize:21,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:19,iconSize:29,lineHeight:25,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:22,iconSize:33,lineHeight:29,letterSpacing:0}]}},Mf={avatar:{sizes:[{distance:-3,size:25},{distance:-6,size:35},{distance:-9,size:55}]},button:{textWeight:"medium"},color:zqe,container:[320,640,960,1280,1600,1920],focusRing:{offset:1,width:2},fonts:Vqe,media:[360,600,900,1200,1800,2400],radius:[0,1,3,6,9,12,21],shadows:[null,{umbra:[0,0,0,0],penumbra:[0,0,0,0],ambient:[0,0,0,0]},{umbra:[0,3,5,-1],penumbra:[0,6,10,0],ambient:[0,1,18,0]},{umbra:[0,7,8,-4],penumbra:[0,12,17,2],ambient:[0,5,22,4]},{umbra:[0,9,11,-5],penumbra:[0,18,28,2],ambient:[0,7,34,6]},{umbra:[0,11,15,-7],penumbra:[0,24,38,3],ambient:[0,9,46,8]}],space:[0,4,8,12,20,32,52,84,136,220],input:{checkbox:{size:17},radio:{size:17,markSize:9},switch:{width:33,height:17,padding:4,transitionDurationMs:150,transitionTimingFunction:"ease-out"},border:{width:1}}},Hqe={dialog:{zOffset:600},popover:{zOffset:400},tooltip:{zOffset:200}};function Uqe(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const Qt=Uqe(),eR=Symbol.for("@sanity/ui/context/theme");Qt[eR]=Qt[eR]||h.createContext(null);const tR=Qt[eR];function O5(e){const t=h.useContext(tR),{children:n,scheme:r=(t==null?void 0:t.scheme)||"light",theme:o=(t==null?void 0:t.theme)||null,tone:i=(t==null?void 0:t.tone)||"default"}=e,s=h.useMemo(()=>{if(!o)return null;const{color:l,layer:u,...d}=o,f=l[r]||l.light,p=f[i]||f.default;return{sanity:{...d,color:p,layer:u||Hqe}}},[r,o,i]),a=h.useMemo(()=>o&&{version:0,theme:o,scheme:r,tone:i},[o,r,i]);return s?c.jsx(tR.Provider,{value:a,children:c.jsx(F4e,{theme:s,children:n})}):c.jsx("pre",{children:'ThemeProvider: no "theme" property provided'})}function _0(e){return!!(e&&typeof e=="object")}function S0(){const e=h.useContext(tR);if(!e)throw new Error("useRootTheme(): missing context value");if(!_0(e)||e.version!==0)throw new Error("useRootTheme(): the context value is not compatible");return e}function Sxe(e){const{children:t,scheme:n,tone:r}=e,o=S0();return c.jsx(O5,{scheme:n||o.scheme,theme:o.theme,tone:r,children:t})}function Ds(){return gve()}const RU=new WeakMap;function Wqe(e,t){return t===0?"screen and (max-width: ".concat(e[t]-1,"px)"):t===e.length?"screen and (min-width: ".concat(e[t-1],"px)"):"screen and (min-width: ".concat(e[t-1],"px) and (max-width: ").concat(e[t]-1,"px)")}function Yqe(e){const t=e.length;let n;const r=()=>{if(!n){n=[];for(let s=t;s>-1;s-=1){const a=Wqe(e,s);n.push({index:s,mq:window.matchMedia(a)})}}return n};return{getSnapshot:()=>{for(const{index:s,mq:a}of r())if(a.matches)return s;return 0},subscribe:s=>{const a=[];for(const{mq:l}of r()){const u=()=>{l.matches&&s()};l.addEventListener("change",u),a.push(()=>l.removeEventListener("change",u))}return()=>{for(const l of a)l()}}}}function qqe(){return 0}function gm(){const e=Ds(),{media:t}=e.sanity;let n=RU.get(t);return n||(n=Yqe(t),RU.set(t,n)),h.useSyncExternalStore(n.subscribe,n.getSnapshot,qqe)}let mI;function Exe(){return mI||(mI=window.matchMedia("(prefers-color-scheme: dark)")),mI}function Gqe(e){const t=Exe();return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}function Kqe(){return Exe().matches}function Zqe(){return!1}function Xqe(){return h.useSyncExternalStore(Gqe,Kqe,Zqe)}const Qqe=typeof window<"u"?h.useLayoutEffect:h.useEffect;function lr(e){const t=h.useRef(null);return Qqe(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)}),t}function ww(e,t){h.useEffect(()=>{e.current&&e.current.setCustomValidity(t||"")},[t,e])}const Cw="1px solid var(--card-border-color)";function Jqe(){return[eGe,tGe,nGe,rGe,oGe]}function eGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$border,r=>r?{"&&":{border:Cw}}:{"&&":{border:0}})}function tGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$borderTop,r=>r?{"&&":{borderTop:Cw}}:{"&&":{borderTop:0}})}function nGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$borderRight,r=>r?{"&&":{borderRight:Cw}}:{"&&":{borderRight:0}})}function rGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$borderBottom,r=>r?{"&&":{borderBottom:Cw}}:{"&&":{borderBottom:0}})}function oGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$borderLeft,r=>r?{"&&":{borderLeft:Cw}}:{"&&":{borderLeft:0}})}const iGe={'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},sGe={content:"content-box",border:"border-box"},aGe={stretch:"stretch",fill:"100%"};function lGe(){return iGe}function cGe(){return[dGe,fGe,hGe,uGe]}function uGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$display,r=>({"&:not([hidden])":{display:r}}))}function dGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$sizing,r=>({boxSizing:sGe[r]}))}function fGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$height,r=>({height:aGe[r]}))}function hGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$overflow,r=>({overflow:r}))}const pGe={"&&:not([hidden])":{display:"flex"}};function mGe(){return[pGe,gGe,vGe,yGe,bGe,xGe]}function gGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$align,r=>({alignItems:r}))}function vGe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return dt(n,e.$gap,o=>({gap:o?ge(r[o]):void 0}))}function yGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$wrap,r=>({flexWrap:r}))}function bGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$justify,r=>({justifyContent:r}))}function xGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$direction,r=>({flexDirection:r}))}const wGe={minWidth:0,minHeight:0};function kxe(){return[wGe,CGe]}function CGe(e){const{theme:t}=e,{media:n}=t.sanity;return e.$flex?dt(n,e.$flex,r=>({flex:r})):bw}function Eo(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function Ac(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&Eo(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}const _Ge={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},SGe={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},EGe={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"};function kGe(){return[_Ge,jGe,TGe,AGe,DGe,IGe,PGe,OGe,$Ge]}function jGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$autoFlow,r=>({gridAutoFlow:r}))}function TGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$autoRows,r=>({gridAutoRows:r&&EGe[r]}))}function AGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$autoCols,r=>({gridAutoColumns:r&&SGe[r]}))}function DGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$columns,r=>({gridTemplateColumns:r&&"repeat(".concat(r,",minmax(0,1fr));")}))}function IGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$rows,r=>({gridTemplateRows:r&&"repeat(".concat(r,",minmax(0,1fr));")}))}function PGe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return dt(n,e.$gap,o=>({gridGap:o?ge(r[o]):void 0}))}function OGe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return dt(n,e.$gapX,o=>({columnGap:o?ge(r[o]):void 0}))}function $Ge(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return dt(n,e.$gapY,o=>({rowGap:o?ge(r[o]):void 0}))}function RGe(){return[LGe,BGe,NGe,zGe,VGe,HGe]}const MGe={auto:"auto",full:"1 / -1"},FGe={auto:"auto",full:"1 / -1"};function LGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$row,r=>typeof r=="number"?{gridRow:"span ".concat(r," / span ").concat(r)}:{gridRow:MGe[r]})}function BGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$rowStart,r=>({gridRowStart:r}))}function NGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$rowEnd,r=>({gridRowEnd:r}))}function zGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$column,r=>typeof r=="number"?{gridColumn:"span ".concat(r," / span ").concat(r)}:{gridColumn:FGe[r]})}function VGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$columnStart,r=>({gridColumnStart:r}))}function HGe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$columnEnd,r=>({gridColumnEnd:r}))}function SL(e){const{$fontSize:t,$iconLeft:n,$iconRight:r,$padding:o,$space:i,theme:s}=e,{fonts:a,media:l,space:u}=s.sanity,d=Math.max(o.length,i.length,t.length),f=[],p=[],m=[];for(let v=0;v<d;v+=1)m[v]=t[v]===void 0?m[v-1]:t[v],f[v]=o[v]===void 0?f[v-1]:o[v],p[v]=i[v]===void 0?p[v-1]:i[v];return dt(l,f,(v,g)=>{const b=a.text.sizes[m[g]]||a.text.sizes[2],x=b.lineHeight-b.ascenderHeight-b.descenderHeight,y=u[f[g]],w=u[p[g]],C={paddingTop:ge(y-b.ascenderHeight),paddingRight:ge(y),paddingBottom:ge(y-b.descenderHeight),paddingLeft:ge(y)};return r&&(C.paddingRight=ge(y+x+w)),n&&(C.paddingLeft=ge(y+x+w)),C})}function UGe(e){return SL({...e,$iconRight:!0})}var MU=Object.freeze,WGe=Object.defineProperty,EL=(e,t)=>MU(WGe(e,"raw",{value:MU(t||e.slice())})),FU,LU,BU;const YGe=de(FU||(FU=EL([`
  &:not([hidden]) {
    display: flex;
  }

  align-items: center;
`])));function jxe(){return YGe}function Txe(e){const{theme:t,$scheme:n,$tone:r,$weight:o}=e,i=t.sanity.fonts.text,s=t.sanity.color.input;return de(LU||(LU=EL([`
    appearance: none;
    background: none;
    border: 0;
    border-radius: 0;
    outline: none;
    width: 100%;
    box-sizing: border-box;
    font-family: `,`;
    font-weight: `,`;
    margin: 0;
    position: relative;
    z-index: 1;
    display: block;

    /* NOTE: This is a hack to disable Chrome’s autofill styles */
    &:-webkit-autofill,
    &:-webkit-autofill:hover,
    &:-webkit-autofill:focus,
    &:-webkit-autofill:active {
      -webkit-text-fill-color: var(--input-fg-color) !important;
      transition: background-color 5000s;
      transition-delay: 86400s /* 24h */;
    }

    /* &:is(textarea) */
    &[data-as='textarea'] {
      resize: none;
    }

    color: var(--input-fg-color);

    &::placeholder {
      color: var(--input-placeholder-color);
    }

    &[data-scheme='`,"'][data-tone='",`'] {
      --input-fg-color: `,`;
      --input-placeholder-color: `,`;

      /* enabled */
      &:not(:invalid):not(:disabled):not(:read-only) {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* disabled */
      &:not(:invalid):disabled {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* invalid */
      &:invalid {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* readOnly */
      &:read-only {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }
    }
  `])),i.family,o&&i.weights[o]||i.weights.regular,n,r,s.default.enabled.fg,s.default.enabled.placeholder,s.default.enabled.fg,s.default.enabled.placeholder,s.default.disabled.fg,s.default.disabled.placeholder,s.invalid.enabled.fg,s.invalid.enabled.placeholder,s.default.readOnly.fg,s.default.readOnly.placeholder)}function Axe(e){const{theme:t}=e,{fonts:n,media:r}=t.sanity;return dt(r,e.$fontSize,o=>{const i=n.text.sizes[o]||n.text.sizes[2];return{fontSize:ge(i.fontSize),lineHeight:i.lineHeight/i.fontSize}})}function Dxe(e){const{$hasPrefix:t,$hasSuffix:n,$scheme:r,$tone:o,theme:i}=e,{focusRing:s,input:a}=i.sanity,l=i.sanity.color.input;return de(BU||(BU=EL([`
    --input-box-shadow: none;

    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: block;
    pointer-events: none;
    z-index: 0;

    background-color: var(--card-bg-color);
    box-shadow: var(--input-box-shadow);

    border-top-left-radius: `,`;
    border-bottom-left-radius: `,`;
    border-top-right-radius: `,`;
    border-bottom-right-radius: `,`;

    &[data-scheme='`,"'][data-tone='",`'] {
      --card-bg-color: `,`;
      --card-fg-color: `,`;

      /* enabled */
      *:not(:disabled) + &[data-border] {
        --input-box-shadow: `,`;
      }

      /* invalid */
      *:not(:disabled):invalid + & {
        --card-bg-color: `,`;
        --card-fg-color: `,`;

        &[data-border] {
          --input-box-shadow: `,`;
        }
      }

      /* focused */
      *:not(:disabled):focus + & {
        &[data-border] {
          --input-box-shadow: `,`;
        }

        &:not([data-border]) {
          --input-box-shadow: `,`;
        }
      }

      /* disabled */
      *:disabled + & {
        --card-bg-color: `,` !important;
        --card-fg-color: `,` !important;

        &[data-border] {
          --input-box-shadow: `,`;
        }
      }

      /* readOnly */
      *:read-only + & {
        --card-bg-color: `,` !important;
        --card-fg-color: `,` !important;
      }

      /* hovered */
      @media (hover: hover) {
        *:not(:disabled):not(:read-only):not(:invalid):hover + & {
          --card-bg-color: `,`;
          --card-fg-color: `,`;
        }

        *:not(:disabled):not(:read-only):not(:invalid):not(:focus):hover + &[data-border] {
          --input-box-shadow: `,`;
        }
      }
    }
  `])),t?0:void 0,t?0:void 0,n?0:void 0,n?0:void 0,r,o,l.default.enabled.bg,l.default.enabled.fg,Eo({color:l.default.enabled.border,width:a.border.width}),l.invalid.enabled.bg,l.invalid.enabled.fg,Eo({color:l.invalid.enabled.border,width:a.border.width}),Ac({border:{color:l.default.enabled.border,width:a.border.width},focusRing:s}),Ac({focusRing:s}),l.default.disabled.bg,l.default.disabled.fg,Eo({color:l.default.disabled.border,width:a.border.width}),l.default.readOnly.bg,l.default.readOnly.fg,l.default.hovered.bg,l.default.hovered.fg,Eo({color:l.default.hovered.border,width:a.border.width}))}function qGe(e){const{theme:t}=e;return[ps(t,["margin"],e.$margin),ps(t,["marginLeft","marginRight"],e.$marginX),ps(t,["marginTop","marginBottom"],e.$marginY),ps(t,["marginTop"],e.$marginTop),ps(t,["marginRight"],e.$marginRight),ps(t,["marginBottom"],e.$marginBottom),ps(t,["marginLeft"],e.$marginLeft)].filter(Boolean)}function Ixe(e){const{theme:t}=e;return[ps(t,["padding"],e.$padding),ps(t,["paddingLeft","paddingRight"],e.$paddingX),ps(t,["paddingTop","paddingBottom"],e.$paddingY),ps(t,["paddingTop"],e.$paddingTop),ps(t,["paddingRight"],e.$paddingRight),ps(t,["paddingBottom"],e.$paddingBottom),ps(t,["paddingLeft"],e.$paddingLeft)].filter(Boolean)}function td(e){const{theme:t}=e,{media:n,radius:r}=t.sanity;return dt(n,e.$radius,o=>({borderRadius:ge(r[o])}))}function gI(e,t){return"".concat(e.map(ge).join(" ")," ").concat(t)}function GGe(e){if(!e)return mf;const t="0 0 0 ".concat(ge(1)," var(--card-shadow-outline-color)"),n=gI(e.umbra,"var(--card-shadow-umbra-color)"),r=gI(e.penumbra,"var(--card-shadow-penumbra-color)"),o=gI(e.ambient,"var(--card-shadow-ambient-color)");return{boxShadow:"".concat(t,", ").concat(n,", ").concat(r,", ").concat(o)}}function KGe(e){const{theme:t}=e,{media:n,shadows:r}=t.sanity;return dt(n,e.$shadow,o=>GGe(r[o]))}var NU=Object.freeze,ZGe=Object.defineProperty,vI=(e,t)=>NU(ZGe(e,"raw",{value:NU(t||e.slice())})),zU,VU,HU;function XGe(e){const{$accent:t,$muted:n,theme:r}=e,{weights:o}=r.sanity.fonts.text;return de(HU||(HU=vI([`
    color: var(--card-fg-color);

    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
      background-color: var(--card-code-bg-color);
      color: var(--card-code-fg-color);
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & strong {
      font-weight: `,`;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&de(zU||(zU=vI([`
      color: var(--card-accent-fg-color);
    `]))),n&&de(VU||(VU=vI([`
      color: var(--card-muted-fg-color);
    `]))),r.sanity.fonts.code.family,o.bold)}var UU=Object.freeze,QGe=Object.defineProperty,JGe=(e,t)=>UU(QGe(e,"raw",{value:UU(t||e.slice())})),WU;const eKe=O.div(XYe,CL,XGe),tKe=O.span(WU||(WU=JGe([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),B=h.forwardRef(function(t,n){const{accent:r=!1,align:o,children:i,muted:s=!1,size:a=2,textOverflow:l,weight:u,...d}=t;let f=i;return l==="ellipsis"&&(f=c.jsx(tKe,{children:f})),c.jsx(eKe,{"data-ui":"Text",...d,$accent:r,$align:ve(o),$muted:s,ref:n,$size:ve(a),$weight:u,children:c.jsx("span",{children:f})})}),_w={root:rKe,arrow:nKe,bgStroke:sKe,stroke:aKe,initials:iKe};function nKe(){return{position:"absolute",boxSizing:"border-box",zIndex:0,opacity:0,transition:"all 0.2s linear",transform:"rotate(-90deg) translate3d(0, 6px, 0)",left:0,right:0,top:0,bottom:0,"& > svg":{width:"11px",height:"7px",position:"absolute",top:"-5px",left:"50%",transform:"translateX(-6px)","&:not([hidden])":{display:"block"}},"[data-arrow-position='inside'] > &":{transform:"rotate(-90deg) translate3d(0, 6px, 0)",opacity:0},"[data-arrow-position='top'] > &":{opacity:1,transform:"rotate(0deg)"},"[data-arrow-position='bottom'] > &":{opacity:1,transform:"rotate(-180deg)"}}}function rKe(e){const{$color:t,theme:n}=e,{focusRing:r}=n.sanity;return{backgroundColor:t,position:"relative",boxSizing:"border-box",userSelect:"none",boxShadow:"0 0 0 1px var(--card-bg-color)",'&[data-status="inactive"]':{opacity:.5},"&>svg":{"&:not([hidden])":{display:"block"}},'&[data-as="button"]':{WebkitFontSmoothing:"inherit",appearance:"none",margin:0,padding:0,border:0,font:"inherit",color:"inherit",outline:"none","&:focus":{boxShadow:Ac({focusRing:r})},"&:focus:not(:focus-visible)":{boxShadow:"none"}}}}function oKe(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return dt(r,e.$size,o=>{const i=n.sizes[o]||n.sizes[0];return{width:ge(i.size),height:ge(i.size),borderRadius:ge(i.size/2),"&>svg":{width:ge(i.size),height:ge(i.size),borderRadius:ge(i.size/2)}}})}function iKe(e){const{theme:t}=e,{base:n}=t.sanity.color;return{width:"100%",height:"100%",color:n.fg,alignItems:"center",justifyContent:"center",textTransform:"uppercase",textAlign:"center",borderRadius:"50%","&:not([hidden])":{display:"flex"}}}function sKe(){return{strokeWidth:"4px",stroke:"var(--card-bg-color)"}}function aKe(){return{strokeWidth:"3px",'[data-status="editing"] &':{strokeDasharray:"2 4",strokeLinecap:"round"}}}const lKe=O.div(oKe,_w.root),cKe=O.div(_w.arrow),uKe=O.ellipse(_w.bgStroke),dKe=O.ellipse(_w.stroke),fKe=O.div(_w.initials),Pxe=h.forwardRef(function(t,n){const{as:r,color:o="gray",src:i,title:s,initials:a,onImageLoadError:l,arrowPosition:u,animateArrowFrom:d,status:f="online",size:p=0,...m}=t,v=LMe.isValidElementType(r)?r:"div",g=ve(p),b=Ds(),x=b.sanity.color.spot[o]||b.sanity.color.spot.gray,w=(b.sanity.avatar.sizes[g[0]]||b.sanity.avatar.sizes[0]).size,C=w/2,_=h.useId(),[S,E]=h.useState(d||u||"inside"),[j,k]=h.useState(!1),T="avatar-image-".concat(_);h.useEffect(()=>{if(S===u)return;const I=requestAnimationFrame(()=>E(u));return()=>cancelAnimationFrame(I)},[S,u]),h.useEffect(()=>{i&&k(!1)},[i]);const A=h.useCallback(()=>{k(!0),l&&l(new Error("Avatar: the image failed to load"))},[l]),D=h.useMemo(()=>g.map(I=>I===0?0:I+1),[g]);return c.jsxs(lKe,{as:v,"data-as":typeof v=="string"?v:void 0,"data-ui":"Avatar",...m,$size:g,$color:x,"aria-label":s,"data-arrow-position":S,"data-status":f,ref:n,title:s,children:[c.jsx(cKe,{children:c.jsx("svg",{width:"11",height:"7",viewBox:"0 0 11 7",fill:"none",children:c.jsx("path",{d:"M6.67948 1.50115L11 7L0 7L4.32052 1.50115C4.92109 0.736796 6.07891 0.736795 6.67948 1.50115Z",fill:x})})}),!j&&i&&c.jsxs("svg",{viewBox:"0 0 ".concat(w," ").concat(w),fill:"none",children:[c.jsx("defs",{children:c.jsx("pattern",{id:T,patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:c.jsx("image",{href:i,width:"1",height:"1",onError:A})})}),c.jsx("circle",{cx:C,cy:C,r:C,fill:"url(#".concat(T,")")}),c.jsx(uKe,{cx:C,cy:C,rx:C,ry:C,vectorEffect:"non-scaling-stroke"}),c.jsx(dKe,{cx:C,cy:C,rx:C,ry:C,stroke:x,vectorEffect:"non-scaling-stroke"})]}),(j||!i)&&a&&c.jsx(c.Fragment,{children:c.jsx(fKe,{children:c.jsx(B,{as:"span",size:D,children:c.jsx("strong",{children:a})})})})]})});var YU=Object.freeze,hKe=Object.defineProperty,pKe=(e,t)=>YU(hKe(e,"raw",{value:YU(t||e.slice())})),qU;function mKe(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return dt(r,e.$size,o=>{const i=n.sizes[o];return i?{borderRadius:ge(i.size/2),minWidth:ge(i.size),height:ge(i.size)}:mf})}function gKe(e){const{theme:t}=e;return de(qU||(qU=pKe([`
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    user-select: none;
    color: inherit;
    color: var(--card-fg-color);
    background: var(--card-bg-color);
    box-shadow:
      0 0 0 1px var(--card-bg-color),
      inset 0 0 0 1.5px var(--card-hairline-hard-color);
    padding: 0 `,`;

    &:not([hidden]) {
      display: flex;
    }
  `])),ge(t.sanity.space[2]))}const vKe=O.div(mKe,gKe),nR=h.forwardRef(function(t,n){const{count:r,size:o=0}=t,i=ve(o),s=h.useMemo(()=>i.map(a=>a===0?0:a+1),[i]);return c.jsx(vKe,{$size:i,"data-ui":"AvatarCounter",ref:n,children:c.jsx(B,{as:"span",size:s,children:c.jsx("strong",{children:r})})})});function Oxe(e){return(Array.isArray(e)?e:[e]).filter(n=>$r.isElement(n)||$r.isFragment(n)||typeof n=="string")}var GU=Object.freeze,yKe=Object.defineProperty,bKe=(e,t)=>GU(yKe(e,"raw",{value:GU(t||e.slice())})),KU;const xKe=de(KU||(KU=bKe([`
  white-space: nowrap;

  & > div {
    vertical-align: top;

    &:not([hidden]) {
      display: inline-block;
    }
  }
`])));function wKe(){return xKe}function CKe(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return dt(r,e.$size,o=>{const i=n.sizes[o];return i?{"& > div + div":{marginLeft:ge(i.distance)}}:mf})}const _Ke=O.div(CKe,wKe),Vj=h.forwardRef(function(t,n){const{children:r,maxLength:o=4,size:i=0,...s}=t,a=Oxe(r).filter(v=>typeof v!="string"),l=Math.max(o,0),u=ve(i),d=a.length,f=l-1,p=d-f,m=p>1?a.slice(p,d):a;return c.jsxs(_Ke,{"data-ui":"AvatarStack",...s,ref:n,$size:u,children:[d===0&&c.jsx("div",{children:c.jsx(nR,{count:d})}),d!==0&&p>1&&c.jsx("div",{children:c.jsx(nR,{count:p,size:u})}),m.map((v,g)=>c.jsx("div",{children:h.cloneElement(v,{size:u})},String(g)))]})}),SKe=O.div(lGe,kxe,cGe,RGe,qGe,Ixe),F=h.forwardRef(function(t,n){const{as:r="div",column:o,columnStart:i,columnEnd:s,display:a="block",flex:l,height:u,margin:d=0,marginX:f,marginY:p,marginTop:m,marginRight:v,marginBottom:g,marginLeft:b,overflow:x,padding:y=0,paddingX:w,paddingY:C,paddingTop:_,paddingRight:S,paddingBottom:E,paddingLeft:j,row:k,rowStart:T,rowEnd:A,sizing:D,...I}=t;return c.jsx(SKe,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Box",...I,$column:ve(o),$columnStart:ve(i),$columnEnd:ve(s),$display:ve(a),$flex:ve(l),$height:ve(u),$margin:ve(d),$marginX:ve(f),$marginY:ve(p),$marginTop:ve(m),$marginRight:ve(v),$marginBottom:ve(g),$marginLeft:ve(b),$overflow:ve(x),$padding:ve(y),$paddingX:ve(w),$paddingY:ve(C),$paddingTop:ve(_),$paddingRight:ve(S),$paddingBottom:ve(E),$paddingLeft:ve(j),$row:ve(k),$rowStart:ve(T),$rowEnd:ve(A),$sizing:ve(D),as:r,ref:n,children:t.children})});var ZU=Object.freeze,EKe=Object.defineProperty,yI=(e,t)=>ZU(EKe(e,"raw",{value:ZU(t||e.slice())})),XU,QU,JU;function kKe(e){const{$accent:t,$muted:n,theme:r}=e,{fonts:o}=r.sanity;return de(JU||(JU=yI([`
    text-transform: uppercase;

    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&de(XU||(XU=yI([`
      color: var(--card-accent-fg-color);
    `]))),n&&de(QU||(QU=yI([`
      color: var(--card-muted-fg-color);
    `]))),o.code.family)}var eW=Object.freeze,jKe=Object.defineProperty,TKe=(e,t)=>eW(jKe(e,"raw",{value:eW(t||e.slice())})),tW;const AKe=O.div(ZYe,CL,kKe),DKe=O.span(tW||(tW=TKe([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),Nt=h.forwardRef(function(t,n){const{accent:r,align:o,children:i,muted:s=!1,size:a=2,textOverflow:l,weight:u,...d}=t;let f=i;return l==="ellipsis"?f=c.jsx(DKe,{children:f}):f=c.jsx("span",{children:f}),c.jsx(AKe,{"data-ui":"Label",...d,$accent:r,$align:ve(o),$muted:s,$size:ve(a),$weight:u,ref:n,children:f})});function IKe(e){const{$mode:t,$tone:n,theme:r}=e,o=r.sanity.color[t==="outline"?"muted":"solid"],i=o[n]||o.default;return{backgroundColor:i.enabled.bg,color:i.enabled.fg,boxShadow:"inset 0 0 0 1px ".concat(i.enabled.border),cursor:"default","&:not([hidden])":{display:"inline-block"}}}const PKe=O(F)(td,IKe),$xe=h.forwardRef(function(t,n){const{children:r,fontSize:o,mode:i="default",padding:s=1,radius:a=2,tone:l="default",...u}=t;return c.jsx(PKe,{"data-ui":"Badge",...u,$mode:i,$tone:l,$radius:ve(a),padding:ve(s),ref:n,children:c.jsx(Nt,{size:o,children:r})})}),OKe=O(F)(kxe,mGe),W=h.forwardRef(function(t,n){const{align:r,as:o,direction:i="row",gap:s,justify:a,wrap:l,...u}=t;return c.jsx(OKe,{"data-ui":"Flex",...u,$align:ve(r),$direction:ve(i),$gap:ve(s),$justify:ve(a),$wrap:ve(l),forwardedAs:o,ref:n})});var nW=Object.freeze,$Ke=Object.defineProperty,Rxe=(e,t)=>nW($Ke(e,"raw",{value:nW(t||e.slice())})),rW,oW;const RKe=tj(rW||(rW=Rxe([`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`]))),MKe=O(B)(oW||(oW=Rxe([`
  & > span > svg {
    animation: `,` 500ms linear infinite;
  }
`])),RKe),Hr=h.forwardRef(function(t,n){return c.jsx(MKe,{"data-ui":"Spinner",...t,ref:n,children:c.jsx(aj,{})})});function Bt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var r,o,i,s,a,l,u,d;return{"--card-shadow-outline-color":e.shadow.outline,"--card-shadow-umbra-color":e.shadow.umbra,"--card-shadow-penumbra-color":e.shadow.penumbra,"--card-shadow-ambient-color":e.shadow.ambient,"--card-focus-ring-color":e.focusRing,"--card-bg-color":t.bg,"--card-bg-image":n?"repeating-conic-gradient(".concat(t.bg," 0% 25%, ").concat(t.bg2||t.bg," 0% 50%)"):void 0,"--card-fg-color":t.fg,"--card-border-color":t.border,"--card-muted-fg-color":(r=t.muted)==null?void 0:r.fg,"--card-accent-fg-color":(o=t.accent)==null?void 0:o.fg,"--card-link-fg-color":(i=t.link)==null?void 0:i.fg,"--card-code-bg-color":(s=t.code)==null?void 0:s.bg,"--card-code-fg-color":(a=t.code)==null?void 0:a.fg,"--card-skeleton-color-from":(l=t.skeleton)==null?void 0:l.from,"--card-skeleton-color-to":(u=t.skeleton)==null?void 0:u.to,"--card-link-color":(d=t.link)==null?void 0:d.fg,"--card-hairline-soft-color":t.border,"--card-hairline-hard-color":t.border}}var iW=Object.freeze,FKe=Object.defineProperty,LKe=(e,t)=>iW(FKe(e,"raw",{value:iW(t||e.slice())})),sW;function BKe(){return de(sW||(sW=LKe([`
    -webkit-font-smoothing: inherit;
    appearance: none;
    display: inline-flex;
    align-items: center;
    font: inherit;
    border: 0;
    outline: none;
    user-select: none;
    text-decoration: none;
    border: 0;
    box-sizing: border-box;
    padding: 0;
    margin: 0;
    white-space: nowrap;
    text-align: left;
    position: relative;

    & > span {
      display: block;
      flex: 1;
      min-width: 0;
      border-radius: inherit;
    }

    &::-moz-focus-inner {
      border: 0;
      padding: 0;
    }
  `])))}const NKe={border:{width:1}};function zKe(e){var t,n;const{$mode:r,theme:o}=e,{focusRing:i}=o.sanity,s=o.sanity.color.base,a=o.sanity.color.button[r]||o.sanity.color.button.default,l=a[e.$tone]||a.default,u={width:NKe.border.width,color:"var(--card-border-color)"};return[Bt(s,l.enabled),{backgroundColor:"var(--card-bg-color)",color:"var(--card-fg-color)",boxShadow:Eo(u),'&:disabled, &[data-disabled="true"]':Bt(s,l.disabled),"&:not([data-disabled='true'])":{"&:focus":{boxShadow:Ac({base:s,border:u,focusRing:i})},"&:focus:not(:focus-visible)":{boxShadow:Eo(u)},"@media (hover: hover)":{"&:hover":Bt(s,l.hovered),"&:active":Bt(s,l.pressed),"&[data-hovered]":Bt(s,l.hovered)},"&[data-selected]":Bt(s,l.pressed)}},(n=(t=o.sanity.styles)==null?void 0:t.button)==null?void 0:n.root].filter(Boolean)}var aW=Object.freeze,VKe=Object.defineProperty,HKe=(e,t)=>aW(VKe(e,"raw",{value:aW(t||e.slice())})),lW;const UKe=O.button(td,BKe,zKe),WKe=O.div(lW||(lW=HKe([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--card-bg-color);
  border-radius: inherit;
  z-index: 1;
  box-shadow: inherit;
`]))),ae=h.forwardRef(function(t,n){const{children:r,disabled:o,fontSize:i,icon:s,iconRight:a,justify:l="center",loading:u,mode:d="default",padding:f=3,paddingX:p,paddingY:m,paddingTop:v,paddingBottom:g,paddingLeft:b,paddingRight:x,radius:y=2,selected:w,space:C=3,text:_,textAlign:S,tone:E="default",type:j="button",...k}=t,T=ve(l),A=ve(f),D=ve(p),I=ve(m),P=ve(v),M=ve(g),$=ve(b),V=ve(x),L=ve(y),H=ve(C),U=Ds(),z=h.useMemo(()=>({padding:A,paddingX:D,paddingY:I,paddingTop:P,paddingBottom:M,paddingLeft:$,paddingRight:V}),[A,D,I,P,M,$,V]);return c.jsxs(UKe,{"data-ui":"Button",...k,$mode:d,$radius:L,$tone:E,"data-disabled":!!(u||o),"data-selected":w?"":void 0,disabled:!!(u||o),ref:n,type:j,children:[!!u&&c.jsx(WKe,{children:c.jsx(Hr,{})}),(s||_||a)&&c.jsx(F,{as:"span",...z,children:c.jsxs(W,{as:"span",justify:T,children:[s&&c.jsxs(B,{size:i,children:[h.isValidElement(s)&&s,$r.isValidElementType(s)&&h.createElement(s)]}),_&&c.jsx(F,{flex:a?1:void 0,marginLeft:s?H:void 0,marginRight:a?H:void 0,children:c.jsx(B,{align:S,size:i,textOverflow:"ellipsis",weight:U.sanity.button.textWeight,children:_})}),a&&c.jsxs(B,{size:i,children:[h.isValidElement(a)&&a,$r.isValidElementType(a)&&h.createElement(a)]})]})}),r&&c.jsx(F,{as:"span",...z,children:r})]})});var cW=Object.freeze,YKe=Object.defineProperty,rR=(e,t)=>cW(YKe(e,"raw",{value:cW(t||e.slice())})),uW,dW,fW;function qKe(e){return[GKe(e),KKe(e)]}function GKe(e){const{$checkered:t,theme:n}=e,r=n.sanity.space;return de(dW||(dW=rR([`
    `,`

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      outline: none;
      text-decoration: none;
    }

    /* &:is(pre) */
    &[data-as='pre'] {
      font: inherit;
    }
  `])),t&&de(uW||(uW=rR([`
      background-size: `,"px ",`px;
      background-position: 50% 50%;
      background-image: var(--card-bg-image);
    `])),r[3],r[3]))}function KKe(e){var t,n;const{$checkered:r,$focusRing:o,theme:i}=e,{focusRing:s}=i.sanity,{base:a,card:l,dark:u}=i.sanity.color,d={width:0,color:"var(--card-border-color)"};return de(fW||(fW=rR([`
    color-scheme: `,`;

    `,`

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);

    /* &:is(button) */
    &[data-as='button'] {
      --card-focus-ring-box-shadow: none;

      cursor: default;
      box-shadow: var(--card-focus-ring-box-shadow);

      &:disabled {
        `,`
      }

      &:not(:disabled) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }

        &:focus {
          --card-focus-ring-box-shadow: `,`;
        }

        &:focus:not(:focus-visible) {
          --card-focus-ring-box-shadow: `,`;
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      cursor: pointer;
      box-shadow: var(--card-focus-ring-box-shadow);

      &[data-disabled] {
        `,`
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }

        &:focus {
          --card-focus-ring-box-shadow: `,`;
        }

        &:focus:not(:focus-visible) {
          --card-focus-ring-box-shadow: `,`;
        }
      }
    }

    `,`
  `])),u?"dark":"light",Bt(a,l.enabled,r),Bt(a,l.disabled,r),Bt(a,l.pressed,r),Bt(a,l.selected,r),Bt(a,l.hovered,r),Bt(a,l.pressed,r),o?Ac({base:a,border:d,focusRing:s}):void 0,o?Eo(d):void 0,Bt(a,l.disabled,r),Bt(a,l.pressed,r),Bt(a,l.selected,r),Bt(a,l.hovered,r),Bt(a,l.pressed,r),o?Ac({base:a,border:d,focusRing:s}):void 0,o?Eo(d):void 0,(n=(t=i.sanity.styles)==null?void 0:t.card)==null?void 0:n.root)}const ZKe=O(F)(Jqe,td,KGe,qKe),ee=h.forwardRef(function(t,n){const{__unstable_checkered:r=!1,__unstable_focusRing:o=!1,as:i,border:s,borderTop:a,borderRight:l,borderBottom:u,borderLeft:d,pressed:f,radius:p=0,scheme:m,selected:v,shadow:g,tone:b="default",...x}=t,y=$r.isValidElementType(i)?i:"div",w=S0(),C=b==="inherit"?w.tone:b;return c.jsx(Sxe,{scheme:m,tone:C,children:c.jsx(ZKe,{"data-as":typeof y=="string"?y:void 0,"data-scheme":w.scheme,"data-ui":"Card","data-tone":C,...x,$border:ve(s),$borderTop:ve(a),$borderRight:ve(l),$borderBottom:ve(u),$borderLeft:ve(d),$checkered:r,$focusRing:o,$radius:ve(p),$shadow:ve(g),$tone:C,"data-checkered":r?"":void 0,"data-pressed":f?"":void 0,"data-selected":v?"":void 0,forwardedAs:y,ref:n,selected:v})})});var hW=Object.freeze,XKe=Object.defineProperty,Mxe=(e,t)=>hW(XKe(e,"raw",{value:hW(t||e.slice())})),pW,mW;function QKe(){return de(pW||(pW=Mxe([`
    position: relative;
    display: inline-block;
  `])))}function JKe(e){const{theme:t}=e,n=t.sanity.color.input,{focusRing:r,input:o,radius:i}=t.sanity;return de(mW||(mW=Mxe([`
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    outline: none;
    opacity: 0;
    z-index: 1;
    padding: 0;
    margin: 0;

    & + span {
      position: relative;
      display: block;
      height: `,`;
      width: `,`;
      box-sizing: border-box;
      box-shadow: `,`;
      border-radius: `,`;
      line-height: 1;
      background-color: `,`;

      & > svg {
        display: block;
        position: absolute;
        opacity: 0;
        height: 100%;
        width: 100%;

        & > path {
          vector-effect: non-scaling-stroke;
          stroke-width: 2 !important;
        }
      }
    }

    &:not(:disabled):focus + span {
      box-shadow: `,`;
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: `,`;
    }

    &:checked + span > svg:first-child {
      opacity: 1;
    }

    &[data-read-only] + span {
      background-color: `,`;
      box-shadow: `,`;
      color: `,`;
    }

    &:not([data-read-only]):disabled + span {
      background-color: `,`;
      box-shadow: `,`;
      color: `,`;
    }

    &:indeterminate + span > svg:last-child {
      opacity: 1;
    }
  `])),ge(o.checkbox.size),ge(o.checkbox.size),Eo({color:n.default.enabled.border,width:o.border.width}),ge(i[2]),n.default.enabled.bg,Ac({border:{width:o.border.width,color:n.default.enabled.border},focusRing:r}),Eo({color:n.default.enabled.border,width:o.border.width}),n.default.readOnly.bg,Eo({width:o.border.width,color:n.default.readOnly.border}),n.default.readOnly.fg,n.default.disabled.bg,Eo({width:o.border.width,color:n.default.disabled.border}),n.default.disabled.fg)}const eZe=O.div(QKe),tZe=O.input(JKe),Hj=h.forwardRef(function(t,n){const{checked:r,className:o,disabled:i,indeterminate:s,customValidity:a,readOnly:l,style:u,...d}=t,f=lr(n);return ww(f,a),h.useEffect(()=>{f.current&&(f.current.indeterminate=s||!1)},[s,f]),c.jsxs(eZe,{className:o,"data-ui":"Checkbox",style:u,children:[c.jsx(tZe,{"data-read-only":!i&&l?"":void 0,...d,checked:r,disabled:i||l,type:"checkbox",readOnly:l,ref:f}),c.jsxs("span",{children:[c.jsx(Ba,{}),c.jsx(Uve,{})]})]})});var gW=Object.freeze,nZe=Object.defineProperty,rZe=(e,t)=>gW(nZe(e,"raw",{value:gW(t||e.slice())})),vW;function oZe(e){let{theme:t}=e;const n=t.sanity.color.syntax;return{"&.atrule":{color:n.atrule},"&.attr-name":{color:n.attrName},"&.attr-value":{color:n.attrValue},"&.attribute":{color:n.attribute},"&.boolean":{color:n.boolean},"&.builtin":{color:n.builtin},"&.cdata":{color:n.cdata},"&.char":{color:n.char},"&.class":{color:n.class},"&.class-name":{color:n.className},"&.comment":{color:n.comment},"&.constant":{color:n.constant},"&.deleted":{color:n.deleted},"&.doctype":{color:n.doctype},"&.entity":{color:n.entity},"&.function":{color:n.function},"&.hexcode":{color:n.hexcode},"&.id":{color:n.id},"&.important":{color:n.important},"&.inserted":{color:n.inserted},"&.keyword":{color:n.keyword},"&.number":{color:n.number},"&.operator":{color:n.operator},"&.prolog":{color:n.prolog},"&.property":{color:n.property},"&.pseudo-class":{color:n.pseudoClass},"&.pseudo-element":{color:n.pseudoElement},"&.punctuation":{color:n.punctuation},"&.regex":{color:n.regex},"&.selector":{color:n.selector},"&.string":{color:n.string},"&.symbol":{color:n.symbol},"&.tag":{color:n.tag},"&.unit":{color:n.unit},"&.url":{color:n.url},"&.variable":{color:n.variable}}}function iZe(){return de(vW||(vW=rZe([`
    color: var(--card-code-fg-color);

    & code {
      font-family: inherit;

      &.refractor .token {
        `,`
      }
    }

    & a {
      color: inherit;
      text-decoration: underline;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),oZe)}const sZe=O.pre(iZe,GYe),wr=h.forwardRef(function(t,n){const{children:r,language:o,size:i=2,weight:s,...a}=t,l=typeof o=="string"?o:void 0,u=l?Mp.hasLanguage(l):!1;return c.jsxs(sZe,{"data-ui":"Code",...a,$size:ve(i),$weight:s,ref:n,children:[!(l&&u)&&c.jsx("code",{children:r}),l&&u&&c.jsx(Mp,{inline:!0,language:l,value:String(r)})]})}),aZe={width:"100%",margin:"0 auto"};function lZe(){return aZe}function cZe(e){const{theme:t}=e,{container:n,media:r}=t.sanity;return dt(r,e.$width,o=>({maxWidth:o==="auto"?"none":ge(n[o])}))}const uZe=O(F)(lZe,cZe),ia=h.forwardRef(function(t,n){const{as:r,width:o=2,...i}=t;return c.jsx(uZe,{"data-ui":"Container",...i,$width:ve(o),forwardedAs:r,ref:n})}),dZe=O(F)(kGe),ln=h.forwardRef(function(t,n){const{as:r,autoRows:o,autoCols:i,autoFlow:s,columns:a,gap:l,gapX:u,gapY:d,rows:f,children:p,...m}=t;return c.jsx(dZe,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Grid",...m,$autoRows:ve(o),$autoCols:ve(i),$autoFlow:ve(s),$columns:ve(a),$gap:ve(l),$gapX:ve(u),$gapY:ve(d),$rows:ve(f),forwardedAs:r,ref:n,children:p})});var yW=Object.freeze,fZe=Object.defineProperty,bI=(e,t)=>yW(fZe(e,"raw",{value:yW(t||e.slice())})),bW,xW,wW;function hZe(e){const{$accent:t,$muted:n,theme:r}=e;return de(wW||(wW=bI([`
    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&de(bW||(bW=bI([`
      color: var(--card-accent-fg-color);
    `]))),n&&de(xW||(xW=bI([`
      color: var(--card-muted-fg-color);
    `]))),r.sanity.fonts.code.family)}var CW=Object.freeze,pZe=Object.defineProperty,mZe=(e,t)=>CW(pZe(e,"raw",{value:CW(t||e.slice())})),_W;const gZe=O.div(hZe,CL,KYe),vZe=O.span(_W||(_W=mZe([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),oi=h.forwardRef(function(t,n){const{accent:r=!1,align:o,children:i,muted:s=!1,size:a=2,textOverflow:l,weight:u,...d}=t;let f=i;return l==="ellipsis"&&(f=c.jsx(vZe,{children:f})),c.jsx(gZe,{"data-ui":"Heading",...d,$accent:r,$align:ve(o),$muted:s,$size:ve(a),$weight:u,ref:n,children:c.jsx("span",{children:f})})});function yZe(){return{lineHeight:0,"&&:not([hidden])":{display:"block"},"& > div":{display:"inline-block",verticalAlign:"middle"}}}function bZe(e){const{theme:t}=e;return dt(t.sanity.media,e.$space,n=>{const r=ge(t.sanity.space[n]);return{margin:"-".concat(r," 0 0 -").concat(r),"& > div":{padding:"".concat(r," 0 0 ").concat(r)}}})}const xZe=O(F)(yZe,bZe),Jt=h.forwardRef(function(t,n){const{as:r,children:o,space:i,...s}=t,a=h.useMemo(()=>Oxe(o).filter(Boolean).map((l,u)=>c.jsx("div",{children:l},u)),[o]);return c.jsx(xZe,{"data-ui":"Inline",...s,$space:ve(i),forwardedAs:r,ref:n,children:a})});var SW=Object.freeze,wZe=Object.defineProperty,CZe=(e,t)=>SW(wZe(e,"raw",{value:SW(t||e.slice())})),EW;function _Ze(){return de(EW||(EW=CZe([`
    background: var(--card-bg-color);
    font: inherit;
    box-shadow: inset 0 0 0 1px var(--card-hairline-hard-color);

    &:not([hidden]) {
      display: inline-block;
    }
  `])))}const SZe=O.kbd(td,_Ze),oR=h.forwardRef(function(t,n){const{children:r,fontSize:o=1,padding:i=1,radius:s=2,...a}=t;return c.jsx(SZe,{"data-ui":"KBD",...a,$radius:ve(s),ref:n,children:c.jsx(F,{as:"span",padding:i,children:c.jsx(wr,{as:"span",muted:!0,size:o,children:r})})})}),iR=Symbol.for("@sanity/ui/context/boundaryElement");Qt[iR]=Qt[iR]||h.createContext(null);const Fxe=Qt[iR];function vm(e){const{children:t,element:n}=e,r=h.useMemo(()=>({version:0,element:n}),[n]);return c.jsx(Fxe.Provider,{value:r,children:t})}const EZe={version:0,element:null};function eh(){const e=h.useContext(Fxe);if(e&&(!_0(e)||e.version!==0))throw new Error("useBoundaryElement(): the context value is not compatible");return e||EZe}function kZe(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]>t&&n.push(r);return n}function jZe(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]<=t&&n.push(r);return n}const TZe=h.forwardRef(function(t,n){const r=Ds(),{children:o,media:i=r.sanity.media,...s}=t,a=lr(n),[l,u]=h.useState(null),d=zj(l),f=h.useMemo(()=>{var g;return(g=d==null?void 0:d.border.width)!=null?g:window.innerWidth},[d]),p=h.useMemo(()=>kZe(i,f),[i,f]),m=h.useMemo(()=>jZe(i,f),[i,f]),v=h.useCallback(g=>{a.current=g,u(g)},[a]);return c.jsx("div",{"data-ui":"ElementQuery",...s,"data-eq-max":p.length?p.join(" "):void 0,"data-eq-min":m.length?m.join(" "):void 0,ref:v,children:o})});var AZe=Object.defineProperty,DZe=(e,t,n)=>t in e?AZe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,IZe=(e,t,n)=>(DZe(e,typeof t!="symbol"?t+"":t,n),n);class E0 extends h.Component{constructor(){super(...arguments),IZe(this,"state",{error:null})}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,n){this.props.onCatch({error:t,info:n})}render(){const{error:t}=this.state;if(t){const n=typeof(t==null?void 0:t.message)=="string"?t.message:"Error";return c.jsx(wr,{children:n})}return this.props.children}}function Lxe(e){if(!_0(e)||e.version!==0)throw new Error("the context value is not compatible");if(!e)throw new Error("components using `useLayer()` should be wrapped in a <LayerProvider>.");if(e.version===0)return e;throw new Error("could not get layer context")}const sR=Symbol.for("@sanity/ui/context/layer");Qt[sR]=Qt[sR]||h.createContext(null);const aR=Qt[sR];function Rc(){const e=h.useContext(aR);if(!e)throw new Error("useLayer(): missing context value");try{return Lxe(e)}catch(t){throw t instanceof Error?new Error("useLayer(): ".concat(t.message)):new Error("useLayer(): ".concat(t))}}function lR(e){const t=requestAnimationFrame(e);return()=>{cancelAnimationFrame(t)}}function kOn(e){let t=null;const n=lR(()=>{t=lR(e)});return()=>{t&&t(),n()}}function PZe(e){return kL(e)||jL(e)}function Mc(e){return e instanceof Node&&e.nodeType===Node.ELEMENT_NODE}function kL(e){return Mc(e)&&e.nodeName==="A"}function OZe(e){return Mc(e)&&e.nodeName==="INPUT"}function jL(e){return Mc(e)&&e.nodeName==="BUTTON"}function $Ze(e){return Mc(e)&&e.nodeName==="SELECT"}function RZe(e){return Mc(e)&&e.nodeName==="TEXTAREA"}function cR(e,t){return e.contains(t)||e===t}function MZe(e){return!!document.activeElement&&e.contains(document.activeElement)}function FZe(e){return e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null?!0:kL(e)?!!e.href&&e.rel!=="ignore":OZe(e)?e.type!=="hidden"&&e.type!=="file"&&!e.disabled:jL(e)||$Ze(e)||RZe(e)?!e.disabled:!1}function Bxe(e){if(!FZe(e))return!1;try{e.focus()}catch{}return document.activeElement===e}function ox(e){for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];if(Mc(n)&&(Bxe(n)||ox(n)))return!0}return!1}function Nxe(e){for(let t=e.childNodes.length-1;t>=0;t--){const n=e.childNodes[t];if(Mc(n)&&(Bxe(n)||Nxe(n)))return!0}return!1}function LZe(e){if(!(e instanceof Element))return!1;const t=window.getComputedStyle(e);return t.overflowX.includes("auto")||t.overflowX.includes("scroll")||t.overflowY.includes("auto")||t.overflowY.includes("scroll")}function Ff(e){var t;const{children:n,zOffset:r=0}=e,o=h.useContext(aR),i=o&&Lxe(o),s=i==null?void 0:i.registerChild,l=((t=i==null?void 0:i.level)!=null?t:0)+1,u=ve(r),d=u.length-1,f=Math.min(gm(),d),p=i?i.zIndex+u[f]:u[f],[,m]=h.useState({}),[v,g]=h.useState(0),b=v===0,x=h.useCallback(w=>{const C=s==null?void 0:s(w);return w!==void 0?m(_=>{var S;const E=(S=_[w])!=null?S:0,j={..._,[w]:E+1};return g(Object.keys(j).length),j}):g(_=>_+1),()=>{w!==void 0?m(_=>{const S={..._};return S[w]===1?(delete S[w],g(Object.keys(S).length)):S[w]-=1,S}):g(_=>_-1),C==null||C()}},[s]);h.useEffect(()=>s==null?void 0:s(l),[l,s]);const y=h.useMemo(()=>({version:0,isTopLayer:b,level:l,registerChild:x,size:v,zIndex:p}),[b,l,x,v,p]);return c.jsx(aR.Provider,{value:y,children:n})}const BZe=O.div({position:"relative"}),NZe=h.forwardRef(function(t,n){const{children:r,onActivate:o,onFocus:i,style:s=mf,...a}=t,{zIndex:l,isTopLayer:u}=Rc(),d=h.useRef(null),f=lr(n),p=h.useRef(u);h.useEffect(()=>{p.current!==u&&u&&(o==null||o({activeElement:d.current})),p.current=u},[u,o]);const m=h.useCallback(v=>{i==null||i(v);const g=f.current,b=document.activeElement;!u||!g||!b||Mc(b)&&cR(g,b)&&(d.current=b)},[f,u,i]);return c.jsx(BZe,{...a,"data-ui":"Layer",onFocus:m,ref:f,style:{...s,zIndex:l},children:r})}),es=h.forwardRef(function(t,n){const{children:r,zOffset:o=1,...i}=t;return c.jsx(Ff,{zOffset:o,children:c.jsx(NZe,{...i,ref:n,children:r})})}),uR=Symbol.for("@sanity/ui/context/portal"),Fh=Symbol.for("@sanity/ui/context/portal/element");Qt[Fh]=null;const zZe={version:0,boundaryElement:null,get element(){return typeof document>"u"?null:(Qt[Fh]||(Qt[Fh]=document.createElement("div"),Qt[Fh].setAttribute("data-portal",""),document.body.appendChild(Qt[Fh])),Qt[Fh])}};Qt[uR]=Qt[uR]||h.createContext(zZe);const zxe=Qt[uR];function Uj(){const e=h.useContext(zxe);if(!e)throw new Error("usePortal(): missing context value");if(!_0(e)||e.version!==0)throw new Error("usePortal(): the context value is not compatible");return e}function ym(e){var t;const{children:n,__unstable_name:r}=e,o=Uj(),i=(r?o.elements&&o.elements[r]:o.element)||((t=o.elements)==null?void 0:t.default);return i?uc.createPortal(n,i):null}function VZe(e){const t=h.useRef(e);return HZe(t.current,e)||(t.current=e),t.current}function HZe(e,t){if(!e||!t)return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length!==r.length?!1:n.every(o=>e[o]===t[o])}const UZe=typeof document<"u";function k0(e){const{boundaryElement:t,children:n,element:r,__unstable_elements:o}=e,i=VZe(o),s=h.useMemo(()=>({version:0,boundaryElement:t||null,element:r||UZe&&document.body||null,elements:i}),[t,r,i]);return c.jsx(zxe.Provider,{value:s,children:n})}var kW=Object.freeze,WZe=Object.defineProperty,YZe=(e,t)=>kW(WZe(e,"raw",{value:kW(t||e.slice())})),jW;const qZe=O.div(jW||(jW=YZe([`
  display: block;
  width: 0;
  height: 0;
  position: absolute;
  overflow: hidden;
  overflow: clip;
`])));h.forwardRef(function(t,n){const{as:r,children:o}=t;return c.jsx(qZe,{"aria-hidden":!0,as:r,"data-ui":"SrOnly",ref:n,children:o})});var TW=Object.freeze,GZe=Object.defineProperty,Vxe=(e,t)=>TW(GZe(e,"raw",{value:TW(t||e.slice())})),AW,DW;const KZe=O.div(AW||(AW=Vxe([`
  position: relative;
`]))),IW=O.div(DW||(DW=Vxe([`
  position: absolute;
  left: 0;
  right: 0;
`])));h.forwardRef(function(t,n){const{as:r="div",gap:o=0,getItemKey:i,items:s=[],onChange:a,renderItem:l,...u}=t,{space:d}=Ds().sanity,f=lr(n),p=h.useRef(null),[m,v]=h.useState(0),[g,b]=h.useState(0),[x,y]=h.useState(-1);h.useEffect(()=>{if(!p.current)return;const k=p.current.firstChild;k instanceof HTMLElement&&y(k.offsetHeight)},[l]),h.useEffect(()=>{if(!f.current)return;let k=f.current.parentNode;for(;k&&!LZe(k);)k=k.parentNode;if(k){const D=k;if(!(D instanceof HTMLElement))return;const I=()=>{v(D.scrollTop)};D.addEventListener("scroll",I,{passive:!0});const P=new Cxe(M=>{b(M[0].contentRect.height)});return P.observe(D),I(),()=>{D.removeEventListener("scroll",I),P.unobserve(D),P.disconnect()}}const T=()=>{v(window.scrollY)},A=()=>{b(window.innerHeight)};return window.addEventListener("scroll",T,{passive:!0}),window.addEventListener("resize",A),b(window.innerHeight),T(),()=>{window.removeEventListener("scroll",T),window.removeEventListener("resize",A)}},[f]);const w=s.length,C=x?w*(x+d[o])-d[o]:0,_=C?Math.max(Math.floor(m/C*w)-2,0):0,S=C?Math.ceil((m+g)/C*w)+1:0;h.useEffect(()=>{a&&a({fromIndex:_,gap:d[o],itemHeight:x,scrollHeight:g,scrollTop:m,toIndex:S})},[_,o,x,a,g,m,d,S]);const E=h.useMemo(()=>!l||s.length===0?null:x===-1?[c.jsx(IW,{children:l(s[0])},0)]:s.slice(_,S).map((k,T)=>{const A=_+T,D=l(k),I=i?i(k,A):A;return c.jsx(IW,{style:{top:A*(x+d[o])},children:D},I)}),[_,o,i,x,s,l,d,S]),j=h.useMemo(()=>({height:C}),[C]);return c.jsx(KZe,{as:r,"data-ui":"VirtualList",...u,ref:f,children:c.jsx("div",{ref:p,style:j,children:E})})});const ZZe=4,fg=4,nc=27,XZe=11,Hxe=[0,0,0,0],QZe={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};function JZe(e){const{apply:t,margins:n,padding:r=0}=e;return{name:"@sanity/ui/size",async fn(o){const{elements:i,placement:s,platform:a,rects:l}=o,{floating:u,reference:d}=l,f=await Ov(o,{altBoundary:!0,boundary:e.boundaryElement||void 0,elementContext:"floating",padding:r,rootBoundary:"viewport"});let p=1/0,m=1/0;const v=u.width,g=u.height;s.includes("top")&&(p=v-(f.left+f.right),m=g-f.top),s.includes("right")&&(p=v-f.right,m=g-(f.top+f.bottom)),s.includes("bottom")&&(p=v-(f.left+f.right),m=g-f.bottom),s.includes("left")&&(p=v-f.left,m=g-(f.top+f.bottom)),t({availableWidth:p-n[1]-n[3],availableHeight:m-n[0]-n[2],elements:i,referenceWidth:d.width-n[1]-n[3]});const b=await a.getDimensions(i.floating),x=b.height,y=b.width;return v!==y||g!==x?{reset:{rects:!0}}:{}}}}function eXe(e){const{mediaIndex:t,theme:n,width:r}=e,o=r[t],i=o===void 0?r[r.length-1]:o;return typeof i=="number"?n.sanity.container[i]:void 0}function tXe(e){const{boundaryWidth:t,currentWidth:n}=e;if(!(n===void 0&&t===void 0))return Math.min(n??1/0,(t||1/0)-fg*2)}var PW=Object.freeze,nXe=Object.defineProperty,TL=(e,t)=>PW(nXe(e,"raw",{value:PW(t||e.slice())})),OW,$W,RW;const rXe=O.div(OW||(OW=TL([`
  position: absolute;
  pointer-events: none;
  width: `,`px;
  height: `,`px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    display: block;
    transform-origin: `,"px ",`px;
  }

  [data-placement^='top'] > & {
    bottom: -`,`px;
  }

  [data-placement^='right'] > & {
    left: -`,`px;

    & > svg {
      transform: rotate(90deg);
    }
  }

  [data-placement^='left'] > & {
    right: -`,`px;

    & > svg {
      transform: rotate(-90deg);
    }
  }

  [data-placement^='bottom'] > & {
    top: -`,`px;

    & > svg {
      transform: rotate(180deg);
    }
  }
`])),nc,nc,nc/2,nc/2,nc,nc,nc,nc),oXe=O.path($W||($W=TL([`
  fill: var(--card-shadow-outline-color);
`]))),iXe=O.path(RW||(RW=TL([`
  fill: var(--card-bg-color);
`]))),sXe=h.forwardRef(function(t,n){return c.jsx(rXe,{"data-ui":"Popover__arrow",...t,ref:n,children:c.jsxs("svg",{width:nc,height:XZe,viewBox:"0 0 27 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx(oXe,{d:"M1.18708 1C3.29803 1.0011 5.29585 1.95479 6.62414 3.59561L11.1683 9.20895C12.369 10.6922 14.631 10.6922 15.8317 9.20894L20.3759 3.59561C21.7042 1.95478 23.702 1.0011 25.8129 1H21.9436C21.0533 1.49255 20.2545 2.15618 19.5986 2.96641L15.0545 8.57975C14.254 9.56855 12.746 9.56855 11.9455 8.57975L7.40139 2.96642C6.74548 2.15618 5.94673 1.49255 5.05643 1H1.18708Z"}),c.jsx(iXe,{d:"M1.18342 0C3.59749 0 5.88246 1.0901 7.40138 2.96642L11.9455 8.57975C12.746 9.56855 14.254 9.56855 15.0545 8.57975L19.5986 2.96641C21.1175 1.0901 23.4025 0 25.8166 0H27H0H1.18342Z"})]})})}),aXe=O(ee)({"&:not([hidden])":{display:"flex"},flexDirection:"column",width:"max-content",minWidth:"min-content"}),Uxe=h.memo(h.forwardRef(function(t,n){const{__unstable_margins:r,arrow:o,arrowRef:i,arrowX:s,arrowY:a,children:l,padding:u,placement:d,overflow:f,radius:p,scheme:m,shadow:v,strategy:g,style:b,tone:x,width:y,x:w,y:C,..._}=t,{zIndex:S}=Rc(),E=h.useMemo(()=>r||Hxe,[r]),j=(w??0)+E[3],k=(C??0)+E[0],T=h.useMemo(()=>({position:g,top:k,left:j,width:y,zIndex:S,...b}),[g,b,y,j,k,S]),A=d&&mxe[d.split("-")[0]],D=h.useMemo(()=>{const I={left:s!==null?s:void 0,top:a!==null?a:void 0,right:void 0,bottom:void 0};return A&&(I[A]=0-nc),I},[s,a,A]);return c.jsxs(aXe,{"data-ui":"Popover",..._,"data-placement":d,radius:p,ref:n,scheme:m,shadow:v,sizing:"border",style:T,tone:x,children:[c.jsx(W,{"data-ui":"Popover__wrapper",direction:"column",flex:1,overflow:f,children:c.jsx(W,{direction:"column",flex:1,padding:u,children:l})}),o&&c.jsx(sXe,{ref:i,style:D})]})}));Uxe.displayName="PopoverCard";const hn=h.memo(h.forwardRef(function(t,n){var r,o,i,s,a,l,u,d,f;const p=Ds(),m=eh(),{__unstable_margins:v=Hxe,arrow:g=!0,boundaryElement:b=m.element,children:x,constrainSize:y=!1,content:w,disabled:C,fallbackPlacements:_=(o=t.fallbackPlacements)!=null?o:QZe[(r=t.placement)!=null?r:"bottom"],matchReferenceWidth:S,floatingBoundary:E=(i=t.boundaryElement)!=null?i:m.element,open:j,overflow:k="hidden",padding:T,placement:A="bottom",portal:D,preventOverflow:I=!0,radius:P=3,referenceBoundary:M=(s=t.boundaryElement)!=null?s:m.element,referenceElement:$,scheme:V,shadow:L=3,tone:H="inherit",width:U="auto",zOffset:z=(a=p.sanity.layer)==null?void 0:a.popover.zOffset,updateRef:Y,...te}=t,N=(l=zj(b))==null?void 0:l.border,G=ve(T),q=ve(P),K=ve(L),Q=ve(U),X=ve(z),Z=lr(n),oe=h.useRef(null),le="viewport",he=gm(),ie=y||I?N==null?void 0:N.width:void 0,ye=eXe({mediaIndex:he,theme:p,width:Q}),_e=h.useRef(ye);h.useEffect(()=>{_e.current=ye},[ye]);const Ae=tXe({boundaryWidth:ie,currentWidth:ye}),xe=h.useRef(Ae);h.useEffect(()=>{xe.current=Ae},[Ae]);const Ze=h.useRef();h.useEffect(()=>{const Ut=Z.current;if(!j||!Ut)return;const Wr=Ze.current;S?Wr!==void 0&&(Ut.style.width="".concat(Wr,"px")):ye!==void 0&&(Ut.style.width="".concat(ye,"px")),typeof Ae=="number"&&(Ut.style.maxWidth="".concat(Ae,"px"))},[ye,Z,S,Ae,j]);const rt=h.useMemo(()=>{const Ut=[];return(y||I)&&Ut.push(I0e({boundary:E||void 0,fallbackPlacements:_,padding:fg,rootBoundary:le})),Ut.push(P0e({mainAxis:g?ZZe:0})),(y||S)&&Ut.push(JZe({apply(Wr){let{availableWidth:Hl,availableHeight:nl,elements:si,referenceWidth:Rn}=Wr;Ze.current=Rn;const Mr=_e.current,eo=xe.current;S?si.floating.style.width="".concat(Rn,"px"):Mr!==void 0&&(si.floating.style.width="".concat(Mr,"px")),y&&(si.floating.style.maxWidth="".concat(Math.min(Hl,eo??1/0),"px"),si.floating.style.maxHeight="".concat(nl,"px"))},boundaryElement:E||void 0,constrainSize:y,margins:v,matchReferenceWidth:S,padding:fg})),I&&Ut.push(O0e({boundary:E||void 0,rootBoundary:le,padding:fg})),g&&Ut.push(Wye({element:oe,padding:fg})),Ut.push(nNe({boundary:M||void 0,padding:fg,strategy:"referenceHidden"})),Ut},[g,y,_,E,v,S,I,M]),{x:at,y:nt,middlewareData:Kt,placement:Ye,refs:me,strategy:Ue,update:qe}=qye({middleware:rt,placement:A,whileElementsMounted:z0e}),Ne=(u=Kt.hide)==null?void 0:u.referenceHidden,bt=(d=Kt.arrow)==null?void 0:d.x,Tt=(f=Kt.arrow)==null?void 0:f.y,St=h.useCallback(Ut=>{oe.current=Ut},[]),Zt=h.useCallback(Ut=>{Z.current=Ut,me.setFloating(Ut)},[Z,me]),Oi=h.useCallback(Ut=>{me.setReference(Ut);const Wr=x==null?void 0:x.ref;typeof Wr=="function"?Wr(Ut):Wr&&(Wr.current=Ut)},[x,me]),is=h.useMemo(()=>!x||$?null:h.cloneElement(x,{ref:Oi}),[x,$,Oi]);if(h.useEffect(()=>{Y&&(typeof Y=="function"?Y(qe):Y&&(Y.current=qe))},[qe,Y]),h.useEffect(()=>{me.setReference($||null)},[$,me]),C)return x||c.jsx(c.Fragment,{});const Os=c.jsx(Ff,{zOffset:X,children:c.jsx(Uxe,{...te,__unstable_margins:v,arrow:g,arrowRef:St,arrowX:bt,arrowY:Tt,hidden:Ne,overflow:k,padding:G,placement:Ye,radius:q,ref:Zt,scheme:V,shadow:K,strategy:Ue,tone:H,width:S?Ze.current:ye,x:at,y:nt,children:w})});return c.jsxs(c.Fragment,{children:[j&&c.jsx(c.Fragment,{children:D?c.jsx(ym,{__unstable_name:typeof D=="string"?D:void 0,children:Os}):Os}),is]})}));hn.displayName="Popover";var MW=Object.freeze,lXe=Object.defineProperty,Wxe=(e,t)=>MW(lXe(e,"raw",{value:MW(t||e.slice())})),FW,LW;function cXe(){return de(FW||(FW=Wxe([`
    position: relative;

    &:not([hidden]) {
      display: inline-block;
    }

    &[data-read-only] {
      outline: 1px solid red;
    }
  `])))}function uXe(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.input,i=(r.radio.size-r.radio.markSize)/2;return de(LW||(LW=Wxe([`
    appearance: none;
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    z-index: 1;
    padding: 0;
    margin: 0;
    border-radius: `,`;
    border: none;

    /* enabled */
    & + span {
      display: block;
      position: relative;
      height: `,`;
      width: `,`;
      border-radius: `,`;
      background: `,`;
      box-shadow: `,`;

      &::after {
        content: '';
        position: absolute;
        top: `,`;
        left: `,`;
        height: `,`;
        width: `,`;
        border-radius: `,`;
        background: `,`;
        opacity: 0;
      }
    }

    /* focused */
    &:not(:disabled):focus + span {
      box-shadow: `,`;
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: `,`;
    }

    &:checked + span::after {
      opacity: 1;
    }

    /* read only */
    &[data-read-only] + span {
      box-shadow: 0 0 0 1px `,`;
      background: `,`;

      &::after {
        background: `,`;
      }
    }

    /* disabled */
    &:not([data-read-only]):disabled + span {
      box-shadow: 0 0 0 1px `,`;
      background: `,`;

      &::after {
        background: `,`;
      }
    }
  `])),ge(r.radio.size/2),ge(r.radio.size),ge(r.radio.size),ge(r.radio.size/2),o.default.enabled.bg,Eo({color:o.default.enabled.border,width:r.border.width}),ge(i),ge(i),ge(r.radio.markSize),ge(r.radio.markSize),ge(r.radio.markSize/2),o.default.enabled.fg,Ac({border:{width:r.border.width,color:o.default.enabled.border},focusRing:n}),Eo({color:o.default.enabled.border,width:r.border.width}),o.default.readOnly.border,o.default.readOnly.bg,o.default.readOnly.fg,o.default.disabled.border,o.default.disabled.bg,o.default.disabled.fg)}const dXe=O.div(cXe),fXe=O.input(uXe),hXe=h.forwardRef(function(t,n){const{className:r,disabled:o,style:i,customValidity:s,readOnly:a,...l}=t,u=lr(n);return ww(u,s),c.jsxs(dXe,{className:r,"data-ui":"Radio",style:i,children:[c.jsx(fXe,{"data-read-only":!o&&a?"":void 0,...l,disabled:o||a,readOnly:a,ref:u,type:"radio"}),c.jsx("span",{})]})});var BW=Object.freeze,pXe=Object.defineProperty,Wj=(e,t)=>BW(pXe(e,"raw",{value:BW(t||e.slice())})),NW,zW,VW,HW;function mXe(){return de(NW||(NW=Wj([`
    position: relative;
    width: -webkit-fill-available;
    width: stretch;

    &:not([hidden]) {
      display: inline-block;
    }
  `])))}function gXe(e){const{theme:t}=e,n=t.sanity.fonts.text;return de(zW||(zW=Wj([`
    -webkit-font-smoothing: antialiased;
    appearance: none;
    border: 0;
    font-family: `,`;
    color: inherit;
    width: 100%;
    outline: none;
    margin: 0;

    &:disabled {
      opacity: 1;
    }
  `])),n.family)}function vXe(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.input;return de(VW||(VW=Wj([`
    /* enabled */
    background-color: `,`;
    color: `,`;
    box-shadow: `,`;

    /* hovered */
    @media (hover: hover) {
      &:not(:disabled):hover {
        background-color: `,`;
        color: `,`;
        box-shadow: `,`;
      }
    }

    /* focused */
    &:not(:disabled):focus {
      box-shadow: `,`;
    }

    /* read-only */
    &[data-read-only] {
      background-color: `,`;
      color: `,`;
      box-shadow: `,`;
    }

    /* disabled */
    &:not([data-read-only]):disabled {
      background-color: `,`;
      color: `,`;
      box-shadow: `,`;
    }
  `])),o.default.enabled.bg,o.default.enabled.fg,Eo({color:o.default.enabled.border,width:r.border.width}),o.default.hovered.bg,o.default.hovered.fg,Eo({color:o.default.hovered.border,width:r.border.width}),Ac({border:{width:r.border.width,color:o.default.enabled.border},focusRing:n}),o.default.readOnly.bg,o.default.readOnly.fg,Eo({color:o.default.readOnly.border,width:r.border.width}),o.default.disabled.bg,o.default.disabled.fg,Eo({color:o.default.disabled.border,width:r.border.width}))}function yXe(e){return{fontSize:ge(e.fontSize),lineHeight:ge(e.lineHeight)}}function bXe(e){const{theme:t,$fontSize:n}=e,{sizes:r}=t.sanity.fonts.text;return dt(t.sanity.media,n,o=>yXe(r[o]||r[2]))}function xXe(){return[td,gXe,vXe,bXe,UGe]}function wXe(e){const{theme:t}=e,n=t.sanity.color.input;return de(HW||(HW=Wj([`
    pointer-events: none;
    position: absolute;
    top: 0;
    right: 0;

    /* enabled */
    --card-fg-color: `,`;

    /* hover */
    @media (hover: hover) {
      select:not(disabled):not(:read-only):hover + && {
        --card-fg-color: `,`;
      }
    }

    /* disabled */
    select:disabled + && {
      --card-fg-color: `,`;
    }

    /* read-only */
    select[data-read-only] + && {
      --card-fg-color: `,`;
    }
  `])),n.default.enabled.fg,n.default.hovered.fg,n.default.disabled.fg,n.default.readOnly.fg)}const AL={root:mXe,input:xXe,iconBox:wXe},CXe=O.div(AL.root),_Xe=O.select(AL.input),SXe=O(F)(AL.iconBox),Lf=h.forwardRef(function(t,n){const{children:r,customValidity:o,disabled:i,fontSize:s=2,padding:a=3,radius:l=1,readOnly:u,space:d=3,...f}=t,p=lr(n);return ww(p,o),c.jsxs(CXe,{"data-ui":"Select",children:[c.jsx(_Xe,{"data-read-only":!i&&u?"":void 0,"data-ui":"Select",...f,$fontSize:ve(s),$padding:ve(a),$radius:ve(l),$space:ve(d),disabled:i||u,ref:p,children:r}),c.jsx(SXe,{padding:a,children:c.jsx(B,{size:s,children:c.jsx(Ml,{})})})]})}),EXe={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"},gridTemplateColumns:"minmax(0, 1fr)",gridAutoRows:"min-content"};function kXe(){return EXe}function jXe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return dt(n,e.$space,o=>({gridGap:ge(r[o])}))}const TXe=O(F)(kXe,jXe),ne=h.forwardRef(function(t,n){const{as:r,space:o,...i}=t;return c.jsx(TXe,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Stack",...i,$space:ve(o),forwardedAs:r,ref:n})});var UW=Object.freeze,AXe=Object.defineProperty,Ep=(e,t)=>UW(AXe(e,"raw",{value:UW(t||e.slice())})),WW,YW,qW,GW,KW,ZW,XW;function DXe(){return de(WW||(WW=Ep([`
    position: relative;
    &:not([hidden]) {
      display: inline-block;
    }
  `])))}function IXe(){return de(YW||(YW=Ep([`
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    padding: 0;
    margin: 0;

    /* Place the input element above the representation element */
    z-index: 1;
  `])))}function PXe(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.button.default;return de(qW||(qW=Ep([`
    --switch-bg-color: `,`;
    --switch-fg-color: `,`;
    --switch-box-shadow: none;

    &:not([hidden]) {
      display: block;
    }
    position: relative;
    width: `,`;
    height: `,`;
    border-radius: `,`;

    /* Make sure it’s not possible to interact with the wrapper element */
    pointer-events: none;

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 1;
      box-shadow: var(--switch-box-shadow);
      border-radius: inherit;
    }

    /* Focus styles */
    input:focus + && {
      --switch-box-shadow: `,`;
    }

    input:focus:not(:focus-visible) + && {
      --switch-box-shadow: none;
    }

    input:checked + && {
      --switch-bg-color: `,`;
      --switch-fg-color: `,`;
    }

    @media (hover: hover) {
      input:not(:disabled):hover + && {
        --switch-bg-color: `,`;
        --switch-fg-color: `,`;
      }

      input:not(:disabled):checked:hover + && {
        --switch-bg-color: `,`;
        --switch-fg-color: `,`;
      }
    }

    input:not([data-read-only]):disabled + && {
      --switch-bg-color: `,`;
      --switch-fg-color: `,`;
    }
  `])),o.default.enabled.bg,o.default.enabled.fg,ge(r.switch.width),ge(r.switch.height),ge(r.switch.height/2),Ac({focusRing:n}),o.positive.enabled.bg,o.positive.enabled.fg,o.default.hovered.bg,o.default.hovered.fg,o.positive.hovered.bg,o.positive.hovered.fg,o.default.disabled.bg,o.default.disabled.fg)}function OXe(e){const{theme:t}=e,{input:n}=t.sanity;return de(GW||(GW=Ep([`
    &:not([hidden]) {
      display: block;
    }
    background-color: var(--switch-bg-color);
    position: absolute;
    left: 0;
    top: 0;
    width: `,`;
    height: `,`;
    border-radius: `,`;
  `])),ge(n.switch.width),ge(n.switch.height),ge(n.switch.height/2))}function $Xe(e){const{$indeterminate:t,theme:n}=e,{input:r}=n.sanity,o=r.switch.width,i=r.switch.height,s=r.switch.padding,a=i-r.switch.padding*2,l=o-s*2-a,u=o/2-a/2-s,d=t!==!0&&e.$checked===!0;return de(XW||(XW=Ep([`
    &:not([hidden]) {
      display: block;
    }
    position: absolute;
    left: `,`;
    top: `,`;
    height: `,`;
    width: `,`;
    border-radius: `,`;
    transition-property: transform;
    transition-duration: `,`ms;
    transition-timing-function: `,`;
    background: var(--switch-fg-color);
    transform: translate3d(0, 0, 0);

    `,`

    `,`
  `])),ge(s),ge(s),ge(a),ge(a),ge(a/2),r.switch.transitionDurationMs,r.switch.transitionTimingFunction,d&&de(KW||(KW=Ep([`
      transform: translate3d(`,`px, 0, 0);
    `])),l),t&&de(ZW||(ZW=Ep([`
      transform: translate3d(`,`px, 0, 0);
    `])),u))}const RXe=O.span(DXe),MXe=O.input(IXe),FXe=O.span(PXe),LXe=O.span(OXe),BXe=O.span($Xe),Yxe=h.forwardRef(function(t,n){const{checked:r,className:o,disabled:i,indeterminate:s,readOnly:a,style:l,...u}=t,d=lr(n);return h.useEffect(()=>{d.current&&(d.current.indeterminate=s||!1)},[s,d]),c.jsxs(RXe,{className:o,"data-ui":"Switch",style:l,children:[c.jsx(MXe,{"data-read-only":!i&&a?"":void 0,...u,checked:s!==!0&&r,disabled:i||a,type:"checkbox",ref:d}),c.jsxs(FXe,{"aria-hidden":!0,"data-name":"representation",children:[c.jsx(LXe,{}),c.jsx(BXe,{$checked:r,$indeterminate:s})]})]})});var QW=Object.freeze,NXe=Object.defineProperty,zXe=(e,t)=>QW(NXe(e,"raw",{value:QW(t||e.slice())})),JW;const VXe=O.span(jxe),HXe=O.span(JW||(JW=zXe([`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`]))),UXe=O.textarea(SL,Txe,Axe),WXe=O.div(td,Dxe),qxe=h.forwardRef(function(t,n){const{border:r=!0,customValidity:o,disabled:i=!1,fontSize:s=2,padding:a=3,radius:l=1,weight:u,...d}=t,f=lr(n),p=S0();return ww(f,o),c.jsx(VXe,{"data-ui":"TextArea",children:c.jsxs(HXe,{children:[c.jsx(UXe,{"data-as":"textarea","data-scheme":p.scheme,"data-tone":p.tone,...d,$fontSize:ve(s),$padding:ve(a),$scheme:p.scheme,$space:ve(0),$tone:p.tone,$weight:u,disabled:i,ref:f}),c.jsx(WXe,{$radius:ve(l),$scheme:p.scheme,$tone:p.tone,"data-border":r?"":void 0,"data-scheme":p.scheme,"data-tone":p.tone})]})})});var eY=Object.freeze,YXe=Object.defineProperty,j0=(e,t)=>eY(YXe(e,"raw",{value:eY(t||e.slice())})),tY,nY,rY,oY,iY,sY;const qXe={zIndex:2},GXe=O(ee).attrs({forwardedAs:"span"})(jxe),KXe=O.span(tY||(tY=j0([`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`]))),ZXe=O(ee).attrs({forwardedAs:"span"})(nY||(nY=j0([`
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`]))),XXe=O(ee).attrs({forwardedAs:"span"})(rY||(rY=j0([`
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`]))),QXe=O.input(SL,Txe,Axe),JXe=O.span(td,Dxe),eQe=O(F)(oY||(oY=j0([`
  position: absolute;
  top: 0;
  left: 0;
`]))),tQe=O(F)(iY||(iY=j0([`
  position: absolute;
  top: 0;
  right: 0;
`]))),nQe=O(ee)(sY||(sY=j0([`
  background-color: transparent;
  position: absolute;
  top: 0;
  right: 0;
`]))),rQe=O(ae)({"&:not([hidden])":{display:"block"}}),Xr=h.forwardRef(function(t,n){const{border:r=!0,clearButton:o,disabled:i=!1,fontSize:s=2,icon:a,iconRight:l,onClear:u,padding:d=3,prefix:f,radius:p=1,readOnly:m,space:v=3,suffix:g,customValidity:b,type:x="text",weight:y,...w}=t,C=lr(n),_=S0(),S=ve(s),E=ve(d),j=ve(p),k=ve(v),T=!!o,A=!!a,D=!!l,I=!!g,P=!!f;ww(C,b);const M=h.useCallback(N=>{N.preventDefault(),N.stopPropagation()},[]),$=h.useCallback(N=>{var G;N.preventDefault(),N.stopPropagation(),u&&u(),(G=C.current)==null||G.focus()},[u,C]),V=h.useMemo(()=>f&&c.jsx(ZXe,{borderTop:!0,borderLeft:!0,borderBottom:!0,radius:j,sizing:"border",tone:"inherit",children:c.jsx("span",{children:f})}),[f,j]),L=h.useMemo(()=>c.jsxs(JXe,{$hasPrefix:P,$hasSuffix:I,$radius:j,$scheme:_.scheme,$tone:_.tone,"data-border":r?"":void 0,"data-scheme":_.scheme,"data-tone":_.tone,children:[a&&c.jsx(eQe,{padding:E,children:c.jsxs(B,{size:S,children:[h.isValidElement(a)&&a,$r.isValidElementType(a)&&h.createElement(a)]})}),!T&&l&&c.jsx(tQe,{padding:E,children:c.jsxs(B,{size:S,children:[h.isValidElement(l)&&l,$r.isValidElementType(l)&&h.createElement(l)]})})]}),[r,S,a,l,E,j,_,T,P,I]),H=h.useMemo(()=>E.map(N=>N===0?0:N===1||N===2?1:N-2),[E]),U=h.useMemo(()=>E.map(N=>N===0||N===1?0:N===2?1:N-1),[E]),z=h.useMemo(()=>typeof o=="object"?o:mf,[o]),Y=h.useMemo(()=>!i&&!m&&o&&c.jsx(nQe,{forwardedAs:"span",padding:H,style:qXe,tone:b?"critical":"inherit",children:c.jsx(rQe,{"aria-label":"Clear","data-qa":"clear-button",fontSize:S,icon:la,mode:"bleed",padding:U,radius:j,...z,onClick:$,onMouseDown:M})}),[o,H,U,z,b,i,S,$,M,j,m]),te=h.useMemo(()=>g&&c.jsx(XXe,{borderTop:!0,borderRight:!0,borderBottom:!0,radius:j,sizing:"border",tone:"inherit",children:c.jsx("span",{children:g})}),[j,g]);return c.jsxs(GXe,{"data-ui":"TextInput",tone:_.tone,children:[V,c.jsxs(KXe,{children:[c.jsx(QXe,{"data-as":"input","data-scheme":_.scheme,"data-tone":_.tone,...w,$fontSize:S,$iconLeft:A,$iconRight:D||T,$padding:E,$scheme:_.scheme,$space:k,$tone:_.tone,$weight:y,disabled:i,readOnly:m,ref:C,type:x}),L,Y]}),te]})});function dR(e){const[t,n]=h.useState(e),r=h.useRef(),o=h.useCallback((i,s)=>{const a=()=>{n(i)};if(r.current&&(clearTimeout(r.current),r.current=void 0),!s)return a();r.current=setTimeout(a,s)},[]);return[t,o]}const oQe={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};var aY=Object.freeze,iQe=Object.defineProperty,DL=(e,t)=>aY(iQe(e,"raw",{value:aY(t||e.slice())})),lY,cY,uY;const sQe=O.div(lY||(lY=DL([`
  position: absolute;
  pointer-events: none;
  width: 15px;
  height: 15px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    display: block;
    transform-origin: 7.5px 7.5px;
  }

  /* position: absolute;
  width: 15px;
  height: 15px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    &:not([hidden]) {
      display: block;
    }
    transform-origin: 7.5px 7.5px;
  } */

  [data-placement^='top'] > & {
    bottom: -27px;
  }

  [data-placement^='right'] > & {
    left: -27px;

    & > svg {
      transform: rotate(90deg);
    }
  }

  [data-placement^='left'] > & {
    right: -27px;

    & > svg {
      transform: rotate(-90deg);
    }
  }

  [data-placement^='bottom'] > & {
    top: -27px;

    & > svg {
      transform: rotate(180deg);
    }
  }
`]))),aQe=O.path(cY||(cY=DL([`
  fill: var(--card-shadow-outline-color);
`]))),lQe=O.path(uY||(uY=DL([`
  fill: var(--card-bg-color);
`]))),cQe=h.forwardRef(function(t,n){const{...r}=t;return c.jsx(sQe,{"data-ui":"Tooltip__arrow",...r,ref:n,children:c.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 15 15",children:[c.jsx(aQe,{d:"M11.5266 1C11.032 1.32802 10.5837 1.73105 10.1995 2.20057L9.04792 3.6081C8.24771 4.58614 6.7523 4.58614 5.95209 3.6081L4.80047 2.20057C4.41632 1.73105 3.96796 1.32802 3.47341 1H0.156727C1.65639 1 3.07687 1.67313 4.02651 2.83381L5.17813 4.24134C6.37844 5.70839 8.62156 5.70839 9.82187 4.24134L10.9735 2.83381C11.9231 1.67313 13.3436 1 14.8433 1H11.5266Z"}),c.jsx(lQe,{d:"M0.156725 0C1.95632 0 3.66089 0.80776 4.80047 2.20057L5.95209 3.6081C6.75229 4.58614 8.24771 4.58614 9.04791 3.6081L10.1995 2.20057C11.3391 0.80776 13.0437 0 14.8433 0H15H0H0.156725Z"})]})})}),fR=Symbol.for("@sanity/ui/context/tooltipDelayGroup");Qt[fR]=Qt[fR]||h.createContext(null);const Gxe=Qt[fR];function Kxe(){return h.useContext(Gxe)}function uQe(e){const{children:t,delay:n}=e,[r,o]=dR(!1),[i,s]=dR(null);if(Kxe())throw new Error("TooltipDelayGroupProvider cannot be nested inside another TooltipDelayGroupProvider");const l=typeof n=="number"?n:(n==null?void 0:n.open)||0,u=typeof n=="number"?n:(n==null?void 0:n.close)||0,d=h.useMemo(()=>({isGroupActive:r,setIsGroupActive:o,openTooltipId:i,setOpenTooltipId:s,openDelay:r?1:l,closeDelay:u}),[u,r,l,i,o,s]);return c.jsx(Gxe.Provider,{value:d,children:t})}var dY=Object.freeze,dQe=Object.defineProperty,fQe=(e,t)=>dY(dQe(e,"raw",{value:dY(t||e.slice())})),fY;const hQe=O(es)(fY||(fY=fQe([`
  pointer-events: none;
`]))),yt=h.forwardRef(function(t,n){var r,o,i,s,a;const l=eh(),u=Ds(),{boundaryElement:d=l==null?void 0:l.element,children:f,content:p,disabled:m,fallbackPlacements:v=(o=t.fallbackPlacements)!=null?o:oQe[(r=t.placement)!=null?r:"bottom"],padding:g,placement:b="bottom",portal:x,scheme:y,shadow:w=2,zOffset:C=(i=u.sanity.layer)==null?void 0:i.tooltip.zOffset,delay:_,...S}=t,E=ve(v),j=lr(n),[k,T]=h.useState(null),A=h.useRef(null),D="viewport",I=h.useMemo(()=>{const Ye=[];return Ye.push(I0e({boundary:d||void 0,fallbackPlacements:E,padding:4,rootBoundary:D,mainAxis:!1})),Ye.push(P0e({mainAxis:3})),Ye.push(oNe({apply(me){let{availableWidth:Ue,availableHeight:qe,elements:Ne}=me;Object.assign(Ne.floating.style,{maxWidth:"".concat(Ue-4*2,"px"),maxHeight:"".concat(qe-4*2,"px")})}})),Ye.push(O0e({boundary:d||void 0,rootBoundary:D,padding:4})),Ye.push(Wye({element:A,padding:2})),Ye},[d,E]),{floatingStyles:P,placement:M,middlewareData:$,refs:V,update:L}=qye({middleware:I,placement:b,whileElementsMounted:z0e}),H=M&&mxe[M.split("-")[0]],U=(s=$.arrow)==null?void 0:s.x,z=(a=$.arrow)==null?void 0:a.y,Y=h.useMemo(()=>{const Ye={left:U!==null?U:void 0,top:z!==null?z:void 0,right:void 0,bottom:void 0};return H&&(Ye[H]=-15),Ye},[U,z,H]),te=h.useId(),[N,G]=dR(!1),q=Kxe(),K=N||(q==null?void 0:q.openTooltipId)===te,Q=q!==null,X=typeof _=="number"?_:(_==null?void 0:_.open)||0,Z=typeof _=="number"?_:(_==null?void 0:_.close)||0,oe=Q?q.openDelay:X,le=Q?q.closeDelay:Z,he=h.useCallback((Ye,me)=>{if(Q)if(Ye){const Ue=me?0:oe;q.setIsGroupActive(Ye,Ue),q.setOpenTooltipId(te,Ue)}else{const qe=le>200?le:200;q.setIsGroupActive(Ye,qe),q.setOpenTooltipId(null,me?0:le)}else G(Ye,me?0:Ye?oe:le)},[Q,q,oe,te,le,G]),ie=h.useCallback(()=>he(!1),[he]),ye=h.useCallback(()=>he(!0),[he]),_e=h.useCallback(()=>he(!0),[he]),Ae=h.useCallback(()=>he(!1),[he]);h.useEffect(()=>{if(!N)return;function Ye(me){if(!k)return;k===me.target||me.target instanceof Node&&k.contains(me.target)||(he(!1),window.removeEventListener("mousemove",Ye))}return window.addEventListener("mousemove",Ye),()=>{window.removeEventListener("mousemove",Ye)}},[N,k,he]),h.useEffect(()=>{m&&he(!1)},[m,he]),h.useEffect(()=>{p||he(!1)},[p,he]),h.useEffect(()=>V.setReference(k),[k,V]),h.useEffect(()=>{if(!K)return;function Ye(me){me.key==="Escape"&&he(!1,!0)}return window.addEventListener("keydown",Ye),()=>{window.removeEventListener("keydown",Ye)}},[he,K]);const xe=h.useCallback(Ye=>{A.current=Ye,L()},[L]),Ze=h.useCallback(Ye=>{j.current=Ye,V.setFloating(Ye)},[j,V]),rt=f==null?void 0:f.ref,at=h.useCallback(Ye=>{typeof rt=="function"?rt(Ye):rt&&(rt.current=Ye),T(Ye)},[rt]),nt=h.useMemo(()=>f?h.cloneElement(f,{onBlur:ie,onFocus:ye,onMouseEnter:_e,onMouseLeave:Ae,ref:at}):null,[f,ie,ye,_e,Ae,at]);if(!nt)return c.jsx(c.Fragment,{});if(m)return nt;const Kt=c.jsx(hQe,{"data-ui":"Tooltip",...S,ref:Ze,style:P,zOffset:C,children:c.jsxs(ee,{"data-ui":"Tooltip__card","data-placement":M,padding:g,radius:2,scheme:y,shadow:w,children:[p,c.jsx(cQe,{ref:xe,style:Y})]})});return c.jsxs(c.Fragment,{children:[nt,K&&c.jsx(c.Fragment,{children:x?c.jsx(ym,{__unstable_name:typeof x=="string"?x:void 0,children:Kt}):Kt})]})});var hY=Object.freeze,pQe=Object.defineProperty,Yj=(e,t)=>hY(pQe(e,"raw",{value:hY(t||e.slice())})),pY,mY,gY,vY;const mQe=O.div(pY||(pY=Yj([`
  line-height: 0;
`]))),gQe=O(F)(mY||(mY=Yj([`
  & > ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }
`]))),vQe=tj(gY||(gY=Yj([`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`]))),yQe=O(aj)(vY||(vY=Yj([`
  animation: `,` 500ms linear infinite;
`])),vQe);function bQe(e){const{children:t,id:n,onSelect:r,selected:o,value:i}=e,s=h.useCallback(()=>{setTimeout(()=>{r(i)},0)},[r,i]),a=h.useCallback(l=>{l.key==="Enter"&&!PZe(l.currentTarget)&&s()},[s]);return c.jsx("li",{"aria-selected":o,"data-ui":"AutocompleteOption",id:n,role:"option",onClick:s,onKeyDown:a,children:t})}function xQe(e,t){return t.type==="input/change"?{...e,activeValue:null,focused:!0,query:t.query}:t.type==="input/focus"?{...e,focused:!0}:t.type==="root/blur"?{...e,focused:!1,query:null}:t.type==="root/clear"?{...e,activeValue:null,query:null,value:null}:t.type==="root/escape"?{...e,focused:!1,query:null}:t.type==="root/open"?{...e,query:e.query||t.query}:t.type==="root/setActiveValue"?{...e,activeValue:t.value,listFocused:t.listFocused||e.listFocused}:t.type==="root/setListFocused"?{...e,listFocused:t.listFocused}:t.type==="value/change"?{...e,activeValue:t.value,query:null,value:t.value}:e}const wQe=["Control","Shift","Alt","Enter","Home","End","PageUp","PageDown","Meta","Tab","CapsLock"],CQe="bottom-start",_Qe=["bottom-start","top-start"],SQe=(e,t)=>t?t.value:e,EQe=(e,t)=>t.value.toLowerCase().indexOf(e.toLowerCase())>-1,kQe=h.forwardRef(function(t,n){const{border:r=!0,customValidity:o,disabled:i,filterOption:s,fontSize:a=2,icon:l,id:u,listBox:d=mf,loading:f,onBlur:p,onChange:m,onFocus:v,onQueryChange:g,onSelect:b,openButton:x,options:y,padding:w=3,popover:C=mf,prefix:_,radius:S=3,readOnly:E,relatedElements:j,renderOption:k,renderPopover:T,renderValue:A=SQe,suffix:D,value:I,...P}=t,[M,$]=h.useReducer(xQe,{activeValue:I||null,focused:!1,listFocused:!1,query:null,value:I||null}),{activeValue:V,focused:L,listFocused:H,query:U,value:z}=M,Y=h.useCallback(ze=>{let{value:mt}=ze;return c.jsx(ee,{"data-as":"button",padding:w,radius:2,tone:"inherit",children:c.jsx(B,{size:a,textOverflow:"ellipsis",children:mt})})},[a,w]),te=typeof k=="function"?k:Y,N=typeof s=="function"?s:EQe,G=h.useRef(null),q=h.useRef(null),K=h.useRef(null),Q=h.useRef(null),X=h.useRef(!1),Z=h.useRef(z),oe=h.useRef(I),le=h.useRef(!1),he=lr(n),ie="".concat(u,"-listbox"),ye=Array.isArray(y)?y:bw,_e=ve(w),Ae=h.useMemo(()=>z!==null?ye.find(ze=>ze.value===z):void 0,[ye,z]),xe=h.useMemo(()=>ye.filter(ze=>U?N(U,ze):!0),[N,ye,U]),Ze=xe.length,rt=V?"".concat(u,"-option-").concat(V):void 0,at=U!==null&&f||L&&U!==null,nt=h.useCallback(ze=>{setTimeout(()=>{if(le.current)return;const mt=(j||[]).concat(G.current?[G.current]:[],q.current?[q.current]:[]);let Qn=!1;if(document.activeElement){for(const vn of mt)if(vn===document.activeElement||vn.contains(document.activeElement)){Qn=!0;break}}Qn===!1&&($({type:"root/blur"}),le.current=!1,g&&g(null),p&&p(ze))},0)},[p,g,j]),Kt=h.useCallback(ze=>{const mt=Q.current,Qn=ze.target instanceof HTMLElement?ze.target:null,vn=(mt==null?void 0:mt.contains(Qn))||!1;vn!==X.current&&(X.current=vn,$({type:"root/setListFocused",listFocused:vn}))},[]),Ye=h.useCallback(ze=>{var mt;$({type:"value/change",value:ze}),le.current=!1,b&&b(ze),Z.current=ze,m&&m(ze),g&&g(null),(mt=K.current)==null||mt.focus()},[m,b,g]),me=h.useCallback(ze=>{var mt,Qn;if(ze.key==="ArrowDown"){if(ze.preventDefault(),!Ze)return;const go=xe.find(Ul=>Ul.value===V),ss=go?xe.indexOf(go):-1,$s=xe[(ss+1)%Ze];$s&&$({type:"root/setActiveValue",value:$s.value,listFocused:!0});return}if(ze.key==="ArrowUp"){if(ze.preventDefault(),!Ze)return;const go=xe.find(Ul=>Ul.value===V),ss=go?xe.indexOf(go):-1,$s=xe[ss===-1?Ze-1:(Ze+ss-1)%Ze];$s&&$({type:"root/setActiveValue",value:$s.value,listFocused:!0});return}if(ze.key==="Escape"){$({type:"root/escape"}),le.current=!1,g&&g(null),(mt=K.current)==null||mt.focus();return}const vn=ze.target,ai=Q.current;if((ai===vn||ai!=null&&ai.contains(vn))&&!wQe.includes(ze.key)){(Qn=K.current)==null||Qn.focus();return}},[V,xe,Ze,g]),Ue=h.useCallback(ze=>{const mt=ze.currentTarget.value;$({type:"input/change",query:mt}),g&&g(mt)},[g]),qe=h.useCallback(ze=>{L||($({type:"input/focus"}),v&&v(ze))},[L,v]),Ne=h.useCallback(()=>{le.current=!0},[]),bt=h.useCallback(()=>{le.current=!1},[]),Tt=h.useCallback(()=>{var ze;$({type:"root/clear"}),Z.current="",m&&m(""),g&&g(null),(ze=K.current)==null||ze.focus()},[m,g]),St=h.useCallback(()=>{$({type:"input/focus"})},[]);h.useEffect(()=>{if(I!==oe.current){oe.current=I,I!==void 0&&($({type:"value/change",value:I}),Z.current=I);return}I!==Z.current&&(Z.current=I||null,$({type:"value/change",value:I||null}))},[I]),h.useEffect(()=>{!L&&Z.current&&$({type:"root/setActiveValue",value:Z.current})},[L]),h.useEffect(()=>{const ze=Q.current;if(!ze)return;const mt=xe.find(Qn=>Qn.value===V);if(mt){const Qn=xe.indexOf(mt),vn=ze.childNodes[Qn];if(vn){if(MZe(vn))return;ox(vn)}}},[V,xe]);const Zt=h.useCallback(ze=>{K.current=ze,he.current=ze},[he]),Oi=h.useMemo(()=>{if(!f&&!i&&z)return{"aria-label":"Clear",onFocus:St}},[i,St,f,z]),is=h.useMemo(()=>_e.map(ze=>ze===0?0:ze===1||ze===2?1:ze-2),[_e]),Os=h.useMemo(()=>_e.map(ze=>Math.max(ze-1,0)),[_e]),Ut=h.useMemo(()=>typeof x=="object"?x:mf,[x]),Wr=h.useCallback(ze=>{$({type:"root/open",query:z?A(z,Ae):""}),Ut.onClick&&Ut.onClick(ze),lR(()=>{var mt;return(mt=K.current)==null?void 0:mt.focus()})},[Ae,Ut,A,z]),Hl=h.useMemo(()=>!i&&!E&&x?c.jsx(F,{"aria-hidden":at,padding:is,children:c.jsx(ae,{"aria-label":"Open",disabled:at,fontSize:a,icon:Rl,mode:"bleed",padding:Os,...Ut,onClick:Wr})}):void 0,[i,at,a,Wr,x,is,Os,Ut,E]),nl=h.useMemo(()=>U===null?z!==null?A(z,Ae):"":U,[Ae,U,A,z]),si=c.jsx(Xr,{...P,"aria-activedescendant":rt,"aria-autocomplete":"list","aria-expanded":at,"aria-owns":ie,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",border:r,clearButton:Oi,customValidity:o,disabled:i,fontSize:a,icon:l,iconRight:f&&yQe,id:u,inputMode:"search",onChange:Ue,onClear:Tt,onFocus:qe,padding:_e,prefix:_,radius:S,readOnly:E,ref:Zt,role:"combobox",spellCheck:!1,suffix:D||Hl,value:nl}),Rn=h.useCallback(ze=>{var mt;ze.key==="Tab"&&H&&((mt=K.current)==null||mt.focus())},[H]),Mr=h.useMemo(()=>xe.length===0?null:c.jsx(gQe,{"data-ui":"AutoComplete__results",onKeyDown:Rn,padding:1,...d,tabIndex:-1,children:c.jsx(ne,{as:"ul","aria-multiselectable":!1,"data-ui":"AutoComplete__resultsList",id:ie,ref:Q,role:"listbox",space:1,children:xe.map(ze=>{const mt=V!==null?ze.value===V:Ae===ze;return c.jsx(bQe,{id:"".concat(u,"-option-").concat(ze.value),onSelect:Ye,selected:mt,value:ze.value,children:h.cloneElement(te(ze),{disabled:f,selected:mt,tabIndex:H&&mt?0:-1})},ze.value)})})}),[V,Ae,xe,Ye,Rn,u,d,ie,H,f,te]),eo=h.useMemo(()=>T?T({content:Mr,hidden:!at,inputElement:K.current,onMouseEnter:Ne,onMouseLeave:bt},q):Ze===0?null:c.jsx(hn,{arrow:!1,constrainSize:!0,content:Mr,fallbackPlacements:_Qe,matchReferenceWidth:!0,onMouseEnter:Ne,onMouseLeave:bt,open:at,overflow:"auto",placement:CQe,portal:!0,radius:S,ref:q,referenceElement:K.current,...C}),[Mr,at,Ze,Ne,bt,C,S,T]);return c.jsxs(mQe,{"data-ui":"Autocomplete",onBlur:nt,onFocus:Kt,onKeyDown:me,ref:G,children:[si,eo]})}),IL=kQe;var yY=Object.freeze,jQe=Object.defineProperty,Zxe=(e,t)=>yY(jQe(e,"raw",{value:yY(t||e.slice())})),bY,xY;const TQe=O.ol(bY||(bY=Zxe([`
  margin: 0;
  padding: 0;
  display: flex;
  list-style: none;
  align-items: center;
  white-space: nowrap;
  line-height: 0;
`]))),AQe=O(ae)(xY||(xY=Zxe([`
  appearance: none;
  margin: -4px;
`]))),PL=h.forwardRef(function(t,n){const{children:r,maxLength:o,separator:i,space:s=2,...a}=t,l=ve(s),[u,d]=h.useState(!1),[f,p]=h.useState(null),[m,v]=h.useState(null),g=h.useCallback(()=>d(!1),[]),b=h.useCallback(()=>d(!0),[]);Vr(g,[f,m]);const x=h.useMemo(()=>h.Children.toArray(r).filter(w=>h.isValidElement(w)),[r]),y=h.useMemo(()=>{const w=x.length;if(o&&w>o){const C=Math.ceil(o/2),_=Math.floor(o/2);return[...x.slice(0,C-1),c.jsx(hn,{constrainSize:!0,content:c.jsx(ne,{as:"ol",overflow:"auto",padding:l,space:l,children:x.slice(C-1,w-_)}),open:u,placement:"top",portal:!0,ref:v,children:c.jsx(AQe,{fontSize:1,mode:"bleed",onClick:u?g:b,padding:1,ref:p,selected:u,text:"…"})},"button"),...x.slice(w-_)]}return x},[g,b,o,u,x,l]);return c.jsx(TQe,{"data-ui":"Breadcrumbs",...a,ref:n,children:y.map((w,C)=>c.jsxs(h.Fragment,{children:[C>0&&c.jsx(F,{"aria-hidden":!0,as:"li",paddingX:l,children:i||c.jsx(B,{muted:!0,children:"/"})}),c.jsx(F,{as:"li",children:w})]},C))})});function DQe(e){let{theme:t}=e;const n=t.sanity.color.base;return{"&:not([hidden])":{display:"flex"},top:0,left:0,right:0,bottom:0,alignItems:"center",justifyContent:"center",outline:"none",background:n.shadow.umbra}}function IQe(e){const{theme:t}=e,{media:n}=t.sanity;return dt(n,e.$position,r=>({"&&":{position:r}}))}const hR=Symbol.for("@sanity/ui/context/dialog");Qt[hR]=Qt[hR]||h.createContext({version:0});const Xxe=Qt[hR];function PQe(){return h.useContext(Xxe)}var wY=Object.freeze,OQe=Object.defineProperty,T0=(e,t)=>wY(OQe(e,"raw",{value:wY(t||e.slice())})),CY,_Y,SY,EY,kY,jY;function pR(e,t,n){return!e||!t?!0:cR(e,n)||cR(t,n)}const $Qe=O(es)(Ixe,DQe,IQe),RQe=O(ia)(CY||(CY=T0([`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  height: 100%;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`]))),MQe=O(ee)(_Y||(_Y=T0([`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  min-height: 0;
  max-height: 100%;
  overflow: hidden;
  overflow: clip;
`]))),FQe=O(W)(SY||(SY=T0([`
  flex: 1;
  min-height: 0;
  width: 100%;
`]))),LQe=O(ee)(EY||(EY=T0([`
  position: relative;
  z-index: 2;

  &:after {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    bottom: -1px;
    border-bottom: 1px solid var(--card-hairline-soft-color);
  }
`]))),BQe=O(F)(kY||(kY=T0([`
  position: relative;
  z-index: 1;
  overflow: auto;
  outline: none;
`]))),NQe=O(F)(jY||(jY=T0([`
  position: relative;
  z-index: 3;
  border-top: 1px solid var(--card-hairline-soft-color);
`]))),zQe=h.forwardRef(function(t,n){var r;const{__unstable_autoFocus:o,__unstable_hideCloseButton:i,children:s,contentRef:a,footer:l,header:u,id:d,onClickOutside:f,onClose:p,portal:m,radius:v,scheme:g,shadow:b,width:x}=t,y=Uj(),w=m?((r=y.elements)==null?void 0:r[m])||null:y.element,C=eh().element,_=ve(v),S=ve(b),E=ve(x),j=lr(n),[k,T]=h.useState(null),A=h.useRef(null),D=Rc(),{isTopLayer:I}=D,P="".concat(d,"_label"),M=!!p&&i===!1,$=!!u||M;h.useEffect(()=>{o&&j.current&&ox(j.current)},[o,j]),As(h.useCallback(H=>{if(!I||!p)return;const U=document.activeElement;U&&!pR(C,w,U)||H.key==="Escape"&&(H.preventDefault(),H.stopPropagation(),p())},[C,I,p,w])),Vr(h.useCallback(H=>{if(!I||!f)return;const U=H.target;U&&!pR(C,w,U)||f()},[C,I,f,w]),[k]);const V=h.useCallback(H=>{T(H),j.current=H},[j]),L=h.useCallback(H=>{A.current=H,typeof a=="function"?a(H):a&&(a.current=H)},[a]);return c.jsx(RQe,{"data-ui":"DialogCard",width:E,children:c.jsx(MQe,{radius:_,ref:V,scheme:g,shadow:S,children:c.jsxs(FQe,{direction:"column",children:[$&&c.jsx(LQe,{children:c.jsxs(W,{children:[c.jsx(F,{flex:1,padding:4,children:u&&c.jsx(B,{id:P,weight:"semibold",children:u})}),M&&c.jsx(F,{padding:2,children:c.jsx(ae,{"aria-label":"Close dialog",disabled:!p,icon:la,mode:"bleed",onClick:p,padding:3})})]})}),c.jsx(BQe,{flex:1,ref:L,tabIndex:-1,children:s}),l&&c.jsx(NQe,{children:l})]})})})}),fa=h.forwardRef(function(t,n){var r,o;const i=PQe(),s=Ds(),{__unstable_autoFocus:a=!0,__unstable_hideCloseButton:l=!1,cardRadius:u=3,cardShadow:d=4,children:f,contentRef:p,footer:m,header:v,id:g,onActivate:b,onClickOutside:x,onClose:y,onFocus:w,padding:C=4,portal:_,position:S=i.position||"fixed",scheme:E,width:j=0,zOffset:k=i.zOffset||((r=s.sanity.layer)==null?void 0:r.dialog.zOffset),...T}=t,A=Uj(),D=_?((o=A.elements)==null?void 0:o[_])||null:A.element,I=eh().element,P=ve(u),M=ve(C),$=ve(S),V=ve(j),L=ve(k),H=h.useRef(null),U=h.useRef(null),z=h.useRef(null),Y=h.useRef(null),te=h.useCallback(K=>{w==null||w(K);const Q=K.target,X=z.current;if(X&&Q===H.current){Nxe(X);return}if(X&&Q===U.current){ox(X);return}Mc(K.target)&&(Y.current=K.target)},[w]),N="".concat(g,"_label"),G=h.useRef(),q=h.useCallback(()=>{G.current&&clearTimeout(G.current),G.current=setTimeout(()=>{const K=document.activeElement;if(K&&!pR(I,D,K)){const Q=Y.current;if(!Q||!document.body.contains(Q)){const X=z.current;X&&ox(X);return}Q.focus()}},0)},[I,D]);return c.jsx(ym,{__unstable_name:_,children:c.jsxs($Qe,{...T,$padding:M,$position:$,"aria-labelledby":N,"aria-modal":!0,"data-ui":"Dialog",id:g,onActivate:b,onClick:q,onFocus:te,ref:n,role:"dialog",zOffset:L,children:[c.jsx("div",{ref:H,tabIndex:0}),c.jsx(zQe,{__unstable_autoFocus:a,__unstable_hideCloseButton:l,contentRef:p,footer:m,header:v,id:g,onClickOutside:x,onClose:y,portal:_,radius:P,ref:z,scheme:E,shadow:d,width:V,children:f}),c.jsx("div",{ref:U,tabIndex:0})]})})});function VQe(e){const{children:t,position:n,zOffset:r}=e,o=h.useMemo(()=>({version:0,position:n,zOffset:r}),[n,r]);return c.jsx(Xxe.Provider,{value:o,children:t})}var TY=Object.freeze,HQe=Object.defineProperty,Qxe=(e,t)=>TY(HQe(e,"raw",{value:TY(t||e.slice())})),AY,DY;const UQe=O.kbd(AY||(AY=Qxe([`
  &:not([hidden]) {
    display: block;
  }
  font: inherit;
`]))),WQe=O(oR)(DY||(DY=Qxe([`
  &:not([hidden]) {
    display: block;
  }
`]))),OL=h.forwardRef(function(t,n){const{fontSize:r,keys:o,padding:i,radius:s,space:a=1,...l}=t,u=ve(a);return!o||o.length===0?c.jsx(c.Fragment,{}):c.jsx(UQe,{"data-ui":"Hotkeys",...l,ref:n,children:c.jsx(Jt,{as:"span",space:u,children:o.map((d,f)=>c.jsx(WQe,{fontSize:r,padding:i,radius:s,children:d},f))})})}),mR=Symbol.for("@sanity/ui/context/menu");Qt[mR]=Qt[mR]||h.createContext(null);const Jxe=Qt[mR];function YQe(e){return kL(e)&&e.getAttribute("data-disabled")!=="true"||jL(e)&&!e.disabled}function qm(e){return e.filter(YQe)}function qQe(e,t){const n=[];let r=t;for(;r!==e;){const o=r.parentElement;if(!o)return n;const s=Array.from(o.childNodes).indexOf(r);if(n.unshift(s),o===e)return n;r=o}return n}const IY=[];function GQe(e,t){if(!e)return;const n=new WeakMap;for(const o of t)n.set(o,qQe(e,o));const r=(o,i)=>{const s=n.get(o)||IY,a=n.get(i)||IY,l=Math.max(s.length,a.length);for(let u=0;u<l;u+=1){const d=s[u]||-1,f=a[u]||-1;if(d!==f)return d-f}return 0};t.sort(r)}function KQe(e){const{onKeyDown:t,originElement:n,shouldFocus:r}=e,o=h.useRef([]),[i,s]=h.useState(null),[a,l]=h.useState(-1),u=h.useRef(a),d=o.current[a]||null,f=!!i,p=h.useCallback(x=>{l(x),u.current=x},[]),m=h.useCallback((x,y)=>{if(!x)return()=>{};if(o.current.indexOf(x)===-1&&(o.current.push(x),GQe(i,o.current)),y){const w=o.current.indexOf(x);p(w)}return()=>{const w=o.current.indexOf(x);w>-1&&o.current.splice(w,1)}},[i,p]),v=h.useCallback(x=>{if(x.key==="Tab"){n&&n.focus();return}if(x.key==="Home"){x.preventDefault(),x.stopPropagation();const w=qm(o.current)[0];if(!w)return;const C=o.current.indexOf(w);p(C);return}if(x.key==="End"){x.preventDefault(),x.stopPropagation();const y=qm(o.current),w=y[y.length-1];if(!w)return;const C=o.current.indexOf(w);p(C);return}if(x.key==="ArrowUp"){x.preventDefault(),x.stopPropagation();const y=qm(o.current),w=y.length;if(w===0)return;const C=o.current[u.current];let _=y.indexOf(C);_=(_-1+w)%w;const S=y[_],E=o.current.indexOf(S);p(E);return}if(x.key==="ArrowDown"){x.preventDefault(),x.stopPropagation();const y=qm(o.current),w=y.length;if(w===0)return;const C=o.current[u.current];let _=y.indexOf(C);_=(_+1)%w;const S=y[_],E=o.current.indexOf(S);p(E);return}t&&t(x)},[t,n,p]),g=h.useCallback(x=>{const y=x.currentTarget,w=o.current.indexOf(y);p(w)},[p]),b=h.useCallback(()=>{p(-2),i==null||i.focus()},[p,i]);return h.useEffect(()=>{if(!f)return;const x=window.requestAnimationFrame(()=>{const y=u.current;if(y===-1){if(r==="first"){const _=qm(o.current)[0];if(_){const S=o.current.indexOf(_);p(S),u.current=S}}if(r==="last"){const C=qm(o.current),_=C[C.length-1];if(_){const S=o.current.indexOf(_);p(S),u.current=S}}return}const w=o.current[y]||null;w==null||w.focus()});return()=>{window.cancelAnimationFrame(x)}},[a,f,p,r]),{activeElement:d,activeIndex:a,handleItemMouseEnter:g,handleItemMouseLeave:b,handleKeyDown:v,mount:m,rootElement:i,setRootElement:s}}var PY=Object.freeze,ZQe=Object.defineProperty,XQe=(e,t)=>PY(ZQe(e,"raw",{value:PY(t||e.slice())})),OY;const QQe=O(F)(OY||(OY=XQe([`
  outline: none;
  overflow: auto;
`]))),Ht=h.forwardRef(function(t,n){const{children:r,focusFirst:o,focusLast:i,onClickOutside:s,onEscape:a,onItemClick:l,onItemSelect:u,onKeyDown:d,originElement:f,padding:p=1,registerElement:m,shouldFocus:v=t.focusFirst&&"first"||t.focusLast&&"last"||null,space:g=1,...b}=t,x=lr(n),{isTopLayer:y}=Rc(),{activeElement:w,activeIndex:C,handleItemMouseEnter:_,handleItemMouseLeave:S,handleKeyDown:E,mount:j,rootElement:k,setRootElement:T}=KQe({onKeyDown:d,originElement:f,shouldFocus:v}),A=h.useCallback(I=>{T(I),x.current=I},[x,T]);h.useEffect(()=>{u&&u(C)},[C,u]),Vr(h.useCallback(I=>y&&s&&s(I),[y,s]),[k]),As(h.useCallback(I=>{y&&I.key==="Escape"&&(I.stopPropagation(),a&&a())},[y,a])),h.useEffect(()=>{if(!(!k||!m))return m(k)},[m,k]);const D=h.useMemo(()=>({version:0,activeElement:w,activeIndex:C,mount:j,onClickOutside:s,onEscape:a,onItemClick:l,onItemMouseEnter:_,onItemMouseLeave:S,registerElement:m,onMouseEnter:_,onMouseLeave:S}),[w,C,j,_,S,s,a,l,m]);return c.jsx(Jxe.Provider,{value:D,children:c.jsx(QQe,{"data-ui":"Menu",...b,onKeyDown:E,padding:p,ref:A,role:"menu",tabIndex:-1,children:c.jsx(ne,{space:g,children:r})})})}),rn=h.forwardRef(function(t,n){const{__unstable_disableRestoreFocusOnClose:r=!1,boundaryElement:o,button:i,id:s,menu:a,onClose:l,onOpen:u,placement:d,popoverScheme:f,portal:p=!0,popover:m,popoverRadius:v,preventOverflow:g}=t,[b,x]=h.useState(!1),[y,w]=h.useState(null),[C,_]=h.useState(null),[S,E]=h.useState([]),j=h.useRef(b);h.useEffect(()=>{u&&b&&!j.current&&u()},[u,b]),h.useEffect(()=>{l&&!b&&j.current&&l()},[l,b]),h.useEffect(()=>{j.current=b},[b]);const k=h.useCallback(()=>{x(z=>!z),w(null)},[]),T=h.useCallback(z=>{if(z.key==="ArrowDown"||z.key==="Enter"||z.key===" "){z.preventDefault(),x(!0),w("first");return}if(z.key==="ArrowUp"){z.preventDefault(),x(!0),w("last");return}},[]),A=h.useCallback(z=>{const Y=z.target;if(Y instanceof Node&&!(C&&(Y===C||C.contains(Y)))){for(const te of S)if(Y===te||te.contains(Y))return;x(!1)}},[C,S]),D=h.useCallback(()=>{x(!1),!r&&C&&C.focus()},[C,r]),I=h.useCallback(z=>{const Y=z.relatedTarget;if(Y instanceof Node){for(const te of S)if(te===Y||te.contains(Y))return;x(!1)}},[S]),P=h.useCallback(()=>{x(!1),!r&&C&&C.focus()},[C,r]),M=h.useCallback(z=>(E(Y=>Y.concat([z])),()=>{E(Y=>Y.filter(te=>te!==z))}),[]),$=h.useMemo(()=>({"aria-labelledby":s,onBlurCapture:I,onClickOutside:A,onEscape:D,onItemClick:P,originElement:C,registerElement:M,shouldFocus:y}),[C,A,D,P,s,I,M,y]),V=$r.isElement(a)?h.cloneElement(a,$):null,L=h.useCallback(z=>{typeof n=="function"?n(z):n&&(n.current=z),_(z)},[n]),H=h.useMemo(()=>$r.isElement(i)?h.cloneElement(i,{"data-ui":"MenuButton",id:s,onClick:k,onKeyDown:T,"aria-haspopup":!0,"aria-expanded":b,ref:L,selected:b}):null,[i,k,T,s,b,L]),U=h.useMemo(()=>({boundaryElement:o,overflow:"auto",placement:d,portal:p,preventOverflow:g,radius:v,scheme:f,...m||{}}),[o,d,v,f,p,g,m]);return c.jsx(hn,{"data-ui":"MenuButton__popover",...U,content:V,open:b,children:H||c.jsx(c.Fragment,{})})});var $Y=Object.freeze,JQe=Object.defineProperty,eJe=(e,t)=>$Y(JQe(e,"raw",{value:$Y(t||e.slice())})),RY;const Ir=O.hr(RY||(RY=eJe([`
  height: 1px;
  border: 0;
  background: var(--card-hairline-soft-color);
  margin: 0;
`])));var MY=Object.freeze,tJe=Object.defineProperty,ewe=(e,t)=>MY(tJe(e,"raw",{value:MY(t||e.slice())})),FY,LY;function nJe(){return de(FY||(FY=ewe([`
    background-color: inherit;
    color: inherit;

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      text-decoration: none;
    }
  `])))}function rJe(e){var t,n;const{$tone:r,theme:o}=e,{base:i,muted:s,selectable:a}=o.sanity.color,l=a?a[r]||a.default:s[r]||s.default;return de(LY||(LY=ewe([`
    `,`

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);
    outline: none;

    /* &:is(button) */
    &[data-as='button'] {
      &:disabled {
        `,`
      }

      &:not(:disabled) {
        &[aria-pressed='true'] {
          `,`
        }

        &[data-selected],
        &[aria-selected='true'] > & {
          `,`
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      &[data-disabled] {
        `,`
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }
      }
    }

    `,`
  `])),Bt(i,l.enabled),Bt(i,l.disabled),Bt(i,l.pressed),Bt(i,l.selected),Bt(i,l.hovered),Bt(i,l.pressed),Bt(i,l.disabled),Bt(i,l.pressed),Bt(i,l.selected),Bt(i,l.hovered),Bt(i,l.pressed),(n=(t=o.sanity.styles)==null?void 0:t.card)==null?void 0:n.root)}const twe=O(F)(td,nJe,rJe);function nwe(){const e=h.useContext(Jxe);if(!e)throw new Error("useMenu(): missing context value");if(!_0(e)||e.version!==0)throw new Error("useMenu(): the context value is not compatible");return e}function $L(e){const{as:t="button",children:n,fontSize:r,icon:o,onClick:i,padding:s=3,popover:a,radius:l=2,space:u=3,text:d,tone:f="default",...p}=e,m=nwe(),{activeElement:v,mount:g,onClickOutside:b,onEscape:x,onItemClick:y,onItemMouseEnter:w=m.onMouseEnter,registerElement:C}=m,[_,S]=h.useState(null),[E,j]=h.useState(!1),k=h.useRef(null),T=!!v&&v===_,[A,D]=h.useState(!1),I=h.useCallback(U=>{D(!1),w(U),j(!0)},[w]),P=h.useCallback(U=>{U.key==="ArrowLeft"&&(U.stopPropagation(),j(!1),requestAnimationFrame(()=>{_==null||_.focus()}))},[_]),M=h.useCallback(U=>{i&&i(U),k.current="first",j(!0),requestAnimationFrame(()=>{k.current=null})},[i]),$=h.useCallback(()=>{j(!1),y&&y()},[y]),V=h.useCallback(()=>D(!0),[]);h.useEffect(()=>g(_),[g,_]),h.useEffect(()=>{T||j(!1)},[T]),h.useEffect(()=>{E||D(!1)},[E]);const L=c.jsx(Ht,{onClickOutside:b,onEscape:x,onItemClick:$,onKeyDown:P,onMouseEnter:V,registerElement:C,shouldFocus:k.current,children:n}),H=h.useCallback(U=>{const z=U.currentTarget;if(document.activeElement===z&&U.key==="ArrowRight"){k.current="first",j(!0),D(!0),requestAnimationFrame(()=>{k.current=null});return}},[]);return c.jsx(hn,{...a,content:L,"data-ui":"MenuGroup__popover",open:E,children:c.jsx(twe,{"data-as":t,"data-ui":"MenuGroup",forwardedAs:t,...p,"aria-pressed":t==="button"?A:void 0,"data-pressed":t!=="button"?A:void 0,"data-selected":!A&&T?"":void 0,$radius:ve(l),$tone:f,onClick:M,onKeyDown:H,onMouseEnter:I,ref:S,tabIndex:-1,type:t==="button"?"button":void 0,children:c.jsx(F,{padding:s,children:c.jsxs(W,{children:[o&&c.jsxs(B,{size:r,children:[h.isValidElement(o)&&o,$r.isValidElementType(o)&&h.createElement(o)]}),c.jsx(F,{flex:1,marginLeft:o?u:void 0,children:c.jsx(B,{size:r,textOverflow:"ellipsis",children:d})}),c.jsx(F,{marginLeft:u,children:c.jsx(B,{size:r,children:c.jsx(Qu,{})})})]})})})})}const Me=h.forwardRef(function(t,n){const{as:r="button",children:o,disabled:i,fontSize:s=2,hotkeys:a,icon:l,iconRight:u,onClick:d,padding:f=3,paddingX:p,paddingY:m,paddingTop:v,paddingRight:g,paddingBottom:b,paddingLeft:x,pressed:y,radius:w=2,selected:C,space:_=3,text:S,tone:E="default",...j}=t,k=nwe(),{activeElement:T,mount:A,onItemClick:D,onItemMouseEnter:I=k.onMouseEnter,onItemMouseLeave:P=k.onMouseLeave}=k,[M,$]=h.useState(null),V=!!T&&T===M;h.useEffect(()=>A(M,C),[A,M,C]);const L=lr(n),H=h.useCallback(Y=>{i||(d&&d(Y),D&&D())},[i,d,D]),U=h.useMemo(()=>({padding:f,paddingX:p,paddingY:m,paddingTop:v,paddingRight:g,paddingBottom:b,paddingLeft:x}),[f,p,m,v,g,b,x]),z=h.useCallback(Y=>{L.current=Y,$(Y)},[L]);return c.jsxs(twe,{"data-ui":"MenuItem",...j,"aria-pressed":r==="button"&&y,"data-pressed":r!=="button"&&y?"":void 0,"data-selected":V?"":void 0,"data-disabled":i?"":void 0,forwardedAs:r,$radius:ve(w),$padding:ve(0),$tone:E,disabled:i,onClick:H,onMouseEnter:I,onMouseLeave:P,ref:z,role:"menuitem",tabIndex:-1,type:r==="button"?"button":void 0,children:[(l||S||u)&&c.jsx(F,{as:"span",...U,children:c.jsxs(W,{as:"span",children:[l&&c.jsxs(B,{size:s,children:[h.isValidElement(l)&&l,$r.isValidElementType(l)&&h.createElement(l)]}),S&&c.jsx(F,{flex:1,marginLeft:l?_:void 0,marginRight:u?_:void 0,children:c.jsx(B,{size:s,textOverflow:"ellipsis",children:S})}),a&&c.jsx(F,{marginLeft:_,style:{marginTop:-4,marginBottom:-4},children:c.jsx(OL,{fontSize:s,keys:a})}),u&&c.jsxs(B,{size:s,children:[h.isValidElement(u)&&u,$r.isValidElementType(u)&&h.createElement(u)]})]})}),o&&c.jsx(F,{as:"span",...U,children:o})]})});var BY=Object.freeze,oJe=Object.defineProperty,$5=(e,t)=>BY(oJe(e,"raw",{value:BY(t||e.slice())})),NY,zY,VY,HY;const iJe=tj(NY||(NY=$5([`
  0% {
    background-position: 100%;
  }
  100% {
    background-position: -100%;
  }
`]))),sJe=de(zY||(zY=$5([`
  background-image: linear-gradient(
    to right,
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-to),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from)
  );
  background-position: 100%;
  background-size: 200% 100%;
  background-attachment: fixed;
  animation-name: `,`;
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
  animation-duration: 2000ms;
`])),iJe),aJe=de(HY||(HY=$5([`
  opacity: `,`;
  transition: opacity 200ms ease-in;

  @media screen and (prefers-reduced-motion: no-preference) {
    `,`
  }

  @media screen and (prefers-reduced-motion: reduce) {
    background-color: var(--card-skeleton-color-from);
  }
`])),e=>{let{$visible:t}=e;return t?1:0},e=>{let{$animated:t}=e;return t?sJe:de(VY||(VY=$5([`
            background-color: var(--card-skeleton-color-from);
          `])))}),lJe=O(F)(td,aJe),A0=h.forwardRef(function(t,n){const{animated:r=!1,delay:o,radius:i,...s}=t,[a,l]=h.useState(!o);return h.useEffect(()=>{if(!o)return l(!0);const u=setTimeout(()=>{l(!0)},o);return()=>{clearTimeout(u)}},[o]),c.jsx(lJe,{...s,$animated:r,$radius:ve(i),$visible:a,ref:n})}),qj=O(A0)(e=>{let{$size:t,$style:n,theme:r}=e;const{media:o}=r.sanity,i=r.sanity.fonts[n];return dt(o,t,a=>{const l=i.sizes[a];return{height:l.lineHeight-l.ascenderHeight-l.descenderHeight}})}),Si=h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=ve(r);return c.jsx(qj,{...o,$size:i,ref:n,$style:"text"})}),R5=h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=ve(r);return c.jsx(qj,{...o,$size:i,ref:n,$style:"label"})});h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=ve(r);return c.jsx(qj,{...o,$size:i,ref:n,$style:"heading"})});h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=ve(r);return c.jsx(qj,{...o,$size:i,ref:n,$style:"code"})});var UY=Object.freeze,cJe=Object.defineProperty,uJe=(e,t)=>UY(cJe(e,"raw",{value:UY(t||e.slice())})),WY;const dJe=O(ae)(WY||(WY=uJe([`
  max-width: 100%;
`]))),rwe=h.forwardRef(function(t,n){const{icon:r,id:o,focused:i,fontSize:s,label:a,onClick:l,onFocus:u,padding:d=2,selected:f,...p}=t,m=h.useRef(null),v=h.useRef(!1),g=h.useCallback(()=>{v.current=!1},[]),b=h.useCallback(w=>{v.current=!0,u&&u(w)},[u]),x=lr(n);h.useEffect(()=>{i&&!v.current&&(m.current&&m.current.focus(),v.current=!0)},[i]);const y=w=>{m.current=w,x.current=w};return c.jsx(dJe,{"data-ui":"Tab",...p,"aria-selected":f?"true":"false",fontSize:s,icon:r,id:o,mode:"bleed",onClick:l,onBlur:g,onFocus:b,padding:d,ref:y,role:"tab",selected:f,tabIndex:f?0:-1,text:a,type:"button"})});var YY=Object.freeze,fJe=Object.defineProperty,hJe=(e,t)=>YY(fJe(e,"raw",{value:YY(t||e.slice())})),qY;function pJe(e){return!!e}const mJe=O(Jt)(qY||(qY=hJe([`
  & > div {
    display: inline-block;
    vertical-align: middle;
    max-width: 100%;
    box-sizing: border-box;
  }
`]))),owe=h.forwardRef(function(t,n){const{children:r,...o}=t,[i,s]=h.useState(-1),l=h.useMemo(()=>r.filter(pJe),[r]).map((p,m)=>h.cloneElement(p,{focused:i===m,key:m,onFocus:()=>d(m)})),u=l.length,d=h.useCallback(p=>{s(p)},[]),f=h.useCallback(p=>{p.key==="ArrowLeft"&&s(m=>(m+u-1)%u),p.key==="ArrowRight"&&s(m=>(m+1)%u)},[u]);return c.jsx(mJe,{"data-ui":"TabList",...o,onKeyDown:f,ref:n,role:"tablist",children:l})}),gJe=h.forwardRef(function(t,n){const{flex:r,...o}=t;return c.jsx(F,{"data-ui":"TabPanel",...o,flex:r,ref:n,role:"tabpanel",tabIndex:t.tabIndex===void 0?0:t.tabIndex,children:t.children})});var GY=Object.freeze,vJe=Object.defineProperty,iwe=(e,t)=>GY(vJe(e,"raw",{value:GY(t||e.slice())})),KY,ZY;const yJe={error:"critical",warning:"caution",success:"positive",info:"primary"},bJe={error:"alert",warning:"alert",success:"alert",info:"alert"},xJe=O(ee)(KY||(KY=iwe([`
  pointer-events: all;
`]))),wJe=O(W)(ZY||(ZY=iwe([`
  overflow-x: auto;
`])));function CJe(e){const{closable:t,description:n,onClose:r,title:o,status:i,...s}=e,a=i?yJe[i]:"default",l=i?bJe[i]:"status";return c.jsx(xJe,{"data-ui":"Toast",role:l,...s,marginTop:3,radius:2,shadow:2,tone:a,children:c.jsxs(W,{align:"flex-start",children:[c.jsx(wJe,{flex:1,padding:3,children:c.jsxs(ne,{space:3,children:[o&&c.jsx(B,{weight:"semibold",children:o}),n&&c.jsx(B,{muted:!0,size:1,children:n})]})}),t&&c.jsx(F,{padding:1,children:c.jsx(ae,{as:"button",icon:la,mode:"bleed",padding:2,onClick:r,style:{verticalAlign:"top"}})})]})})}function _Je(){const[e,t]=h.useReducer(()=>!0,!1);return h.useEffect(t,[t]),e}const gR=Symbol.for("@sanity/ui/context/toast");Qt[gR]=Qt[gR]||h.createContext(null);const swe=Qt[gR];var XY=Object.freeze,SJe=Object.defineProperty,awe=(e,t)=>XY(SJe(e,"raw",{value:XY(t||e.slice())})),QY,JY;const EJe=O(es)(QY||(QY=awe([`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
`]))),kJe=O.div(JY||(JY=awe([`
  box-sizing: border-box;
  position: absolute;
  right: 0;
  bottom: 0;
  max-width: 420px;
  width: 100%;
`])));let jJe=0;function RL(e){const{children:t,padding:n=4,paddingX:r,paddingY:o,zOffset:i}=e,[s,a]=h.useState([]),l=h.useRef({}),u=h.useCallback(p=>{const m=x=>h.startTransition(()=>a(x)),v=p.id||String(jJe++),g=p.duration||5e3,b=()=>{var x;const y=(x=l.current[v])==null?void 0:x.timeoutId;m(w=>{const C=w.findIndex(_=>_.id===v);if(C>-1){const _=w.slice(0);return _.splice(C,1),_}return w}),y!==void 0&&(clearTimeout(y),delete l.current[v])};return m(x=>x.filter(y=>y.id!==v).concat([{dismiss:b,id:v,params:{...p,duration:g}}])),l.current[v]&&(clearTimeout(l.current[v].timeoutId),delete l.current[v]),l.current[v]={timeoutId:setTimeout(b,g)},v},[]);h.useEffect(()=>()=>{for(const{timeoutId:p}of Object.values(l.current))clearTimeout(p);l.current={}},[]);const d=h.useMemo(()=>({version:0,push:u}),[u]),f=_Je();return c.jsxs(swe.Provider,{value:d,children:[t,f&&c.jsx(EJe,{"data-ui":"ToastProvider",zOffset:i,children:c.jsx(kJe,{children:c.jsx(F,{padding:n,paddingX:r,paddingY:o,children:c.jsx(wL,{initial:!1,children:s.map(p=>{let{dismiss:m,id:v,params:g}=p;return c.jsx(Nj.div,{animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},initial:{opacity:0,y:32,scale:.25},layout:"position",transition:{type:"spring",damping:30,stiffness:400},children:c.jsx(CJe,{closable:g.closable,description:g.description,onClose:m,status:g.status,title:g.title})},v)})})})})})]})}function Ai(){const e=h.useContext(swe);if(!e)throw new Error("useToast(): missing context value");if(!_0(e)||e.version!==0)throw new Error("useToast(): the context value is not compatible");return e}function TJe(e,t,n){var r;const o=t.indexOf(n),i=t.slice(0,o),s=i.length;for(let a=s-1;a>=0;a-=1){const l=i[a].getAttribute("data-tree-key");if(!l)continue;const u=l.split("/");u.pop();const d=[];let f=!0;for(let p=0;p<u.length;p+=1){d.push(u[p]);const m=d.join("/");if(!((r=e[m])!=null&&r.expanded)){f=!1;break}}if(f)return i[a]}return null}function AJe(e,t,n){var r;const o=t.indexOf(n),i=t.slice(o),s=t.length;for(let a=1;a<s;a+=1){if(!i[a])continue;const l=i[a].getAttribute("data-tree-key");if(!l)continue;const u=l.split("/");u.pop();const d=[];let f=!0;for(let p=0;p<u.length;p+=1){d.push(u[p]);const m=d.join("/");if(!((r=e[m])!=null&&r.expanded)){f=!1;break}}if(f)return i[a]}return null}function eq(e){if(e.getAttribute("role")==="treeitem"&&e.focus(),e.getAttribute("role")==="none"){const t=e.firstChild;t&&t instanceof HTMLElement&&t.focus()}}const vR=Symbol.for("@sanity/ui/context/tree");Qt[vR]=Qt[vR]||h.createContext(null);const M5=Qt[vR],lwe=h.memo(h.forwardRef(function(t,n){const{children:r,space:o=1,onFocus:i,...s}=t,a=lr(n),[l,u]=h.useState(null),d=h.useRef(l),f=h.useMemo(()=>[],[]),[p,m]=h.useState([]),[v,g]=h.useState({}),b=h.useRef(v);h.useEffect(()=>{d.current=l},[l]),h.useEffect(()=>{b.current=v},[v]);const x=h.useCallback((S,E,j,k)=>(g(T=>({...T,[E]:{element:S,expanded:j}})),k&&u(S),()=>{g(T=>{const A={...T};return delete A[E],A})}),[]),y=h.useCallback((S,E)=>{g(j=>{const k=j[S];return k?{...j,[S]:{...k,expanded:E}}:j})},[]),w=h.useMemo(()=>({version:0,focusedElement:l||p[0]||null,level:0,path:f,registerItem:x,setExpanded:y,setFocusedElement:u,space:o,state:v}),[l,p,f,x,y,o,v]),C=h.useCallback(S=>{var E;if(d.current){if(S.key==="ArrowDown"){S.preventDefault();const j=AJe(b.current,p,d.current);j&&(eq(j),u(j));return}if(S.key==="ArrowUp"){S.preventDefault();const j=TJe(b.current,p,d.current);j&&(eq(j),u(j));return}if(S.key==="ArrowLeft"){S.preventDefault();const j=d.current.getAttribute("data-tree-key");if(!j)return;const k=b.current[j];if(!k)return;if(k.expanded)g(T=>{const A=T[j];return A?{...T,[j]:{...A,expanded:!1}}:T});else{const T=j.split("/");T.pop();const A=T.join("/"),D=A&&b.current[A];D&&(D.element.focus(),u(D.element))}return}if(S.key==="ArrowRight"){S.preventDefault();const j=d.current.getAttribute("data-tree-key");if(!j)return;(E=b.current[j])!=null&&E.expanded||g(k=>{const T=k[j];return T?{...k,[j]:{...T,expanded:!0}}:k});return}}},[p]),_=h.useCallback(S=>{u(S.target),i==null||i(S)},[i]);return h.useEffect(()=>{if(!a.current)return;const S=Array.from(a.current.querySelectorAll('[data-ui="TreeItem"]'));m(S)},[r,a]),c.jsx(M5.Provider,{value:w,children:c.jsx(ne,{as:"ul","data-ui":"Tree",...s,onFocus:_,onKeyDown:C,ref:a,role:"tree",space:o,children:r})})}));lwe.displayName="Tree";var tq=Object.freeze,DJe=Object.defineProperty,ML=(e,t)=>tq(DJe(e,"raw",{value:tq(t||e.slice())})),nq,rq,oq;function IJe(){return de(nq||(nq=ML([`
    &[role='none'] > [role='treeitem'] {
      outline: none;
      cursor: default;
      border-radius: 3px;

      &:focus {
        position: relative;
      }
    }

    &[role='treeitem'] {
      outline: none;

      & > div {
        cursor: default;
        border-radius: 3px;
      }

      &:focus > div {
        position: relative;
      }
    }
  `])))}function PJe(e){const{theme:t}=e,n="default",{base:r,muted:o,selectable:i}=t.sanity.color,s=i?i[n]||i.default:o[n]||o.default;return de(rq||(rq=ML([`
    /* <div role="none"><a data-ui="TreeItem__box" role="treeitem" tabIndex="0"></div> */
    &[role='none'] {
      & > [role='treeitem'] {
        `,`

        background-color: var(--card-bg-color);
        color: var(--treeitem-fg-color);
      }

      &[data-selected] > [role='treeitem'] {
        `,`
      }

      @media (hover: hover) {
        &:not([data-selected]) > [role='treeitem']:not(:focus):hover {
          `,`
        }

        & > [role='treeitem']:focus {
          `,`
        }
      }
    }

    /* <div role="treeitem" tabIndex="0"><div data-ui="TreeItem__box"></div> */
    &[role='treeitem'] {
      & > [data-ui='TreeItem__box'] {
        `,`

        background-color: var(--card-bg-color);
        color: var(--card-fg-color);
      }

      &[data-selected] > [data-ui='TreeItem__box'] {
        `,`
      }

      @media (hover: hover) {
        &:not([data-selected]):not(:focus) > [data-ui='TreeItem__box']:hover {
          `,`
        }

        &:focus > [data-ui='TreeItem__box'] {
          `,`
        }
      }
    }
  `])),Bt(r,s.enabled),Bt(r,s.pressed),Bt(r,s.hovered),Bt(r,s.selected),Bt(r,s.enabled),Bt(r,s.pressed),Bt(r,s.hovered),Bt(r,s.selected))}function OJe(e){const{$level:t,theme:n}=e,{space:r}=n.sanity;return de(oq||(oq=ML([`
    padding-left: `,`;

    &[data-as='a'] {
      text-decoration: none;
    }
  `])),ge(r[2]*t))}function cwe(){const e=h.useContext(M5);if(!e)throw new Error("Tree: missing context value");return e}const iq=h.memo(function(t){const{children:n,expanded:r=!1,...o}=t,i=cwe();return c.jsx(ne,{as:"ul","data-ui":"TreeGroup",...o,hidden:!r,marginTop:i.space,role:"group",space:i.space,children:n})});var sq=Object.freeze,$Je=Object.defineProperty,RJe=(e,t)=>sq($Je(e,"raw",{value:sq(t||e.slice())})),aq;const lq=h.memo(O.li(IJe,PJe)),cq=O(F).attrs({forwardedAs:"a"})(OJe),MJe=O(B)(aq||(aq=RJe([`
  & > svg {
    transition: transform 100ms;
  }
`]))),ix=h.memo(function(t){const{children:n,expanded:r=!1,fontSize:o,href:i,icon:s,id:a,linkAs:l,muted:u,onClick:d,padding:f=3,selected:p=!1,space:m=2,text:v,weight:g,...b}=t,x=h.useRef(null),y=h.useRef(null),w=cwe(),{path:C,registerItem:_,setExpanded:S,setFocusedElement:E}=w,j=h.useId(),k=a||j,T=h.useMemo(()=>C.concat([k||""]),[k,C]),A=T.join("/"),D=w.state[A],I=w.focusedElement===x.current,P=(D==null?void 0:D.expanded)===void 0?r:(D==null?void 0:D.expanded)||!1,M=w.focusedElement&&w.focusedElement===x.current?0:-1,$=h.useMemo(()=>({...w,level:w.level+1,path:T}),[T,w]),V=h.useCallback(U=>{d&&d(U);const z=U.target;z instanceof HTMLElement&&(z.getAttribute("data-ui")==="TreeItem"||z.closest('[data-ui="TreeItem__box"]'))&&(U.stopPropagation(),S(A,!P),E(x.current))},[P,A,d,S,E]),L=h.useCallback(U=>{if(I&&U.key==="Enter"){const z=y.current||x.current;z==null||z.click()}},[I]);h.useEffect(()=>{if(x.current)return _(x.current,T.join("/"),P,p)},[P,T,_,p]);const H=c.jsxs(W,{padding:f,children:[c.jsxs(F,{marginRight:m,style:{visibility:s||n?"visible":"hidden",pointerEvents:"none"},children:[s&&c.jsx(B,{muted:u,size:o,weight:g,children:h.createElement(s)}),!s&&c.jsx(MJe,{muted:u,size:o,weight:g,children:c.jsx(cj,{style:{transform:P?"rotate(90deg)":void 0}})})]}),c.jsx(F,{flex:1,children:c.jsx(B,{muted:u,size:o,textOverflow:"ellipsis",weight:g,children:v})})]});return i?c.jsxs(lq,{"data-selected":p?"":void 0,"data-tree-id":k,"data-tree-key":A,"data-ui":"TreeItem",...b,onClick:V,ref:x,role:"none",children:[c.jsx(cq,{$level:w.level,"aria-expanded":P,as:l,"data-ui":"TreeItem__box",href:i,ref:y,role:"treeitem",tabIndex:M,children:H}),c.jsx(M5.Provider,{value:$,children:n&&c.jsx(iq,{hidden:!P,children:n})})]}):c.jsxs(lq,{"data-selected":p?"":void 0,"data-ui":"TreeItem","data-tree-id":k,"data-tree-key":A,...b,"aria-expanded":P,onClick:V,onKeyDown:L,ref:x,role:"treeitem",tabIndex:M,children:[c.jsx(cq,{$level:w.level,as:"div","data-ui":"TreeItem__box",children:H}),c.jsx(M5.Provider,{value:$,children:n&&c.jsx(iq,{expanded:P,children:n})})]})});var yR=function(e,t){return yR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},yR(e,t)};function ha(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");yR(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function FJe(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(d){try{u(r.next(d))}catch(f){s(f)}}function l(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):o(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}function uwe(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(d){return l([u,d])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Hp(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ha(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function kl(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function nv(e){return this instanceof nv?(this.v=e,this):new nv(e)}function LJe(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(p){r[p]&&(o[p]=function(m){return new Promise(function(v,g){i.push([p,m,v,g])>1||a(p,m)})})}function a(p,m){try{l(r[p](m))}catch(v){f(i[0][3],v)}}function l(p){p.value instanceof nv?Promise.resolve(p.value.v).then(u,d):f(i[0][2],p)}function u(p){a("next",p)}function d(p){a("throw",p)}function f(p,m){p(m),i.shift(),i.length&&a(i[0][0],i[0][1])}}function BJe(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Hp=="function"?Hp(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,l){s=e[i](s),o(a,l,s.done,s.value)})}}function o(i,s,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},s)}}function Ft(e){return typeof e=="function"}function FL(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var xI=FL(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,o){return o+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function F5(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Up=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,o,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=Hp(s),l=a.next();!l.done;l=a.next()){var u=l.value;u.remove(this)}}catch(g){t={error:g}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else s.remove(this);var d=this.initialTeardown;if(Ft(d))try{d()}catch(g){i=g instanceof xI?g.errors:[g]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var p=Hp(f),m=p.next();!m.done;m=p.next()){var v=m.value;try{uq(v)}catch(g){i=i??[],g instanceof xI?i=kl(kl([],Ha(i)),Ha(g.errors)):i.push(g)}}}catch(g){r={error:g}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}}if(i)throw new xI(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)uq(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&F5(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&F5(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),dwe=Up.EMPTY;function fwe(e){return e instanceof Up||e&&"closed"in e&&Ft(e.remove)&&Ft(e.add)&&Ft(e.unsubscribe)}function uq(e){Ft(e)?e():e.unsubscribe()}var hwe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},bR={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=bR.delegate;return o!=null&&o.setTimeout?o.setTimeout.apply(o,kl([e,t],Ha(n))):setTimeout.apply(void 0,kl([e,t],Ha(n)))},clearTimeout:function(e){var t=bR.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function pwe(e){bR.setTimeout(function(){throw e})}function Bf(){}function W2(e){e()}var LL=function(e){ha(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,fwe(n)&&n.add(r)):r.destination=HJe,r}return t.create=function(n,r,o){return new sx(n,r,o)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Up),NJe=Function.prototype.bind;function wI(e,t){return NJe.call(e,t)}var zJe=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){n_(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){n_(r)}else n_(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){n_(n)}},e}(),sx=function(e){ha(t,e);function t(n,r,o){var i=e.call(this)||this,s;if(Ft(n)||!n)s={next:n??void 0,error:r??void 0,complete:o??void 0};else{var a;i&&hwe.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return i.unsubscribe()},s={next:n.next&&wI(n.next,a),error:n.error&&wI(n.error,a),complete:n.complete&&wI(n.complete,a)}):s=n}return i.destination=new zJe(s),i}return t}(LL);function n_(e){pwe(e)}function VJe(e){throw e}var HJe={closed:!0,next:Bf,error:VJe,complete:Bf},BL=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function nd(e){return e}function UJe(e){return e.length===0?nd:e.length===1?e[0]:function(n){return e.reduce(function(r,o){return o(r)},n)}}var ut=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var o=this,i=YJe(t)?t:new sx(t,n,r);return W2(function(){var s=o,a=s.operator,l=s.source;i.add(a?a.call(i,l):l?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=dq(n),new n(function(o,i){var s=new sx({next:function(a){try{t(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});r.subscribe(s)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[BL]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return UJe(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=dq(t),new t(function(r,o){var i;n.subscribe(function(s){return i=s},function(s){return o(s)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function dq(e){var t;return(t=e??hwe.Promise)!==null&&t!==void 0?t:Promise}function WJe(e){return e&&Ft(e.next)&&Ft(e.error)&&Ft(e.complete)}function YJe(e){return e&&e instanceof LL||WJe(e)&&fwe(e)}function mwe(e){return Ft(e==null?void 0:e.lift)}function pn(e){return function(t){if(mwe(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function zt(e,t,n,r,o){return new gwe(e,t,n,r,o)}var gwe=function(e){ha(t,e);function t(n,r,o,i,s,a){var l=e.call(this,n)||this;return l.onFinalize=s,l.shouldUnsubscribe=a,l._next=r?function(u){try{r(u)}catch(d){n.error(d)}}:e.prototype._next,l._error=i?function(u){try{i(u)}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=o?function(){try{o()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,l}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(LL);function pl(){return pn(function(e,t){var n=null;e._refCount++;var r=zt(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){n=null;return}var o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var qJe=function(e){ha(t,e);function t(n,r){var o=e.call(this)||this;return o.source=n,o.subjectFactory=r,o._subject=null,o._refCount=0,o._connection=null,mwe(n)&&(o.lift=n.lift),o}return t.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},t.prototype.getSubject=function(){var n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var n=this._connection;this._subject=this._connection=null,n==null||n.unsubscribe()},t.prototype.connect=function(){var n=this,r=this._connection;if(!r){r=this._connection=new Up;var o=this.getSubject();r.add(this.source.subscribe(zt(o,void 0,function(){n._teardown(),o.complete()},function(i){n._teardown(),o.error(i)},function(){return n._teardown()}))),r.closed&&(this._connection=null,r=Up.EMPTY)}return r},t.prototype.refCount=function(){return pl()(this)},t}(ut),GJe=FL(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Ar=function(e){ha(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new fq(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new GJe},t.prototype.next=function(n){var r=this;W2(function(){var o,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=Hp(r.currentObservers),a=s.next();!a.done;a=s.next()){var l=a.value;l.next(n)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}}})},t.prototype.error=function(n){var r=this;W2(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var o=r.observers;o.length;)o.shift().error(n)}})},t.prototype.complete=function(){var n=this;W2(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,o=this,i=o.hasError,s=o.isStopped,a=o.observers;return i||s?dwe:(this.currentObservers=null,a.push(n),new Up(function(){r.currentObservers=null,F5(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,o=r.hasError,i=r.thrownError,s=r.isStopped;o?n.error(i):s&&n.complete()},t.prototype.asObservable=function(){var n=new ut;return n.source=this,n},t.create=function(n,r){return new fq(n,r)},t}(ut),fq=function(e){ha(t,e);function t(n,r){var o=e.call(this)||this;return o.destination=n,o.source=r,o}return t.prototype.next=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.next)===null||o===void 0||o.call(r,n)},t.prototype.error=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.error)===null||o===void 0||o.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,o;return(o=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&o!==void 0?o:dwe},t}(Ar),Gj=function(e){ha(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,o=n.thrownError,i=n._value;if(r)throw o;return this._throwIfClosed(),i},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(Ar),NL={now:function(){return(NL.delegate||Date).now()},delegate:void 0},vwe=function(e){ha(t,e);function t(n,r,o){n===void 0&&(n=1/0),r===void 0&&(r=1/0),o===void 0&&(o=NL);var i=e.call(this)||this;return i._bufferSize=n,i._windowTime=r,i._timestampProvider=o,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,n),i._windowTime=Math.max(1,r),i}return t.prototype.next=function(n){var r=this,o=r.isStopped,i=r._buffer,s=r._infiniteTimeWindow,a=r._timestampProvider,l=r._windowTime;o||(i.push(n),!s&&i.push(a.now()+l)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),o=this,i=o._infiniteTimeWindow,s=o._buffer,a=s.slice(),l=0;l<a.length&&!n.closed;l+=i?1:2)n.next(a[l]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,o=n._timestampProvider,i=n._buffer,s=n._infiniteTimeWindow,a=(s?1:2)*r;if(r<1/0&&a<i.length&&i.splice(0,i.length-a),!s){for(var l=o.now(),u=0,d=1;d<i.length&&i[d]<=l;d+=2)u=d;u&&i.splice(0,u+1)}},t}(Ar),KJe=function(e){ha(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(Up),L5={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=L5.delegate;return o!=null&&o.setInterval?o.setInterval.apply(o,kl([e,t],Ha(n))):setInterval.apply(void 0,kl([e,t],Ha(n)))},clearInterval:function(e){var t=L5.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},ywe=function(e){ha(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return t.prototype.schedule=function(n,r){var o;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(s,this.id,r),this},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),L5.setInterval(n.flush.bind(n,this),o)},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return r;r!=null&&L5.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(n,r);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var o=!1,i;try{this.work(n)}catch(s){o=!0,i=s||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,o=n.scheduler,i=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,F5(i,this),r!=null&&(this.id=this.recycleAsyncId(o,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(KJe),ZJe=1,CI,xR={};function hq(e){return e in xR?(delete xR[e],!0):!1}var bwe={setImmediate:function(e){var t=ZJe++;return xR[t]=!0,CI||(CI=Promise.resolve()),CI.then(function(){return hq(t)&&e()}),t},clearImmediate:function(e){hq(e)}},XJe=bwe.setImmediate,QJe=bwe.clearImmediate,B5={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=B5.delegate;return((n==null?void 0:n.setImmediate)||XJe).apply(void 0,kl([],Ha(e)))},clearImmediate:function(e){var t=B5.delegate;return((t==null?void 0:t.clearImmediate)||QJe)(e)},delegate:void 0},JJe=function(e){ha(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o}return t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),o!==null&&o>0?e.prototype.requestAsyncId.call(this,n,r,o):(n.actions.push(this),n._scheduled||(n._scheduled=B5.setImmediate(n.flush.bind(n,void 0))))},t.prototype.recycleAsyncId=function(n,r,o){var i;if(o===void 0&&(o=0),o!=null?o>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,o);var s=n.actions;r!=null&&((i=s[s.length-1])===null||i===void 0?void 0:i.id)!==r&&(B5.clearImmediate(r),n._scheduled===r&&(n._scheduled=void 0))},t}(ywe),pq=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=NL.now,e}(),xwe=function(e){ha(t,e);function t(n,r){r===void 0&&(r=pq.now);var o=e.call(this,n,r)||this;return o.actions=[],o._active=!1,o}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var o;this._active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}},t}(pq),eet=function(e){ha(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var o=this.actions,i;n=n||o.shift();do if(i=n.execute(n.state,n.delay))break;while((n=o[0])&&n.id===r&&o.shift());if(this._active=!1,i){for(;(n=o[0])&&n.id===r&&o.shift();)n.unsubscribe();throw i}},t}(xwe),tet=new eet(JJe),Dc=new xwe(ywe),net=Dc,Gn=new ut(function(e){return e.complete()});function ret(e){return e?oet(e):Gn}function oet(e){return new ut(function(t){return e.schedule(function(){return t.complete()})})}function wwe(e){return e&&Ft(e.schedule)}function zL(e){return e[e.length-1]}function VL(e){return Ft(zL(e))?e.pop():void 0}function Sw(e){return wwe(zL(e))?e.pop():void 0}function iet(e,t){return typeof zL(e)=="number"?e.pop():t}var HL=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function Cwe(e){return Ft(e==null?void 0:e.then)}function _we(e){return Ft(e[BL])}function Swe(e){return Symbol.asyncIterator&&Ft(e==null?void 0:e[Symbol.asyncIterator])}function Ewe(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function set(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var kwe=set();function jwe(e){return Ft(e==null?void 0:e[kwe])}function Twe(e){return LJe(this,arguments,function(){var n,r,o,i;return uwe(this,function(s){switch(s.label){case 0:n=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,nv(n.read())];case 3:return r=s.sent(),o=r.value,i=r.done,i?[4,nv(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,nv(o)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function Awe(e){return Ft(e==null?void 0:e.getReader)}function kn(e){if(e instanceof ut)return e;if(e!=null){if(_we(e))return aet(e);if(HL(e))return cet(e);if(Cwe(e))return uet(e);if(Swe(e))return Dwe(e);if(jwe(e))return det(e);if(Awe(e))return fet(e)}throw Ewe(e)}function aet(e){return new ut(function(t){var n=e[BL]();if(Ft(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function cet(e){return new ut(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function uet(e){return new ut(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,pwe)})}function det(e){return new ut(function(t){var n,r;try{for(var o=Hp(e),i=o.next();!i.done;i=o.next()){var s=i.value;if(t.next(s),t.closed)return}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()})}function Dwe(e){return new ut(function(t){het(e,t).catch(function(n){return t.error(n)})})}function fet(e){return Dwe(Twe(e))}function het(e,t){var n,r,o,i;return FJe(this,void 0,void 0,function(){var s,a;return uwe(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=BJe(e),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),o={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Eu(e,t,n,r,o){r===void 0&&(r=0),o===void 0&&(o=!1);var i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function Iwe(e,t){return t===void 0&&(t=0),pn(function(n,r){n.subscribe(zt(r,function(o){return Eu(r,e,function(){return r.next(o)},t)},function(){return Eu(r,e,function(){return r.complete()},t)},function(o){return Eu(r,e,function(){return r.error(o)},t)}))})}function Pwe(e,t){return t===void 0&&(t=0),pn(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function pet(e,t){return kn(e).pipe(Pwe(t),Iwe(t))}function met(e,t){return kn(e).pipe(Pwe(t),Iwe(t))}function get(e,t){return new ut(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function vet(e,t){return new ut(function(n){var r;return Eu(n,t,function(){r=e[kwe](),Eu(n,t,function(){var o,i,s;try{o=r.next(),i=o.value,s=o.done}catch(a){n.error(a);return}s?n.complete():n.next(i)},0,!0)}),function(){return Ft(r==null?void 0:r.return)&&r.return()}})}function Owe(e,t){if(!e)throw new Error("Iterable cannot be null");return new ut(function(n){Eu(n,t,function(){var r=e[Symbol.asyncIterator]();Eu(n,t,function(){r.next().then(function(o){o.done?n.complete():n.next(o.value)})},0,!0)})})}function yet(e,t){return Owe(Twe(e),t)}function $we(e,t){if(e!=null){if(_we(e))return pet(e,t);if(HL(e))return get(e,t);if(Cwe(e))return met(e,t);if(Swe(e))return Owe(e,t);if(jwe(e))return vet(e,t);if(Awe(e))return yet(e,t)}throw Ewe(e)}function Cr(e,t){return t?$we(e,t):kn(e)}function be(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Sw(e);return Cr(e,n)}function D0(e,t){var n=Ft(e)?e:function(){return e},r=function(o){return o.error(n())};return new ut(t?function(o){return t.schedule(r,0,o)}:r)}function bet(e){return!!e&&(e instanceof ut||Ft(e.lift)&&Ft(e.subscribe))}var Kj=FL(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function bo(e,t){var n=typeof t=="object";return new Promise(function(r,o){var i=!1,s;e.subscribe({next:function(a){s=a,i=!0},error:o,complete:function(){i?r(s):n?r(t.defaultValue):o(new Kj)}})})}function xet(e){return e instanceof Date&&!isNaN(e)}function ce(e,t){return pn(function(n,r){var o=0;n.subscribe(zt(r,function(i){r.next(e.call(t,i,o++))}))})}var wet=Array.isArray;function Cet(e,t){return wet(t)?e.apply(void 0,kl([],Ha(t))):e(t)}function UL(e){return ce(function(t){return Cet(e,t)})}var _et=Array.isArray,Eet=Object.getPrototypeOf,ket=Object.prototype,jet=Object.keys;function Rwe(e){if(e.length===1){var t=e[0];if(_et(t))return{args:t,keys:null};if(Tet(t)){var n=jet(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}function Tet(e){return e&&typeof e=="object"&&Eet(e)===ket}function Mwe(e,t){return e.reduce(function(n,r,o){return n[r]=t[o],n},{})}function Vo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Sw(e),r=VL(e),o=Rwe(e),i=o.args,s=o.keys;if(i.length===0)return Cr([],n);var a=new ut(Aet(i,n,s?function(l){return Mwe(s,l)}:nd));return r?a.pipe(UL(r)):a}function Aet(e,t,n){return n===void 0&&(n=nd),function(r){mq(t,function(){for(var o=e.length,i=new Array(o),s=o,a=o,l=function(d){mq(t,function(){var f=Cr(e[d],t),p=!1;f.subscribe(zt(r,function(m){i[d]=m,p||(p=!0,a--),a||r.next(n(i.slice()))},function(){--s||r.complete()}))},r)},u=0;u<o;u++)l(u)},r)}}function mq(e,t,n){e?Eu(n,e,t):t()}function Det(e,t,n,r,o,i,s,a){var l=[],u=0,d=0,f=!1,p=function(){f&&!l.length&&!u&&t.complete()},m=function(g){return u<r?v(g):l.push(g)},v=function(g){i&&t.next(g),u++;var b=!1;kn(n(g,d++)).subscribe(zt(t,function(x){o==null||o(x),i?m(x):t.next(x)},function(){b=!0},void 0,function(){if(b)try{u--;for(var x=function(){var y=l.shift();s?Eu(t,s,function(){return v(y)}):v(y)};l.length&&u<r;)x();p()}catch(y){t.error(y)}}))};return e.subscribe(zt(t,m,function(){f=!0,p()})),function(){a==null||a()}}function vt(e,t,n){return n===void 0&&(n=1/0),Ft(t)?vt(function(r,o){return ce(function(i,s){return t(r,i,o,s)})(kn(e(r,o)))},n):(typeof t=="number"&&(n=t),pn(function(r,o){return Det(r,o,e,n)}))}function Zj(e){return e===void 0&&(e=1/0),vt(nd,e)}function Iet(){return Zj(1)}function ho(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Iet()(Cr(e,Sw(e)))}function jo(e){return new ut(function(t){kn(e()).subscribe(t)})}function Pet(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=VL(e),r=Rwe(e),o=r.args,i=r.keys,s=new ut(function(a){var l=o.length;if(!l){a.complete();return}for(var u=new Array(l),d=l,f=l,p=function(v){var g=!1;kn(o[v]).subscribe(zt(a,function(b){g||(g=!0,f--),u[v]=b},function(){return d--},void 0,function(){(!d||!g)&&(f||a.next(i?Mwe(i,u):u),a.complete())}))},m=0;m<l;m++)p(m)});return n?s.pipe(UL(n)):s}var Oet=["addListener","removeListener"],$et=["addEventListener","removeEventListener"],Ret=["on","off"];function Zi(e,t,n,r){if(Ft(n)&&(r=n,n=void 0),r)return Zi(e,t,n).pipe(UL(r));var o=Ha(Let(e)?$et.map(function(a){return function(l){return e[a](t,l,n)}}):Met(e)?Oet.map(gq(e,t)):Fet(e)?Ret.map(gq(e,t)):[],2),i=o[0],s=o[1];if(!i&&HL(e))return vt(function(a){return Zi(a,t,n)})(kn(e));if(!i)throw new TypeError("Invalid event target");return new ut(function(a){var l=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return a.next(1<u.length?u:u[0])};return i(l),function(){return s(l)}})}function gq(e,t){return function(n){return function(r){return e[n](t,r)}}}function Met(e){return Ft(e.addListener)&&Ft(e.removeListener)}function Fet(e){return Ft(e.on)&&Ft(e.off)}function Let(e){return Ft(e.addEventListener)&&Ft(e.removeEventListener)}function Bet(e,t,n){return jo(function(){return e()?t:n})}function Ei(e,t,n){e===void 0&&(e=0),n===void 0&&(n=net);var r=-1;return t!=null&&(wwe(t)?n=t:r=t),new ut(function(o){var i=xet(e)?+e-n.now():e;i<0&&(i=0);var s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}function xn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Sw(e),r=iet(e,1/0),o=e;return o.length?o.length===1?kn(o[0]):Zj(r)(Cr(o,n)):Gn}var WL=new ut(Bf),Net=Array.isArray;function zet(e){return e.length===1&&Net(e[0])?e[0]:e}function Vet(e,t){return function(n,r){return!e.call(t,n,r)}}function ct(e,t){return pn(function(n,r){var o=0;n.subscribe(zt(r,function(i){return e.call(t,i,o++)&&r.next(i)}))})}function Fwe(e,t,n){return[ct(t,n)(kn(e)),ct(Vet(t,n))(kn(e))]}function Het(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e=zet(e),e.length===1?kn(e[0]):new ut(Uet(e))}function Uet(e){return function(t){for(var n=[],r=function(i){n.push(kn(e[i]).subscribe(zt(t,function(s){if(n){for(var a=0;a<n.length;a++)a!==i&&n[a].unsubscribe();n=null}t.next(s)})))},o=0;n&&!t.closed&&o<e.length;o++)r(o)}}function Wet(e,t){return new ut(function(n){var r=e(),o=t(r),i=o?kn(o):Gn;return i.subscribe(n),function(){r&&r.unsubscribe()}})}function Yet(e){return pn(function(t,n){var r=!1,o=null,i=null,s=!1,a=function(){if(i==null||i.unsubscribe(),i=null,r){r=!1;var u=o;o=null,n.next(u)}s&&n.complete()},l=function(){i=null,s&&n.complete()};t.subscribe(zt(n,function(u){r=!0,o=u,i||kn(e(u)).subscribe(i=zt(n,a,l))},function(){s=!0,(!r||!i||i.closed)&&n.complete()}))})}function qet(e,t){return t===void 0&&(t=Dc),Yet(function(){return Ei(e,t)})}function Xn(e){return pn(function(t,n){var r=null,o=!1,i;r=t.subscribe(zt(n,void 0,void 0,function(s){i=kn(e(s,Xn(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function Lwe(e,t,n,r,o){return function(i,s){var a=n,l=t,u=0;i.subscribe(zt(s,function(d){var f=u++;l=a?e(l,d,f):(a=!0,d),r&&s.next(l)},o&&function(){a&&s.next(l),s.complete()}))}}function Bwe(e,t){return pn(Lwe(e,t,arguments.length>=2,!1,!0))}var Get=function(e,t){return e.push(t),e};function Nwe(){return pn(function(e,t){Bwe(Get,[])(e).subscribe(t)})}function wR(e,t){return Ft(t)?vt(e,t,1):vt(e,1)}function Ket(e){return new ut(function(t){return e.subscribe(t)})}var Zet={connector:function(){return new Ar}};function Xet(e,t){t===void 0&&(t=Zet);var n=t.connector;return pn(function(r,o){var i=n();kn(e(Ket(i))).subscribe(o),o.add(r.subscribe(i))})}function zwe(e){return pn(function(t,n){var r=!1,o=null,i=null,s=function(){if(i==null||i.unsubscribe(),i=null,r){r=!1;var a=o;o=null,n.next(a)}};t.subscribe(zt(n,function(a){i==null||i.unsubscribe(),r=!0,o=a,i=zt(n,s,Bf),kn(e(a)).subscribe(i)},function(){s(),n.complete()},void 0,function(){o=i=null}))})}function Vwe(e,t){return t===void 0&&(t=Dc),pn(function(n,r){var o=null,i=null,s=null,a=function(){if(o){o.unsubscribe(),o=null;var u=i;i=null,r.next(u)}};function l(){var u=s+e,d=t.now();if(d<u){o=this.schedule(void 0,u-d),r.add(o);return}a()}n.subscribe(zt(r,function(u){i=u,s=t.now(),o||(o=t.schedule(l,e),r.add(o))},function(){a(),r.complete()},void 0,function(){i=o=null}))})}function Hwe(e){return pn(function(t,n){var r=!1;t.subscribe(zt(n,function(o){r=!0,n.next(o)},function(){r||n.next(e),n.complete()}))})}function ys(e){return e<=0?function(){return Gn}:pn(function(t,n){var r=0;t.subscribe(zt(n,function(o){++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function Qet(){return pn(function(e,t){e.subscribe(zt(t,Bf))})}function YL(e){return ce(function(){return e})}function Uwe(e,t){return t?function(n){return ho(t.pipe(ys(1),Qet()),n.pipe(Uwe(e)))}:vt(function(n,r){return kn(e(n,r)).pipe(ys(1),YL(n))})}function Jet(e,t){t===void 0&&(t=Dc);var n=Ei(e,t);return Uwe(function(){return n})}function ett(e,t){return pn(function(n,r){var o=new Set;n.subscribe(zt(r,function(i){var s=e?e(i):i;o.has(s)||(o.add(s),r.next(i))})),t&&kn(t).subscribe(zt(r,function(){return o.clear()},Bf))})}function Kn(e,t){return t===void 0&&(t=nd),e=e??ttt,pn(function(n,r){var o,i=!0;n.subscribe(zt(r,function(s){var a=t(s);(i||!e(o,a))&&(i=!1,o=a,r.next(s))}))})}function ttt(e,t){return e===t}function Wwe(e){return e===void 0&&(e=ntt),pn(function(t,n){var r=!1;t.subscribe(zt(n,function(o){r=!0,n.next(o)},function(){return r?n.complete():n.error(e())}))})}function ntt(){return new Kj}function Ywe(e,t){return t?function(n){return n.pipe(Ywe(function(r,o){return kn(e(r,o)).pipe(ce(function(i,s){return t(r,i,o,s)}))}))}:pn(function(n,r){var o=0,i=null,s=!1;n.subscribe(zt(r,function(a){i||(i=zt(r,void 0,function(){i=null,s&&r.complete()}),kn(e(a,o++)).subscribe(i))},function(){s=!0,!i&&r.complete()}))})}function qwe(e){return pn(function(t,n){try{t.subscribe(n)}finally{n.add(e)}})}function Gwe(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?ct(function(o,i){return e(o,i,r)}):nd,ys(1),n?Hwe(t):Wwe(function(){return new Kj}))}}function Kwe(e,t,n,r){return pn(function(o,i){var s;!t||typeof t=="function"?s=t:(n=t.duration,s=t.element,r=t.connector);var a=new Map,l=function(v){a.forEach(v),v(i)},u=function(v){return l(function(g){return g.error(v)})},d=0,f=!1,p=new gwe(i,function(v){try{var g=e(v),b=a.get(g);if(!b){a.set(g,b=r?r():new Ar);var x=m(g,b);if(i.next(x),n){var y=zt(b,function(){b.complete(),y==null||y.unsubscribe()},void 0,void 0,function(){return a.delete(g)});p.add(kn(n(x)).subscribe(y))}}b.next(s?s(v):v)}catch(w){u(w)}},function(){return l(function(v){return v.complete()})},u,function(){return a.clear()},function(){return f=!0,d===0});o.subscribe(p);function m(v,g){var b=new ut(function(x){d++;var y=g.subscribe(x);return function(){y.unsubscribe(),--d===0&&f&&p.unsubscribe()}});return b.key=v,b}})}function rtt(e){return e<=0?function(){return Gn}:pn(function(t,n){var r=[];t.subscribe(zt(n,function(o){r.push(o),e<r.length&&r.shift()},function(){var o,i;try{for(var s=Hp(r),a=s.next();!a.done;a=s.next()){var l=a.value;n.next(l)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}n.complete()},void 0,function(){r=null}))})}function ott(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?ct(function(o,i){return e(o,i,r)}):nd,rtt(1),n?Hwe(t):Wwe(function(){return new Kj}))}}var itt=vt;function Wp(e,t,n){return n===void 0&&(n=1/0),Ft(t)?vt(function(){return e},t,n):(typeof t=="number"&&(n=t),vt(function(){return e},n))}function stt(e,t){var n=Ft(e)?e:function(){return e};return Ft(t)?Xet(t,{connector:n}):function(r){return new qJe(r,n)}}function ml(e,t,n,r){n&&!Ft(n)&&(r=n);var o=Ft(n)?n:void 0;return function(i){return stt(new vwe(e,t,r),o)(i)}}function Ua(e,t){return pn(Lwe(e,t,arguments.length>=2,!0))}function Wa(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new Ar}:t,r=e.resetOnError,o=r===void 0?!0:r,i=e.resetOnComplete,s=i===void 0?!0:i,a=e.resetOnRefCountZero,l=a===void 0?!0:a;return function(u){var d,f,p,m=0,v=!1,g=!1,b=function(){f==null||f.unsubscribe(),f=void 0},x=function(){b(),d=p=void 0,v=g=!1},y=function(){var w=d;x(),w==null||w.unsubscribe()};return pn(function(w,C){m++,!g&&!v&&b();var _=p=p??n();C.add(function(){m--,m===0&&!g&&!v&&(f=_I(y,l))}),_.subscribe(C),!d&&m>0&&(d=new sx({next:function(S){return _.next(S)},error:function(S){g=!0,b(),f=_I(x,o,S),_.error(S)},complete:function(){v=!0,b(),f=_I(x,s),_.complete()}}),kn(w).subscribe(d))})(u)}}function _I(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var o=new sx({next:function(){o.unsubscribe(),e()}});return kn(t.apply(void 0,kl([],Ha(n)))).subscribe(o)}}function To(e,t,n){var r,o,i,s,a=!1;return e&&typeof e=="object"?(r=e.bufferSize,s=r===void 0?1/0:r,o=e.windowTime,t=o===void 0?1/0:o,i=e.refCount,a=i===void 0?!1:i,n=e.scheduler):s=e??1/0,Wa({connector:function(){return new vwe(s,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function Zwe(e){return ct(function(t,n){return e<=n})}function ki(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Sw(e);return pn(function(r,o){(n?ho(e,r,n):ho(e,r)).subscribe(o)})}function tt(e,t){return pn(function(n,r){var o=null,i=0,s=!1,a=function(){return s&&!o&&r.complete()};n.subscribe(zt(r,function(l){o==null||o.unsubscribe();var u=0,d=i++;kn(e(l,d)).subscribe(o=zt(r,function(f){return r.next(t?t(l,f,d,u++):f)},function(){o=null,a()}))},function(){s=!0,a()}))})}function att(e,t){return Ft(t)?tt(function(){return e},t):tt(function(){return e})}function qL(e){return pn(function(t,n){kn(e).subscribe(zt(n,function(){return n.complete()},Bf)),!n.closed&&t.subscribe(n)})}function Wn(e,t,n){var r=Ft(e)||t||n?{next:e,error:t,complete:n}:e;return r?pn(function(o,i){var s;(s=r.subscribe)===null||s===void 0||s.call(r);var a=!0;o.subscribe(zt(i,function(l){var u;(u=r.next)===null||u===void 0||u.call(r,l),i.next(l)},function(){var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),i.complete()},function(l){var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),i.error(l)},function(){var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):nd}function Xwe(e,t){return pn(function(n,r){var o=t??{},i=o.leading,s=i===void 0?!0:i,a=o.trailing,l=a===void 0?!1:a,u=!1,d=null,f=null,p=!1,m=function(){f==null||f.unsubscribe(),f=null,l&&(b(),p&&r.complete())},v=function(){f=null,p&&r.complete()},g=function(x){return f=kn(e(x)).subscribe(zt(r,m,v))},b=function(){if(u){u=!1;var x=d;d=null,r.next(x),!p&&g(x)}};n.subscribe(zt(r,function(x){u=!0,d=x,!(f&&!f.closed)&&(s?b():g(x))},function(){p=!0,!(l&&u&&f&&!f.closed)&&r.complete()}))})}function N5(e,t,n){t===void 0&&(t=Dc);var r=Ei(e,t);return Xwe(function(){return r},n)}function ib(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=VL(e);return pn(function(r,o){for(var i=e.length,s=new Array(i),a=e.map(function(){return!1}),l=!1,u=function(f){kn(e[f]).subscribe(zt(o,function(p){s[f]=p,!l&&!a[f]&&(a[f]=!0,(l=a.every(nd))&&(a=null))},Bf))},d=0;d<i;d++)u(d);r.subscribe(zt(o,function(f){if(l){var p=kl([f],Ha(s));o.next(n?n.apply(void 0,kl([],Ha(p))):p)}}))})}function ltt(e,t){var n=h.useCallback(function(){var s=new Gj(e),a=s.asObservable().pipe(Kn());return[t?a.pipe(t):a,s]},[]),r=h.useRef();r.current||(r.current=n());var o=r.current[0];h.useEffect(function(){if(r.current){var s=r.current,a=s[1];a.next(e)}},[e,r]);var i=h.useRef(!1);return h.useEffect(function(){return i.current&&(r.current||(r.current=n()),i.current=!1),function(){if(r.current){i.current=!0;var s=r.current,a=s[1];a.complete(),r.current=void 0}}},[]),o}var Qwe={exports:{}},Jwe={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv=h;function ctt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var utt=typeof Object.is=="function"?Object.is:ctt,dtt=Wv.useState,ftt=Wv.useEffect,htt=Wv.useLayoutEffect,ptt=Wv.useDebugValue;function mtt(e,t){var n=t(),r=dtt({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return htt(function(){o.value=n,o.getSnapshot=t,SI(o)&&i({inst:o})},[e,n,t]),ftt(function(){return SI(o)&&i({inst:o}),e(function(){SI(o)&&i({inst:o})})},[e]),ptt(n),n}function SI(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!utt(e,n)}catch{return!0}}function gtt(e,t){return t()}var vtt=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?gtt:mtt;Jwe.useSyncExternalStore=Wv.useSyncExternalStore!==void 0?Wv.useSyncExternalStore:vtt;Qwe.exports=Jwe;var ytt=Qwe.exports;function CR(e){return typeof e=="function"?e():e}var EI=new WeakMap;function vq(e,t){if(!EI.has(e)){var n={currentValue:t};n.observable=e.pipe(To({refCount:!0,bufferSize:1}),Wn(function(r){return n.currentValue=r})),n.subscription=n.observable.subscribe(),EI.set(e,n)}return EI.get(e)}function btt(e,t){var n=h.useMemo(function(){var s=vq(e,CR(t));return s.subscription.closed&&(s.subscription=s.observable.subscribe()),[function(){return s.currentValue},function(l){var u=s.observable.subscribe(l);return function(){u.unsubscribe()}}]},[e]),r=n[0],o=n[1],i=h.useRef(!1);return h.useEffect(function(){var s=vq(e,CR(t));return i.current&&(s.subscription.closed&&(s.subscription=s.observable.subscribe()),i.current=!1),function(){i.current=!s.subscription.closed,s.subscription.unsubscribe()}},[e]),ytt.useSyncExternalStore(o,r)}function Ao(e,t,n){return btt(h.useMemo(function(){return CR(e)},t),n)}var xtt=function(e){return e};function eCe(e){e===void 0&&(e=xtt);var t=new Ar;return[t.pipe(e),function(n){return t.next(n)}]}var wtt=[];function GL(e,t){t===void 0&&(t=wtt);var n=h.useRef();n.current||(n.current=eCe());var r=n.current,o=r[0],i=r[1],s=h.useCallback(e,t);return h.useEffect(function(){var a=o.pipe(s).subscribe();return function(){a.unsubscribe()}},[o,i,s]),i}function Ctt(){this.__data__=[],this.size=0}var _tt=Ctt;function Stt(e,t){return e===t||e!==e&&t!==t}var Xj=Stt,Ett=Xj;function ktt(e,t){for(var n=e.length;n--;)if(Ett(e[n][0],t))return n;return-1}var Qj=ktt,jtt=Qj,Ttt=Array.prototype,Att=Ttt.splice;function Dtt(e){var t=this.__data__,n=jtt(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Att.call(t,n,1),--this.size,!0}var Itt=Dtt,Ptt=Qj;function Ott(e){var t=this.__data__,n=Ptt(t,e);return n<0?void 0:t[n][1]}var $tt=Ott,Rtt=Qj;function Mtt(e){return Rtt(this.__data__,e)>-1}var Ftt=Mtt,Ltt=Qj;function Btt(e,t){var n=this.__data__,r=Ltt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Ntt=Btt,ztt=_tt,Vtt=Itt,Htt=$tt,Utt=Ftt,Wtt=Ntt;function I0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}I0.prototype.clear=ztt;I0.prototype.delete=Vtt;I0.prototype.get=Htt;I0.prototype.has=Utt;I0.prototype.set=Wtt;var Jj=I0,Ytt=Jj;function qtt(){this.__data__=new Ytt,this.size=0}var Gtt=qtt;function Ktt(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Ztt=Ktt;function Xtt(e){return this.__data__.get(e)}var Qtt=Xtt;function Jtt(e){return this.__data__.has(e)}var ent=Jtt,tnt=Gf,nnt=Ka,rnt="[object AsyncFunction]",ont="[object Function]",int="[object GeneratorFunction]",snt="[object Proxy]";function ant(e){if(!nnt(e))return!1;var t=tnt(e);return t==ont||t==int||t==rnt||t==snt}var tCe=ant,lnt=$l,cnt=lnt["__core-js_shared__"],unt=cnt,kI=unt,yq=function(){var e=/[^.]+$/.exec(kI&&kI.keys&&kI.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function dnt(e){return!!yq&&yq in e}var fnt=dnt,hnt=Function.prototype,pnt=hnt.toString;function mnt(e){if(e!=null){try{return pnt.call(e)}catch{}try{return e+""}catch{}}return""}var nCe=mnt,gnt=tCe,vnt=fnt,ynt=Ka,bnt=nCe,xnt=/[\\^$.*+?()[\]{}|]/g,wnt=/^\[object .+?Constructor\]$/,Cnt=Function.prototype,_nt=Object.prototype,Snt=Cnt.toString,Ent=_nt.hasOwnProperty,knt=RegExp("^"+Snt.call(Ent).replace(xnt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jnt(e){if(!ynt(e)||vnt(e))return!1;var t=gnt(e)?knt:wnt;return t.test(bnt(e))}var Tnt=jnt;function Ant(e,t){return e==null?void 0:e[t]}var Dnt=Ant,Int=Tnt,Pnt=Dnt;function Ont(e,t){var n=Pnt(e,t);return Int(n)?n:void 0}var bm=Ont,$nt=bm,Rnt=$l,Mnt=$nt(Rnt,"Map"),KL=Mnt,Fnt=bm,Lnt=Fnt(Object,"create"),eT=Lnt,bq=eT;function Bnt(){this.__data__=bq?bq(null):{},this.size=0}var Nnt=Bnt;function znt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Vnt=znt,Hnt=eT,Unt="__lodash_hash_undefined__",Wnt=Object.prototype,Ynt=Wnt.hasOwnProperty;function qnt(e){var t=this.__data__;if(Hnt){var n=t[e];return n===Unt?void 0:n}return Ynt.call(t,e)?t[e]:void 0}var Gnt=qnt,Knt=eT,Znt=Object.prototype,Xnt=Znt.hasOwnProperty;function Qnt(e){var t=this.__data__;return Knt?t[e]!==void 0:Xnt.call(t,e)}var Jnt=Qnt,ert=eT,trt="__lodash_hash_undefined__";function nrt(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ert&&t===void 0?trt:t,this}var rrt=nrt,ort=Nnt,irt=Vnt,srt=Gnt,art=Jnt,lrt=rrt;function P0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}P0.prototype.clear=ort;P0.prototype.delete=irt;P0.prototype.get=srt;P0.prototype.has=art;P0.prototype.set=lrt;var crt=P0,xq=crt,urt=Jj,drt=KL;function frt(){this.size=0,this.__data__={hash:new xq,map:new(drt||urt),string:new xq}}var hrt=frt;function prt(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var mrt=prt,grt=mrt;function vrt(e,t){var n=e.__data__;return grt(t)?n[typeof t=="string"?"string":"hash"]:n.map}var tT=vrt,yrt=tT;function brt(e){var t=yrt(this,e).delete(e);return this.size-=t?1:0,t}var xrt=brt,wrt=tT;function Crt(e){return wrt(this,e).get(e)}var _rt=Crt,Srt=tT;function Ert(e){return Srt(this,e).has(e)}var krt=Ert,jrt=tT;function Trt(e,t){var n=jrt(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Art=Trt,Drt=hrt,Irt=xrt,Prt=_rt,Ort=krt,$rt=Art;function O0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}O0.prototype.clear=Drt;O0.prototype.delete=Irt;O0.prototype.get=Prt;O0.prototype.has=Ort;O0.prototype.set=$rt;var ZL=O0,Rrt=Jj,Mrt=KL,Frt=ZL,Lrt=200;function Brt(e,t){var n=this.__data__;if(n instanceof Rrt){var r=n.__data__;if(!Mrt||r.length<Lrt-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Frt(r)}return n.set(e,t),this.size=n.size,this}var Nrt=Brt,zrt=Jj,Vrt=Gtt,Hrt=Ztt,Urt=Qtt,Wrt=ent,Yrt=Nrt;function $0(e){var t=this.__data__=new zrt(e);this.size=t.size}$0.prototype.clear=Vrt;$0.prototype.delete=Hrt;$0.prototype.get=Urt;$0.prototype.has=Wrt;$0.prototype.set=Yrt;var XL=$0,qrt="__lodash_hash_undefined__";function Grt(e){return this.__data__.set(e,qrt),this}var Krt=Grt;function Zrt(e){return this.__data__.has(e)}var Xrt=Zrt,Qrt=ZL,Jrt=Krt,eot=Xrt;function z5(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Qrt;++t<n;)this.add(e[t])}z5.prototype.add=z5.prototype.push=Jrt;z5.prototype.has=eot;var nT=z5;function tot(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var not=tot;function rot(e,t){return e.has(t)}var rT=rot,oot=nT,iot=not,sot=rT,aot=1,lot=2;function cot(e,t,n,r,o,i){var s=n&aot,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,p=!0,m=n&lot?new oot:void 0;for(i.set(e,t),i.set(t,e);++f<a;){var v=e[f],g=t[f];if(r)var b=s?r(g,v,f,t,e,i):r(v,g,f,e,t,i);if(b!==void 0){if(b)continue;p=!1;break}if(m){if(!iot(t,function(x,y){if(!sot(m,y)&&(v===x||o(v,x,n,r,i)))return m.push(y)})){p=!1;break}}else if(!(v===g||o(v,g,n,r,i))){p=!1;break}}return i.delete(e),i.delete(t),p}var rCe=cot,uot=$l,dot=uot.Uint8Array,oCe=dot;function fot(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}var hot=fot;function pot(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var QL=pot,wq=m0,Cq=oCe,mot=Xj,got=rCe,vot=hot,yot=QL,bot=1,xot=2,wot="[object Boolean]",Cot="[object Date]",_ot="[object Error]",Sot="[object Map]",Eot="[object Number]",kot="[object RegExp]",jot="[object Set]",Tot="[object String]",Aot="[object Symbol]",Dot="[object ArrayBuffer]",Iot="[object DataView]",_q=wq?wq.prototype:void 0,jI=_q?_q.valueOf:void 0;function Pot(e,t,n,r,o,i,s){switch(n){case Iot:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Dot:return!(e.byteLength!=t.byteLength||!i(new Cq(e),new Cq(t)));case wot:case Cot:case Eot:return mot(+e,+t);case _ot:return e.name==t.name&&e.message==t.message;case kot:case Tot:return e==t+"";case Sot:var a=vot;case jot:var l=r&bot;if(a||(a=yot),e.size!=t.size&&!l)return!1;var u=s.get(e);if(u)return u==t;r|=xot,s.set(e,t);var d=got(a(e),a(t),r,o,i,s);return s.delete(e),d;case Aot:if(jI)return jI.call(e)==jI.call(t)}return!1}var Oot=Pot;function $ot(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var JL=$ot,Rot=Array.isArray,Jr=Rot,Mot=JL,Fot=Jr;function Lot(e,t,n){var r=t(e);return Fot(e)?r:Mot(r,n(e))}var iCe=Lot;function Bot(e,t){for(var n=-1,r=e==null?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}var sCe=Bot;function Not(){return[]}var aCe=Not,zot=sCe,Vot=aCe,Hot=Object.prototype,Uot=Hot.propertyIsEnumerable,Sq=Object.getOwnPropertySymbols,Wot=Sq?function(e){return e==null?[]:(e=Object(e),zot(Sq(e),function(t){return Uot.call(e,t)}))}:Vot,e8=Wot;function Yot(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var qot=Yot,Got=Gf,Kot=Za,Zot="[object Arguments]";function Xot(e){return Kot(e)&&Got(e)==Zot}var Qot=Xot,Eq=Qot,Jot=Za,lCe=Object.prototype,eit=lCe.hasOwnProperty,tit=lCe.propertyIsEnumerable,nit=Eq(function(){return arguments}())?Eq:function(e){return Jot(e)&&eit.call(e,"callee")&&!tit.call(e,"callee")},oT=nit,V5={exports:{}};function rit(){return!1}var oit=rit;V5.exports;(function(e,t){var n=$l,r=oit,o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===o,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;e.exports=u})(V5,V5.exports);var iT=V5.exports,iit=9007199254740991,sit=/^(?:0|[1-9]\d*)$/;function ait(e,t){var n=typeof e;return t=t??iit,!!t&&(n=="number"||n!="symbol"&&sit.test(e))&&e>-1&&e%1==0&&e<t}var sT=ait,lit=9007199254740991;function cit(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=lit}var t8=cit,uit=Gf,dit=t8,fit=Za,hit="[object Arguments]",pit="[object Array]",mit="[object Boolean]",git="[object Date]",vit="[object Error]",yit="[object Function]",bit="[object Map]",xit="[object Number]",wit="[object Object]",Cit="[object RegExp]",_it="[object Set]",Sit="[object String]",Eit="[object WeakMap]",kit="[object ArrayBuffer]",jit="[object DataView]",Tit="[object Float32Array]",Ait="[object Float64Array]",Dit="[object Int8Array]",Iit="[object Int16Array]",Pit="[object Int32Array]",Oit="[object Uint8Array]",$it="[object Uint8ClampedArray]",Rit="[object Uint16Array]",Mit="[object Uint32Array]",nr={};nr[Tit]=nr[Ait]=nr[Dit]=nr[Iit]=nr[Pit]=nr[Oit]=nr[$it]=nr[Rit]=nr[Mit]=!0;nr[hit]=nr[pit]=nr[kit]=nr[mit]=nr[jit]=nr[git]=nr[vit]=nr[yit]=nr[bit]=nr[xit]=nr[wit]=nr[Cit]=nr[_it]=nr[Sit]=nr[Eit]=!1;function Fit(e){return fit(e)&&dit(e.length)&&!!nr[uit(e)]}var Lit=Fit;function Bit(e){return function(t){return e(t)}}var R0=Bit,H5={exports:{}};H5.exports;(function(e,t){var n=Hge,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,s=i&&n.process,a=function(){try{var l=o&&o.require&&o.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a})(H5,H5.exports);var n8=H5.exports,Nit=Lit,zit=R0,kq=n8,jq=kq&&kq.isTypedArray,Vit=jq?zit(jq):Nit,r8=Vit,Hit=qot,Uit=oT,Wit=Jr,Yit=iT,qit=sT,Git=r8,Kit=Object.prototype,Zit=Kit.hasOwnProperty;function Xit(e,t){var n=Wit(e),r=!n&&Uit(e),o=!n&&!r&&Yit(e),i=!n&&!r&&!o&&Git(e),s=n||r||o||i,a=s?Hit(e.length,String):[],l=a.length;for(var u in e)(t||Zit.call(e,u))&&!(s&&(u=="length"||o&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||qit(u,l)))&&a.push(u);return a}var cCe=Xit,Qit=Object.prototype;function Jit(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Qit;return e===n}var aT=Jit;function est(e,t){return function(n){return e(t(n))}}var uCe=est,tst=uCe,nst=tst(Object.keys,Object),rst=nst,ost=aT,ist=rst,sst=Object.prototype,ast=sst.hasOwnProperty;function lst(e){if(!ost(e))return ist(e);var t=[];for(var n in Object(e))ast.call(e,n)&&n!="constructor"&&t.push(n);return t}var dCe=lst,cst=tCe,ust=t8;function dst(e){return e!=null&&ust(e.length)&&!cst(e)}var th=dst,fst=cCe,hst=dCe,pst=th;function mst(e){return pst(e)?fst(e):hst(e)}var nh=mst,gst=iCe,vst=e8,yst=nh;function bst(e){return gst(e,yst,vst)}var fCe=bst,Tq=fCe,xst=1,wst=Object.prototype,Cst=wst.hasOwnProperty;function _st(e,t,n,r,o,i){var s=n&xst,a=Tq(e),l=a.length,u=Tq(t),d=u.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var p=a[f];if(!(s?p in t:Cst.call(t,p)))return!1}var m=i.get(e),v=i.get(t);if(m&&v)return m==t&&v==e;var g=!0;i.set(e,t),i.set(t,e);for(var b=s;++f<l;){p=a[f];var x=e[p],y=t[p];if(r)var w=s?r(y,x,p,t,e,i):r(x,y,p,e,t,i);if(!(w===void 0?x===y||o(x,y,n,r,i):w)){g=!1;break}b||(b=p=="constructor")}if(g&&!b){var C=e.constructor,_=t.constructor;C!=_&&"constructor"in e&&"constructor"in t&&!(typeof C=="function"&&C instanceof C&&typeof _=="function"&&_ instanceof _)&&(g=!1)}return i.delete(e),i.delete(t),g}var Sst=_st,Est=bm,kst=$l,jst=Est(kst,"DataView"),Tst=jst,Ast=bm,Dst=$l,Ist=Ast(Dst,"Promise"),Pst=Ist,Ost=bm,$st=$l,Rst=Ost($st,"Set"),hCe=Rst,Mst=bm,Fst=$l,Lst=Mst(Fst,"WeakMap"),pCe=Lst,_R=Tst,SR=KL,ER=Pst,kR=hCe,jR=pCe,mCe=Gf,M0=nCe,Aq="[object Map]",Bst="[object Object]",Dq="[object Promise]",Iq="[object Set]",Pq="[object WeakMap]",Oq="[object DataView]",Nst=M0(_R),zst=M0(SR),Vst=M0(ER),Hst=M0(kR),Ust=M0(jR),Lh=mCe;(_R&&Lh(new _R(new ArrayBuffer(1)))!=Oq||SR&&Lh(new SR)!=Aq||ER&&Lh(ER.resolve())!=Dq||kR&&Lh(new kR)!=Iq||jR&&Lh(new jR)!=Pq)&&(Lh=function(e){var t=mCe(e),n=t==Bst?e.constructor:void 0,r=n?M0(n):"";if(r)switch(r){case Nst:return Oq;case zst:return Aq;case Vst:return Dq;case Hst:return Iq;case Ust:return Pq}return t});var Ew=Lh,TI=XL,Wst=rCe,Yst=Oot,qst=Sst,$q=Ew,Rq=Jr,Mq=iT,Gst=r8,Kst=1,Fq="[object Arguments]",Lq="[object Array]",r_="[object Object]",Zst=Object.prototype,Bq=Zst.hasOwnProperty;function Xst(e,t,n,r,o,i){var s=Rq(e),a=Rq(t),l=s?Lq:$q(e),u=a?Lq:$q(t);l=l==Fq?r_:l,u=u==Fq?r_:u;var d=l==r_,f=u==r_,p=l==u;if(p&&Mq(e)){if(!Mq(t))return!1;s=!0,d=!1}if(p&&!d)return i||(i=new TI),s||Gst(e)?Wst(e,t,n,r,o,i):Yst(e,t,l,n,r,o,i);if(!(n&Kst)){var m=d&&Bq.call(e,"__wrapped__"),v=f&&Bq.call(t,"__wrapped__");if(m||v){var g=m?e.value():e,b=v?t.value():t;return i||(i=new TI),o(g,b,n,r,i)}}return p?(i||(i=new TI),qst(e,t,n,r,o,i)):!1}var Qst=Xst,Jst=Qst,Nq=Za;function gCe(e,t,n,r,o){return e===t?!0:e==null||t==null||!Nq(e)&&!Nq(t)?e!==e&&t!==t:Jst(e,t,n,r,gCe,o)}var o8=gCe,eat=o8;function tat(e,t){return eat(e,t)}var nat=tat;const Yt=De(nat);var kp=[],rat=function(){return kp.some(function(e){return e.activeTargets.length>0})},oat=function(){return kp.some(function(e){return e.skippedTargets.length>0})},zq="ResizeObserver loop completed with undelivered notifications.",iat=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:zq}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=zq),window.dispatchEvent(e)},ax;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(ax||(ax={}));var jp=function(e){return Object.freeze(e)},sat=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,jp(this)}return e}(),vCe=function(){function e(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,jp(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,o=t.top,i=t.right,s=t.bottom,a=t.left,l=t.width,u=t.height;return{x:n,y:r,top:o,right:i,bottom:s,left:a,width:l,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),i8=function(e){return e instanceof SVGElement&&"getBBox"in e},yCe=function(e){if(i8(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,i=o.offsetWidth,s=o.offsetHeight;return!(i||s||e.getClientRects().length)},Vq=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},aat=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},sb=typeof window<"u"?window:{},o_=new WeakMap,Hq=/auto|scroll/,lat=/^tb|vertical/,cat=/msie|trident/i.test(sb.navigator&&sb.navigator.userAgent),ql=function(e){return parseFloat(e||"0")},rv=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new sat((n?t:e)||0,(n?e:t)||0)},Uq=jp({devicePixelContentBoxSize:rv(),borderBoxSize:rv(),contentBoxSize:rv(),contentRect:new vCe(0,0,0,0)}),bCe=function(e,t){if(t===void 0&&(t=!1),o_.has(e)&&!t)return o_.get(e);if(yCe(e))return o_.set(e,Uq),Uq;var n=getComputedStyle(e),r=i8(e)&&e.ownerSVGElement&&e.getBBox(),o=!cat&&n.boxSizing==="border-box",i=lat.test(n.writingMode||""),s=!r&&Hq.test(n.overflowY||""),a=!r&&Hq.test(n.overflowX||""),l=r?0:ql(n.paddingTop),u=r?0:ql(n.paddingRight),d=r?0:ql(n.paddingBottom),f=r?0:ql(n.paddingLeft),p=r?0:ql(n.borderTopWidth),m=r?0:ql(n.borderRightWidth),v=r?0:ql(n.borderBottomWidth),g=r?0:ql(n.borderLeftWidth),b=f+u,x=l+d,y=g+m,w=p+v,C=a?e.offsetHeight-w-e.clientHeight:0,_=s?e.offsetWidth-y-e.clientWidth:0,S=o?b+y:0,E=o?x+w:0,j=r?r.width:ql(n.width)-S-_,k=r?r.height:ql(n.height)-E-C,T=j+b+_+y,A=k+x+C+w,D=jp({devicePixelContentBoxSize:rv(Math.round(j*devicePixelRatio),Math.round(k*devicePixelRatio),i),borderBoxSize:rv(T,A,i),contentBoxSize:rv(j,k,i),contentRect:new vCe(f,l,j,k)});return o_.set(e,D),D},xCe=function(e,t,n){var r=bCe(e,n),o=r.borderBoxSize,i=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case ax.DEVICE_PIXEL_CONTENT_BOX:return s;case ax.BORDER_BOX:return o;default:return i}},uat=function(){function e(t){var n=bCe(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=jp([n.borderBoxSize]),this.contentBoxSize=jp([n.contentBoxSize]),this.devicePixelContentBoxSize=jp([n.devicePixelContentBoxSize])}return e}(),wCe=function(e){if(yCe(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},dat=function(){var e=1/0,t=[];kp.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(u){var d=new uat(u.target),f=wCe(u.target);a.push(d),u.lastReportedSize=xCe(u.target,u.observedBox),f<e&&(e=f)}),t.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var o=r[n];o()}return e},Wq=function(e){kp.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(o){o.isActive()&&(wCe(o.target)>e?n.activeTargets.push(o):n.skippedTargets.push(o))})})},fat=function(){var e=0;for(Wq(e);rat();)e=dat(),Wq(e);return oat()&&iat(),e>0},AI,CCe=[],hat=function(){return CCe.splice(0).forEach(function(e){return e()})},pat=function(e){if(!AI){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return hat()}).observe(n,r),AI=function(){n.textContent="".concat(t?t--:t++)}}CCe.push(e),AI()},mat=function(e){pat(function(){requestAnimationFrame(e)})},Y2=0,gat=function(){return!!Y2},vat=250,yat={attributes:!0,characterData:!0,childList:!0,subtree:!0},Yq=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],qq=function(e){return e===void 0&&(e=0),Date.now()+e},DI=!1,bat=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=vat),!DI){DI=!0;var r=qq(t);mat(function(){var o=!1;try{o=fat()}finally{if(DI=!1,t=r-qq(),!gat())return;o?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,yat)};document.body?n():sb.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Yq.forEach(function(n){return sb.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),Yq.forEach(function(n){return sb.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),TR=new bat,Gq=function(e){!Y2&&e>0&&TR.start(),Y2+=e,!Y2&&TR.stop()},xat=function(e){return!i8(e)&&!aat(e)&&getComputedStyle(e).display==="inline"},wat=function(){function e(t,n){this.target=t,this.observedBox=n||ax.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=xCe(this.target,this.observedBox,!0);return xat(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),Cat=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),i_=new WeakMap,Kq=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},s_=function(){function e(){}return e.connect=function(t,n){var r=new Cat(t,n);i_.set(t,r)},e.observe=function(t,n,r){var o=i_.get(t),i=o.observationTargets.length===0;Kq(o.observationTargets,n)<0&&(i&&kp.push(o),o.observationTargets.push(new wat(n,r&&r.box)),Gq(1),TR.schedule())},e.unobserve=function(t,n){var r=i_.get(t),o=Kq(r.observationTargets,n),i=r.observationTargets.length===1;o>=0&&(i&&kp.splice(kp.indexOf(r),1),r.observationTargets.splice(o,1),Gq(-1))},e.disconnect=function(t){var n=this,r=i_.get(t);r.observationTargets.slice().forEach(function(o){return n.unobserve(t,o.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),_Ce=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");s_.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Vq(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");s_.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Vq(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");s_.unobserve(this,t)},e.prototype.disconnect=function(){s_.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),_at=qge,Sat=Ka,Eat="Expected a function";function kat(e,t,n){var r=!0,o=!0;if(typeof e!="function")throw new TypeError(Eat);return Sat(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),_at(e,t,{leading:r,maxWait:t,trailing:o})}var jat=kat;const lT=De(jat);var Zq=m0,Tat=oT,Aat=Jr,Xq=Zq?Zq.isConcatSpreadable:void 0;function Dat(e){return Aat(e)||Tat(e)||!!(Xq&&e&&e[Xq])}var Iat=Dat,Pat=JL,Oat=Iat;function SCe(e,t,n,r,o){var i=-1,s=e.length;for(n||(n=Oat),o||(o=[]);++i<s;){var a=e[i];t>0&&n(a)?t>1?SCe(a,t-1,n,r,o):Pat(o,a):r||(o[o.length]=a)}return o}var F0=SCe;function $at(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var Fc=$at,Rat=Jr,Mat=lm,Fat=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lat=/^\w*$/;function Bat(e,t){if(Rat(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Mat(e)?!0:Lat.test(e)||!Fat.test(e)||t!=null&&e in Object(t)}var s8=Bat,ECe=ZL,Nat="Expected a function";function a8(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Nat);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(a8.Cache||ECe),n}a8.Cache=ECe;var kCe=a8;const cT=De(kCe);var zat=kCe,Vat=500;function Hat(e){var t=zat(e,function(r){return n.size===Vat&&n.clear(),r}),n=t.cache;return t}var Uat=Hat,Wat=Uat,Yat=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qat=/\\(\\)?/g,Gat=Wat(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Yat,function(n,r,o,i){t.push(o?i.replace(qat,"$1"):r||n)}),t}),jCe=Gat,Qq=m0,Kat=Fc,Zat=Jr,Xat=lm,Qat=1/0,Jq=Qq?Qq.prototype:void 0,eG=Jq?Jq.toString:void 0;function TCe(e){if(typeof e=="string")return e;if(Zat(e))return Kat(e,TCe)+"";if(Xat(e))return eG?eG.call(e):"";var t=e+"";return t=="0"&&1/e==-Qat?"-0":t}var ACe=TCe,Jat=ACe;function elt(e){return e==null?"":Jat(e)}var Lc=elt,tlt=Jr,nlt=s8,rlt=jCe,olt=Lc;function ilt(e,t){return tlt(e)?e:nlt(e,t)?[e]:rlt(olt(e))}var L0=ilt,slt=lm,alt=1/0;function llt(e){if(typeof e=="string"||slt(e))return e;var t=e+"";return t=="0"&&1/e==-alt?"-0":t}var xm=llt,clt=L0,ult=xm;function dlt(e,t){t=clt(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[ult(t[n++])];return n&&n==r?e:void 0}var kw=dlt,flt=XL,hlt=o8,plt=1,mlt=2;function glt(e,t,n,r){var o=n.length,i=o,s=!r;if(e==null)return!i;for(e=Object(e);o--;){var a=n[o];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){a=n[o];var l=a[0],u=e[l],d=a[1];if(s&&a[2]){if(u===void 0&&!(l in e))return!1}else{var f=new flt;if(r)var p=r(u,d,l,e,t,f);if(!(p===void 0?hlt(d,u,plt|mlt,r,f):p))return!1}}return!0}var vlt=glt,ylt=Ka;function blt(e){return e===e&&!ylt(e)}var DCe=blt,xlt=DCe,wlt=nh;function Clt(e){for(var t=wlt(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,xlt(o)]}return t}var _lt=Clt;function Slt(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var ICe=Slt,Elt=vlt,klt=_lt,jlt=ICe;function Tlt(e){var t=klt(e);return t.length==1&&t[0][2]?jlt(t[0][0],t[0][1]):function(n){return n===e||Elt(n,e,t)}}var Alt=Tlt,Dlt=kw;function Ilt(e,t,n){var r=e==null?void 0:Dlt(e,t);return r===void 0?n:r}var PCe=Ilt;const Nn=De(PCe);function Plt(e,t){return e!=null&&t in Object(e)}var Olt=Plt,$lt=L0,Rlt=oT,Mlt=Jr,Flt=sT,Llt=t8,Blt=xm;function Nlt(e,t,n){t=$lt(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var s=Blt(t[r]);if(!(i=e!=null&&n(e,s)))break;e=e[s]}return i||++r!=o?i:(o=e==null?0:e.length,!!o&&Llt(o)&&Flt(s,o)&&(Mlt(e)||Rlt(e)))}var zlt=Nlt,Vlt=Olt,Hlt=zlt;function Ult(e,t){return e!=null&&Hlt(e,t,Vlt)}var OCe=Ult,Wlt=o8,Ylt=PCe,qlt=OCe,Glt=s8,Klt=DCe,Zlt=ICe,Xlt=xm,Qlt=1,Jlt=2;function ect(e,t){return Glt(e)&&Klt(t)?Zlt(Xlt(e),t):function(n){var r=Ylt(n,e);return r===void 0&&r===t?qlt(n,e):Wlt(t,r,Qlt|Jlt)}}var tct=ect;function nct(e){return e}var wm=nct;const $Ce=De(wm);function rct(e){return function(t){return t==null?void 0:t[e]}}var oct=rct,ict=kw;function sct(e){return function(t){return ict(t,e)}}var act=sct,lct=oct,cct=act,uct=s8,dct=xm;function fct(e){return uct(e)?lct(dct(e)):cct(e)}var hct=fct,pct=Alt,mct=tct,gct=wm,vct=Jr,yct=hct;function bct(e){return typeof e=="function"?e:e==null?gct:typeof e=="object"?vct(e)?mct(e[0],e[1]):pct(e):yct(e)}var rh=bct;function xct(e){return function(t,n,r){for(var o=-1,i=Object(t),s=r(t),a=s.length;a--;){var l=s[e?a:++o];if(n(i[l],l,i)===!1)break}return t}}var wct=xct,Cct=wct,_ct=Cct(),Sct=_ct,Ect=Sct,kct=nh;function jct(e,t){return e&&Ect(e,t,kct)}var Tct=jct,Act=th;function Dct(e,t){return function(n,r){if(n==null)return n;if(!Act(n))return e(n,r);for(var o=n.length,i=t?o:-1,s=Object(n);(t?i--:++i<o)&&r(s[i],i,s)!==!1;);return n}}var Ict=Dct,Pct=Tct,Oct=Ict,$ct=Oct(Pct),RCe=$ct,Rct=RCe,Mct=th;function Fct(e,t){var n=-1,r=Mct(e)?Array(e.length):[];return Rct(e,function(o,i,s){r[++n]=t(o,i,s)}),r}var MCe=Fct;function Lct(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Bct=Lct,tG=lm;function Nct(e,t){if(e!==t){var n=e!==void 0,r=e===null,o=e===e,i=tG(e),s=t!==void 0,a=t===null,l=t===t,u=tG(t);if(!a&&!u&&!i&&e>t||i&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!o)return 1;if(!r&&!i&&!u&&e<t||u&&n&&o&&!r&&!i||a&&n&&o||!s&&o||!l)return-1}return 0}var zct=Nct,Vct=zct;function Hct(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,s=o.length,a=n.length;++r<s;){var l=Vct(o[r],i[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return e.index-t.index}var Uct=Hct,II=Fc,Wct=kw,Yct=rh,qct=MCe,Gct=Bct,Kct=R0,Zct=Uct,Xct=wm,Qct=Jr;function Jct(e,t,n){t.length?t=II(t,function(i){return Qct(i)?function(s){return Wct(s,i.length===1?i[0]:i)}:i}):t=[Xct];var r=-1;t=II(t,Kct(Yct));var o=qct(e,function(i,s,a){var l=II(t,function(u){return u(i)});return{criteria:l,index:++r,value:i}});return Gct(o,function(i,s){return Zct(i,s,n)})}var FCe=Jct;function eut(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var tut=eut,nut=tut,nG=Math.max;function rut(e,t,n){return t=nG(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=nG(r.length-t,0),s=Array(i);++o<i;)s[o]=r[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=r[o];return a[t]=n(s),nut(e,this,a)}}var LCe=rut;function out(e){return function(){return e}}var iut=out,sut=bm,aut=function(){try{var e=sut(Object,"defineProperty");return e({},"",{}),e}catch{}}(),BCe=aut,lut=iut,rG=BCe,cut=wm,uut=rG?function(e,t){return rG(e,"toString",{configurable:!0,enumerable:!1,value:lut(t),writable:!0})}:cut,dut=uut,fut=800,hut=16,put=Date.now;function mut(e){var t=0,n=0;return function(){var r=put(),o=hut-(r-n);if(n=r,o>0){if(++t>=fut)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var gut=mut,vut=dut,yut=gut,but=yut(vut),NCe=but,xut=wm,wut=LCe,Cut=NCe;function _ut(e,t){return Cut(wut(e,t,xut),e+"")}var B0=_ut,Sut=Xj,Eut=th,kut=sT,jut=Ka;function Tut(e,t,n){if(!jut(n))return!1;var r=typeof t;return(r=="number"?Eut(n)&&kut(t,n.length):r=="string"&&t in n)?Sut(n[t],e):!1}var l8=Tut,Aut=F0,Dut=FCe,Iut=B0,oG=l8,Put=Iut(function(e,t){if(e==null)return[];var n=t.length;return n>1&&oG(e,t[0],t[1])?t=[]:n>2&&oG(t[0],t[1],t[2])&&(t=[t[0]]),Dut(e,Aut(t,1),[])}),Out=Put;const Cm=De(Out);/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function U5(){return U5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U5.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function W5(){return W5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W5.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gm(e,t,n){var r,o=(r=n.initialDeps)!=null?r:[],i;return function(){var s;n.key&&n.debug!=null&&n.debug()&&(s=Date.now());var a=e(),l=a.length!==o.length||a.some(function(v,g){return o[g]!==v});if(!l)return i;o=a;var u;if(n.key&&n.debug!=null&&n.debug()&&(u=Date.now()),i=t.apply(void 0,a),n.key&&n.debug!=null&&n.debug()){var d=Math.round((Date.now()-s)*100)/100,f=Math.round((Date.now()-u)*100)/100,p=f/16,m=function(g,b){for(g=String(g);g.length<b;)g=" "+g;return g};console.info("%c⏱ "+m(f,5)+" /"+m(d,5)+" ms",`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(`+Math.max(0,Math.min(120-120*p,120))+"deg 100% 31%);",n==null?void 0:n.key)}return n==null||n.onChange==null||n.onChange(i),i}}function PI(e,t){if(e===void 0)throw new Error("Unexpected undefined"+(t?": "+t:""));return e}var $ut=function(t,n){return Math.abs(t-n)<1};/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Rut=function(t){return t},zCe=function(t){for(var n=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),o=[],i=n;i<=r;i++)o.push(i);return o},Mut=function(t,n){var r=t.scrollElement;if(r){var o=function(a){var l=a.width,u=a.height;n({width:Math.round(l),height:Math.round(u)})};o(r.getBoundingClientRect());var i=new ResizeObserver(function(s){var a=s[0];if(a!=null&&a.borderBoxSize){var l=a.borderBoxSize[0];if(l){o({width:l.inlineSize,height:l.blockSize});return}}o(r.getBoundingClientRect())});return i.observe(r,{box:"border-box"}),function(){i.unobserve(r)}}},Fut=function(t,n){var r=t.scrollElement;if(r){var o=function(){n(r[t.options.horizontal?"scrollLeft":"scrollTop"])};return o(),r.addEventListener("scroll",o,{passive:!0}),function(){r.removeEventListener("scroll",o)}}},Lut=function(t,n,r){if(n!=null&&n.borderBoxSize){var o=n.borderBoxSize[0];if(o){var i=Math.round(o[r.options.horizontal?"inlineSize":"blockSize"]);return i}}return Math.round(t.getBoundingClientRect()[r.options.horizontal?"width":"height"])},VCe=function(t,n,r){var o,i,s=n.adjustments,a=s===void 0?0:s,l=n.behavior,u=t+a;(o=r.scrollElement)==null||o.scrollTo==null||o.scrollTo((i={},i[r.options.horizontal?"left":"top"]=u,i.behavior=l,i))},But=function(t){var n=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=function(){var r=null,o=function(){return r||(typeof ResizeObserver<"u"?r=new ResizeObserver(function(s){s.forEach(function(a){n._measureElement(a.target,a)})}):null)};return{disconnect:function(){var s;return(s=o())==null?void 0:s.disconnect()},observe:function(s){var a;return(a=o())==null?void 0:a.observe(s,{box:"border-box"})},unobserve:function(s){var a;return(a=o())==null?void 0:a.unobserve(s)}}}(),this.range={startIndex:0,endIndex:0},this.setOptions=function(r){Object.entries(r).forEach(function(o){var i=o[0],s=o[1];typeof s>"u"&&delete r[i]}),n.options=W5({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Rut,rangeExtractor:zCe,onChange:function(){},measureElement:Lut,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},r)},this.notify=function(){n.options.onChange==null||n.options.onChange(n)},this.cleanup=function(){n.unsubs.filter(Boolean).forEach(function(r){return r()}),n.unsubs=[],n.scrollElement=null},this._didMount=function(){return n.measureElementCache.forEach(n.observer.observe),function(){n.observer.disconnect(),n.cleanup()}},this._willUpdate=function(){var r=n.options.getScrollElement();n.scrollElement!==r&&(n.cleanup(),n.scrollElement=r,n._scrollToOffset(n.scrollOffset,{adjustments:void 0,behavior:void 0}),n.unsubs.push(n.options.observeElementRect(n,function(o){var i=n.scrollRect;n.scrollRect=o,(n.options.horizontal?o.width!==i.width:o.height!==i.height)&&n.maybeNotify()})),n.unsubs.push(n.options.observeElementOffset(n,function(o){n.scrollAdjustments=0,n.scrollOffset!==o&&(n.isScrollingTimeoutId!==null&&(clearTimeout(n.isScrollingTimeoutId),n.isScrollingTimeoutId=null),n.isScrolling=!0,n.scrollDirection=n.scrollOffset<o?"forward":"backward",n.scrollOffset=o,n.maybeNotify(),n.isScrollingTimeoutId=setTimeout(function(){n.isScrollingTimeoutId=null,n.isScrolling=!1,n.scrollDirection=null,n.maybeNotify()},n.options.scrollingDelay))})))},this.getSize=function(){return n.scrollRect[n.options.horizontal?"width":"height"]},this.memoOptions=Gm(function(){return[n.options.count,n.options.paddingStart,n.options.scrollMargin,n.options.getItemKey]},function(r,o,i,s){return n.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:o,scrollMargin:i,getItemKey:s}},{key:!1}),this.getFurthestMeasurement=function(r,o){for(var i=new Map,s=new Map,a=o-1;a>=0;a--){var l=r[a];if(!i.has(l.lane)){var u=s.get(l.lane);if(u==null||l.end>u.end?s.set(l.lane,l):l.end<u.end&&i.set(l.lane,!0),i.size===n.options.lanes)break}}return s.size===n.options.lanes?Array.from(s.values()).sort(function(d,f){return d.end-f.end})[0]:void 0},this.getMeasurements=Gm(function(){return[n.memoOptions(),n.itemSizeCache]},function(r,o){var i=r.count,s=r.paddingStart,a=r.scrollMargin,l=r.getItemKey,u=n.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,n.pendingMeasuredCacheIndexes):0;n.pendingMeasuredCacheIndexes=[];for(var d=n.measurementsCache.slice(0,u),f=u;f<i;f++){var p=l(f),m=n.options.lanes===1?d[f-1]:n.getFurthestMeasurement(d,f),v=m?m.end:s+a,g=o.get(p),b=typeof g=="number"?g:n.options.estimateSize(f),x=v+b,y=m?m.lane:f%n.options.lanes;d[f]={index:f,start:v,size:b,end:x,key:p,lane:y}}return n.measurementsCache=d,d},{key:!1,debug:function(){return n.options.debug}}),this.calculateRange=Gm(function(){return[n.getMeasurements(),n.getSize(),n.scrollOffset]},function(r,o,i){return n.range=Nut({measurements:r,outerSize:o,scrollOffset:i})},{key:!1,debug:function(){return n.options.debug}}),this.maybeNotify=Gm(function(){var r=n.calculateRange();return[r.startIndex,r.endIndex,n.isScrolling]},function(){n.notify()},{key:!1,debug:function(){return n.options.debug},initialDeps:[this.range.startIndex,this.range.endIndex,this.isScrolling]}),this.getIndexes=Gm(function(){return[n.options.rangeExtractor,n.calculateRange(),n.options.overscan,n.options.count]},function(r,o,i,s){return r(W5({},o,{overscan:i,count:s}))},{key:!1,debug:function(){return n.options.debug}}),this.indexFromElement=function(r){var o=n.options.indexAttribute,i=r.getAttribute(o);return i?parseInt(i,10):(console.warn("Missing attribute name '"+o+"={index}' on measured element."),-1)},this._measureElement=function(r,o){var i,s=n.indexFromElement(r),a=n.measurementsCache[s];if(a){var l=n.measureElementCache.get(a.key);if(!r.isConnected){n.observer.unobserve(r),r===l&&n.measureElementCache.delete(a.key);return}l!==r&&(l&&n.observer.unobserve(l),n.observer.observe(r),n.measureElementCache.set(a.key,r));var u=n.options.measureElement(r,o,n),d=(i=n.itemSizeCache.get(a.key))!=null?i:a.size,f=u-d;f!==0&&(a.start<n.scrollOffset&&n._scrollToOffset(n.scrollOffset,{adjustments:n.scrollAdjustments+=f,behavior:void 0}),n.pendingMeasuredCacheIndexes.push(s),n.itemSizeCache=new Map(n.itemSizeCache.set(a.key,u)),n.notify())}},this.measureElement=function(r){r&&n._measureElement(r,void 0)},this.getVirtualItems=Gm(function(){return[n.getIndexes(),n.getMeasurements()]},function(r,o){for(var i=[],s=0,a=r.length;s<a;s++){var l=r[s],u=o[l];i.push(u)}return i},{key:!1,debug:function(){return n.options.debug}}),this.getVirtualItemForOffset=function(r){var o=n.getMeasurements();return PI(o[HCe(0,o.length-1,function(i){return PI(o[i]).start},r)])},this.getOffsetForAlignment=function(r,o){var i=n.getSize();o==="auto"&&(r<=n.scrollOffset?o="start":r>=n.scrollOffset+i?o="end":o="start"),o==="start"?r=r:o==="end"?r=r-i:o==="center"&&(r=r-i/2);var s=n.options.horizontal?"scrollWidth":"scrollHeight",a=n.scrollElement?"document"in n.scrollElement?n.scrollElement.document.documentElement[s]:n.scrollElement[s]:0,l=a-n.getSize();return Math.max(Math.min(l,r),0)},this.getOffsetForIndex=function(r,o){o===void 0&&(o="auto"),r=Math.max(0,Math.min(r,n.options.count-1));var i=PI(n.getMeasurements()[r]);if(o==="auto")if(i.end>=n.scrollOffset+n.getSize()-n.options.scrollPaddingEnd)o="end";else if(i.start<=n.scrollOffset+n.options.scrollPaddingStart)o="start";else return[n.scrollOffset,o];var s=o==="end"?i.end+n.options.scrollPaddingEnd:i.start-n.options.scrollPaddingStart;return[n.getOffsetForAlignment(s,o),o]},this.isDynamicMode=function(){return n.measureElementCache.size>0},this.cancelScrollToIndex=function(){n.scrollToIndexTimeoutId!==null&&(clearTimeout(n.scrollToIndexTimeoutId),n.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(r,o){var i=o===void 0?{}:o,s=i.align,a=s===void 0?"start":s,l=i.behavior;n.cancelScrollToIndex(),l==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.getOffsetForAlignment(r,a),{adjustments:void 0,behavior:l})},this.scrollToIndex=function(r,o){var i=o===void 0?{}:o,s=i.align,a=s===void 0?"auto":s,l=i.behavior;r=Math.max(0,Math.min(r,n.options.count-1)),n.cancelScrollToIndex(),l==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var u=n.getOffsetForIndex(r,a),d=u[0],f=u[1];n._scrollToOffset(d,{adjustments:void 0,behavior:l}),l!=="smooth"&&n.isDynamicMode()&&(n.scrollToIndexTimeoutId=setTimeout(function(){n.scrollToIndexTimeoutId=null;var p=n.measureElementCache.has(n.options.getItemKey(r));if(p){var m=n.getOffsetForIndex(r,f),v=m[0];$ut(v,n.scrollOffset)||n.scrollToIndex(r,{align:f,behavior:l})}else n.scrollToIndex(r,{align:f,behavior:l})}))},this.scrollBy=function(r,o){var i=o===void 0?{}:o,s=i.behavior;n.cancelScrollToIndex(),s==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.scrollOffset+r,{adjustments:void 0,behavior:s})},this.getTotalSize=function(){var r;return(((r=n.getMeasurements()[n.options.count-1])==null?void 0:r.end)||n.options.paddingStart)-n.options.scrollMargin+n.options.paddingEnd},this._scrollToOffset=function(r,o){var i=o.adjustments,s=o.behavior;n.options.scrollToFn(r,{behavior:s,adjustments:i},n)},this.measure=function(){n.itemSizeCache=new Map,n.notify()},this.setOptions(t),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(function(r){n.itemSizeCache.set(r.key,r.size)}),this.maybeNotify()},HCe=function(t,n,r,o){for(;t<=n;){var i=(t+n)/2|0,s=r(i);if(s<o)t=i+1;else if(s>o)n=i-1;else return i}return t>0?t-1:0};function Nut(e){for(var t=e.measurements,n=e.outerSize,r=e.scrollOffset,o=t.length-1,i=function(u){return t[u].start},s=HCe(0,o,i,r),a=s;a<o&&t[a].end<r+n;)a++;return{startIndex:s,endIndex:a}}/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var zut=typeof document<"u"?h.useLayoutEffect:h.useEffect;function Vut(e){var t=h.useReducer(function(){return{}},{})[1],n=U5({},e,{onChange:function(s){t(),e.onChange==null||e.onChange(s)}}),r=h.useState(function(){return new But(n)}),o=r[0];return o.setOptions(n),h.useEffect(function(){return o._didMount()},[]),zut(function(){return o._willUpdate()}),o}function UCe(e){return Vut(U5({observeElementRect:Mut,observeElementOffset:Fut,scrollToFn:VCe},e))}var Hut=Uut;function Uut(e,t,n){var r=e===null,o=t===null;if(r!==o)return!1;var i=Array.isArray(e),s=Array.isArray(t);if(i!==s)return!1;var a=typeof e,l=typeof t;return a!==l?!1:qut(a)?n?n(e,t):e===t:i?Wut(e,t,n):Yut(e,t,n)}function Wut(e,t,n){var r=e.length;if(r!==t.length)return!1;if(n){for(var o=0;o<r;o++)if(!n(e[o],t[o]))return!1}else for(var o=0;o<r;o++)if(e[o]!==t[o])return!1;return!0}function Yut(e,t,n){var r=0,o=0;if(n)for(var i in e){if(e.hasOwnProperty(i)&&!n(e[i],t[i]))return!1;r++}else for(var i in e){if(e.hasOwnProperty(i)&&e[i]!==t[i])return!1;r++}for(var i in t)t.hasOwnProperty(i)&&o++;return r===o}function qut(e){return e!=="function"&&e!=="object"}const Nf=De(Hut);var AR={exports:{}},OI,iG;function Gut(){if(iG)return OI;iG=1;var e=1e3,t=e*60,n=t*60,r=n*24,o=r*7,i=r*365.25;OI=function(d,f){f=f||{};var p=typeof d;if(p==="string"&&d.length>0)return s(d);if(p==="number"&&isFinite(d))return f.long?l(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function s(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var p=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(d){var f=Math.abs(d);return f>=r?Math.round(d/r)+"d":f>=n?Math.round(d/n)+"h":f>=t?Math.round(d/t)+"m":f>=e?Math.round(d/e)+"s":d+"ms"}function l(d){var f=Math.abs(d);return f>=r?u(d,f,r,"day"):f>=n?u(d,f,n,"hour"):f>=t?u(d,f,t,"minute"):f>=e?u(d,f,e,"second"):d+" ms"}function u(d,f,p,m){var v=f>=p*1.5;return Math.round(d/p)+" "+m+(v?"s":"")}return OI}function Kut(e){n.debug=n,n.default=n,n.coerce=l,n.disable=s,n.enable=i,n.enabled=a,n.humanize=Gut(),Object.keys(e).forEach(function(u){n[u]=e[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function t(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){var d;function f(){if(f.enabled){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];var g=f,b=Number(new Date),x=b-(d||b);g.diff=x,g.prev=d,g.curr=b,d=b,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var y=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(C,_){if(C==="%%")return C;y++;var S=n.formatters[_];if(typeof S=="function"){var E=m[y];C=S.call(g,E),m.splice(y,1),y--}return C}),n.formatArgs.call(g,m);var w=g.log||n.log;w.apply(g,m)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=t(u),f.destroy=r,f.extend=o,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function o(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function i(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var m=n.instances[d];m.enabled=n.enabled(m.namespace)}}function s(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var Zut=Kut;(function(e,t){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(p){return typeof p}:n=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n(d)}t.log=i,t.formatArgs=o,t.save=s,t.load=a,t.useColors=r,t.storage=l(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var p=0,m=0;d[0].replace(/%[a-zA-Z%]/g,function(v){v!=="%%"&&(p++,v==="%c"&&(m=p))}),d.splice(m,0,f)}}function i(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function s(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function a(){var d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function l(){try{return localStorage}catch{}}e.exports=Zut(t);var u=e.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(AR,AR.exports);var Xut=AR.exports;const Hd=De(Xut);var Qut=F0;function Jut(e){var t=e==null?0:e.length;return t?Qut(e,1):[]}var WCe=Jut;const En=De(WCe);function edt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}var YCe=edt;function tdt(e){return e!==e}var ndt=tdt;function rdt(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}var odt=rdt,idt=YCe,sdt=ndt,adt=odt;function ldt(e,t,n){return t===t?adt(e,t,n):idt(e,sdt,n)}var c8=ldt,cdt=c8;function udt(e,t){var n=e==null?0:e.length;return!!n&&cdt(e,t,0)>-1}var u8=udt;function ddt(e,t,n){for(var r=-1,o=e==null?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}var d8=ddt,fdt=nT,hdt=u8,pdt=d8,mdt=Fc,gdt=R0,vdt=rT,ydt=200;function bdt(e,t,n,r){var o=-1,i=hdt,s=!0,a=e.length,l=[],u=t.length;if(!a)return l;n&&(t=mdt(t,gdt(n))),r?(i=pdt,s=!1):t.length>=ydt&&(i=vdt,s=!1,t=new fdt(t));e:for(;++o<a;){var d=e[o],f=n==null?d:n(d);if(d=r||d!==0?d:0,s&&f===f){for(var p=u;p--;)if(t[p]===f)continue e;l.push(d)}else i(t,f,r)||l.push(d)}return l}var qCe=bdt,xdt=th,wdt=Za;function Cdt(e){return wdt(e)&&xdt(e)}var uT=Cdt,_dt=qCe,Sdt=F0,Edt=B0,sG=uT,kdt=Edt(function(e,t){return sG(e)?_dt(e,Sdt(t,1,sG,!0)):[]}),jdt=kdt;const lx=De(jdt);var Tdt=nT,Adt=u8,Ddt=d8,Idt=Fc,Pdt=R0,aG=rT,Odt=Math.min;function $dt(e,t,n){for(var r=n?Ddt:Adt,o=e[0].length,i=e.length,s=i,a=Array(i),l=1/0,u=[];s--;){var d=e[s];s&&t&&(d=Idt(d,Pdt(t))),l=Odt(d.length,l),a[s]=!n&&(t||o>=120&&d.length>=120)?new Tdt(s&&d):void 0}d=e[0];var f=-1,p=a[0];e:for(;++f<o&&u.length<l;){var m=d[f],v=t?t(m):m;if(m=n||m!==0?m:0,!(p?aG(p,v):r(u,v,n))){for(s=i;--s;){var g=a[s];if(!(g?aG(g,v):r(e[s],v,n)))continue e}p&&p.push(v),u.push(m)}}return u}var Rdt=$dt,Mdt=uT;function Fdt(e){return Mdt(e)?e:[]}var Ldt=Fdt,Bdt=Fc,Ndt=Rdt,zdt=B0,Vdt=Ldt,Hdt=zdt(function(e){var t=Bdt(e,Vdt);return t.length&&t[0]===e[0]?Ndt(t):[]}),Udt=Hdt;const Y5=De(Udt);var Wdt=uCe,Ydt=Wdt(Object.getPrototypeOf,Object),f8=Ydt,qdt=Gf,Gdt=f8,Kdt=Za,Zdt="[object Object]",Xdt=Function.prototype,Qdt=Object.prototype,GCe=Xdt.toString,Jdt=Qdt.hasOwnProperty,eft=GCe.call(Object);function tft(e){if(!Kdt(e)||qdt(e)!=Zdt)return!1;var t=Gdt(e);if(t===null)return!0;var n=Jdt.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&GCe.call(n)==eft}var KCe=tft;const _r=De(KCe);var lG=BCe;function nft(e,t,n){t=="__proto__"&&lG?lG(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var dT=nft,rft=dT,oft=Xj,ift=Object.prototype,sft=ift.hasOwnProperty;function aft(e,t,n){var r=e[t];(!(sft.call(e,t)&&oft(r,n))||n===void 0&&!(t in e))&&rft(e,t,n)}var h8=aft,lft=h8,cft=L0,uft=sT,cG=Ka,dft=xm;function fft(e,t,n,r){if(!cG(e))return e;t=cft(t,e);for(var o=-1,i=t.length,s=i-1,a=e;a!=null&&++o<i;){var l=dft(t[o]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(o!=s){var d=a[l];u=r?r(d,l,a):void 0,u===void 0&&(u=cG(d)?d:uft(t[o+1])?[]:{})}lft(a,l,u),a=a[l]}return e}var hft=fft,pft=kw,mft=hft,gft=L0;function vft(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var s=t[r],a=pft(e,s);n(a,s)&&mft(i,gft(s,e),a)}return i}var ZCe=vft,yft=ZCe,bft=OCe;function xft(e,t){return yft(e,t,function(n,r){return bft(e,r)})}var wft=xft,Cft=WCe,_ft=LCe,Sft=NCe;function Eft(e){return Sft(_ft(e,void 0,Cft),e+"")}var p8=Eft,kft=wft,jft=p8,Tft=jft(function(e,t){return e==null?{}:kft(e,t)}),Aft=Tft;const _t=De(Aft),m8=re.createContext(null);function rd(){const e=h.useContext(m8);if(!e)throw new Error("Router: missing context value");return e}function Dft(e){return e.button===0}function Ift(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function g8(e){const{onClick:t,href:n,target:r,replace:o=!1}=e,{navigateUrl:i}=rd();return{onClick:h.useCallback(a=>{a.isDefaultPrevented()||n&&(t&&t(a),!(Ift(a)||!Dft(a))&&(r||(a.preventDefault(),i({path:n,replace:o}))))},[n,i,t,o,r])}}function jw(e){const{intent:t,onClick:n,params:r,replace:o,target:i}=e,{resolveIntentLink:s}=rd(),a=h.useMemo(()=>s(t,r),[t,r,s]),{onClick:l}=g8({href:a,onClick:n,replace:o,target:i});return{onClick:l,href:a}}const _m=h.forwardRef(function(t,n){const{intent:r,params:o,target:i,...s}=t,{onClick:a,href:l}=jw({intent:r,params:o,target:i,onClick:t.onClick});return c.jsx("a",{...s,href:l,onClick:a,ref:n,target:i})});h.forwardRef(function(t,n){const{onClick:r,href:o,target:i,replace:s,...a}=t,{onClick:l}=g8({onClick:r,href:o,target:i,replace:s});return c.jsx("a",{...a,onClick:l,href:o,target:i,ref:n})});const uG=Object.prototype.hasOwnProperty,Pft=uG.call.bind(uG);function Oft(e){for(const t in e)if(Pft(e,t))return!1;return!0}function dG(e,t,n){return n&&{...e,[t]:n}}function $ft(e){const{children:t,scope:n}=e,r=rd(),{resolvePathFromState:o,navigate:i}=r,s=h.useCallback(u=>{const d=Oft(u)?{}:dG(r.state,n,u);return o(d)},[o,r.state,n]),a=h.useCallback((u,d)=>{const f=dG(r.state,n,u);i(f,d)},[i,r.state,n]),l=h.useMemo(()=>({...r,navigate:a,resolvePathFromState:s,state:r.state[n]}),[a,r,s,n]);return c.jsx(m8.Provider,{value:l,children:t})}function Rft(e){const{onNavigate:t,router:n,state:r}=e,o=h.useCallback((u,d)=>{const[f,p]=Array.isArray(d)?d:[d];return n.encode({intent:u,params:f,payload:p})},[n]),i=h.useCallback(u=>n.encode(u),[n]),s=h.useCallback(function(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t({path:i(u),replace:d.replace})},[t,i]),a=h.useCallback(function(u,d){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};t({path:o(u,d),replace:f.replace})},[t,o]),l=h.useMemo(()=>({navigate:s,navigateIntent:a,navigateUrl:t,resolveIntentLink:o,resolvePathFromState:i,state:r}),[s,a,t,o,i,r]);return c.jsx(m8.Provider,{value:l,children:e.children})}const fG={};function XCe(e){const{onClick:t,replace:n,state:r,target:o,toIndex:i=!1}=e;if(r&&i)throw new Error("Passing both `state` and `toIndex={true}` as props to StateLink is invalid");!r&&!i&&console.error(new Error("No state passed to StateLink. If you want to link to an empty state, its better to use the the `toIndex` property"));const{resolvePathFromState:s}=rd(),a=h.useMemo(()=>s(i?fG:r||fG),[s,r,i]),{onClick:l}=g8({href:a,onClick:t,replace:n,target:o});return{onClick:l,href:a}}const fT=h.forwardRef(function(t,n){const{onClick:r,replace:o,state:i,target:s,toIndex:a=!1,...l}=t,{onClick:u,href:d}=XCe({onClick:r,replace:o,state:i,target:s,toIndex:a});return c.jsx("a",{...l,href:d,onClick:u,ref:n})}),Mft=/^[a-zA-Z0-9_-]+$/;function Fft(e){if(!e)return null;if(e.startsWith(":")){const t=e.substring(1);if(!Mft.test(t)){const n=e.includes("*")?" Splats are not supported. Consider using child routes instead":"";console.error(new Error('Warning: Param segments "'.concat(e,'" includes invalid characters.').concat(n)))}return{type:"param",name:t}}return{type:"dir",name:e}}function Lft(e){const[t]=e.split("?"),n=t.split("/").map(Fft).filter(Boolean);return{raw:e,segments:n}}const q5=Hd("state-router");function DR(e){return Array.isArray(e)?e:e?[e]:[]}function QCe(e,t){const n=t.split("/").filter(Boolean),r=e.route.segments.length;if(n.length<r)return null;const o={};if(!e.route.segments.every((d,f)=>{if(d.type==="dir")return d.name===n[f];const p=e.transform&&e.transform[d.name];return o[d.name]=p?p.toState(n[f]):n[f],!0}))return null;const s=n.slice(r);let a=null;if((typeof e.children=="function"?DR(e.children(o)):e.children).some(d=>{if(d)return a=QCe(d,s.join("/")),a}),s.length>0&&!a)return null;const u={...o,...a||{}};return e.scope?{[e.scope]:u}:u}function Bft(e,t){q5("resolving state from path %s",t);const n=QCe(e,t.split("?")[0]);return q5("resolved: %o",n||null),n||null}function hG(e){return _r(e)}function Km(e,t,n){return{nodes:e,missing:t,remaining:n}}function JCe(e,t){if(!t)return Km([],[],[]);const n=e.scope?t[e.scope]:t,r=e.route.segments.filter(f=>f.type==="param").map(f=>f.name),o=hG(n)?Object.keys(n):[],i=Y5(o,r),s=lx(r,i),a=lx(o,i);if(s.length>0)return Km([],s,[]);if(a.length===0)return Km([e],[],[]);const l=DR((typeof e.children=="function"?e.children(hG(n)?n:{}):e.children)||[]);if(a.length>0&&l.length===0)return Km([],a,[]);const u=_t(n,a);let d={nodes:[],remaining:[],missing:[]};return DR(l).some(f=>(d=JCe(f,u),d.nodes.length>0)),d.nodes.length===0?Km([],s,a):Km([e,...d.nodes],d.missing,d.remaining)}function Nft(e,t){q5("Resolving path from state %o",t);const n=JCe(e,t);if(n.remaining.length>0){const i=n.remaining;throw new Error("Unable to find matching route for state. Could not map the following state key".concat(i.length==1?"":"s"," to a valid url: ").concat(i.join(", ")))}if(n.nodes.length===0)throw new Error("Unable to resolve path from given state: ".concat(JSON.stringify(t)));let r=t;const o=En(n.nodes.map(i=>(i.scope&&i.scope in r&&(r=r[i.scope]),i.route.segments.map(s=>{if(s.type==="dir")return s.name;const a=i.transform&&i.transform[s.name];return a?a.toPath(r[s.name]):r[s.name]})))).join("/");return q5("Resolved to /%s",o),"/".concat(o)}function zft(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=decodeURIComponent(e);if(!t)return{};try{return JSON.parse(atob(t))}catch{}try{return JSON.parse(t)}catch{console.warn("Failed to parse JSON parameters")}return{}}function Vft(e){return e?btoa(JSON.stringify(e)):""}function Hft(e){return e.split(";").reduce((t,n)=>{const[r,o]=n.split("=");return t[decodeURIComponent(r)]=decodeURIComponent(o),t},{})}function Uft(e){return Object.entries(e).filter(t=>{let[,n]=t;return n!=null}).map(t=>{let[n,r]=t;return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r))}).join(";")}const mi={create:(e,t,n)=>vG(mG(e,t,n)),intents:e=>{const t=Yft(e).join("/");return mi.create("".concat(t,"/:intent"),[mi.create(":params",{transform:{params:{toState:Hft,toPath:Uft}}},[mi.create(":payload",{transform:{payload:{toState:zft,toPath:Vft}}})])])},scope:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=mG(...n);return vG({...o,scope:e})}};function pG(e){return Array.isArray(e)||typeof e=="function"?e:e?[e]:[]}function Wft(e){return e&&"_isRoute"in e}function mG(e,t,n){return typeof e=="object"?e:Array.isArray(t)||typeof t=="function"||Wft(t)?{path:e,children:pG(t)}:n?{path:e,...t,children:pG(n)}:{path:e,...t}}function Yft(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o.split("/")),[]).filter(Boolean)}const qft={};function gG(e){return e.split("/").every(t=>!t)}function vG(e){const{path:t,scope:n,transform:r,children:o}=e;if(!t)throw new TypeError("Missing path");const i=Lft(t);return{_isRoute:!0,scope:n,route:i,children:o||[],transform:r,encode(s){return Nft(this,s)},decode(s){return Bft(this,s)},isRoot:gG,isNotFound(s){return this.decode(s)===null},getBasePath(){return this.encode(qft)},getRedirectBase(s){if(gG(s)){const a=this.getBasePath();if(s!==a)return a}return null}}}function hT(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$Ce;const{state:t}=rd();return h.useMemo(()=>e(t),[e,t])}function Gft(e){function t(n){const r=rd();return c.jsx(e,{...n,router:r})}return t.displayName="withRouter(".concat(e.displayName||e.name,")"),t}Gft(e=>e.children(e.router));function Kft(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Lu(){return Lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lu.apply(this,arguments)}var IR="data-focus-lock",e_e="data-focus-lock-disabled",Zft="data-no-focus-lock",Xft="data-autofocus-inside",Qft="data-no-autofocus";function Jft(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function eht(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}function tht(e,t){return eht(t||null,function(n){return e.forEach(function(r){return Jft(r,n)})})}var $I={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},PR=function(){return PR=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},PR.apply(this,arguments)};function t_e(e){return e}function n_e(e,t){t===void 0&&(t=t_e);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var s=t(i,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(i){for(r=!0;n.length;){var s=n;n=[],s.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(i),s=n}var l=function(){var d=s;s=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),n}}}};return o}function v8(e,t){return t===void 0&&(t=t_e),n_e(e,t)}function nht(e){e===void 0&&(e={});var t=n_e(null);return t.options=PR({async:!0,ssr:!1},e),t}var r_e=v8({},function(e){var t=e.target,n=e.currentTarget;return{target:t,currentTarget:n}}),o_e=v8(),rht=v8(),oht=nht({async:!0}),iht=[],y8=h.forwardRef(function(t,n){var r,o=h.useState(),i=o[0],s=o[1],a=h.useRef(),l=h.useRef(!1),u=h.useRef(null),d=t.children,f=t.disabled,p=t.noFocusGuards,m=t.persistentFocus,v=t.crossFrame,g=t.autoFocus;t.allowTextSelection;var b=t.group,x=t.className,y=t.whiteList,w=t.hasPositiveIndices,C=t.shards,_=C===void 0?iht:C,S=t.as,E=S===void 0?"div":S,j=t.lockProps,k=j===void 0?{}:j,T=t.sideCar,A=t.returnFocus,D=t.focusOptions,I=t.onActivation,P=t.onDeactivation,M=h.useState({}),$=M[0],V=h.useCallback(function(){u.current=u.current||document&&document.activeElement,a.current&&I&&I(a.current),l.current=!0},[I]),L=h.useCallback(function(){l.current=!1,P&&P(a.current)},[P]);h.useEffect(function(){f||(u.current=null)},[]);var H=h.useCallback(function(K){var Q=u.current;if(Q&&Q.focus){var X=typeof A=="function"?A(Q):A;if(X){var Z=typeof X=="object"?X:void 0;u.current=null,K?Promise.resolve().then(function(){return Q.focus(Z)}):Q.focus(Z)}}},[A]),U=h.useCallback(function(K){l.current&&r_e.useMedium(K)},[]),z=o_e.useMedium,Y=h.useCallback(function(K){a.current!==K&&(a.current=K,s(K))},[]),te=Lu((r={},r[e_e]=f&&"disabled",r[IR]=b,r),k),N=p!==!0,G=N&&p!=="tail",q=tht([n,Y]);return h.createElement(h.Fragment,null,N&&[h.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:f?-1:0,style:$I}),w?h.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:f?-1:1,style:$I}):null],!f&&h.createElement(T,{id:$,sideCar:oht,observed:i,disabled:f,persistentFocus:m,crossFrame:v,autoFocus:g,whiteList:y,shards:_,onActivation:V,onDeactivation:L,returnFocus:H,focusOptions:D}),h.createElement(E,Lu({ref:q},te,{className:x,onBlur:z,onFocus:U}),d),G&&h.createElement("div",{"data-focus-guard":!0,tabIndex:f?-1:0,style:$I}))});y8.propTypes={};y8.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const i_e=y8;function G5(e,t){return G5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},G5(e,t)}function sht(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,G5(e,t)}function jl(e){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jl(e)}function aht(e,t){if(jl(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(jl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s_e(e){var t=aht(e,"string");return jl(t)==="symbol"?t:String(t)}function Re(e,t,n){return t=s_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lht(e,t){function n(r){return r.displayName||r.name||"Component"}return function(o){var i=[],s;function a(){s=e(i.map(function(u){return u.props})),t(s)}var l=function(u){sht(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return s};var f=d.prototype;return f.componentDidMount=function(){i.push(this),a()},f.componentDidUpdate=function(){a()},f.componentWillUnmount=function(){var m=i.indexOf(this);i.splice(m,1),a()},f.render=function(){return re.createElement(o,this.props)},d}(h.PureComponent);return Re(l,"displayName","SideEffect("+n(o)+")"),l}}var Bc=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},K5=function(e){return Array.isArray(e)?e:[e]},a_e=function(e){return Array.isArray(e)?e[0]:e},cht=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},l_e=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},c_e=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},uht=function(e,t){return!e||c_e(e)||!cht(e)&&t(l_e(e))},u_e=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=uht(t,u_e.bind(void 0,e));return e.set(t,r),r},dht=function(e,t){return e&&!c_e(e)?pht(e)?t(l_e(e)):!1:!0},d_e=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=dht(t,d_e.bind(void 0,e));return e.set(t,r),r},f_e=function(e){return e.dataset},fht=function(e){return e.tagName==="BUTTON"},h_e=function(e){return e.tagName==="INPUT"},p_e=function(e){return h_e(e)&&e.type==="radio"},hht=function(e){return!((h_e(e)||fht(e))&&(e.type==="hidden"||e.disabled))},pht=function(e){var t=e.getAttribute(Qft);return![!0,"true",""].includes(t)},b8=function(e){var t;return!!(e&&(!((t=f_e(e))===null||t===void 0)&&t.focusGuard))},Z5=function(e){return!b8(e)},mht=function(e){return!!e},ght=function(e,t){var n=e.tabIndex-t.tabIndex,r=e.index-t.index;if(n){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return n||r},m_e=function(e,t,n){return Bc(e).map(function(r,o){return{node:r,index:o,tabIndex:n&&r.tabIndex===-1?(r.dataset||{}).focusGuard?0:-1:r.tabIndex}}).filter(function(r){return!t||r.tabIndex>=0}).sort(ght)},vht=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],x8=vht.join(","),yht="".concat(x8,", [data-focus-guard]"),g_e=function(e,t){return Bc((e.shadowRoot||e).children).reduce(function(n,r){return n.concat(r.matches(t?yht:x8)?[r]:[],g_e(r))},[])},bht=function(e,t){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?pT([e.contentDocument.body],t):[e]},pT=function(e,t){return e.reduce(function(n,r){var o,i=g_e(r,t),s=(o=[]).concat.apply(o,i.map(function(a){return bht(a,t)}));return n.concat(s,r.parentNode?Bc(r.parentNode.querySelectorAll(x8)).filter(function(a){return a===r}):[])},[])},xht=function(e){var t=e.querySelectorAll("[".concat(Xft,"]"));return Bc(t).map(function(n){return pT([n])}).reduce(function(n,r){return n.concat(r)},[])},w8=function(e,t){return Bc(e).filter(function(n){return u_e(t,n)}).filter(function(n){return hht(n)})},yG=function(e,t){return t===void 0&&(t=new Map),Bc(e).filter(function(n){return d_e(t,n)})},OR=function(e,t,n){return m_e(w8(pT(e,n),t),!0,n)},bG=function(e,t){return m_e(w8(pT(e),t),!1)},wht=function(e,t){return w8(xht(e),t)},ov=function(e,t){return e.shadowRoot?ov(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:Bc(e.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var o=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return o?ov(o,t):!1}return ov(n,t)})},Cht=function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var o=r+1;o<n;o+=1){var i=e[r].compareDocumentPosition(e[o]);(i&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(o),(i&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter(function(s,a){return!t.has(a)})},v_e=function(e){return e.parentNode?v_e(e.parentNode):e},C8=function(e){var t=K5(e);return t.filter(Boolean).reduce(function(n,r){var o=r.getAttribute(IR);return n.push.apply(n,o?Cht(Bc(v_e(r).querySelectorAll("[".concat(IR,'="').concat(o,'"]:not([').concat(e_e,'="disabled"])')))):[r]),n},[])},_ht=function(e){try{return e()}catch{return}},cx=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var t=e.activeElement;return t.shadowRoot?cx(t.shadowRoot):t instanceof HTMLIFrameElement&&_ht(function(){return t.contentWindow.document})?cx(t.contentWindow.document):t}},Sht=function(e,t){return e===t},Eht=function(e,t){return!!Bc(e.querySelectorAll("iframe")).some(function(n){return Sht(n,t)})},y_e=function(e,t){return t===void 0&&(t=cx(a_e(e).ownerDocument)),!t||t.dataset&&t.dataset.focusGuard?!1:C8(e).some(function(n){return ov(n,t)||Eht(n,t)})},kht=function(e){e===void 0&&(e=document);var t=cx(e);return t?Bc(e.querySelectorAll("[".concat(Zft,"]"))).some(function(n){return ov(n,t)}):!1},jht=function(e,t){return t.filter(p_e).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},_8=function(e,t){return p_e(e)&&e.name?jht(e,t):e},Tht=function(e){var t=new Set;return e.forEach(function(n){return t.add(_8(n,e))}),e.filter(function(n){return t.has(n)})},xG=function(e){return e[0]&&e.length>1?_8(e[0],e):e[0]},wG=function(e,t){return e.length>1?e.indexOf(_8(e[t],e)):t},b_e="NEW_FOCUS",Aht=function(e,t,n,r){var o=e.length,i=e[0],s=e[o-1],a=b8(n);if(!(n&&e.indexOf(n)>=0)){var l=n!==void 0?t.indexOf(n):-1,u=r?t.indexOf(r):l,d=r?e.indexOf(r):-1,f=l-u,p=t.indexOf(i),m=t.indexOf(s),v=Tht(t),g=n!==void 0?v.indexOf(n):-1,b=g-(r?v.indexOf(r):l),x=wG(e,0),y=wG(e,o-1);if(l===-1||d===-1)return b_e;if(!f&&d>=0)return d;if(l<=p&&a&&Math.abs(f)>1)return y;if(l>=m&&a&&Math.abs(f)>1)return x;if(f&&Math.abs(b)>1)return d;if(l<=p)return y;if(l>m)return x;if(f)return Math.abs(f)>1?d:(o+d+f)%o}},Dht=function(e){return function(t){var n,r=(n=f_e(t))===null||n===void 0?void 0:n.autofocus;return t.autofocus||r!==void 0&&r!=="false"||e.indexOf(t)>=0}},Iht=function(e,t,n){var r=e.map(function(i){var s=i.node;return s}),o=yG(r.filter(Dht(n)));return o&&o.length?xG(o):xG(yG(t))},$R=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&$R(e.parentNode.host||e.parentNode,t),t},RI=function(e,t){for(var n=$R(e),r=$R(t),o=0;o<n.length;o+=1){var i=n[o];if(r.indexOf(i)>=0)return i}return!1},x_e=function(e,t,n){var r=K5(e),o=K5(t),i=r[0],s=!1;return o.filter(Boolean).forEach(function(a){s=RI(s||a,a)||s,n.filter(Boolean).forEach(function(l){var u=RI(i,l);u&&(!s||ov(u,s)?s=u:s=RI(u,s))})}),s},Pht=function(e,t){return e.reduce(function(n,r){return n.concat(wht(r,t))},[])},Oht=function(e,t){var n=new Map;return t.forEach(function(r){return n.set(r.node,r)}),e.map(function(r){return n.get(r)}).filter(mht)},$ht=function(e,t){var n=cx(K5(e).length>0?document:a_e(e).ownerDocument),r=C8(e).filter(Z5),o=x_e(n||e,e,r),i=new Map,s=bG(r,i),a=OR(r,i).filter(function(m){var v=m.node;return Z5(v)});if(!(!a[0]&&(a=s,!a[0]))){var l=bG([o],i).map(function(m){var v=m.node;return v}),u=Oht(l,a),d=u.map(function(m){var v=m.node;return v}),f=Aht(d,l,n,t);if(f===b_e){var p=Iht(s,d,Pht(r,i));if(p)return{node:p};console.warn("focus-lock: cannot find any node to move focus into");return}return f===void 0?f:u[f]}},Rht=function(e){var t=C8(e).filter(Z5),n=x_e(e,e,t),r=new Map,o=OR([n],r,!0),i=OR(t,r).filter(function(s){var a=s.node;return Z5(a)}).map(function(s){var a=s.node;return a});return o.map(function(s){var a=s.node,l=s.index;return{node:a,index:l,lockItem:i.indexOf(a)>=0,guard:b8(a)}})},Mht=function(e,t){"focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus()},MI=0,FI=!1,w_e=function(e,t,n){n===void 0&&(n={});var r=$ht(e,t);if(!FI&&r){if(MI>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),FI=!0,setTimeout(function(){FI=!1},1);return}MI++,Mht(r.node,n.focusOptions),MI--}};function S8(e){setTimeout(e,1)}var Fht=function(){return document&&document.activeElement===document.body},Lht=function(){return Fht()||kht()},iv=null,Ng=null,sv=null,ux=!1,Bht=function(){return!0},Nht=function(t){return(iv.whiteList||Bht)(t)},zht=function(t,n){sv={observerNode:t,portaledElement:n}},Vht=function(t){return sv&&sv.portaledElement===t};function CG(e,t,n,r){var o=null,i=e;do{var s=r[i];if(s.guard)s.node.dataset.focusAutoGuard&&(o=s);else if(s.lockItem){if(i!==e)return;o=null}else break}while((i+=n)!==t);o&&(o.node.tabIndex=0)}var Hht=function(t){return t&&"current"in t?t.current:t},Uht=function(t){return t?!!ux:ux==="meanwhile"},Wht=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},Yht=function(t,n){return n.some(function(r){return Wht(t,r,r)})},X5=function(){var t=!1;if(iv){var n=iv,r=n.observed,o=n.persistentFocus,i=n.autoFocus,s=n.shards,a=n.crossFrame,l=n.focusOptions,u=r||sv&&sv.portaledElement,d=document&&document.activeElement;if(u){var f=[u].concat(s.map(Hht).filter(Boolean));if((!d||Nht(d))&&(o||Uht(a)||!Lht()||!Ng&&i)&&(u&&!(y_e(f)||d&&Yht(d,f)||Vht(d))&&(document&&!Ng&&d&&!i?(d.blur&&d.blur(),document.body.focus()):(t=w_e(f,Ng,{focusOptions:l}),sv={})),ux=!1,Ng=document&&document.activeElement),document){var p=document&&document.activeElement,m=Rht(f),v=m.map(function(g){var b=g.node;return b}).indexOf(p);v>-1&&(m.filter(function(g){var b=g.guard,x=g.node;return b&&x.dataset.focusAutoGuard}).forEach(function(g){var b=g.node;return b.removeAttribute("tabIndex")}),CG(v,m.length,1,m),CG(v,-1,-1,m))}}}return t},C_e=function(t){X5()&&t&&(t.stopPropagation(),t.preventDefault())},E8=function(){return S8(X5)},qht=function(t){var n=t.target,r=t.currentTarget;r.contains(n)||zht(r,n)},Ght=function(){return null},__e=function(){ux="just",S8(function(){ux="meanwhile"})},Kht=function(){document.addEventListener("focusin",C_e),document.addEventListener("focusout",E8),window.addEventListener("blur",__e)},Zht=function(){document.removeEventListener("focusin",C_e),document.removeEventListener("focusout",E8),window.removeEventListener("blur",__e)};function Xht(e){return e.filter(function(t){var n=t.disabled;return!n})}function Qht(e){var t=e.slice(-1)[0];t&&!iv&&Kht();var n=iv,r=n&&t&&t.id===n.id;iv=t,n&&!r&&(n.onDeactivation(),e.filter(function(o){var i=o.id;return i===n.id}).length||n.returnFocus(!t)),t?(Ng=null,(!r||n.observed!==t.observed)&&t.onActivation(),X5(),S8(X5)):(Zht(),Ng=null)}r_e.assignSyncMedium(qht);o_e.assignMedium(E8);rht.assignMedium(function(e){return e({moveFocusInside:w_e,focusInside:y_e})});const Jht=lht(Xht,Qht)(Ght);var S_e=h.forwardRef(function(t,n){return h.createElement(i_e,Lu({sideCar:Jht,ref:n},t))}),E_e=i_e.propTypes||{};E_e.sideCar;Kft(E_e,["sideCar"]);S_e.propTypes={};const od=S_e;var k_e={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],o=0;o<arguments.length;o++){var i=arguments[o];if(i){var s=typeof i;if(s==="string"||s==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var a=n.apply(null,i);a&&r.push(a)}}else if(s==="object"){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){r.push(i.toString());continue}for(var l in i)t.call(i,l)&&i[l]&&r.push(l)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(k_e);var ept=k_e.exports;const tpt=De(ept);function Sm(e){const{defaultDpr:t=1,maxDpr:n=3,round:r=!0}=e||{},i=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:t;return Math.min(Math.max(1,r?Math.floor(i):i),n)}const npt="modulepreload",rpt=function(e){return"/"+e},_G={},k8=function(t,n,r){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=rpt(i),i in _G)return;_G[i]=!0;const s=i.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let d=o.length-1;d>=0;d--){const f=o[d];if(f.href===i&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":npt,s||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),s)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})},opt=typeof navigator>"u"?!1:navigator.product==="ReactNative",j_e={timeout:opt?6e4:12e4},ipt=function(t){const n={...j_e,...typeof t=="string"?{url:t}:t},{searchParams:r}=new URL(n.url,"http://localhost");if(n.timeout=T_e(n.timeout),n.query){for(const[s,a]of Object.entries(n.query))if(a!==void 0)if(Array.isArray(a))for(const l of a)r.append(s,l);else r.append(s,a)}const[o]=n.url.split("?"),i=r.toString();return i&&(n.url="".concat(o,"?").concat(i)),n.method=n.body&&!n.method?"POST":(n.method||"GET").toUpperCase(),n};function T_e(e){if(e===!1||e===0)return!1;if(e.connect||e.socket)return e;const t=Number(e);return isNaN(t)?T_e(j_e.timeout):{connect:t,socket:t}}const spt=/^https?:\/\//i,apt=function(t){if(!spt.test(t.url))throw new Error('"'.concat(t.url,'" is not a valid URL'))};var LI=function(e){return e.replace(/^\s+|\s+$/g,"")},lpt=function(e){return Object.prototype.toString.call(e)==="[object Array]"},cpt=function(e){if(!e)return{};for(var t={},n=LI(e).split(`
`),r=0;r<n.length;r++){var o=n[r],i=o.indexOf(":"),s=LI(o.slice(0,i)).toLowerCase(),a=LI(o.slice(i+1));typeof t[s]>"u"?t[s]=a:lpt(t[s])?t[s].push(a):t[s]=[t[s],a]}return t};const upt=De(cpt),dpt=e=>function(n,r){const o=n==="onError";let i=r;for(var s=arguments.length,a=new Array(s>2?s-2:0),l=2;l<s;l++)a[l-2]=arguments[l];for(let u=0;u<e[n].length;u++){const d=e[n][u];if(i=d(i,...a),o&&!i)break}return i};function fpt(){const e=Object.create(null);let t=0;function n(o){const i=t++;return e[i]=o,function(){delete e[i]}}function r(o){for(const i in e)e[i](o)}return{publish:r,subscribe:n}}const hpt=["request","response","progress","error","abort"],SG=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function A_e(e,t){const n=[],r=SG.reduce((i,s)=>(i[s]=i[s]||[],i),{processOptions:[ipt],validateOptions:[apt]});function o(i){const s=(v,g,b)=>{let x=v,y=g;if(!x)try{y=l("onResponse",g,b)}catch(w){y=null,x=w}x=x&&l("onError",x,b),x?a.error.publish(x):y&&a.response.publish(y)},a=hpt.reduce((v,g)=>(v[g]=fpt(),v),{}),l=dpt(r),u=l("processOptions",i);l("validateOptions",u);const d={options:u,channels:a,applyMiddleware:l};let f;const p=a.request.subscribe(v=>{f=t(v,(g,b)=>s(g,b,v))});a.abort.subscribe(()=>{p(),f&&f.abort()});const m=l("onReturn",a,d);return m===a&&a.request.publish(d),m}return o.use=function(s){if(!s)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof s=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(s.onReturn&&r.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return SG.forEach(a=>{s[a]&&r[a].push(s[a])}),n.push(s),o},o.clone=()=>A_e(n,t),e.forEach(o.use),o}var D_e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},ya=(e,t,n)=>(D_e(e,t,"read from private field"),n?n.call(e):t.get(e)),Ch=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},gd=(e,t,n,r)=>(D_e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),q2,G2,hg,K2,Sd,Z2,X2;class I_e{constructor(){this.readyState=0,this.responseType="",Ch(this,q2,void 0),Ch(this,G2,void 0),Ch(this,hg,void 0),Ch(this,K2,{}),Ch(this,Sd,void 0),Ch(this,Z2,{}),Ch(this,X2,void 0)}open(t,n,r){gd(this,q2,t),gd(this,G2,n),gd(this,hg,""),this.readyState=1,this.onreadystatechange(),gd(this,Sd,void 0)}abort(){ya(this,Sd)&&ya(this,Sd).abort()}getAllResponseHeaders(){return ya(this,hg)}setRequestHeader(t,n){ya(this,K2)[t]=n}setInit(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;gd(this,Z2,t),gd(this,X2,n)}send(t){const n=this.responseType!=="arraybuffer",r={...ya(this,Z2),method:ya(this,q2),headers:ya(this,K2),body:t};typeof AbortController=="function"&&ya(this,X2)&&(gd(this,Sd,new AbortController),typeof EventTarget<"u"&&ya(this,Sd).signal instanceof EventTarget&&(r.signal=ya(this,Sd).signal)),typeof document<"u"&&(r.credentials=this.withCredentials?"include":"omit"),fetch(ya(this,G2),r).then(o=>(o.headers.forEach((i,s)=>{gd(this,hg,ya(this,hg)+"".concat(s,": ").concat(i,`\r
`))}),this.status=o.status,this.statusText=o.statusText,this.readyState=3,n?o.text():o.arrayBuffer())).then(o=>{typeof o=="string"?this.responseText=o:this.response=o,this.readyState=4,this.onreadystatechange()}).catch(o=>{var i;if(o.name==="AbortError"){this.onabort();return}(i=this.onerror)==null||i.call(this,o)})}}q2=new WeakMap;G2=new WeakMap;hg=new WeakMap;K2=new WeakMap;Sd=new WeakMap;Z2=new WeakMap;X2=new WeakMap;const RR=typeof XMLHttpRequest=="function"?"xhr":"fetch",ppt=RR==="xhr"?XMLHttpRequest:I_e,mpt=(e,t)=>{var n;const r=e.options,o=e.applyMiddleware("finalizeOptions",r),i={},s=e.applyMiddleware("interceptRequest",void 0,{adapter:RR,context:e});if(s){const C=setTimeout(t,0,null,s);return{abort:()=>clearTimeout(C)}}let a=new ppt;a instanceof I_e&&typeof o.fetch=="object"&&a.setInit(o.fetch,(n=o.useAbortSignal)!=null?n:!0);const l=o.headers,u=o.timeout;let d=!1,f=!1,p=!1;if(a.onerror=C=>{x(new Error("Request error while attempting to reach ".concat(o.url).concat(C.lengthComputable?"(".concat(C.loaded," of ").concat(C.total," bytes transferred)"):"")))},a.ontimeout=C=>{x(new Error("Request timeout while attempting to reach ".concat(o.url).concat(C.lengthComputable?"(".concat(C.loaded," of ").concat(C.total," bytes transferred)"):"")))},a.onabort=()=>{b(!0),d=!0},a.onreadystatechange=()=>{g(),!(d||a.readyState!==4)&&a.status!==0&&w()},a.open(o.method,o.url,!0),a.withCredentials=!!o.withCredentials,l&&a.setRequestHeader)for(const C in l)l.hasOwnProperty(C)&&a.setRequestHeader(C,l[C]);return o.rawBody&&(a.responseType="arraybuffer"),e.applyMiddleware("onRequest",{options:o,adapter:RR,request:a,context:e}),a.send(o.body||null),u&&(i.connect=setTimeout(()=>v("ETIMEDOUT"),u.connect)),{abort:m};function m(){d=!0,a&&a.abort()}function v(C){p=!0,a.abort();const _=new Error(C==="ESOCKETTIMEDOUT"?"Socket timed out on request to ".concat(o.url):"Connection timed out on request to ".concat(o.url));_.code=C,e.channels.error.publish(_)}function g(){u&&(b(),i.socket=setTimeout(()=>v("ESOCKETTIMEDOUT"),u.socket))}function b(C){(C||d||a.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function x(C){if(f)return;b(!0),f=!0,a=null;const _=C||new Error("Network error while attempting to reach ".concat(o.url));_.isNetworkError=!0,_.request=o,t(_)}function y(){return{body:a.response||(a.responseType===""||a.responseType==="text"?a.responseText:""),url:o.url,method:o.method,headers:upt(a.getAllResponseHeaders()),statusCode:a.status,statusMessage:a.statusText}}function w(){if(!(d||f||p)){if(a.status===0){x(new Error("Unknown XHR error"));return}b(),f=!0,t(null,y())}}},gpt=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mpt;return A_e(e,t)};var EG={exports:{}},BI,kG;function vpt(){if(kG)return BI;kG=1;var e=1e3,t=e*60,n=t*60,r=n*24,o=r*7,i=r*365.25;BI=function(d,f){f=f||{};var p=typeof d;if(p==="string"&&d.length>0)return s(d);if(p==="number"&&isFinite(d))return f.long?l(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function s(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var p=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(d){var f=Math.abs(d);return f>=r?Math.round(d/r)+"d":f>=n?Math.round(d/n)+"h":f>=t?Math.round(d/t)+"m":f>=e?Math.round(d/e)+"s":d+"ms"}function l(d){var f=Math.abs(d);return f>=r?u(d,f,r,"day"):f>=n?u(d,f,n,"hour"):f>=t?u(d,f,t,"minute"):f>=e?u(d,f,e,"second"):d+" ms"}function u(d,f,p,m){var v=f>=p*1.5;return Math.round(d/p)+" "+m+(v?"s":"")}return BI}function ypt(e){n.debug=n,n.default=n,n.coerce=l,n.disable=i,n.enable=o,n.enabled=s,n.humanize=vpt(),n.destroy=u,Object.keys(e).forEach(d=>{n[d]=e[d]}),n.names=[],n.skips=[],n.formatters={};function t(d){let f=0;for(let p=0;p<d.length;p++)f=(f<<5)-f+d.charCodeAt(p),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=t;function n(d){let f,p=null,m,v;function g(...b){if(!g.enabled)return;const x=g,y=Number(new Date),w=y-(f||y);x.diff=w,x.prev=f,x.curr=y,f=y,b[0]=n.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let C=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(S,E)=>{if(S==="%%")return"%";C++;const j=n.formatters[E];if(typeof j=="function"){const k=b[C];S=j.call(x,k),b.splice(C,1),C--}return S}),n.formatArgs.call(x,b),(x.log||n.log).apply(x,b)}return g.namespace=d,g.useColors=n.useColors(),g.color=n.selectColor(d),g.extend=r,g.destroy=n.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(m!==n.namespaces&&(m=n.namespaces,v=n.enabled(d)),v),set:b=>{p=b}}),typeof n.init=="function"&&n.init(g),g}function r(d,f){const p=n(this.namespace+(typeof f>"u"?":":f)+d);return p.log=this.log,p}function o(d){n.save(d),n.namespaces=d,n.names=[],n.skips=[];let f;const p=(typeof d=="string"?d:"").split(/[\s,]+/),m=p.length;for(f=0;f<m;f++)p[f]&&(d=p[f].replace(/\*/g,".*?"),d[0]==="-"?n.skips.push(new RegExp("^"+d.slice(1)+"$")):n.names.push(new RegExp("^"+d+"$")))}function i(){const d=[...n.names.map(a),...n.skips.map(a).map(f=>"-"+f)].join(",");return n.enable(""),d}function s(d){if(d[d.length-1]==="*")return!0;let f,p;for(f=0,p=n.skips.length;f<p;f++)if(n.skips[f].test(d))return!1;for(f=0,p=n.names.length;f<p;f++)if(n.names[f].test(d))return!0;return!1}function a(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function l(d){return d instanceof Error?d.stack||d.message:d}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var bpt=ypt;(function(e,t){t.formatArgs=r,t.save=o,t.load=i,t.useColors=n,t.storage=s(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let d=0,f=0;l[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(d++,p==="%c"&&(f=d))}),l.splice(f,0,u)}t.log=console.debug||console.log||(()=>{});function o(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function i(){let l;try{l=t.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l={}.DEBUG),l}function s(){try{return localStorage}catch{}}e.exports=bpt(t);const{formatters:a}=e.exports;a.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(EG,EG.exports);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function jG(e){return Object.prototype.toString.call(e)==="[object Object]"}function xpt(e){var t,n;return jG(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(jG(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}const wpt=typeof Buffer>"u"?()=>!1:e=>Buffer.isBuffer(e),Cpt=["boolean","string","number"];function _pt(){return{processOptions:e=>{const t=e.body;return!t||!(!(typeof t.pipe=="function")&&!wpt(t)&&(Cpt.indexOf(typeof t)!==-1||Array.isArray(t)||xpt(t)))?e:Object.assign({},e,{body:JSON.stringify(e.body),headers:Object.assign({},e.headers,{"Content-Type":"application/json"})})}}}function Spt(e){return{onResponse:n=>{const r=n.headers["content-type"]||"",o=e&&e.force||r.indexOf("application/json")!==-1;return!n.body||!r||!o?n:Object.assign({},n,{body:t(n.body)})},processOptions:n=>Object.assign({},n,{headers:Object.assign({Accept:"application/json"},n.headers)})};function t(n){try{return JSON.parse(n)}catch(r){throw r.message="Failed to parsed response body as JSON: ".concat(r.message),r}}}let Cy={};typeof globalThis<"u"?Cy=globalThis:typeof window<"u"?Cy=window:typeof global<"u"?Cy=global:typeof self<"u"&&(Cy=self);var Ept=Cy;function kpt(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).implementation||Ept.Observable;if(!t)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(n,r)=>new t(o=>(n.error.subscribe(i=>o.error(i)),n.progress.subscribe(i=>o.next(Object.assign({type:"progress"},i))),n.response.subscribe(i=>{o.next(Object.assign({type:"response"},i)),o.complete()}),n.request.publish(r),()=>n.abort.publish()))}}function jpt(){return{onRequest:e=>{if(e.adapter!=="xhr")return;const t=e.request,n=e.context;"upload"in t&&"onprogress"in t.upload&&(t.upload.onprogress=r("upload")),"onprogress"in t&&(t.onprogress=r("download"));function r(o){return i=>{const s=i.lengthComputable?i.loaded/i.total*100:-1;n.channels.progress.publish({stage:o,percent:s,total:i.total,loaded:i.loaded,lengthComputable:i.lengthComputable})}}}}}class Tpt{constructor(t){this.__CANCEL__=!0,this.message=t}toString(){return"Cancel".concat(this.message?": ".concat(this.message):"")}}const TG=class{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n=null;this.promise=new Promise(r=>{n=r}),t(r=>{this.reason||(this.reason=new Tpt(r),n(this.reason))})}};TG.source=()=>{let e;return{token:new TG(n=>{e=n}),cancel:e}};var P_e=(e,t,n)=>n.method!=="GET"&&n.method!=="HEAD"?!1:e.isNetworkError||!1;const Apt=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";var Dpt=e=>{const t=e.maxRetries||5,n=e.retryDelay||Ipt,r=e.shouldRetry;return{onError:(o,i)=>{const s=i.options,a=s.maxRetries||t,l=s.shouldRetry||r,u=s.attemptNumber||0;if(Apt(s.body)||!l(o,u,s)||u>=a)return o;const d=Object.assign({},i,{options:Object.assign({},s,{attemptNumber:u+1})});return setTimeout(()=>i.channels.request.publish(d),n(u)),null}}};function Ipt(e){return 100*Math.pow(2,e)+Math.random()*100}const j8=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Dpt({shouldRetry:P_e,...e})};j8.shouldRetry=P_e;const NI=5;class Ppt extends Error{constructor(t){const n=O_e(t);super(n.message),this.statusCode=400,Object.assign(this,n)}}class Opt extends Error{constructor(t){const n=O_e(t);super(n.message),this.statusCode=500,Object.assign(this,n)}}function O_e(e){const t=e.body,n={response:e,statusCode:e.statusCode,responseBody:Mpt(t,e),message:"",details:void 0};if(t.error&&t.message)return n.message="".concat(t.error," - ").concat(t.message),n;if($pt(t)){const r=t.error.items||[],o=r.slice(0,NI).map(s=>{var a;return(a=s.error)==null?void 0:a.description}).filter(Boolean);let i=o.length?`:
- `.concat(o.join(`
- `)):"";return r.length>NI&&(i+=`
...and `.concat(r.length-NI," more")),n.message="".concat(t.error.description).concat(i),n.details=t.error,n}return t.error&&t.error.description?(n.message=t.error.description,n.details=t.error,n):(n.message=t.error||t.message||Rpt(e),n)}function $pt(e){return AG(e)&&AG(e.error)&&e.error.type==="mutationError"&&typeof e.error.description=="string"}function AG(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Rpt(e){const t=e.statusMessage?" ".concat(e.statusMessage):"";return"".concat(e.method,"-request to ").concat(e.url," resulted in HTTP ").concat(e.statusCode).concat(t)}function Mpt(e,t){return(t.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(e,null,2):e}const Fpt={onResponse:e=>{if(e.statusCode>=500)throw new Opt(e);if(e.statusCode>=400)throw new Ppt(e);return e}},Lpt={onResponse:e=>{const t=e.headers["x-sanity-warning"];return(Array.isArray(t)?t:[t]).filter(Boolean).forEach(r=>console.warn(r)),e}};function DG(e,t){let{maxRetries:n=5,retryDelay:r}=t;const o=gpt([n>0?j8({retryDelay:r,maxRetries:n,shouldRetry:Bpt}):{},...e,Lpt,_pt(),Spt(),jpt(),Fpt,kpt({implementation:ut})]);function i(s){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:o)({maxRedirects:0,...s})}return i.defaultRequester=o,i}function Bpt(e,t,n){const r=n.method==="GET"||n.method==="HEAD",i=(n.uri||n.url).startsWith("/data/query"),s=e.response&&(e.response.statusCode===429||e.response.statusCode===502||e.response.statusCode===503);return(r||i)&&s?!0:j8.shouldRetry(e,t,n)}function $_e(e){if(typeof e=="string"||Array.isArray(e))return{id:e};if(typeof e=="object"&&e!==null&&"query"in e&&typeof e.query=="string")return"params"in e&&typeof e.params=="object"&&e.params!==null?{query:e.query,params:e.params}:{query:e.query};const t=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

`.concat(t))}const IG=["image","file"],PG=["before","after","replace"],R_e=e=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(e))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},Npt=e=>{if(!/^[-a-z0-9]+$/i.test(e))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},zpt=e=>{if(IG.indexOf(e)===-1)throw new Error("Invalid asset type: ".concat(e,". Must be one of ").concat(IG.join(", ")))},ab=(e,t)=>{if(t===null||typeof t!="object"||Array.isArray(t))throw new Error("".concat(e,"() takes an object of properties"))},M_e=(e,t)=>{if(typeof t!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(t)||t.includes(".."))throw new Error("".concat(e,'(): "').concat(t,'" is not a valid document ID'))},Q5=(e,t)=>{if(!t._id)throw new Error("".concat(e,'() requires that the document contains an ID ("_id" property)'));M_e(e,t._id)},Vpt=(e,t,n)=>{const r="insert(at, selector, items)";if(PG.indexOf(e)===-1){const o=PG.map(i=>'"'.concat(i,'"')).join(", ");throw new Error("".concat(r,' takes an "at"-argument which is one of: ').concat(o))}if(typeof t!="string")throw new Error("".concat(r,' takes a "selector"-argument which must be a string'));if(!Array.isArray(n))throw new Error("".concat(r,' takes an "items"-argument which must be an array'))},F_e=e=>{if(!e.dataset)throw new Error("`dataset` must be provided to perform queries");return e.dataset||""},L_e=e=>{if(typeof e!="string"||!/^[a-z0-9._-]{1,75}$/i.test(e))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return e};var B_e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},av=(e,t,n)=>(B_e(e,t,"read from private field"),n?n.call(e):t.get(e)),N_e=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},z_e=(e,t,n,r)=>(B_e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),pg,mg;class V_e{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.selection=t,this.operations=n}set(t){return this._assign("set",t)}setIfMissing(t){return this._assign("setIfMissing",t)}diffMatchPatch(t){return ab("diffMatchPatch",t),this._assign("diffMatchPatch",t)}unset(t){if(!Array.isArray(t))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:t}),this}inc(t){return this._assign("inc",t)}dec(t){return this._assign("dec",t)}insert(t,n,r){return Vpt(t,n,r),this._assign("insert",{[t]:n,items:r})}append(t,n){return this.insert("after","".concat(t,"[-1]"),n)}prepend(t,n){return this.insert("before","".concat(t,"[0]"),n)}splice(t,n,r,o){const i=typeof r>"u"||r===-1,s=n<0?n-1:n,a=i?-1:Math.max(0,n+r),l=s<0&&a>=0?"":a,u="".concat(t,"[").concat(s,":").concat(l,"]");return this.insert("replace",u,o||[])}ifRevisionId(t){return this.operations.ifRevisionID=t,this}serialize(){return{...$_e(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return ab(t,n),this.operations=Object.assign({},this.operations,{[t]:Object.assign({},r&&this.operations[t]||{},n)}),this}_set(t,n){return this._assign(t,n,!1)}}const Hpt=class H_e extends V_e{constructor(t,n,r){super(t,n),N_e(this,pg,void 0),z_e(this,pg,r)}clone(){return new H_e(this.selection,{...this.operations},av(this,pg))}commit(t){if(!av(this,pg))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",r=Object.assign({returnFirst:n,returnDocuments:!0},t);return av(this,pg).mutate({patch:this.serialize()},r)}};pg=new WeakMap;let lb=Hpt;const Upt=class U_e extends V_e{constructor(t,n,r){super(t,n),N_e(this,mg,void 0),z_e(this,mg,r)}clone(){return new U_e(this.selection,{...this.operations},av(this,mg))}commit(t){if(!av(this,mg))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",r=Object.assign({returnFirst:n,returnDocuments:!0},t);return av(this,mg).mutate({patch:this.serialize()},r)}};mg=new WeakMap;let cb=Upt;var W_e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Ud=(e,t,n)=>(W_e(e,t,"read from private field"),n?n.call(e):t.get(e)),Y_e=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},q_e=(e,t,n,r)=>(W_e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Bh,Nh;const G_e={returnDocuments:!1};class K_e{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;this.operations=t,this.trxId=n}create(t){return ab("create",t),this._add({create:t})}createIfNotExists(t){const n="createIfNotExists";return ab(n,t),Q5(n,t),this._add({[n]:t})}createOrReplace(t){const n="createOrReplace";return ab(n,t),Q5(n,t),this._add({[n]:t})}delete(t){return M_e("delete",t),this._add({delete:{id:t}})}transactionId(t){return t?(this.trxId=t,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(t){return this.operations.push(t),this}}const Wpt=class Z_e extends K_e{constructor(t,n,r){super(t,r),Y_e(this,Bh,void 0),q_e(this,Bh,n)}clone(){return new Z_e([...this.operations],Ud(this,Bh),this.trxId)}commit(t){if(!Ud(this,Bh))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return Ud(this,Bh).mutate(this.serialize(),Object.assign({transactionId:this.trxId},G_e,t||{}))}patch(t,n){const r=typeof n=="function";if(typeof t!="string"&&t instanceof cb)return this._add({patch:t.serialize()});if(r){const i=n(new cb(t,{},Ud(this,Bh)));if(!(i instanceof cb))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:t,...n}})}};Bh=new WeakMap;let X_e=Wpt;const Ypt=class Q_e extends K_e{constructor(t,n,r){super(t,r),Y_e(this,Nh,void 0),q_e(this,Nh,n)}clone(){return new Q_e([...this.operations],Ud(this,Nh),this.trxId)}commit(t){if(!Ud(this,Nh))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return Ud(this,Nh).mutate(this.serialize(),Object.assign({transactionId:this.trxId},G_e,t||{}))}patch(t,n){const r=typeof n=="function";if(typeof t!="string"&&t instanceof lb)return this._add({patch:t.serialize()});if(r){const i=n(new lb(t,{},Ud(this,Nh)));if(!(i instanceof lb))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:t,...n}})}};Nh=new WeakMap;let J_e=Ypt;const qpt="https://www.sanity.io/help/";function T8(e){return qpt+e}function Gpt(e){let t=!1,n;return function(){return t||(n=e(...arguments),t=!0),n}}const mT=e=>Gpt(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return console.warn(e.join(" "),...n)}),Kpt=mT(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),Zpt=mT(["The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),Xpt=mT(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.","See ".concat(T8("js-client-browser-token")," for more information and how to hide this warning.")]),Qpt=mT(["Using the Sanity client without specifying an API version is deprecated.","See ".concat(T8("js-client-api-version"))]),Jpt="apicdn.sanity.io",J5={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0},emt=["localhost","127.0.0.1","0.0.0.0"],tmt=e=>emt.indexOf(e)!==-1,nmt=function(t){if(t==="1"||t==="X")return;const n=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&n instanceof Date&&n.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")},e2e=function(t){switch(t){case"previewDrafts":case"published":case"raw":return;default:throw new TypeError("Invalid API perspective string, expected `published`, `previewDrafts` or `raw`")}},t2e=(e,t)=>{const n=Object.assign({},t,e);n.apiVersion||Qpt();const r=Object.assign({},J5,n),o=r.useProjectHostname;if(typeof Promise>"u"){const f=T8("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see ".concat(f))}if(o&&!r.projectId)throw new Error("Configuration must contain `projectId`");if(typeof r.perspective=="string"&&e2e(r.perspective),"encodeSourceMapAtPath"in r||"encodeSourceMap"in r||"studioUrl"in r||"logger"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client', such as 'encodeSourceMapAtPath', 'encodeSourceMap', 'studioUrl' and 'logger'. Make sure you're using the right import.");const i=typeof window<"u"&&window.location&&window.location.hostname,s=i&&tmt(window.location.hostname);i&&s&&r.token&&r.ignoreBrowserTokenWarning!==!0?Xpt():typeof r.useCdn>"u"&&Kpt(),o&&Npt(r.projectId),r.dataset&&R_e(r.dataset),"requestTagPrefix"in r&&(r.requestTagPrefix=r.requestTagPrefix?L_e(r.requestTagPrefix).replace(/\.+$/,""):void 0),r.apiVersion="".concat(r.apiVersion).replace(/^v/,""),r.isDefaultApi=r.apiHost===J5.apiHost,r.useCdn=r.useCdn!==!1&&!r.withCredentials,nmt(r.apiVersion);const a=r.apiHost.split("://",2),l=a[0],u=a[1],d=r.isDefaultApi?Jpt:u;return r.useProjectHostname?(r.url="".concat(l,"://").concat(r.projectId,".").concat(u,"/v").concat(r.apiVersion),r.cdnUrl="".concat(l,"://").concat(r.projectId,".").concat(d,"/v").concat(r.apiVersion)):(r.url="".concat(r.apiHost,"/v").concat(r.apiVersion),r.cdnUrl=r.url),r},rmt="X-Sanity-Project-ID";function omt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n={},r=t.token||e.token;r&&(n.Authorization="Bearer ".concat(r)),!t.useGlobalApi&&!e.useProjectHostname&&e.projectId&&(n[rmt]=e.projectId);const o=!!(typeof t.withCredentials>"u"?e.token||e.withCredentials:t.withCredentials),i=typeof t.timeout>"u"?e.timeout:t.timeout;return Object.assign({},t,{headers:Object.assign({},n,t.headers||{}),timeout:typeof i>"u"?5*60*1e3:i,proxy:t.proxy||e.proxy,json:!0,withCredentials:o,fetch:typeof t.fetch=="object"&&typeof e.fetch=="object"?{...e.fetch,...t.fetch}:t.fetch||e.fetch})}const n2e=e=>{let{query:t,params:n={},options:r={}}=e;const o=new URLSearchParams,{tag:i,...s}=r;i&&o.append("tag",i),o.append("query",t);for(const[a,l]of Object.entries(n))o.append("$".concat(a),JSON.stringify(l));for(const[a,l]of Object.entries(s))l&&o.append(a,"".concat(l));return"?".concat(o)},imt=(e,t)=>e===!1?void 0:typeof e>"u"?t:e,smt=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dryRun:e.dryRun,returnIds:!0,returnDocuments:imt(e.returnDocuments,!0),visibility:e.visibility||"sync",autoGenerateArrayKeys:e.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:e.skipCrossDatasetReferenceValidation}},A8=e=>e.type==="response",amt=e=>e.body,lmt=(e,t)=>e.reduce((n,r)=>(n[t(r)]=r,n),Object.create(null)),cmt=11264;function r2e(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=o.filterResponse===!1?d=>d:d=>d.result,{cache:s,next:a,...l}={useAbortSignal:typeof o.signal<"u",...o},u=typeof s<"u"||typeof a<"u"?{...l,fetch:{cache:s,next:a}}:l;return Tw(e,t,"query",{query:n,params:r},u).pipe(ce(i))}function o2e(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o={uri:N0(e,"doc",n),json:!0,tag:r.tag};return Aw(e,t,o).pipe(ct(A8),ce(i=>i.body.documents&&i.body.documents[0]))}function i2e(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o={uri:N0(e,"doc",n.join(",")),json:!0,tag:r.tag};return Aw(e,t,o).pipe(ct(A8),ce(i=>{const s=lmt(i.body.documents||[],a=>a._id);return n.map(a=>s[a]||null)}))}function s2e(e,t,n,r){return Q5("createIfNotExists",n),gT(e,t,n,"createIfNotExists",r)}function a2e(e,t,n,r){return Q5("createOrReplace",n),gT(e,t,n,"createOrReplace",r)}function l2e(e,t,n,r){return Tw(e,t,"mutate",{mutations:[{delete:$_e(n)}]},r)}function c2e(e,t,n,r){let o;n instanceof cb||n instanceof lb?o={patch:n.serialize()}:n instanceof X_e||n instanceof J_e?o=n.serialize():o=n;const i=Array.isArray(o)?o:[o],s=r&&r.transactionId||void 0;return Tw(e,t,"mutate",{mutations:i,transactionId:s},r)}function Tw(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=n==="mutate",s=n==="query",a=i?"":n2e(r),l=!i&&a.length<cmt,u=l?a:"",d=o.returnFirst,{timeout:f,token:p,tag:m,headers:v}=o,g=N0(e,n,u),b={method:l?"GET":"POST",uri:g,json:!0,body:l?void 0:r,query:i&&smt(o),timeout:f,headers:v,token:p,tag:m,perspective:o.perspective,resultSourceMap:o.resultSourceMap,canUseCdn:s,signal:o.signal,fetch:o.fetch,useAbortSignal:o.useAbortSignal};return Aw(e,t,b).pipe(ct(A8),ce(amt),ce(x=>{if(!i)return x;const y=x.results||[];if(o.returnDocuments)return d?y[0]&&y[0].document:y.map(_=>_.document);const w=d?"documentId":"documentIds",C=d?y[0]&&y[0].id:y.map(_=>_.id);return{transactionId:x.transactionId,results:y,[w]:C}}))}function gT(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i={[r]:n},s=Object.assign({returnFirst:!0,returnDocuments:!0},o);return Tw(e,t,"mutate",{mutations:[i]},s)}function Aw(e,t,n){var r;const o=n.url||n.uri,i=e.config(),s=typeof n.canUseCdn>"u"?["GET","HEAD"].indexOf(n.method||"GET")>=0&&o.indexOf("/data/")===0:n.canUseCdn;let a=i.useCdn&&s;const l=n.tag&&i.requestTagPrefix?[i.requestTagPrefix,n.tag].join("."):n.tag||i.requestTagPrefix;if(l&&n.tag!==null&&(n.query={tag:L_e(l),...n.query}),["GET","HEAD","POST"].indexOf(n.method||"GET")>=0&&o.indexOf("/data/query/")===0){const f=(r=n.resultSourceMap)!=null?r:i.resultSourceMap;f!==void 0&&f!==!1&&(n.query={resultSourceMap:f,...n.query});const p=n.perspective||i.perspective;typeof p=="string"&&p!=="raw"&&(e2e(p),n.query={perspective:p,...n.query},p==="previewDrafts"&&a&&(a=!1,Zpt()))}const u=omt(i,Object.assign({},n,{url:D8(e,o,a)})),d=new ut(f=>t(u,i.requester).subscribe(f));return n.signal?d.pipe(umt(n.signal)):d}function Tl(e,t,n){return Aw(e,t,n).pipe(ct(o=>o.type==="response"),ce(o=>o.body))}function N0(e,t,n){const r=e.config(),o=F_e(r),i="/".concat(t,"/").concat(o),s=n?"".concat(i,"/").concat(n):i;return"/data".concat(s).replace(/\/($|\?)/,"$1")}function D8(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{url:r,cdnUrl:o}=e.config(),i=n?o:r;return"".concat(i,"/").concat(t.replace(/^\//,""))}function umt(e){return t=>new ut(n=>{const r=()=>n.error(fmt(e));if(e&&e.aborted){r();return}const o=t.subscribe(n);return e.addEventListener("abort",r),()=>{e.removeEventListener("abort",r),o.unsubscribe()}})}const dmt=!!globalThis.DOMException;function fmt(e){var t,n;if(dmt)return new DOMException((t=e==null?void 0:e.reason)!=null?t:"The operation was aborted.","AbortError");const r=new Error((n=e==null?void 0:e.reason)!=null?n:"The operation was aborted.");return r.name="AbortError",r}var u2e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},eE=(e,t,n)=>(u2e(e,t,"read from private field"),n?n.call(e):t.get(e)),tE=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},nE=(e,t,n,r)=>(u2e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Q2,J2,eS,tS;class hmt{constructor(t,n){tE(this,Q2,void 0),tE(this,J2,void 0),nE(this,Q2,t),nE(this,J2,n)}upload(t,n,r){return d2e(eE(this,Q2),eE(this,J2),t,n,r)}}Q2=new WeakMap;J2=new WeakMap;class pmt{constructor(t,n){tE(this,eS,void 0),tE(this,tS,void 0),nE(this,eS,t),nE(this,tS,n)}upload(t,n,r){const o=d2e(eE(this,eS),eE(this,tS),t,n,r);return bo(o.pipe(ct(i=>i.type==="response"),ce(i=>i.body.document)))}}eS=new WeakMap;tS=new WeakMap;function d2e(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};zpt(n);let i=o.extract||void 0;i&&!i.length&&(i=["none"]);const s=F_e(e.config()),a=n==="image"?"images":"files",l=mmt(o,r),{tag:u,label:d,title:f,description:p,creditLine:m,filename:v,source:g}=l,b={label:d,title:f,description:p,filename:v,meta:i,creditLine:m};return g&&(b.sourceId=g.id,b.sourceName=g.name,b.sourceUrl=g.url),Aw(e,t,{tag:u,method:"POST",timeout:l.timeout||0,uri:"/assets/".concat(a,"/").concat(s),headers:l.contentType?{"Content-Type":l.contentType}:{},query:b,body:r})}function mmt(e,t){return typeof File>"u"||!(t instanceof File)?e:Object.assign({filename:e.preserveFilename===!1?void 0:t.name,contentType:t.type},e)}var gmt=(e,t)=>Object.keys(t).concat(Object.keys(e)).reduce((n,r)=>(n[r]=typeof e[r]>"u"?t[r]:e[r],n),{});const vmt=(e,t)=>t.reduce((n,r)=>(typeof e[r]>"u"||(n[r]=e[r]),n),{}),ymt=16e3-1200,bmt=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],xmt={includeResult:!0};function f2e(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{url:r,token:o,withCredentials:i,requestTagPrefix:s}=this.config(),a=n.tag&&s?[s,n.tag].join("."):n.tag,l={...gmt(n,xmt),tag:a},u=vmt(l,bmt),d=n2e({query:e,params:t,options:{tag:a,...u}}),f="".concat(r).concat(N0(this,"listen",d));if(f.length>ymt)return new ut(g=>g.error(new Error("Query too large for listener")));const p=l.events?l.events:["mutation"],m=p.indexOf("reconnect")!==-1,v={};return(o||i)&&(v.withCredentials=!0),o&&(v.headers={Authorization:"Bearer ".concat(o)}),new ut(g=>{let b;k().then(D=>{b=D}).catch(D=>{g.error(D),A()});let x,y=!1;function w(){y||(j(),!y&&b.readyState===b.CLOSED&&(E(),clearTimeout(x),x=setTimeout(T,100)))}function C(D){g.error(wmt(D))}function _(D){const I=h2e(D);return I instanceof Error?g.error(I):g.next(I)}function S(){y=!0,E(),g.complete()}function E(){b&&(b.removeEventListener("error",w),b.removeEventListener("channelError",C),b.removeEventListener("disconnect",S),p.forEach(D=>b.removeEventListener(D,_)),b.close())}function j(){m&&g.next({type:"reconnect"})}async function k(){const{default:D}=await k8(()=>import("./browser-1f1ce96e.js").then(P=>P.b),[]),I=new D(f,v);return I.addEventListener("error",w),I.addEventListener("channelError",C),I.addEventListener("disconnect",S),p.forEach(P=>I.addEventListener(P,_)),I}function T(){k().then(D=>{b=D}).catch(D=>{g.error(D),A()})}function A(){y=!0,E()}return A})}function h2e(e){try{const t=e.data&&JSON.parse(e.data)||{};return Object.assign({type:e.type},t)}catch(t){return t}}function wmt(e){if(e instanceof Error)return e;const t=h2e(e);return t instanceof Error?t:new Error(Cmt(t))}function Cmt(e){return e.error?e.error.description?e.error.description:typeof e.error=="string"?e.error:JSON.stringify(e.error,null,2):e.message||"Unknown listener error"}var p2e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},pi=(e,t,n)=>(p2e(e,t,"read from private field"),n?n.call(e):t.get(e)),rE=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},oE=(e,t,n,r)=>(p2e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),zh,Vh,Hh,Uh;class _mt{constructor(t,n){rE(this,zh,void 0),rE(this,Vh,void 0),oE(this,zh,t),oE(this,Vh,n)}create(t,n){return lv(pi(this,zh),pi(this,Vh),"PUT",t,n)}edit(t,n){return lv(pi(this,zh),pi(this,Vh),"PATCH",t,n)}delete(t){return lv(pi(this,zh),pi(this,Vh),"DELETE",t)}list(){return Tl(pi(this,zh),pi(this,Vh),{uri:"/datasets",tag:null})}}zh=new WeakMap;Vh=new WeakMap;class Smt{constructor(t,n){rE(this,Hh,void 0),rE(this,Uh,void 0),oE(this,Hh,t),oE(this,Uh,n)}create(t,n){return bo(lv(pi(this,Hh),pi(this,Uh),"PUT",t,n))}edit(t,n){return bo(lv(pi(this,Hh),pi(this,Uh),"PATCH",t,n))}delete(t){return bo(lv(pi(this,Hh),pi(this,Uh),"DELETE",t))}list(){return bo(Tl(pi(this,Hh),pi(this,Uh),{uri:"/datasets",tag:null}))}}Hh=new WeakMap;Uh=new WeakMap;function lv(e,t,n,r,o){return R_e(r),Tl(e,t,{method:n,uri:"/datasets/".concat(r),body:o,tag:null})}var m2e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Wd=(e,t,n)=>(m2e(e,t,"read from private field"),n?n.call(e):t.get(e)),iE=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},sE=(e,t,n,r)=>(m2e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),_y,Sy,Ey,ky;class Emt{constructor(t,n){iE(this,_y,void 0),iE(this,Sy,void 0),sE(this,_y,t),sE(this,Sy,n)}list(t){const n=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Tl(Wd(this,_y),Wd(this,Sy),{uri:n})}getById(t){return Tl(Wd(this,_y),Wd(this,Sy),{uri:"/projects/".concat(t)})}}_y=new WeakMap;Sy=new WeakMap;class kmt{constructor(t,n){iE(this,Ey,void 0),iE(this,ky,void 0),sE(this,Ey,t),sE(this,ky,n)}list(t){const n=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return bo(Tl(Wd(this,Ey),Wd(this,ky),{uri:n}))}getById(t){return bo(Tl(Wd(this,Ey),Wd(this,ky),{uri:"/projects/".concat(t)}))}}Ey=new WeakMap;ky=new WeakMap;var g2e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},aE=(e,t,n)=>(g2e(e,t,"read from private field"),n?n.call(e):t.get(e)),lE=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},cE=(e,t,n,r)=>(g2e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),nS,rS,oS,iS;class jmt{constructor(t,n){lE(this,nS,void 0),lE(this,rS,void 0),cE(this,nS,t),cE(this,rS,n)}getById(t){return Tl(aE(this,nS),aE(this,rS),{uri:"/users/".concat(t)})}}nS=new WeakMap;rS=new WeakMap;class Tmt{constructor(t,n){lE(this,oS,void 0),lE(this,iS,void 0),cE(this,oS,t),cE(this,iS,n)}getById(t){return bo(Tl(aE(this,oS),aE(this,iS),{uri:"/users/".concat(t)}))}}oS=new WeakMap;iS=new WeakMap;var v2e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Dt=(e,t,n)=>(v2e(e,t,"read from private field"),n?n.call(e):t.get(e)),uE=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},dE=(e,t,n,r)=>(v2e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Wh,Io,Yh,yo;const Amt=class MR{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:J5;uE(this,Wh,void 0),uE(this,Io,void 0),this.listen=f2e,this.config(n),dE(this,Io,t),this.assets=new hmt(this,Dt(this,Io)),this.datasets=new _mt(this,Dt(this,Io)),this.projects=new Emt(this,Dt(this,Io)),this.users=new jmt(this,Dt(this,Io))}clone(){return new MR(Dt(this,Io),this.config())}config(t){if(t===void 0)return{...Dt(this,Wh)};if(Dt(this,Wh)&&Dt(this,Wh).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return dE(this,Wh,t2e(t,Dt(this,Wh)||{})),this}withConfig(t){return new MR(Dt(this,Io),{...this.config(),...t})}fetch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r2e(this,Dt(this,Io),t,n,r)}getDocument(t,n){return o2e(this,Dt(this,Io),t,n)}getDocuments(t,n){return i2e(this,Dt(this,Io),t,n)}create(t,n){return gT(this,Dt(this,Io),t,"create",n)}createIfNotExists(t,n){return s2e(this,Dt(this,Io),t,n)}createOrReplace(t,n){return a2e(this,Dt(this,Io),t,n)}delete(t,n){return l2e(this,Dt(this,Io),t,n)}mutate(t,n){return c2e(this,Dt(this,Io),t,n)}patch(t,n){return new lb(t,n,this)}transaction(t){return new J_e(t,this)}request(t){return Tl(this,Dt(this,Io),t)}getUrl(t,n){return D8(this,t,n)}getDataUrl(t,n){return N0(this,t,n)}};Wh=new WeakMap;Io=new WeakMap;let Dmt=Amt;const Imt=class FR{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:J5;uE(this,Yh,void 0),uE(this,yo,void 0),this.listen=f2e,this.config(n),dE(this,yo,t),this.assets=new pmt(this,Dt(this,yo)),this.datasets=new Smt(this,Dt(this,yo)),this.projects=new kmt(this,Dt(this,yo)),this.users=new Tmt(this,Dt(this,yo)),this.observable=new Dmt(t,n)}clone(){return new FR(Dt(this,yo),this.config())}config(t){if(t===void 0)return{...Dt(this,Yh)};if(Dt(this,Yh)&&Dt(this,Yh).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(t),dE(this,Yh,t2e(t,Dt(this,Yh)||{})),this}withConfig(t){return new FR(Dt(this,yo),{...this.config(),...t})}fetch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return bo(r2e(this,Dt(this,yo),t,n,r))}getDocument(t,n){return bo(o2e(this,Dt(this,yo),t,n))}getDocuments(t,n){return bo(i2e(this,Dt(this,yo),t,n))}create(t,n){return bo(gT(this,Dt(this,yo),t,"create",n))}createIfNotExists(t,n){return bo(s2e(this,Dt(this,yo),t,n))}createOrReplace(t,n){return bo(a2e(this,Dt(this,yo),t,n))}delete(t,n){return bo(l2e(this,Dt(this,yo),t,n))}mutate(t,n){return bo(c2e(this,Dt(this,yo),t,n))}patch(t,n){return new cb(t,n,this)}transaction(t){return new X_e(t,this)}request(t){return bo(Tl(this,Dt(this,yo),t))}dataRequest(t,n,r){return bo(Tw(this,Dt(this,yo),t,n,r))}getUrl(t,n){return D8(this,t,n)}getDataUrl(t,n){return N0(this,t,n)}};Yh=new WeakMap;yo=new WeakMap;let Pmt=Imt;function Omt(e,t){return{requester:DG(e,{}).defaultRequester,createClient:i=>new t(DG(e,{maxRetries:i.maxRetries,retryDelay:i.retryDelay}),i)}}var $mt=[];const Rmt=Omt($mt,Pmt),y2e=Rmt.createClient;var Mmt=Gf,Fmt=Jr,Lmt=Za,Bmt="[object String]";function Nmt(e){return typeof e=="string"||!Fmt(e)&&Lmt(e)&&Mmt(e)==Bmt}var zmt=Nmt;const vT=De(zmt);function Vmt(e,t,n,r){var o=-1,i=e==null?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}var Hmt=Vmt;function Umt(e){return function(t){return e==null?void 0:e[t]}}var Wmt=Umt,Ymt=Wmt,qmt={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Gmt=Ymt(qmt),Kmt=Gmt,Zmt=Kmt,Xmt=Lc,Qmt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Jmt="\\u0300-\\u036f",egt="\\ufe20-\\ufe2f",tgt="\\u20d0-\\u20ff",ngt=Jmt+egt+tgt,rgt="["+ngt+"]",ogt=RegExp(rgt,"g");function igt(e){return e=Xmt(e),e&&e.replace(Qmt,Zmt).replace(ogt,"")}var sgt=igt,agt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function lgt(e){return e.match(agt)||[]}var cgt=lgt,ugt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function dgt(e){return ugt.test(e)}var fgt=dgt,b2e="\\ud800-\\udfff",hgt="\\u0300-\\u036f",pgt="\\ufe20-\\ufe2f",mgt="\\u20d0-\\u20ff",ggt=hgt+pgt+mgt,x2e="\\u2700-\\u27bf",w2e="a-z\\xdf-\\xf6\\xf8-\\xff",vgt="\\xac\\xb1\\xd7\\xf7",ygt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",bgt="\\u2000-\\u206f",xgt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",C2e="A-Z\\xc0-\\xd6\\xd8-\\xde",wgt="\\ufe0e\\ufe0f",_2e=vgt+ygt+bgt+xgt,S2e="['’]",OG="["+_2e+"]",Cgt="["+ggt+"]",E2e="\\d+",_gt="["+x2e+"]",k2e="["+w2e+"]",j2e="[^"+b2e+_2e+E2e+x2e+w2e+C2e+"]",Sgt="\\ud83c[\\udffb-\\udfff]",Egt="(?:"+Cgt+"|"+Sgt+")",kgt="[^"+b2e+"]",T2e="(?:\\ud83c[\\udde6-\\uddff]){2}",A2e="[\\ud800-\\udbff][\\udc00-\\udfff]",gg="["+C2e+"]",jgt="\\u200d",$G="(?:"+k2e+"|"+j2e+")",Tgt="(?:"+gg+"|"+j2e+")",RG="(?:"+S2e+"(?:d|ll|m|re|s|t|ve))?",MG="(?:"+S2e+"(?:D|LL|M|RE|S|T|VE))?",D2e=Egt+"?",I2e="["+wgt+"]?",Agt="(?:"+jgt+"(?:"+[kgt,T2e,A2e].join("|")+")"+I2e+D2e+")*",Dgt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Igt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Pgt=I2e+D2e+Agt,Ogt="(?:"+[_gt,T2e,A2e].join("|")+")"+Pgt,$gt=RegExp([gg+"?"+k2e+"+"+RG+"(?="+[OG,gg,"$"].join("|")+")",Tgt+"+"+MG+"(?="+[OG,gg+$G,"$"].join("|")+")",gg+"?"+$G+"+"+RG,gg+"+"+MG,Igt,Dgt,E2e,Ogt].join("|"),"g");function Rgt(e){return e.match($gt)||[]}var Mgt=Rgt,Fgt=cgt,Lgt=fgt,Bgt=Lc,Ngt=Mgt;function zgt(e,t,n){return e=Bgt(e),t=n?void 0:t,t===void 0?Lgt(e)?Ngt(e):Fgt(e):e.match(t)||[]}var P2e=zgt;const O2e=De(P2e);var Vgt=Hmt,Hgt=sgt,Ugt=P2e,Wgt="['’]",Ygt=RegExp(Wgt,"g");function qgt(e){return function(t){return Vgt(Ugt(Hgt(t).replace(Ygt,"")),e,"")}}var I8=qgt;function Ggt(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}var $2e=Ggt,Kgt=$2e;function Zgt(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Kgt(e,t,n)}var R2e=Zgt,Xgt="\\ud800-\\udfff",Qgt="\\u0300-\\u036f",Jgt="\\ufe20-\\ufe2f",evt="\\u20d0-\\u20ff",tvt=Qgt+Jgt+evt,nvt="\\ufe0e\\ufe0f",rvt="\\u200d",ovt=RegExp("["+rvt+Xgt+tvt+nvt+"]");function ivt(e){return ovt.test(e)}var M2e=ivt;function svt(e){return e.split("")}var avt=svt,F2e="\\ud800-\\udfff",lvt="\\u0300-\\u036f",cvt="\\ufe20-\\ufe2f",uvt="\\u20d0-\\u20ff",dvt=lvt+cvt+uvt,fvt="\\ufe0e\\ufe0f",hvt="["+F2e+"]",LR="["+dvt+"]",BR="\\ud83c[\\udffb-\\udfff]",pvt="(?:"+LR+"|"+BR+")",L2e="[^"+F2e+"]",B2e="(?:\\ud83c[\\udde6-\\uddff]){2}",N2e="[\\ud800-\\udbff][\\udc00-\\udfff]",mvt="\\u200d",z2e=pvt+"?",V2e="["+fvt+"]?",gvt="(?:"+mvt+"(?:"+[L2e,B2e,N2e].join("|")+")"+V2e+z2e+")*",vvt=V2e+z2e+gvt,yvt="(?:"+[L2e+LR+"?",LR,B2e,N2e,hvt].join("|")+")",bvt=RegExp(BR+"(?="+BR+")|"+yvt+vvt,"g");function xvt(e){return e.match(bvt)||[]}var wvt=xvt,Cvt=avt,_vt=M2e,Svt=wvt;function Evt(e){return _vt(e)?Svt(e):Cvt(e)}var H2e=Evt,kvt=R2e,jvt=M2e,Tvt=H2e,Avt=Lc;function Dvt(e){return function(t){t=Avt(t);var n=jvt(t)?Tvt(t):void 0,r=n?n[0]:t.charAt(0),o=n?kvt(n,1).join(""):t.slice(1);return r[e]()+o}}var Ivt=Dvt,Pvt=Ivt,Ovt=Pvt("toUpperCase"),P8=Ovt;const U2e=De(P8);var $vt=I8,Rvt=P8,Mvt=$vt(function(e,t,n){return e+(n?" ":"")+Rvt(t)}),Fvt=Mvt;const an=De(Fvt);let Lvt=e=>crypto.getRandomValues(new Uint8Array(e)),Bvt=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*r*t/e.length);return(i=t)=>{let s="";for(;;){let a=n(o),l=o;for(;l--;)if(s+=e[a[l]&r]||"",s.length===i)return s}}},Nvt=(e,t=21)=>Bvt(e,t,Lvt);var zvt=["presence","listen"],fE=globalThis&&globalThis.__assign||function(){return fE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},fE.apply(this,arguments)},Vvt=Nvt("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-",20),Hvt="♥";function FG(e,t,n){return JSON.stringify({jsonrpc:"2.0",method:e,params:Wvt(t,"v1"),id:n})}function Uvt(e){try{return[null,JSON.parse(e)]}catch(t){return t instanceof Error?[t]:[new Error("".concat(t))]}}function Wvt(e,t){return fE(fE({},e),{apiVersion:t})}var Yvt=function(e,t){t===void 0&&(t={});var n=t.token$,r=t.getNextRequestId,o=r===void 0?Vvt:r,i=Fwe(e.pipe(tt(function(m){return Zi(m,"message")})),function(m){return m.data===Hvt}),s=i[0],a=i[1],l=a.pipe(vt(function(m){var v=Uvt(m.data),g=v[0],b=v[1];return g?(console.warn("Unable to parse message: %s",g.message),Gn):!b||!b.jsonrpc?(console.warn("Received empty or non-jsonrpc message: %s",b),Gn):be(b)}),Wa()),u=n?Vo([n,e]).pipe(Kn(function(m,v){var g=m[0],b=m[1],x=v[0],y=v[1];return g===x&&b===y}),tt(function(m){var v=m[0],g=m[1];return v?d(g,"authorization",{authorization:"Bearer ".concat(v)}).pipe(ys(1),YL(g)):be(g)}),To({refCount:!0,bufferSize:1})):e;function d(m,v,g){g===void 0&&(g={});var b=o();return xn(l.pipe(ct(function(x){return x.id===b}),ce(function(x){return x.result})),jo(function(){return m.send(FG(v,g,b)),Gn}))}function f(m,v){return u.pipe(ys(1),vt(function(g){return d(g,m,v).pipe(ys(1))}))}function p(m,v){return u.pipe(ys(1),vt(function(g){return d(g,"".concat(m,"_subscribe"),v).pipe(ys(1),vt(function(b){return l.pipe(ct(function(x){return x.method==="".concat(m,"_subscription")&&x.params.subscription===b}),ce(function(x){return x.params.result}),qwe(function(){g.readyState!==g.CLOSED&&g.readyState!==g.CLOSING&&g.send(FG("".concat(m,"_unsubscribe"),{subscriptionId:b},o()))}))}))}))}return{heartbeats:xn(u,s,a).pipe(ce(function(){return new Date})),request:function(m,v){return qvt(m)?p(m,v):f(m,v)}}};function qvt(e){return zvt.includes(e)}var Gvt=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),LG=function(e){Gvt(t,e);function t(n,r,o,i){var s=e.call(this,n)||this;return s.type=r,s.code=o,s.reason=i,s}return t}(Error);function Kvt(e){return function(t){return new ut(function(n){var r=e(t),o=!1,i=function(){n.next(r)},s=function(){n.error(new LG("WebSocket connection error","CONNECTION_ERROR"))},a=function(l){o?n.complete():n.error(new LG("WebSocket connection error","CONNECTION_CLOSED",l.code,l.reason))};return r.onopen=i,r.onclose=a,r.onerror=s,function(){o=!0,r.close(1e3,"WebSockets connection closed by client")}})}}var Zvt=function(e,t){return function(n){return Het(n,Ei(e).pipe(vt(function(){return t})))}},BG;(function(e){e[e.BAD_REQUEST=4e3]="BAD_REQUEST",e[e.UNAUTHORIZED=4001]="UNAUTHORIZED",e[e.NOT_FOUND=4004]="NOT_FOUND",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.SUBSCRIPTION_NOT_FOUND=-32602]="SUBSCRIPTION_NOT_FOUND",e[e.PARSE_ERROR=-32700]="PARSE_ERROR"})(BG||(BG={}));var Xvt=function(e){return e};function Qvt(e,t){t===void 0&&(t={});var n=t.timeout,r=t.token$,o=Kvt(function(i,s){return new window.WebSocket(i,s)});return Yvt(o(e).pipe(n?Zvt(n,D0(function(){return new Error("Timeout after ".concat(n," while establishing WebSockets connection"))})):Xvt,To({refCount:!0}),qL(Zi(window,"beforeunload"))),{token$:r})}function Jvt(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var e0t=Jvt,t0t=h8,n0t=dT;function r0t(e,t,n,r){var o=!n;n||(n={});for(var i=-1,s=t.length;++i<s;){var a=t[i],l=r?r(n[a],e[a],a,n,e):void 0;l===void 0&&(l=e[a]),o?n0t(n,a,l):t0t(n,a,l)}return n}var z0=r0t,o0t=z0,i0t=nh;function s0t(e,t){return e&&o0t(t,i0t(t),e)}var a0t=s0t;function l0t(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var c0t=l0t,u0t=Ka,d0t=aT,f0t=c0t,h0t=Object.prototype,p0t=h0t.hasOwnProperty;function m0t(e){if(!u0t(e))return f0t(e);var t=d0t(e),n=[];for(var r in e)r=="constructor"&&(t||!p0t.call(e,r))||n.push(r);return n}var g0t=m0t,v0t=cCe,y0t=g0t,b0t=th;function x0t(e){return b0t(e)?v0t(e,!0):y0t(e)}var O8=x0t,w0t=z0,C0t=O8;function _0t(e,t){return e&&w0t(t,C0t(t),e)}var S0t=_0t,hE={exports:{}};hE.exports;(function(e,t){var n=$l,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,s=i?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(u,d){if(d)return u.slice();var f=u.length,p=a?a(f):new u.constructor(f);return u.copy(p),p}e.exports=l})(hE,hE.exports);var E0t=hE.exports;function k0t(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var $8=k0t,j0t=z0,T0t=e8;function A0t(e,t){return j0t(e,T0t(e),t)}var D0t=A0t,I0t=JL,P0t=f8,O0t=e8,$0t=aCe,R0t=Object.getOwnPropertySymbols,M0t=R0t?function(e){for(var t=[];e;)I0t(t,O0t(e)),e=P0t(e);return t}:$0t,W2e=M0t,F0t=z0,L0t=W2e;function B0t(e,t){return F0t(e,L0t(e),t)}var N0t=B0t,z0t=iCe,V0t=W2e,H0t=O8;function U0t(e){return z0t(e,H0t,V0t)}var R8=U0t,W0t=Object.prototype,Y0t=W0t.hasOwnProperty;function q0t(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Y0t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var G0t=q0t,NG=oCe;function K0t(e){var t=new e.constructor(e.byteLength);return new NG(t).set(new NG(e)),t}var M8=K0t,Z0t=M8;function X0t(e,t){var n=t?Z0t(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var Q0t=X0t,J0t=/\w*$/;function e1t(e){var t=new e.constructor(e.source,J0t.exec(e));return t.lastIndex=e.lastIndex,t}var t1t=e1t,zG=m0,VG=zG?zG.prototype:void 0,HG=VG?VG.valueOf:void 0;function n1t(e){return HG?Object(HG.call(e)):{}}var r1t=n1t,o1t=M8;function i1t(e,t){var n=t?o1t(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var s1t=i1t,a1t=M8,l1t=Q0t,c1t=t1t,u1t=r1t,d1t=s1t,f1t="[object Boolean]",h1t="[object Date]",p1t="[object Map]",m1t="[object Number]",g1t="[object RegExp]",v1t="[object Set]",y1t="[object String]",b1t="[object Symbol]",x1t="[object ArrayBuffer]",w1t="[object DataView]",C1t="[object Float32Array]",_1t="[object Float64Array]",S1t="[object Int8Array]",E1t="[object Int16Array]",k1t="[object Int32Array]",j1t="[object Uint8Array]",T1t="[object Uint8ClampedArray]",A1t="[object Uint16Array]",D1t="[object Uint32Array]";function I1t(e,t,n){var r=e.constructor;switch(t){case x1t:return a1t(e);case f1t:case h1t:return new r(+e);case w1t:return l1t(e,n);case C1t:case _1t:case S1t:case E1t:case k1t:case j1t:case T1t:case A1t:case D1t:return d1t(e,n);case p1t:return new r;case m1t:case y1t:return new r(e);case g1t:return c1t(e);case v1t:return new r;case b1t:return u1t(e)}}var P1t=I1t,O1t=Ka,UG=Object.create,$1t=function(){function e(){}return function(t){if(!O1t(t))return{};if(UG)return UG(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),F8=$1t,R1t=F8,M1t=f8,F1t=aT;function L1t(e){return typeof e.constructor=="function"&&!F1t(e)?R1t(M1t(e)):{}}var B1t=L1t,N1t=Ew,z1t=Za,V1t="[object Map]";function H1t(e){return z1t(e)&&N1t(e)==V1t}var U1t=H1t,W1t=U1t,Y1t=R0,WG=n8,YG=WG&&WG.isMap,q1t=YG?Y1t(YG):W1t,G1t=q1t,K1t=Ew,Z1t=Za,X1t="[object Set]";function Q1t(e){return Z1t(e)&&K1t(e)==X1t}var J1t=Q1t,eyt=J1t,tyt=R0,qG=n8,GG=qG&&qG.isSet,nyt=GG?tyt(GG):eyt,ryt=nyt,oyt=XL,iyt=e0t,syt=h8,ayt=a0t,lyt=S0t,cyt=E0t,uyt=$8,dyt=D0t,fyt=N0t,hyt=fCe,pyt=R8,myt=Ew,gyt=G0t,vyt=P1t,yyt=B1t,byt=Jr,xyt=iT,wyt=G1t,Cyt=Ka,_yt=ryt,Syt=nh,Eyt=O8,kyt=1,jyt=2,Tyt=4,Y2e="[object Arguments]",Ayt="[object Array]",Dyt="[object Boolean]",Iyt="[object Date]",Pyt="[object Error]",q2e="[object Function]",Oyt="[object GeneratorFunction]",$yt="[object Map]",Ryt="[object Number]",G2e="[object Object]",Myt="[object RegExp]",Fyt="[object Set]",Lyt="[object String]",Byt="[object Symbol]",Nyt="[object WeakMap]",zyt="[object ArrayBuffer]",Vyt="[object DataView]",Hyt="[object Float32Array]",Uyt="[object Float64Array]",Wyt="[object Int8Array]",Yyt="[object Int16Array]",qyt="[object Int32Array]",Gyt="[object Uint8Array]",Kyt="[object Uint8ClampedArray]",Zyt="[object Uint16Array]",Xyt="[object Uint32Array]",Fn={};Fn[Y2e]=Fn[Ayt]=Fn[zyt]=Fn[Vyt]=Fn[Dyt]=Fn[Iyt]=Fn[Hyt]=Fn[Uyt]=Fn[Wyt]=Fn[Yyt]=Fn[qyt]=Fn[$yt]=Fn[Ryt]=Fn[G2e]=Fn[Myt]=Fn[Fyt]=Fn[Lyt]=Fn[Byt]=Fn[Gyt]=Fn[Kyt]=Fn[Zyt]=Fn[Xyt]=!0;Fn[Pyt]=Fn[q2e]=Fn[Nyt]=!1;function sS(e,t,n,r,o,i){var s,a=t&kyt,l=t&jyt,u=t&Tyt;if(n&&(s=o?n(e,r,o,i):n(e)),s!==void 0)return s;if(!Cyt(e))return e;var d=byt(e);if(d){if(s=gyt(e),!a)return uyt(e,s)}else{var f=myt(e),p=f==q2e||f==Oyt;if(xyt(e))return cyt(e,a);if(f==G2e||f==Y2e||p&&!o){if(s=l||p?{}:yyt(e),!a)return l?fyt(e,lyt(s,e)):dyt(e,ayt(s,e))}else{if(!Fn[f])return o?e:{};s=vyt(e,f,a)}}i||(i=new oyt);var m=i.get(e);if(m)return m;i.set(e,s),_yt(e)?e.forEach(function(b){s.add(sS(b,t,n,b,e,i))}):wyt(e)&&e.forEach(function(b,x){s.set(x,sS(b,t,n,x,e,i))});var v=u?l?pyt:hyt:l?Eyt:Syt,g=d?void 0:v(e);return iyt(g||e,function(b,x){g&&(x=b,b=e[x]),syt(s,x,sS(b,t,n,x,e,i))}),s}var L8=sS;function Qyt(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Jyt=Qyt,ebt=kw,tbt=$2e;function nbt(e,t){return t.length<2?e:ebt(e,tbt(t,0,-1))}var rbt=nbt,obt=L0,ibt=Jyt,sbt=rbt,abt=xm;function lbt(e,t){return t=obt(t,e),e=sbt(e,t),e==null||delete e[abt(ibt(t))]}var cbt=lbt,ubt=KCe;function dbt(e){return ubt(e)?void 0:e}var fbt=dbt,hbt=Fc,pbt=L8,mbt=cbt,gbt=L0,vbt=z0,ybt=fbt,bbt=p8,xbt=R8,wbt=1,Cbt=2,_bt=4,Sbt=bbt(function(e,t){var n={};if(e==null)return n;var r=!1;t=hbt(t,function(i){return i=gbt(i,e),r||(r=i.length>1),i}),vbt(e,xbt(e),n),r&&(n=pbt(n,wbt|Cbt|_bt,ybt));for(var o=t.length;o--;)mbt(n,t[o]);return n}),Ebt=Sbt;const ji=De(Ebt);var kbt=function(e){return e==null?[]:Array.isArray(e)?e:[e]};const Dw=De(kbt);var jbt=Jr;function Tbt(){if(!arguments.length)return[];var e=arguments[0];return jbt(e)?e:[e]}var Abt=Tbt;const Iw=De(Abt);var Dbt=Fc,Ibt=rh,Pbt=MCe,Obt=Jr;function $bt(e,t){var n=Obt(e)?Dbt:Pbt;return n(e,Ibt(t))}var Rbt=$bt,Mbt=F0,Fbt=Rbt;function Lbt(e,t){return Mbt(Fbt(e,t),1)}var Bbt=Lbt;const Nbt=De(Bbt);var zbt="Expected a function";function Vbt(e){if(typeof e!="function")throw new TypeError(zbt);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var K2e=Vbt;const Hbt=De(K2e);var Ubt=Fc,Wbt=rh,Ybt=ZCe,qbt=R8;function Gbt(e,t){if(e==null)return{};var n=Ubt(qbt(e),function(r){return[r]});return t=Wbt(t),Ybt(e,n,function(r,o){return t(r,o[0])})}var Z2e=Gbt;const Kbt=De(Z2e);var Zbt=rh,Xbt=K2e,Qbt=Z2e;function Jbt(e,t){return Qbt(e,Xbt(Zbt(t)))}var ext=Jbt;const X2e=De(ext);function txt(e){return e===void 0}var nxt=txt;const Q2e=De(nxt);var rxt=Lc,oxt=P8;function ixt(e){return oxt(rxt(e).toLowerCase())}var J2e=ixt;const Em=De(J2e);var sxt=Fc,axt=$8,lxt=Jr,cxt=lm,uxt=jCe,dxt=xm,fxt=Lc;function hxt(e){return lxt(e)?sxt(e,dxt):cxt(e)?[e]:axt(uxt(fxt(e)))}var pxt=hxt;const mxt=De(pxt);function gxt(){}var B8=gxt;const eSe=De(B8);var zI=hCe,vxt=B8,yxt=QL,bxt=1/0,xxt=zI&&1/yxt(new zI([,-0]))[1]==bxt?function(e){return new zI(e)}:vxt,wxt=xxt,Cxt=nT,_xt=u8,Sxt=d8,Ext=rT,kxt=wxt,jxt=QL,Txt=200;function Axt(e,t,n){var r=-1,o=_xt,i=e.length,s=!0,a=[],l=a;if(n)s=!1,o=Sxt;else if(i>=Txt){var u=t?null:kxt(e);if(u)return jxt(u);s=!1,o=Ext,l=new Cxt}else l=t?[]:a;e:for(;++r<i;){var d=e[r],f=t?t(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue e;t&&l.push(f),a.push(d)}else o(l,f,n)||(l!==a&&l.push(f),a.push(d))}return a}var yT=Axt,Dxt=rh,Ixt=yT;function Pxt(e,t){return e&&e.length?Ixt(e,Dxt(t)):[]}var Oxt=Pxt;const zf=De(Oxt),ts=["jsonType","type","name","title","description","options","fieldsets","validation","readOnly","hidden","components","diffComponent","initialValue"],KG=[...ts],VI={name:"any",type:null,jsonType:"any"},$xt={get(){return VI},extend(e,t){const n=Object.assign(_t(VI,KG),e,{type:VI,of:e.of.map(o=>({name:o.name,type:t(ji(o,"name"))}))});return r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` property of subtypes of "array"');const s=Object.assign({},o,_t(i,KG),{type:o});return r(s)}}}}};var oh={prepare:e=>({title:String(e)})};const ZG=[...ts],HI={name:"string",title:"String",type:null,jsonType:"string"},Rxt={get(){return HI},extend(e){const t=Object.assign(_t(HI,ZG),e,{type:HI,preview:oh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,_t(o,ZG),{type:r});return n(i)}}}}},XG=[...ts,"rows"],UI={name:"text",title:"Text",type:null,jsonType:"string"},Mxt={get(){return UI},extend(e){const t=Object.assign(_t(UI,XG),e,{type:UI,preview:oh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,_t(o,XG),{type:r});return n(i)}}}}},QG=[...ts],WI={name:"datetime",title:"Datetime",type:null,jsonType:"string"},Fxt={get(){return WI},extend(e){const t=Object.assign(_t(WI,QG),e,{type:WI,preview:oh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,_t(o,QG),{type:r});return n(i)}}}}},JG=[...ts],YI={name:"date",title:"Datetime",type:null,jsonType:"string"},Lxt={get(){return YI},extend(e){const t=Object.assign(_t(YI,JG),e,{type:YI,preview:oh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,_t(o,JG),{type:r});return n(i)}}}}},eK=[...ts],qI={name:"boolean",title:"Boolean",type:null,jsonType:"boolean"},Bxt={get(){return qI},extend(e){const t=Object.assign(_t(qI,eK),e,{type:qI,preview:oh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,_t(o,eK),{type:r});return n(i)}}}}},tK=[...ts],GI={name:"url",title:"Url",type:null,jsonType:"string"},Nxt={get(){return GI},extend(e){const t=Object.assign(_t(GI,tK),e,{type:GI,preview:oh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,_t(o,tK),{type:r});return n(i)}}}}},nK=[...ts],KI={name:"email",title:"Email",type:null,jsonType:"string"},zxt={get(){return KI},extend(e){const t=Object.assign(_t(KI,nK),e,{type:KI,preview:oh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,_t(o,nK),{type:r});return n(i)}}}}},rK=[...ts],ZI={name:"number",title:"Number",type:null,jsonType:"number"},Vxt={get(){return ZI},extend(e){const t=Object.assign(_t(ZI,rK),e,{type:ZI,preview:oh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,_t(o,rK),{type:r});return n(i)}}}}};function zn(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Object.defineProperty(e,t,{configurable:!0,enumerable:r.enumerable!==!1,get(){const o=n();return Object.defineProperty(e,t,{value:o,writable:!!r.writable,configurable:!1}),o}}),e}function Hxt(e){for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function NR(e,t,n){if(n>t.maxDepth)return"...";if(Array.isArray(e)){if(e.length===0)return"[empty]";const o=Math.max(e.length-t.maxBreadth),i=e.slice(0,t.maxBreadth).map((s,a)=>NR(s,t,n+1)).concat(o>0?"…+".concat(o):[]).join(", ");return n===0?i:"[".concat(i,"]")}if(typeof e=="object"&&e!==null){const o=Object.keys(e).filter(s=>!t.ignoreKeys.includes(s)&&typeof e[s]<"u");if(Hxt(_t(e,o)))return"{empty}";const i=o.slice(0,t.maxBreadth).map(s=>"".concat(s,": ").concat(NR(e[s],t,n+1))).join(", ");return n===0?i:"{".concat(i,"}")}const r=String(e);return r===""?'""':r}function Uxt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n={maxDepth:"maxDepth"in t?t.maxDepth:2,maxBreadth:"maxBreadth"in t?t.maxBreadth:2,ignoreKeys:"ignoreKeys"in t?t.ignoreKeys:[]};return NR(e,n,0)}const Wxt={maxEntries:2,maxDepth:2,maxBreadth:2,ignoreKeys:["_id","_type","_key","_ref"]};function Yxt(e){return t=>({title:Uxt(_t(t,e),Wxt)})}function qxt(e){return e.type==="array"&&e.of&&e.of.some(t=>t.type==="block")}const tSe=["title","name","label","heading","header","caption"],Gxt=["description",...tSe];function nSe(e,t){return Dw(e.to||[]).some(n=>n.type===t)}function oK(e){return nSe(e,"sanity.imageAsset")}function Kxt(e){const t=e.fields||[],n=t.find(oK);if(n)return n.name;const r=t.find(o=>(o.fields||[]).some(oK));return r?"".concat(r.name,".asset"):void 0}function iK(e){return nSe(e,"sanity.fileAsset")}function Zxt(e){const t=e.fields||[],n=t.find(iK);if(n)return n.name;const r=t.find(o=>(o.fields||[]).some(iK));return r?"".concat(r.name,".asset"):void 0}function Xxt(e){const t={fields:[],...e},n=t.fields.filter(u=>u.type==="string").map(u=>u.name),r=t.fields.filter(qxt).map(u=>u.name);let o=tSe.find(u=>n.includes(u)||r.includes(u)),i=Gxt.find(u=>u!==o&&(n.includes(u)||r.includes(u)));o||(o=n[0]||r[0],i=n[1]||r[1]);const s=t.fields.find(u=>u.type==="image"),a=Kxt(t);if(!o){const u=Zxt(t);u&&(o="".concat(u,".originalFilename")),a&&(o="".concat(a,".originalFilename"))}if(!o&&!a){const u=t.fields.map(f=>f.name);return{select:u.reduce((f,p)=>(f[p]=p,f),{}),prepare:Yxt(u)}}return{select:X2e({title:o,description:i,media:s?s.name:a},Q2e)}}function Qxt(e){e.options&&e.options.preview&&console.warn(`Heads up! The preview config is no longer defined on "options", but instead on the type/field itself.
Please move {options: {preview: ...}} to {..., preview: ...} on the type/field definition of "`.concat(e.name,`".
`))}function Jxt(e){const t=e.preview||(e.options||{}).preview;t&&"fields"in t&&console.warn('Heads up! "preview.fields" should be renamed to "preview.select". Please update the preview config for "'.concat(e.name,`".
`))}function ewt(e){return e.reduce((t,n)=>(t[n]=n,t),{})}function twt(e){if(!e)return e;const t=e.select||e.fields||{};return Array.isArray(t)?{..._t(e,["prepare","component"]),select:ewt(t)}:{..._t(e,["prepare","component"]),select:t}}function Pw(e){return function(){return Qxt(e),Jxt(e),twt(e.preview||(e.options||{}).preview)||Xxt(e)}}const nwt=["title","name","label","heading","header","caption","description"],rwt=["string","boolean","number"],sK=e=>rwt.includes(e.type);function owt(e){let t=nwt.filter(n=>e.fields.some(r=>sK(r)&&r.name===n));return t.length===0&&(t=e.fields.filter(sK).map(n=>n.name)),t.map(n=>({name:n,title:Em(an(n)),by:[{field:n,direction:"asc"}]}))}function aK(e){if(!Array.isArray(e))throw new Error("The search config of a document type must be an array of search config objects");return e.map(t=>{if(t==="defaults")return t;if(!_r(t))throw new Error("Search config must be an object of {path: string, weight: number}");return{weight:"weight"in t?t.weight:1,path:mxt(t.path),mapWith:typeof t.mapWith=="string"?t.mapWith:void 0}})}const cv=Symbol("__cachedStringFields"),iwt=e=>e.type&&e.type.name==="reference",swt=["style","list"],N8=e=>e.name==="block"||e.type&&N8(e.type),awt=e=>e.jsonType==="array"&&Array.isArray(e.of)&&e.of.some(N8);function bT(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4?arguments[4]:void 0;if(o<0)return n;const i=t(n,e,r);return e.jsonType==="array"&&Array.isArray(e.of)?lwt(e,t,i,r,o):e.jsonType==="object"&&Array.isArray(e.fields)&&!iwt(e)?cwt(e,t,i,r,o):i}function lwt(e,t,n,r,o){return e.of.reduce((i,s)=>bT(s,t,i,r,o-1),n)}function cwt(e,t,n,r,o){const i=N8(e);return e.fields.reduce((s,a)=>{if(i&&swt.includes(a.name))return s;const l=[a.name].concat(a.type.jsonType==="array"?[[]]:[]);return bT(a.type,t,s,r.concat(l),o-1)},n)}const rSe=[{weight:1,path:["_id"]},{weight:1,path:["_type"]}],lK={title:10,subtitle:5,description:1.5};function oSe(e){var t;const n=(t=e==null?void 0:e.preview)==null?void 0:t.select;return n?Object.keys(n).filter(r=>r in lK).map(r=>({weight:lK[r],path:n[r].split(".")})):[]}function uwt(e,t){return e[cv]||(e[cv]=zf([...rSe,...oSe(e),...fwt(e,t).map(n=>({weight:1,path:n})),...hwt(e,t).map(n=>({weight:1,path:n,mapWith:"pt::text"}))],n=>n.path.join("."))),e[cv]}function dwt(e){return e[cv]||(e[cv]=zf([...rSe,...oSe(e)],t=>t.path.join("."))),e[cv]}function fwt(e,t){return bT(e,(r,o,i)=>o.jsonType==="string"?[...r,i]:r,[],[],t)}function hwt(e,t){return bT(e,(r,o,i)=>awt(o)?[...r,i]:r,[],[],t)}function pwt(e){return dwt(e)}function mwt(e){return uwt(e,4)}const cK=[...ts,"orderings","__experimental_search","blockEditor","icon"],iSe={get(){return{name:"object",title:"Object",type:null,jsonType:"object"}},extend(e,t){const n={fields:[],...e},r={...n.options||{}},o=Object.assign(_t(this.get(),cK),n,{type:this.get(),title:n.title||(n.name?an(n.name):""),options:r,orderings:n.orderings||owt(n),fields:n.fields.map(s=>{const{name:a,fieldset:l,group:u,...d}=s;return zn({name:a,group:u,fieldset:l},"type",()=>t({...d,title:s.title||an(a)}))})});return zn(o,"fieldsets",()=>xT(n,o.fields)),zn(o,"groups",()=>gwt(n,o.fields)),zn(o,"preview",Pw(n)),zn(o,"__experimental_search",()=>{const s=n.__experimental_search?aK(n.__experimental_search):null;return s?s.map(a=>a==="defaults"?aK(n):a):mwt(o)},{enumerable:!1}),i(o);function i(s){return{get(){return s},extend:a=>{if(a.fields)throw new Error('Cannot override `fields` of subtypes of "object"');const l=Object.assign({},s,_t(a,cK),{title:a.title||n.title||(n.name?an(n.name):""),type:s});return zn(l,"__experimental_search",()=>s.__experimental_search),i(l)}}}}};function xT(e,t){const n={};for(const o of e.fieldsets||[]){if(n[o.name])throw new Error('Duplicate fieldset name "'.concat(o.name,`" found for type '`).concat(e.title?e.title:an(e.name),"'"));n[o.name]={title:an(o.name),...o,fields:[]}}const r=new Set;for(const o of t){if(!o.fieldset){r.add({single:!0,field:o});continue}const i=n[o.fieldset];if(!i)throw new Error("Fieldset '".concat(o.fieldset,"' is not defined in schema for type '").concat(e.name,"'"));i.fields.push(o),r.add(i)}return Array.from(r)}function gwt(e,t){const n={};let r=0;for(const o of e.groups||[]){if(n[o.name])throw new Error('Duplicate group name "'.concat(o.name,`" found for type '`).concat(e.title?e.title:an(e.name),"'"));if(n[o.name]={title:an(o.name),...o,fields:[]},o.default&&++r>1)throw new Error("More than one field group defined as default for type '".concat(e.title?e.title:an(e.name),"' - only 1 is supported"))}return t.forEach(o=>{const i=Iw(o.group||[]);i.length!==0&&i.forEach(s=>{const a=n[s];if(!a)throw new Error("Field group '".concat(s,"' is not defined in schema for type '").concat(e.title?e.name:an(e.name),"'"));a.fields.push(o)})}),Nbt(n).filter(o=>o.fields.length>0)}const vwt={name:"_ref",title:"Referenced document ID",type:"string"},ywt={name:"_weak",title:"Weak reference",type:"boolean"},bwt=[vwt,ywt],uK=[...ts],XI={name:"reference",title:"Reference",type:null,jsonType:"object"};function xwt(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),o=e[n-1];return"".concat(r.join(", ")," ").concat(t," ").concat(o)}function wwt(e){return!e.to||e.to.length===0?"Reference":"Reference to ".concat(xwt(Dw(e.to).map(t=>t.title),"or").toLowerCase())}const Cwt={get(){return XI},extend(e,t){if(!e.to)throw new Error('Missing "to" field in reference definition. Check the type '.concat(e.name));const n=Object.assign(_t(XI,uK),e,{type:XI});return zn(n,"fields",()=>bwt.map(o=>{const{name:i,...s}=o;return{name:i,type:t(s)}})),zn(n,"fieldsets",()=>xT(e,n.fields)),zn(n,"to",()=>Dw(e.to).map(o=>t(o))),zn(n,"title",()=>e.title||wwt(n)),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` of subtypes of "reference"');const s=Object.assign({},o,_t(i,uK),{type:o});return r(s)}}}}},_wt={name:"_ref",title:"Referenced document ID",type:"string"},Swt={name:"_weak",title:"Weak reference marker",type:"boolean"},Ewt={name:"_dataset",title:"Target dataset",type:"string"},kwt={name:"_projectId",title:"Target project ID",type:"string",hidden:!0},jwt=[_wt,Swt,Ewt,kwt],dK=[...ts],QI={name:"crossDatasetReference",type:null,jsonType:"object"};function Twt(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),o=e[n-1];return"".concat(r.join(", ")," ").concat(t," ").concat(o)}function Awt(e){return!e.to||e.to.length===0?"Cross dataset Reference":"Cross dataset reference to ".concat(Twt(Dw(e.to).map(t=>t.title||Em(t.type)),"or").toLowerCase())}const Dwt={get(){return QI},extend(e,t){if(!e.to)throw new Error('Missing "to" field in cross dataset reference definition. Check the type '.concat(e.name));const n=Object.assign(_t(QI,dK),e,{type:QI});return zn(n,"fields",()=>jwt.map(o=>{const{name:i,...s}=o;return{name:i,type:t(s)}})),zn(n,"to",()=>Dw(e.to).map(o=>({...o,__experimental_search:pwt(o)}))),zn(n,"title",()=>e.title||Awt(n)),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` of subtypes of "reference"');const s=Object.assign({},o,_t(i,dK),{type:o});return r(s)}}}}},Iwt={name:"asset",type:"reference",to:[{type:"sanity.imageAsset"}]},Pwt={name:"hotspot",type:"sanity.imageHotspot"},Owt={name:"crop",type:"sanity.imageCrop"},fK=[...ts],hK={name:"image",title:"Image",type:null,jsonType:"object"},$wt={},Rwt={get(){return hK},extend(e,t){const n={...e.options||$wt};let r=[Pwt,Owt];n.hotspot||(r=r.map(l=>({...l,hidden:!0})));const o=[Iwt,...r,...e.fields||[]],i={...e,fields:o},s=Object.assign(_t(this.get(),fK),i,{type:hK,title:i.title||(i.name?an(i.name):""),options:n,fields:i.fields.map(l=>{const{name:u,fieldset:d,...f}=l,p={name:u,fieldset:d,isCustomized:!!e.fields};return zn(p,"type",()=>t({...f,title:l.title||an(u)}))})});return zn(s,"fieldsets",()=>xT(i,s.fields)),zn(s,"preview",Pw(Object.assign({},i,{fields:o}))),a(s);function a(l){return{get(){return l},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "image"');const d=Object.assign({},l,_t(u,fK),{type:l});return a(d)}}}}},Mwt={name:"asset",type:"reference",to:{type:"sanity.fileAsset"}},pK=[...ts],JI={name:"file",title:"File",type:null,jsonType:"object"},Fwt={accept:""},Lwt={get(){return JI},extend(e,t){const n={...e.options||Fwt},r=[Mwt,...e.fields||[]],o={...e,fields:r},i=Object.assign(_t(JI,pK),o,{type:JI,title:o.title||(o.name?an(o.name):""),options:n,fields:o.fields.map(a=>{const{name:l,fieldset:u,...d}=a,f={name:l,fieldset:u,isCustomized:!!e.fields};return zn(f,"type",()=>t({...d,title:a.title||an(l)}))})});return zn(i,"fieldsets",()=>xT(o,i.fields)),zn(i,"preview",Pw(Object.assign({},o,{fields:r}))),s(i);function s(a){return{get(){return a},extend:l=>{if(l.fields)throw new Error('Cannot override `fields` of subtypes of "file"');const u=Object.assign({},a,_t(l,pK),{type:a});return s(u)}}}}},Bwt={name:"document",title:"Document",type:null,jsonType:"object"},Nwt={get(){return Bwt},extend:iSe.extend},mK=[...ts],eP={name:"array",type:null,jsonType:"array",of:[]},zwt={get(){return eP},extend(e,t){const n=Object.assign(_t(eP,mK),e,{type:eP});return zn(n,"of",()=>e.of.map(o=>t(o))),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` property of subtypes of "array"');const s=Object.assign({},o,_t(i,mK),{type:o});return r(s)}}}}},Vwt={type:"object",name:"link",options:{modal:{type:"popover"}},fields:[{name:"href",type:"url",title:"Link",description:"A valid web, email, phone, or relative link.",validation:e=>e.uri({scheme:["http","https","tel","mailto"],allowRelative:!0})}]},Hwt={type:"text",name:"text",title:"Text"},Uwt={name:"marks",type:"array",of:[{type:"string"}],title:"Marks"},gK={bullet:{title:"Bulleted list",value:"bullet"},numbered:{title:"Numbered list",value:"number"}},Wwt=[gK.bullet,gK.numbered],ru={normal:{title:"Normal",value:"normal"},h1:{title:"Heading 1",value:"h1"},h2:{title:"Heading 2",value:"h2"},h3:{title:"Heading 3",value:"h3"},h4:{title:"Heading 4",value:"h4"},h5:{title:"Heading 5",value:"h5"},h6:{title:"Heading 6",value:"h6"},blockquote:{title:"Quote",value:"blockquote"}},Ywt=[ru.normal,ru.h1,ru.h2,ru.h3,ru.h4,ru.h5,ru.h6,ru.blockquote],qwt={title:"Strong",value:"strong"},Gwt={title:"Italic",value:"em"},Kwt={title:"Code",value:"code"},Zwt={title:"Underline",value:"underline"},Xwt={title:"Strike",value:"strike-through"},M1={strong:qwt,em:Gwt,code:Kwt,underline:Zwt,strikeThrough:Xwt},Qwt=[M1.strong,M1.em,M1.code,M1.underline,M1.strikeThrough],vK=["type","name","title","jsonType","description","options","fieldsets","icon"],tP={name:"block",title:"Block",type:null,jsonType:"object"},Jwt={},eCt={get(){return tP},extend(e,t){const n={...e.options||Jwt},{marks:r,styles:o,lists:i,of:s,...a}=e,l=oCt(r,s),u=nCt(o),d=rCt(i),f={name:"markDefs",title:"Mark definitions",type:"array",of:(r==null?void 0:r.annotations)||sSe},p=[l,u,d,f].concat(e.fields||[]),m=Object.assign(_t(tP,vK),a,{type:tP,options:n});return zn(m,"fields",()=>p.map(g=>{const{name:b,...x}=g;return{name:b,type:t(x)}})),zn(m,"preview",Pw(e)),v(m);function v(g){return{get(){return g},extend:b=>{if(b.fields)throw new Error('Cannot override `fields` of subtypes of "block"');const x=Object.assign({},g,_t(b,vK),{type:g});return v(x)}}}}};function tCt(e){return e.some(t=>t.value==="normal")?e:[ru.normal,...e]}function nCt(e){return{name:"style",title:"Style",type:"string",options:{list:tCt(e||Ywt)}}}function rCt(e){return{name:"list",title:"List type",type:"string",options:{list:e||Wwt}}}const sSe=[Vwt];function oCt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{name:"children",title:"Content",type:"array",of:[{type:"span",fields:[Hwt,Uwt],annotations:e&&e.annotations?e.annotations:sSe,decorators:e&&e.decorators?e.decorators:Qwt},...t.filter(n=>n.type!=="span")]}}const yK=["type","name","title","jsonType","description","options","fieldsets","icon"],nP={name:"span",title:"Span",type:null,jsonType:"object"},iCt={name:"marks",title:"Marks",type:"array",of:[{type:"string"}]},sCt={name:"text",title:"Text",type:"string"},aCt={},lCt={get(){return nP},extend(e,t){const n={...e.options||aCt},{annotations:r=[],marks:o=[]}=e,i=[iCt,sCt],s=Object.assign(_t(nP,yK),e,{type:nP,options:n});return zn(s,"fields",()=>i.map(l=>{const{name:u,...d}=l;return{name:u,type:t(d)}})),zn(s,"annotations",()=>r.map(t)),zn(s,"marks",()=>o.map(t)),zn(s,"preview",Pw(e)),a(s);function a(l){return{get(){return l},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "span"');const d=Object.assign({},l,_t(u,yK),{type:l});return a(d)}}}}};var cCt=Object.freeze({__proto__:null,any:$xt,array:zwt,block:eCt,boolean:Bxt,crossDatasetReference:Dwt,date:Lxt,datetime:Fxt,document:Nwt,email:zxt,file:Lwt,image:Rwt,number:Vxt,object:iSe,reference:Cwt,span:lCt,string:Rxt,text:Mxt,url:Nxt}),uCt=Object.defineProperty,dCt=(e,t,n)=>t in e?uCt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bK=(e,t,n)=>(dCt(e,typeof t!="symbol"?t+"":t,n),n);function fCt(e){const t=Object.assign(Object.create(null),cCt),n=e.types.reduce((s,a)=>{if(s[a.name])throw new Error("Duplicate type name added to schema: ".concat(a.name));return s[a.name]=a,s},{});return e.types.forEach(i),t;function r(s){if(!t[s]){if(!n[s])throw new Error("Unknown type: ".concat(s));i(n[s])}}function o(s){return r(s.type),t[s.type].extend(s,o).get()}function i(s){r(s.type),!t[s.name]&&(t[s.name]=t[s.type].extend(s,o))}}let hCt=class aSe{constructor(t){bK(this,"_original"),bK(this,"_registry"),this._original=t,this._registry=fCt(t)}static compile(t){return new aSe(t)}get name(){return this._original.name}get(t){return this._registry[t]&&this._registry[t].get()}has(t){return t in this._registry}getTypeNames(){return Object.keys(this._registry)}};const z8=hCt;var pCt=yT;function mCt(e){return e&&e.length?pCt(e):[]}var gCt=mCt;const uo=De(gCt),vCt={},yCt=Object.freeze(Object.defineProperty({__proto__:null,default:vCt},Symbol.toStringTag,{value:"Module"})),bCt=cRe(yCt);var V8=typeof Map=="function"&&Map.prototype,rP=Object.getOwnPropertyDescriptor&&V8?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,pE=V8&&rP&&typeof rP.get=="function"?rP.get:null,xK=V8&&Map.prototype.forEach,H8=typeof Set=="function"&&Set.prototype,oP=Object.getOwnPropertyDescriptor&&H8?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,mE=H8&&oP&&typeof oP.get=="function"?oP.get:null,wK=H8&&Set.prototype.forEach,xCt=typeof WeakMap=="function"&&WeakMap.prototype,ub=xCt?WeakMap.prototype.has:null,wCt=typeof WeakSet=="function"&&WeakSet.prototype,db=wCt?WeakSet.prototype.has:null,CCt=typeof WeakRef=="function"&&WeakRef.prototype,CK=CCt?WeakRef.prototype.deref:null,_Ct=Boolean.prototype.valueOf,SCt=Object.prototype.toString,ECt=Function.prototype.toString,kCt=String.prototype.match,U8=String.prototype.slice,Yd=String.prototype.replace,jCt=String.prototype.toUpperCase,_K=String.prototype.toLowerCase,lSe=RegExp.prototype.test,SK=Array.prototype.concat,sc=Array.prototype.join,TCt=Array.prototype.slice,EK=Math.floor,zR=typeof BigInt=="function"?BigInt.prototype.valueOf:null,iP=Object.getOwnPropertySymbols,VR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ti=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Yv||"symbol")?Symbol.toStringTag:null,cSe=Object.prototype.propertyIsEnumerable,kK=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function jK(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||lSe.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-EK(-e):EK(e);if(r!==e){var o=String(r),i=U8.call(t,o.length+1);return Yd.call(o,n,"$&_")+"."+Yd.call(Yd.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Yd.call(t,n,"$&_")}var HR=bCt,TK=HR.custom,AK=dSe(TK)?TK:null,ACt=function e(t,n,r,o){var i=n||{};if(Dd(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Dd(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=Dd(i,"customInspect")?i.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Dd(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Dd(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=i.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return hSe(t,i);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var l=String(t);return a?jK(t,l):l}if(typeof t=="bigint"){var u=String(t)+"n";return a?jK(t,u):u}var d=typeof i.depth>"u"?5:i.depth;if(typeof r>"u"&&(r=0),r>=d&&d>0&&typeof t=="object")return UR(t)?"[Array]":"[Object]";var f=qCt(i,r);if(typeof o>"u")o=[];else if(fSe(o,t)>=0)return"[Circular]";function p(I,P,M){if(P&&(o=TCt.call(o),o.push(P)),M){var $={depth:i.depth};return Dd(i,"quoteStyle")&&($.quoteStyle=i.quoteStyle),e(I,$,r+1,o)}return e(I,i,r+1,o)}if(typeof t=="function"&&!DK(t)){var m=LCt(t),v=a_(t,p);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(v.length>0?" { "+sc.call(v,", ")+" }":"")}if(dSe(t)){var g=Yv?Yd.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):VR.call(t);return typeof t=="object"&&!Yv?F1(g):g}if(UCt(t)){for(var b="<"+_K.call(String(t.nodeName)),x=t.attributes||[],y=0;y<x.length;y++)b+=" "+x[y].name+"="+uSe(DCt(x[y].value),"double",i);return b+=">",t.childNodes&&t.childNodes.length&&(b+="..."),b+="</"+_K.call(String(t.nodeName))+">",b}if(UR(t)){if(t.length===0)return"[]";var w=a_(t,p);return f&&!YCt(w)?"["+WR(w,f)+"]":"[ "+sc.call(w,", ")+" ]"}if(PCt(t)){var C=a_(t,p);return!("cause"in Error.prototype)&&"cause"in t&&!cSe.call(t,"cause")?"{ ["+String(t)+"] "+sc.call(SK.call("[cause]: "+p(t.cause),C),", ")+" }":C.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+sc.call(C,", ")+" }"}if(typeof t=="object"&&s){if(AK&&typeof t[AK]=="function"&&HR)return HR(t,{depth:d-r});if(s!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(BCt(t)){var _=[];return xK&&xK.call(t,function(I,P){_.push(p(P,t,!0)+" => "+p(I,t))}),IK("Map",pE.call(t),_,f)}if(VCt(t)){var S=[];return wK&&wK.call(t,function(I){S.push(p(I,t))}),IK("Set",mE.call(t),S,f)}if(NCt(t))return sP("WeakMap");if(HCt(t))return sP("WeakSet");if(zCt(t))return sP("WeakRef");if($Ct(t))return F1(p(Number(t)));if(MCt(t))return F1(p(zR.call(t)));if(RCt(t))return F1(_Ct.call(t));if(OCt(t))return F1(p(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(t===xs)return"{ [object globalThis] }";if(!ICt(t)&&!DK(t)){var E=a_(t,p),j=kK?kK(t)===Object.prototype:t instanceof Object||t.constructor===Object,k=t instanceof Object?"":"null prototype",T=!j&&Ti&&Object(t)===t&&Ti in t?U8.call(ih(t),8,-1):k?"Object":"",A=j||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",D=A+(T||k?"["+sc.call(SK.call([],T||[],k||[]),": ")+"] ":"");return E.length===0?D+"{}":f?D+"{"+WR(E,f)+"}":D+"{ "+sc.call(E,", ")+" }"}return String(t)};function uSe(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function DCt(e){return Yd.call(String(e),/"/g,"&quot;")}function UR(e){return ih(e)==="[object Array]"&&(!Ti||!(typeof e=="object"&&Ti in e))}function ICt(e){return ih(e)==="[object Date]"&&(!Ti||!(typeof e=="object"&&Ti in e))}function DK(e){return ih(e)==="[object RegExp]"&&(!Ti||!(typeof e=="object"&&Ti in e))}function PCt(e){return ih(e)==="[object Error]"&&(!Ti||!(typeof e=="object"&&Ti in e))}function OCt(e){return ih(e)==="[object String]"&&(!Ti||!(typeof e=="object"&&Ti in e))}function $Ct(e){return ih(e)==="[object Number]"&&(!Ti||!(typeof e=="object"&&Ti in e))}function RCt(e){return ih(e)==="[object Boolean]"&&(!Ti||!(typeof e=="object"&&Ti in e))}function dSe(e){if(Yv)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!VR)return!1;try{return VR.call(e),!0}catch{}return!1}function MCt(e){if(!e||typeof e!="object"||!zR)return!1;try{return zR.call(e),!0}catch{}return!1}var FCt=Object.prototype.hasOwnProperty||function(e){return e in this};function Dd(e,t){return FCt.call(e,t)}function ih(e){return SCt.call(e)}function LCt(e){if(e.name)return e.name;var t=kCt.call(ECt.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function fSe(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function BCt(e){if(!pE||!e||typeof e!="object")return!1;try{pE.call(e);try{mE.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function NCt(e){if(!ub||!e||typeof e!="object")return!1;try{ub.call(e,ub);try{db.call(e,db)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function zCt(e){if(!CK||!e||typeof e!="object")return!1;try{return CK.call(e),!0}catch{}return!1}function VCt(e){if(!mE||!e||typeof e!="object")return!1;try{mE.call(e);try{pE.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function HCt(e){if(!db||!e||typeof e!="object")return!1;try{db.call(e,db);try{ub.call(e,ub)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function UCt(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function hSe(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return hSe(U8.call(e,0,t.maxStringLength),t)+r}var o=Yd.call(Yd.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,WCt);return uSe(o,"single",t)}function WCt(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+jCt.call(t.toString(16))}function F1(e){return"Object("+e+")"}function sP(e){return e+" { ? }"}function IK(e,t,n,r){var o=r?WR(n,r):sc.call(n,", ");return e+" ("+t+") {"+o+"}"}function YCt(e){for(var t=0;t<e.length;t++)if(fSe(e[t],`
`)>=0)return!1;return!0}function qCt(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=sc.call(Array(e.indent+1)," ");else return null;return{base:n,prev:sc.call(Array(t+1),n)}}function WR(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+sc.call(e,","+n)+`
`+t.prev}function a_(e,t){var n=UR(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=Dd(e,o)?t(e[o],e):""}var i=typeof iP=="function"?iP(e):[],s;if(Yv){s={};for(var a=0;a<i.length;a++)s["$"+i[a]]=i[a]}for(var l in e)Dd(e,l)&&(n&&String(Number(l))===l&&l<e.length||Yv&&s["$"+l]instanceof Symbol||(lSe.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if(typeof iP=="function")for(var u=0;u<i.length;u++)cSe.call(e,i[u])&&r.push("["+t(i[u])+"]: "+t(e[i[u]],e));return r}const zg=De(ACt);function GCt(e,t,n,r){for(var o=-1,i=e==null?0:e.length;++o<i;){var s=e[o];t(r,s,n(s),e)}return r}var KCt=GCt,ZCt=RCe;function XCt(e,t,n,r){return ZCt(e,function(o,i,s){t(r,o,n(o),s)}),r}var QCt=XCt,JCt=KCt,e_t=QCt,t_t=rh,n_t=Jr;function r_t(e,t){return function(n,r){var o=n_t(n)?JCt:e_t,i=t?t():{};return o(n,e,t_t(r),i)}}var W8=r_t,o_t=W8,i_t=o_t(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),s_t=i_t;const Y8=De(s_t);var a_t=function(t,n){if(!Array.isArray(t))throw new TypeError("humanize-list expected an array");n=n||{},n.conjunction=n.conjunction||"and";var r=t.length;if(r===1)return t[0];if(n.skipConjunction)return t.join(", ");for(var o="",i=0;i<r;i++)i===r-1?(n.oxfordComma&&(o+=","),o+=" "+n.conjunction+" "):i!==0&&(o+=", "),o+=t[i];return o};const Cs=De(a_t);var q8={exports:{}};const aP=[],PK=[],pSe=(e,t)=>{if(e===t)return 0;const n=e;e.length>t.length&&(e=t,t=n);let r=e.length,o=t.length;for(;r>0&&e.charCodeAt(~-r)===t.charCodeAt(~-o);)r--,o--;let i=0;for(;i<r&&e.charCodeAt(i)===t.charCodeAt(i);)i++;if(r-=i,o-=i,r===0)return o;let s,a,l,u,d=0,f=0;for(;d<r;)PK[d]=e.charCodeAt(i+d),aP[d]=++d;for(;f<o;)for(s=t.charCodeAt(i+f),l=f++,a=f,d=0;d<r;d++)u=s===PK[d]?l:l+1,l=aP[d],a=aP[d]=l>a?u>a?a+1:u:u>l?l+1:u;return a};q8.exports=pSe;q8.exports.default=pSe;var l_t=q8.exports;const c_t=De(l_t),u_t="https://docs.sanity.io/help/";function mSe(e){return u_t+e}const et={TYPE_INVALID:"schema-type-invalid",TYPE_IS_ESM_MODULE:"schema-type-is-esm-module",TYPE_NAME_RESERVED:"schema-type-name-reserved",TYPE_MISSING_NAME:"schema-type-missing-name-or-type",TYPE_MISSING_TYPE:"schema-type-missing-name-or-type",TYPE_TITLE_RECOMMENDED:"schema-type-title-is-recommended",TYPE_TITLE_INVALID:"schema-type-title-is-recommended",OBJECT_FIELDS_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_NOT_UNIQUE:"schema-object-fields-invalid",OBJECT_FIELD_NAME_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_DEFINITION_INVALID_TYPE:"schema-object-fields-invalid",ARRAY_PREDEFINED_CHOICES_INVALID:"schema-predefined-choices-invalid",ARRAY_OF_ARRAY:"schema-array-of-array",ARRAY_OF_INVALID:"schema-array-of-invalid",ARRAY_OF_NOT_UNIQUE:"schema-array-of-invalid",ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT:"schema-array-of-type-global-type-conflict",ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT:"schema-array-of-type-builtin-type-conflict",REFERENCE_TO_INVALID:"schema-reference-to-invalid",REFERENCE_TO_NOT_UNIQUE:"schema-reference-to-invalid",REFERENCE_INVALID_OPTIONS:"schema-reference-invalid-options",REFERENCE_INVALID_OPTIONS_LOCATION:"schema-reference-options-nesting",REFERENCE_INVALID_FILTER_PARAMS_COMBINATION:"schema-reference-filter-params-combination",SLUG_SLUGIFY_FN_RENAMED:"slug-slugifyfn-renamed",ASSET_METADATA_FIELD_INVALID:"asset-metadata-field-invalid",CROSS_DATASET_REFERENCE_INVALID:"cross-dataset-reference-invalid",DEPRECATED_BLOCKEDITOR_KEY:"schema-deprecated-blockeditor-key",STANDALONE_BLOCK_TYPE:"schema-standalone-block-type"};function gSe(e,t,n){if(n&&!Object.keys(et).some(r=>et[r]===n))throw new Error('Used the unknown helpId "'.concat(n,'", please add it to the array in createValidationResult.js'));return{severity:e,message:t,helpId:n}}const Te=(e,t)=>gSe("error",e,t),Br=(e,t)=>gSe("warning",e,t);function d_t(e){return En(e.map(t=>vSe(t))).filter(t=>t.problems.length>0)}function km(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n=>Nn(n,e);return function(r,o){const i=[...o,{kind:"type",type:r.type,name:r.name}],s=t(r)||[],a=Array.isArray(s)?s.map(l=>{const u={kind:"property",name:e},d=[...i,u];return vSe(l,d)}):[[{path:i,problems:[Te("Member declaration (".concat(e,") is not an array"))]}]];return[{path:i,problems:r._problems||[]},...En(a)]}}const f_t=e=>Array.isArray(e)?e:typeof e>"u"&&[]||[e],OK=km("fields"),h_t=km("fields"),p_t=km("fields"),m_t=km("of"),g_t=km("to",e=>"to"in e?f_t(e.to):[]),v_t=km("marks.annotations"),y_t=km("of"),b_t=(e,t)=>[...v_t(e,t),...y_t(e,t)];function x_t(e){return[{path:[...arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],{kind:"type",type:e.type,name:e.name}],problems:e._problems||[]}]}function vSe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];switch(e.type){case"object":return OK(e,t);case"document":return OK(e,t);case"array":return m_t(e,t);case"reference":return g_t(e,t);case"block":return b_t(e,t);case"image":return h_t(e,t);case"file":return p_t(e,t);default:return x_t(e,t)}}function wT(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r=>r;const n=e.reduce((r,o)=>{const i=t(o);return r[i]||(r[i]=[]),r[i].push(o),r},{});return Object.keys(n).map(r=>n[r].length>1?n[r]:null).filter(Boolean)}const w_t=e=>e,C_t={name:"type",type:null},__t=["any","time","date"];function S_t(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w_t;const r=Object.create(null),o=Object.create(null),i=t.map(v=>v.name),s=__t.concat(i),a=e.map(v=>v&&v.name).filter(Boolean);t.forEach(v=>{r[v.name]=v}),e.forEach((v,g)=>{o[v&&v.name||"__unnamed_".concat(g)]={}});function l(v){return v==="type"?C_t:r[v]||o[v]||null}const u=uo(En(wT(a)));function d(v){return u.includes(v)}function f(){return a.concat(i)}function p(v){return v==="type"||s.includes(v)}const m=v=>(g,b)=>n(g,{visit:m(!1),isRoot:v,getType:l,getTypeNames:f,isReserved:p,isDuplicate:d,index:b});return t.forEach(v=>{Object.assign(r[v.name],m(v))}),e.forEach((v,g)=>{Object.assign(o[v&&v.name||"__unnamed_".concat(g)],m(!0)(v,g))}),{get(v){const g=o[v]||r[v];if(g)return g;throw new Error("No such type: ".concat(v))},has(v){return v in o||v in r},getTypeNames(){return Object.keys(o)},getTypes(){return this.getTypeNames().map(this.get)},toJSON(){return this.getTypes()}}}const ySe=[{name:"array",jsonType:"array",type:"type"},{name:"block",jsonType:"object",type:"type"},{name:"boolean",jsonType:"boolean",type:"type"},{name:"datetime",jsonType:"string",type:"type"},{name:"date",jsonType:"string",type:"type"},{name:"document",jsonType:"object",type:"type"},{name:"email",jsonType:"string",type:"type"},{name:"file",jsonType:"object",type:"type"},{name:"geopoint",jsonType:"object",type:"type"},{name:"image",jsonType:"object",type:"type"},{name:"number",jsonType:"number",type:"type"},{name:"object",jsonType:"object",type:"type"},{name:"reference",jsonType:"object",type:"type"},{name:"crossDatasetReference",jsonType:"object",type:"type"},{name:"slug",jsonType:"object",type:"type"},{name:"span",jsonType:"object",type:"type"},{name:"string",jsonType:"string",type:"type"},{name:"telephone",jsonType:"string",type:"type"},{name:"text",jsonType:"string",type:"type"},{name:"url",jsonType:"string",type:"type"}],bSe=ySe.map(e=>e.name);function E_t(e,t){return S_t(e,ySe,t)}const k_t=/^Symbol\(react\..+\)$/;function l_(e){return typeof e==="function"||typeof(e==null?void 0:e.$$typeof)=="symbol"&&k_t.test(String(e==null?void 0:e.$$typeof))}function xSe(e){const t="components"in e?e.components:!1;if(!t)return[];const n=[];return t.input&&!l_(t.input)&&n.push(Br("The `components.input` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(zg(t.input),"). If you have imported a custom input component, please verify that you have imported the correct named/default export."))),t.field&&!l_(t.field)&&n.push(Br("The `components.field` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(zg(t.field),"). If you have imported a custom field component, please verify that you have imported the correct named/default export."))),t.item&&!l_(t.item)&&n.push(Br("The `components.item` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(zg(t.item),"). If you have imported a custom item component, please verify that you have imported the correct named/default export."))),t.preview&&!l_(t.preview)&&n.push(Br("The `components.preview` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(zg(t.preview),"). If you have imported a custom preview component, please verify that you have imported the correct named/default export."))),n}const $K=/^[A-Za-z]+[0-9A-Za-z_]*$/,j_t=/^[A-Za-z_]+[0-9A-Za-z_]*$/;function T_t(e){return typeof e!="string"?[Te('Field names must be strings. Saw "'.concat(zg(e),'"'),et.OBJECT_FIELD_NAME_INVALID)]:e.startsWith("_")?[Te('Invalid field name "'.concat(e,`". Field names cannot start with underscores "_" as it's reserved for system fields.`),et.OBJECT_FIELD_NAME_INVALID)]:$K.test(e)?j_t.test(e)?[]:[Br("Thats an interesting field name for sure! But it is... how to put it... a bit... unconventional? It may be wise to keep special characters out of field names for easier access later on."),et.OBJECT_FIELD_NAME_INVALID]:[Te('Invalid field name: "'.concat(e,'". Fields can only contain characters from A-Z, numbers and underscores and should not start with a number (must pass the regular expression ').concat(String($K),")."),et.OBJECT_FIELD_NAME_INVALID)]}function G8(e,t){if(!_r(e))return[Te("Incorrect type for field definition - should be an object, saw ".concat(zg(e)),et.OBJECT_FIELD_DEFINITION_INVALID_TYPE)];const n=[];return n.push(..."name"in e?T_t(e.name):[Te("Missing field name",et.OBJECT_FIELD_NAME_INVALID)]),n.push(...xSe(e)),n}function A_t(e){const t={};return e.forEach(n=>{t[n.name]||(t[n.name]=[]),t[n.name].push(n)}),Object.keys(t).map(n=>t[n].length>1?t[n]:null).filter(Boolean)}function K8(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{allowEmpty:!1};const n=[];if(!Array.isArray(e))return[Te('The "fields" property must be an array of fields. Instead saw "'.concat(typeof e,'"'),et.OBJECT_FIELDS_INVALID)];const o=e.filter(s=>typeof s.name=="string");A_t(o).forEach(s=>{n.push(Te("Found ".concat(s.length,' fields with name "').concat(s[0].name,'" in object'),et.OBJECT_FIELD_NOT_UNIQUE))}),e.length===0&&!t.allowEmpty&&n.push(Te("Object should have at least one field",et.OBJECT_FIELDS_INVALID));const i=e.filter(s=>s.type==="block").map(s=>'"'.concat(s.name,'"'));if(i.length>0){const s=i.join(", ");n.push(Te("Invalid standalone block field(s) ".concat(s,". Block content must be defined as an array of blocks"),et.STANDALONE_BLOCK_TYPE))}return n}function D_t(e){return _r(e)?typeof e.prepare<"u"&&typeof e.prepare!="function"?[Te('The "preview.prepare" property must be a function, instead saw "'.concat(typeof e.prepare,'"'))]:e.select?_r(e.select)?Object.keys(e.select).reduce((t,n)=>typeof e.select[n]=="string"?t:t.concat(Te('The key "'.concat(n,'" of "preview.select" must be a string, instead saw "').concat(typeof e.select[n],'"'))),[]):[Te('The "preview.select" property must be an object, instead saw "'.concat(typeof e.prepare,'"'))]:[]:[Te('The "preview" property must be an object, instead saw "'.concat(typeof e,'"'))]}var wSe=(e,t)=>{let n=K8(e.fields),r=e.preview;if(r){const o=D_t(e.preview);n=n.concat(o),r=o.some(i=>i.severity==="error")?{}:r}return e.type!=="document"&&e.type!=="object"&&typeof e.initialValue<"u"&&n.push(Te('The "initialValue" property is currently only supported for document & object types.')),{...e,preview:r,fields:(Array.isArray(e.fields)?e.fields:[]).map((o,i)=>{const{name:s,...a}=o,{_problems:l,...u}=t.visit(a,i);return{name:s,...u,_problems:G8(o).concat(l||[])}}),_problems:n}},I_t=(e,t)=>{const n=wSe(e,t),{initialValue:r,initialValues:o}=n;return typeof r<"u"&&!_r(r)&&typeof r!="function"&&n._problems.push(Te('The "initialValue" property must be either a plain object or a function')),typeof o<"u"&&n._problems.push(Te('Found property "initialValues" - did you mean "initialValue"?')),n};function P_t(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}var O_t=(e,t)=>{const n=Array.isArray(e.to)||_r(e.to),r=P_t(e),o=En([n?wT(r,i=>"".concat(i.name,";").concat(i.type)).map(i=>Te("Found ".concat(i.length,' members with same type, but not unique names "').concat(i[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),et.REFERENCE_TO_INVALID)):Te('The reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',et.REFERENCE_TO_INVALID)]);return n&&r.length===0&&o.push(Te('The reference type should define at least one accepted type. Please check the "to" property.',et.REFERENCE_TO_INVALID)),o.push(...$_t(e)),{...e,to:(n?r:[]).map(t.visit),_problems:o}};function $_t(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(r=>r in e).map(r=>Te("`".concat(r,"` is not allowed on a reference type definition - did you mean `options.").concat(r,"`?"),et.REFERENCE_INVALID_OPTIONS_LOCATION))),t?_r(t)?typeof t.filter=="function"&&typeof t.filterParams<"u"?n.concat(Te("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",et.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof t.filter=="function"||!t.filter&&!t.filterParams?n:typeof t.filter!="string"?n.concat(Te("If set, `filter` must be a string. Got ".concat(typeof t.filter))):typeof t.filterParams<"u"&&!_r(t.filterParams)?n.concat(Te("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>Te('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(r,'".')))):n:n.concat(Te("The reference type expects `options` to be an object",et.REFERENCE_INVALID_OPTIONS)):n}function RK(e){return e==="string"||e==="number"||e==="boolean"}function R_t(e,t){return(typeof t.name=="string"?t.name:t.type)===e}function fb(e){return'"'.concat(e,'"')}function MK(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"s";return e.length===1?"":t}function FK(e){return Array.isArray(e)?"array with ".concat(e.length," entries"):typeof e=="object"&&e!==null?"object with keys ".concat(Cs(Object.keys(e).map(fb))):fb(e)}var M_t=(e,t)=>{var n,r,o;const i=Array.isArray(e.of);if(i){const v=e.of.reduce((g,b,x)=>{if(typeof b.name=="string"&&b.name!==b.type&&bSe.includes(b.name))return g.concat(Te('Found array member declaration with the same type name as a built-in type ("'.concat(b.name,'"). Array members can not be given the same name as a built-in type.'),et.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT));if(b.type==="object"&&b.name&&t.getType(b.name))return g.concat(Br('Found array member declaration with the same name as the global schema type "'.concat(b.name,`". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`),et.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT));if(b.type==="array")return g.concat(Te('Found array member declaration of type "array" - multidimensional arrays are not currently supported by Sanity',et.ARRAY_OF_ARRAY));if(b)return g;const y="Found ".concat(b===null?"null":typeof b,", expected member declaration");return g.concat(Te("Found invalid type member declaration in array at index ".concat(x,": ").concat(y),et.ARRAY_OF_INVALID))},[]);if(v.length>0)return{...e,of:[],_problems:v}}const s=En([i?wT(e.of,v=>"".concat(v.name,";").concat(v.type)).map(v=>Te("Found ".concat(v.length,' members with same type, but not unique names "').concat(v[0].type,'" in array. This makes it impossible to tell their values apart and you should consider naming them'),et.ARRAY_OF_NOT_UNIQUE)):Te('The array type is missing or having an invalid value for the required "of" property',et.ARRAY_OF_INVALID)]),a=i?e.of:[],l=a.some(v=>v.type==="object"&&typeof v.name>"u");a.some(v=>v.type==="block")&&l&&s.push(Te("The array type's 'of' property can't have an object type without a 'name' property as member, when the 'block' type is also a member of that array.",et.ARRAY_OF_INVALID));const[d,f]=Y8(a,v=>{var g;return RK(v.type)||RK((g=t.getType(v.type))==null?void 0:g.jsonType)}),p=d.length>0&&f.length>0;if(p){const v=d.map(b=>b.type),g=f.map(b=>b.type);s.push(Te("The array type's 'of' property can't have both object types and primitive types (found primitive type ".concat(MK(v)," ").concat(Cs(v.map(fb))," and object type").concat(MK(g)," ").concat(Cs(g.map(fb)),")"),et.ARRAY_OF_INVALID))}const m=(n=e==null?void 0:e.options)==null?void 0:n.list;return!p&&Array.isArray(m)&&(d.length>0?m.forEach(g=>{var b;const x=(b=g==null?void 0:g.value)!=null?b:g;if(!d.some(w=>typeof x===t.getType(w.type).jsonType)){const w=Cs(d.map(C=>C.name||C.type),{conjunction:"or"});s.push(Te("An invalid entry found in options.list: ".concat(FK(x),". Must be either a value of type ").concat(w,", or an object with {title: string, value: ").concat(w,"}"),et.ARRAY_PREDEFINED_CHOICES_INVALID))}}):m.forEach(g=>{const b=g._type||"object";f.some(y=>R_t(b,y))||s.push(Te("An invalid entry found in options.list: ".concat(FK(g),'. Must be an object with "_type" set to ').concat(Cs(f.map(y=>y.name||y.type).map(y=>y==="object"?"undefined":fb(y)),{conjunction:"or"})),et.ARRAY_PREDEFINED_CHOICES_INVALID))})),(r=e==null?void 0:e.options)!=null&&r.list&&((o=e==null?void 0:e.options)==null?void 0:o.layout)==="tags"&&s.push(Br("Found array member declaration with both tags layout and a list of predefined values. If you want to display a list of predefined values, remove the tags layout from `options`.")),{...e,of:a.map(t.visit),_problems:s}},F_t=(e,t)=>{const n=[];return e.options&&e.options.slugifyFn&&(n.push(Br('Heads up! The "slugifyFn" option has been renamed to "slugify".',et.SLUG_SLUGIFY_FN_RENAMED)),e.options.slugify=e.options.slugifyFn),{...e,_problems:n}},L_t=(e,t)=>{const n=[],r=e.fields;r&&n.push(...K8(r,{allowEmpty:!0}));const o=Array.isArray(r)?r==null?void 0:r.filter(i=>i.name==="asset"):[];return e.options&&typeof e.options.metadata<"u"&&!Array.isArray(e.options.metadata)?n.push(Te("Invalid type for file `metadata` field - must be an array of strings",et.ASSET_METADATA_FIELD_INVALID)):o.length>0&&n.push(Te("The name `asset` is not a valid field name for type `file`.")),{...e,fields:(Array.isArray(r)?r:[]).map((i,s)=>{const{name:a,...l}=i,{_problems:u,...d}=t.visit(l,s);return{name:a,...d,_problems:G8(i).concat(u||[])}}),_problems:n}};const LK=["dimensions","hasAlpha","isOpaque"];var B_t=(e,t)=>{const n=[],r=e.fields;r&&n.push(...K8(r,{allowEmpty:!0}));let o=e.options;const i=o==null?void 0:o.metadata,s=Array.isArray(i)?i.filter(u=>LK.includes(u)):[],a=["asset","hotspot","crop"],l=Array.isArray(r)?r==null?void 0:r.filter(u=>a.includes(u.name)):[];return typeof i<"u"&&!Array.isArray(i)?n.push(Te("Invalid type for image `metadata` field - must be an array of strings",et.ASSET_METADATA_FIELD_INVALID)):s.length>0?(n.push(Br("Image `metadata` field contains superfluous properties (they are always included): ".concat(s.join(", ")))),o={...o,metadata:i.filter(u=>!LK.includes(u))}):l.length>0&&n.push(Te("The names `".concat(a.join("`, `"),"` are invalid field names for type `image`."))),{...e,options:o,fields:(Array.isArray(r)?r:[]).map((u,d)=>{const{name:f,...p}=u,{_problems:m,...v}=t.visit(p,d);return{name:f,...v,_problems:G8(u).concat(m||[])}}),_problems:n}};function CSe(e,t,n){if("jsonType"in e)return e.jsonType===t;const r=n.getType(e.type);if(!r)throw new Error("Could not resolve jsonType of ".concat(e.name,". No parent type found"));return CSe(r,t,n)}const na=e=>Array.isArray(e)?"array":typeof e,Ow=e=>'"'.concat(e,'"'),N_t=["components","lists","marks","name","of","options","styles","title","type","validation"],z_t=["decorators","annotations"],V_t=["blockEditor","title","value","component"],H_t=["blockEditor","title","value","icon","component"],U_t=["title","value","icon","component"],BK=["file","image","object","reference"];function W_t(e,t){const n=[];let r=e.styles,o=e.lists,i=e.marks,s=e.of;const a=Object.keys(e).filter(l=>!N_t.includes(l)&&!l.startsWith("_"));return a.length>0&&n.push(Te("Found unknown properties for block declaration: ".concat(Cs(a.map(Ow))))),i&&(i=Y_t(e.marks,t,n)),r&&(r=G_t(r,t,n)),o&&(o=q_t(o,t,n)),s&&(s=X_t(s,t,n)),{...ji(e,a),marks:i,styles:r,name:e.name||e.type,of:s,_problems:n}}function Y_t(e,t,n){let r=e.decorators,o=e.annotations;if(!_r(e))return n.push(Te('"marks" declaration should be an object, got '.concat(na(e)))),n;const i=Object.keys(e).filter(s=>!z_t.includes(s)&&!s.startsWith("_"));return i.length>0&&n.push(Te("Found unknown properties for block declaration: ".concat(Cs(i.map(Ow))))),r&&!Array.isArray(r)?n.push(Te('"marks.decorators" declaration should be an array, got '.concat(na(r)))):r&&(r.filter(s=>!!s.blockEditor).forEach(s=>{s.icon=s.blockEditor.icon,s.component=s.blockEditor.render}),r=K_t(r,t,n)),o&&!Array.isArray(o)?n.push(Te('"marks.annotations" declaration should be an array, got '.concat(na(o)))):o&&(o=Z_t(o,t,n)),{...e,decorators:r,annotations:o}}function q_t(e,t,n){return Array.isArray(e)?(e.forEach((r,o)=>{if(!_r(r)){n.push(Te("List must be an object, got ".concat(na(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!U_t.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(Te("Found unknown properties for list ".concat(i,": ").concat(Cs(s.map(Ow))))),r.value?typeof r.value!="string"?n.push(Te("List type #".concat(o,' has an invalid "value" property, expected string, got ').concat(na(r.value)))):r.title||n.push(Br("List type ".concat(i,' is missing recommended "title" property'))):n.push(Te("List #".concat(o,' is missing required "value" property')))}),e):(n.push(Te('"lists" declaration should be an array, got '.concat(na(e)))),n)}function G_t(e,t,n){return Array.isArray(e)?(e.forEach((r,o)=>{if(!_r(r)){n.push(Te("Style must be an object, got ".concat(na(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!V_t.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(Te("Found unknown properties for style ".concat(i,": ").concat(Cs(s.map(Ow))))),r.value?typeof r.value!="string"?n.push(Te("Style #".concat(o,' has an invalid "value" property, expected string, got ').concat(na(r.value)))):r.title||n.push(Br("Style ".concat(i,' is missing recommended "title" property'))):n.push(Te("Style #".concat(o,' is missing required "value" property'))),typeof r.blockEditor<"u"&&(n.push(Br('Style has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',et.DEPRECATED_BLOCKEDITOR_KEY)),r.component=r.component||r.blockEditor.render)}),e):(n.push(Te('"styles" declaration should be an array, got '.concat(na(e)))),n)}function K_t(e,t,n){return e.forEach((r,o)=>{if(!_r(r)){n.push(Te("Annotation must be an object, got ".concat(na(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!H_t.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(Te("Found unknown properties for decorator ".concat(i,": ").concat(Cs(s.map(Ow))))),r.value?typeof r.value!="string"?n.push(Te("Decorator #".concat(o,' has an invalid "value" property, expected string, got ').concat(na(r.value)))):r.title||n.push(Br("Decorator ".concat(i,' is missing recommended "title" property'))):n.push(Te("Decorator #".concat(o,' is missing required "value" property'))),typeof r.blockEditor<"u"&&(n.push(Br('Decorator "'.concat(i,'" has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.'),et.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,r.component=r.component||r.blockEditor.render)}),e}function Z_t(e,t,n){return e.map(r=>{var o,i;if(!_r(r))return{...r,_problems:[Te("Annotation must be an object, got ".concat(na(r)))]};const{_problems:s}=t.visit(r,t),a=r.type&&t.getType(r.type);return a&&!CSe(a,"object",t)&&s.push(Te('Annotation cannot have type "'.concat(r.type,'" - annotation types must inherit from object'))),typeof r.blockEditor<"u"&&(n.push(Br('Annotation has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',et.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,(o=r.blockEditor)!=null&&o.render&&!((i=r.components)!=null&&i.annotation)&&(r.components=r.components||{},r.components.annotation=r.components.annotation||r.blockEditor.render)),{...r,_problems:s}})}function X_t(e,t,n){if(!Array.isArray(e)){n.push(Te('"of" declaration should be an array, got '.concat(na(e))));return}return e.map(r=>{const{_problems:o}=t.visit(r,t);if(r.type==="object"&&r.name&&t.getType(r.name))return{...r,_problems:[Br('Found array member declaration with the same name as the global schema type "'.concat(r.name,`". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`),et.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT)]};let i=r;for(;i&&!i.jsonType;)i=t.getType(i.type);const s=bSe.filter(a=>!BK.includes(a));return i&&i.jsonType!=="object"||s.some(a=>a===r.type)?{...r,_problems:[Te("Block member types must be a supported object-like type. The following built-in types are supported: '".concat(BK.join("', '"),"'. You can also use shorthands for previously defined object types like {type: 'myObjectType'}"),et.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT)]}:{...r,_problems:o}})}function Q_t(e,t){if(!("fields"in e))return[];let n=e;for(;n&&!n.jsonType;)n=t.getType(n.type);return n&&n.jsonType!=="object"?[Te('Type has propery "fields", but is not an object/document type.')]:[]}const J_t=e=>'"'.concat(e,'"');function e2t(e,t){const n=t.getTypeNames();if(!e)return[Te("Type is missing a type. Valid types are: ".concat(Cs(n)),et.TYPE_MISSING_TYPE)];if(typeof e!="string")return[Te('Type has an invalid "type"-property - should be a string. Valid types are: '.concat(Cs(n)),et.TYPE_MISSING_TYPE)];if(!n.includes(e)){const o=n.map(s=>[c_t(e,s),s]).filter(s=>{let[a]=s;return a<3}).map(s=>{let[a,l]=s;return l}),i=o.length>0?" Did you mean ".concat(Cs(o.map(J_t),{conjunction:"or"}),"?"):"";return[Te("Unknown type: ".concat(e,".").concat(i,`

Valid types are: `).concat(Cs(n)))]}return[]}function t2t(e){var t,n,r;const o=[];return e!=null&&e.inputComponent&&o.push(Br('The "inputComponent" property is deprecated. Use "components.input" instead.')),(t=e==null?void 0:e.preview)!=null&&t.component&&o.push(Br('The "preview.component" property is deprecated. Use "components.preview" instead.')),e!=null&&e.diffComponent&&o.push(Br('The "diffComponent" property is deprecated. Use "components.diff" instead.')),(n=e==null?void 0:e.options)!=null&&n.editModal&&o.push(Br('The "options.editModal" property is deprecated. Use "options.modal" instead.')),(r=e==null?void 0:e.options)!=null&&r.isHighlighted&&o.push(Br('The "options.isHighlighted" property is deprecated. You can put fields behind a collapsed fieldset if you want to hide them from plain sight.')),o}var NK=(e,t)=>({...e,_problems:[...e2t(e.type,t),...Q_t(e,t),...t2t(e)].filter(Boolean)}),n2t=(e,t)=>{const n=!!e.name;if(!n&&Object.keys(e).length===1)return{...e,_problems:[Te("Invalid/undefined type declaration, check declaration or the import/export of the schema type.",et.TYPE_INVALID)]};const r=[];return r2t(e)?r.push(Te("Type appears to be an ES6 module imported through CommonJS require - use an import statement or access the `.default` property",et.TYPE_IS_ESM_MODULE)):n?t.isReserved(e.name)&&r.push(Te('Invalid type name: "'.concat(e.name,'" is a reserved name.'),et.TYPE_NAME_RESERVED)):r.push(Te("Missing type name",et.TYPE_MISSING_NAME)),t.isDuplicate(e.name)&&r.push(Te('Invalid type name: A type with name "'.concat(e.name,'" is already defined in the schema.'))),r.push(...xSe(e)),"title"in e&&typeof e.title!="string"&&r.push(Br("Type title is not a string.",et.TYPE_TITLE_INVALID)),{...e,_problems:r}};function r2t(e){return!e.name&&e.default&&(e.default.name||e.default.title)}function o2t(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}const i2t=/^[a-z0-9~][-_a-z0-9]+$/;function s2t(e){return e.length>=2&&e.toLowerCase()===e&&i2t.test(e)||'The provided dataset "'.concat(e,`" doesn't look like a valid dataset. Dataset names must be more than 2 characters, can only contain lowercase characters, numbers, underscores and dashes and can not start with a dash or an underscore`)}var a2t=(e,t)=>{const n=Array.isArray(e.to)||_r(e.to),r=o2t(e),o=En([n?wT(r,i=>"".concat(i.name,";").concat(i.type)).map(i=>Te("Found ".concat(i.length,' members with same type, but not unique names "').concat(i[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),et.CROSS_DATASET_REFERENCE_INVALID)):Te('The cross dataset reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',et.CROSS_DATASET_REFERENCE_INVALID)]);if(n&&r.length===0&&o.push(Te('The cross dataset reference type should define at least one referenced type. Please check the "to" property.',et.CROSS_DATASET_REFERENCE_INVALID)),r.forEach((i,s)=>{i.type||o.push(Te("The referenced type at index ".concat(s," must be named. Specify the name of the type you want to create references to."),et.CROSS_DATASET_REFERENCE_INVALID)),_r(i.preview)||o.push(Te('Missing required preview config for the referenced type "'.concat(i.type||"<unknown type>",'"'),et.CROSS_DATASET_REFERENCE_INVALID))}),typeof e.dataset=="string"){const i=s2t(e.dataset);i!==!0&&o.push(Te(i,et.CROSS_DATASET_REFERENCE_INVALID))}else o.push(Te("A cross dataset reference must specify a `dataset`",et.CROSS_DATASET_REFERENCE_INVALID));return e.studioUrl&&typeof e.studioUrl!="function"&&o.push(Te('The "studioUrl" property on a cross dataset reference must be a function taking "{id, type}" as argument and returning a studio url.',et.CROSS_DATASET_REFERENCE_INVALID)),o.push(...l2t(e)),{...e,_problems:o}};function l2t(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(r=>r in e).map(r=>Te("`".concat(r,"` is not allowed on a reference type definition - did you mean `options.").concat(r,"`?"),et.REFERENCE_INVALID_OPTIONS_LOCATION))),t?_r(t)?typeof t.filter=="function"&&typeof t.filterParams<"u"?n.concat(Te("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",et.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof t.filter=="function"||!t.filter&&!t.filterParams?n:typeof t.filter!="string"?n.concat(Te("If set, `filter` must be a string. Got ".concat(typeof t.filter))):typeof t.filterParams<"u"&&!_r(t.filterParams)?n.concat(Te("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>Te('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(r,'".')))):n:n.concat(Te("The reference type expects `options` to be an object",et.REFERENCE_INVALID_OPTIONS)):n}const c2t={array:M_t,object:wSe,slug:F_t,file:L_t,image:B_t,block:W_t,document:I_t,reference:O_t,crossDatasetReference:a2t},u2t=e=>t=>({name:"<unnamed_type_@_index_".concat(e.index,">"),...t,_problems:[]});function zK(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(r,o)=>t.reduce((i,s)=>{const a=s(i,o);return{...a,_problems:i._problems.concat(a._problems)}},{_problems:[],...r})}function d2t(e){return E_t(e,(t,n)=>{const r=t&&t.type&&c2t[t.type]||u2t(n);return n.isRoot?zK(n2t,NK,r)(t,n):zK(NK,r)(t,n)})}const YR="__experimental_actions",_Se=["create","update","delete","publish"],lP=_Se,f2t=e=>YR in e?e[YR]:_Se,h2t=(e,t)=>{if(!Array.isArray(t))throw new Error("The value of <type>.".concat(YR," should be an array with any of the actions ").concat(lP.join(", ")));const n=lx(t,lP);if(n.length>0)throw new Error("Invalid action".concat(n.length>1?"s":"",' configured for schema type "').concat(e,'": ').concat(n.join(", "),". Valid actions are: ").concat(lP.join(", ")));return t},p2t=e=>h2t(e.name,f2t(e)),VK=(e,t)=>p2t(e).includes(t);var m2t=L8,g2t=1,v2t=4;function y2t(e){return m2t(e,g2t|v2t)}var b2t=y2t;const x2t=De(b2t);function Ve(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function w2t(e){return Ve(1,arguments),e instanceof Date||jl(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function We(e){Ve(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||jl(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Bu(e){if(Ve(1,arguments),!w2t(e)&&typeof e!="number")return!1;var t=We(e);return!isNaN(Number(t))}function jt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function C2t(e,t){Ve(2,arguments);var n=We(e).getTime(),r=jt(t);return new Date(n+r)}function SSe(e,t){Ve(2,arguments);var n=jt(t);return C2t(e,-n)}var _2t=864e5;function S2t(e){Ve(1,arguments);var t=We(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),o=n-r;return Math.floor(o/_2t)+1}function qv(e){Ve(1,arguments);var t=1,n=We(e),r=n.getUTCDay(),o=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-o),n.setUTCHours(0,0,0,0),n}function ESe(e){Ve(1,arguments);var t=We(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=qv(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var s=qv(i);return t.getTime()>=o.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function E2t(e){Ve(1,arguments);var t=ESe(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=qv(n);return r}var k2t=6048e5;function kSe(e){Ve(1,arguments);var t=We(e),n=qv(t).getTime()-E2t(t).getTime();return Math.round(n/k2t)+1}var j2t={};function id(){return j2t}function Yp(e,t){var n,r,o,i,s,a,l,u;Ve(1,arguments);var d=id(),f=jt((n=(r=(o=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&o!==void 0?o:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=We(e),m=p.getUTCDay(),v=(m<f?7:0)+m-f;return p.setUTCDate(p.getUTCDate()-v),p.setUTCHours(0,0,0,0),p}function Z8(e,t){var n,r,o,i,s,a,l,u;Ve(1,arguments);var d=We(e),f=d.getUTCFullYear(),p=id(),m=jt((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:p.firstWeekContainsDate)!==null&&r!==void 0?r:(l=p.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(f+1,0,m),v.setUTCHours(0,0,0,0);var g=Yp(v,t),b=new Date(0);b.setUTCFullYear(f,0,m),b.setUTCHours(0,0,0,0);var x=Yp(b,t);return d.getTime()>=g.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function T2t(e,t){var n,r,o,i,s,a,l,u;Ve(1,arguments);var d=id(),f=jt((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=Z8(e,t),m=new Date(0);m.setUTCFullYear(p,0,f),m.setUTCHours(0,0,0,0);var v=Yp(m,t);return v}var A2t=6048e5;function jSe(e,t){Ve(1,arguments);var n=We(e),r=Yp(n,t).getTime()-T2t(n,t).getTime();return Math.round(r/A2t)+1}function wn(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var D2t={y:function(t,n){var r=t.getUTCFullYear(),o=r>0?r:1-r;return wn(n==="yy"?o%100:o,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):wn(r+1,2)},d:function(t,n){return wn(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return wn(t.getUTCHours()%12||12,n.length)},H:function(t,n){return wn(t.getUTCHours(),n.length)},m:function(t,n){return wn(t.getUTCMinutes(),n.length)},s:function(t,n){return wn(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,o=t.getUTCMilliseconds(),i=Math.floor(o*Math.pow(10,r-3));return wn(i,n.length)}};const vd=D2t;var Zm={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},I2t={G:function(t,n,r){var o=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var o=t.getUTCFullYear(),i=o>0?o:1-o;return r.ordinalNumber(i,{unit:"year"})}return vd.y(t,n)},Y:function(t,n,r,o){var i=Z8(t,o),s=i>0?i:1-i;if(n==="YY"){var a=s%100;return wn(a,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):wn(s,n.length)},R:function(t,n){var r=ESe(t);return wn(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return wn(r,n.length)},Q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(o);case"QQ":return wn(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(o);case"qq":return wn(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,n,r){var o=t.getUTCMonth();switch(n){case"M":case"MM":return vd.M(t,n);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(t,n,r){var o=t.getUTCMonth();switch(n){case"L":return String(o+1);case"LL":return wn(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(t,n,r,o){var i=jSe(t,o);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):wn(i,n.length)},I:function(t,n,r){var o=kSe(t);return n==="Io"?r.ordinalNumber(o,{unit:"week"}):wn(o,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):vd.d(t,n)},D:function(t,n,r){var o=S2t(t);return n==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):wn(o,n.length)},E:function(t,n,r){var o=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(t,n,r,o){var i=t.getUTCDay(),s=(i-o.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return wn(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,o){var i=t.getUTCDay(),s=(i-o.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return wn(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){var o=t.getUTCDay(),i=o===0?7:o;switch(n){case"i":return String(i);case"ii":return wn(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(t,n,r){var o=t.getUTCHours(),i=o/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){var o=t.getUTCHours(),i;switch(o===12?i=Zm.noon:o===0?i=Zm.midnight:i=o/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){var o=t.getUTCHours(),i;switch(o>=17?i=Zm.evening:o>=12?i=Zm.afternoon:o>=4?i=Zm.morning:i=Zm.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var o=t.getUTCHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return vd.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):vd.H(t,n)},K:function(t,n,r){var o=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(o,{unit:"hour"}):wn(o,n.length)},k:function(t,n,r){var o=t.getUTCHours();return o===0&&(o=24),n==="ko"?r.ordinalNumber(o,{unit:"hour"}):wn(o,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):vd.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):vd.s(t,n)},S:function(t,n){return vd.S(t,n)},X:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return UK(s);case"XXXX":case"XX":return qh(s);case"XXXXX":case"XXX":default:return qh(s,":")}},x:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"x":return UK(s);case"xxxx":case"xx":return qh(s);case"xxxxx":case"xxx":default:return qh(s,":")}},O:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+HK(s,":");case"OOOO":default:return"GMT"+qh(s,":")}},z:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+HK(s,":");case"zzzz":default:return"GMT"+qh(s,":")}},t:function(t,n,r,o){var i=o._originalDate||t,s=Math.floor(i.getTime()/1e3);return wn(s,n.length)},T:function(t,n,r,o){var i=o._originalDate||t,s=i.getTime();return wn(s,n.length)}};function HK(e,t){var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),i=r%60;if(i===0)return n+String(o);var s=t||"";return n+String(o)+s+wn(i,2)}function UK(e,t){if(e%60===0){var n=e>0?"-":"+";return n+wn(Math.abs(e)/60,2)}return qh(e,t)}function qh(e,t){var n=t||"",r=e>0?"-":"+",o=Math.abs(e),i=wn(Math.floor(o/60),2),s=wn(o%60,2);return r+i+n+s}const P2t=I2t;var WK=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},TSe=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},O2t=function(t,n){var r=t.match(/(P+)(p+)?/)||[],o=r[1],i=r[2];if(!i)return WK(t,n);var s;switch(o){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",WK(o,n)).replace("{{time}}",TSe(i,n))},$2t={p:TSe,P:O2t};const qR=$2t;function gE(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var R2t=["D","DD"],M2t=["YY","YYYY"];function ASe(e){return R2t.indexOf(e)!==-1}function DSe(e){return M2t.indexOf(e)!==-1}function vE(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var F2t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},L2t=function(t,n,r){var o,i=F2t[t];return typeof i=="string"?o=i:n===1?o=i.one:o=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};const B2t=L2t;function cP(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var N2t={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},z2t={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},V2t={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},H2t={date:cP({formats:N2t,defaultWidth:"full"}),time:cP({formats:z2t,defaultWidth:"full"}),dateTime:cP({formats:V2t,defaultWidth:"full"})};const U2t=H2t;var W2t={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Y2t=function(t,n,r,o){return W2t[t]};const q2t=Y2t;function L1(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",o;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):i;o=e.formattingValues[s]||e.formattingValues[i]}else{var a=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;o=e.values[l]||e.values[a]}var u=e.argumentCallback?e.argumentCallback(t):t;return o[u]}}var G2t={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},K2t={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Z2t={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},X2t={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Q2t={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},J2t={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eSt=function(t,n){var r=Number(t),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},tSt={ordinalNumber:eSt,era:L1({values:G2t,defaultWidth:"wide"}),quarter:L1({values:K2t,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:L1({values:Z2t,defaultWidth:"wide"}),day:L1({values:X2t,defaultWidth:"wide"}),dayPeriod:L1({values:Q2t,defaultWidth:"wide",formattingValues:J2t,defaultFormattingWidth:"wide"})};const nSt=tSt;function B1(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;var s=i[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?oSt(a,function(f){return f.test(s)}):rSt(a,function(f){return f.test(s)}),u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(s.length);return{value:u,rest:d}}}function rSt(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function oSt(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function iSt(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var o=r[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=n.valueCallback?n.valueCallback(s):s;var a=t.slice(o.length);return{value:s,rest:a}}}var sSt=/^(\d+)(th|st|nd|rd)?/i,aSt=/\d+/i,lSt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},cSt={any:[/^b/i,/^(a|c)/i]},uSt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},dSt={any:[/1/i,/2/i,/3/i,/4/i]},fSt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hSt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pSt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mSt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},gSt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},vSt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ySt={ordinalNumber:iSt({matchPattern:sSt,parsePattern:aSt,valueCallback:function(t){return parseInt(t,10)}}),era:B1({matchPatterns:lSt,defaultMatchWidth:"wide",parsePatterns:cSt,defaultParseWidth:"any"}),quarter:B1({matchPatterns:uSt,defaultMatchWidth:"wide",parsePatterns:dSt,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:B1({matchPatterns:fSt,defaultMatchWidth:"wide",parsePatterns:hSt,defaultParseWidth:"any"}),day:B1({matchPatterns:pSt,defaultMatchWidth:"wide",parsePatterns:mSt,defaultParseWidth:"any"}),dayPeriod:B1({matchPatterns:gSt,defaultMatchWidth:"any",parsePatterns:vSt,defaultParseWidth:"any"})};const bSt=ySt;var xSt={code:"en-US",formatDistance:B2t,formatLong:U2t,formatRelative:q2t,localize:nSt,match:bSt,options:{weekStartsOn:0,firstWeekContainsDate:1}};const ISe=xSt;var wSt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,CSt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_St=/^'([^]*?)'?$/,SSt=/''/g,ESt=/[a-zA-Z]/;function Zo(e,t,n){var r,o,i,s,a,l,u,d,f,p,m,v,g,b,x,y,w,C;Ve(2,arguments);var _=String(t),S=id(),E=(r=(o=n==null?void 0:n.locale)!==null&&o!==void 0?o:S.locale)!==null&&r!==void 0?r:ISe,j=jt((i=(s=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:S.firstWeekContainsDate)!==null&&s!==void 0?s:(f=S.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=jt((m=(v=(g=(b=n==null?void 0:n.weekStartsOn)!==null&&b!==void 0?b:n==null||(x=n.locale)===null||x===void 0||(y=x.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&g!==void 0?g:S.weekStartsOn)!==null&&v!==void 0?v:(w=S.locale)===null||w===void 0||(C=w.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&m!==void 0?m:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var T=We(e);if(!Bu(T))throw new RangeError("Invalid time value");var A=gE(T),D=SSe(T,A),I={firstWeekContainsDate:j,weekStartsOn:k,locale:E,_originalDate:T},P=_.match(CSt).map(function(M){var $=M[0];if($==="p"||$==="P"){var V=qR[$];return V(M,E.formatLong)}return M}).join("").match(wSt).map(function(M){if(M==="''")return"'";var $=M[0];if($==="'")return kSt(M);var V=P2t[$];if(V)return!(n!=null&&n.useAdditionalWeekYearTokens)&&DSe(M)&&vE(M,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&ASe(M)&&vE(M,t,String(e)),V(D,M,E.localize,I);if($.match(ESt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+$+"`");return M}).join("");return P}function kSt(e){var t=e.match(_St);return t?t[1].replace(SSt,"'"):e}var jSt=Lc,TSt=0;function ASt(e){var t=++TSt;return jSt(e)+t}var DSt=ASt;const PSe=De(DSt);function zi(e,t){Ve(2,arguments);var n=We(e),r=jt(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function X8(e,t){Ve(2,arguments);var n=We(e),r=jt(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var o=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var s=i.getDate();return o>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),o),n)}function Gv(e,t){var n,r,o,i,s,a,l,u;Ve(1,arguments);var d=id(),f=jt((n=(r=(o=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&o!==void 0?o:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=We(e),m=p.getDay(),v=(m<f?7:0)+m-f;return p.setDate(p.getDate()-v),p.setHours(0,0,0,0),p}function Vf(e){Ve(1,arguments);var t=We(e);return t.setHours(0,0,0,0),t}var ISt=864e5;function PSt(e,t){Ve(2,arguments);var n=Vf(e),r=Vf(t),o=n.getTime()-gE(n),i=r.getTime()-gE(r);return Math.round((o-i)/ISt)}function OSt(e,t){Ve(2,arguments);var n=jt(t),r=n*7;return zi(e,r)}function hb(e,t){Ve(2,arguments);var n=We(e),r=We(t),o=n.getTime()-r.getTime();return o<0?-1:o>0?1:o}var CT=6e4,_T=36e5,$St=1e3;function Ld(e,t){Ve(2,arguments);var n=Vf(e),r=Vf(t);return n.getTime()===r.getTime()}function RSt(e,t){Ve(2,arguments);var n=We(e),r=We(t),o=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return o*12+i}function MSt(e,t){Ve(2,arguments);var n=We(e),r=We(t);return n.getFullYear()-r.getFullYear()}function YK(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function OSe(e,t){Ve(2,arguments);var n=We(e),r=We(t),o=YK(n,r),i=Math.abs(PSt(n,r));n.setDate(n.getDate()-o*i);var s=+(YK(n,r)===-o),a=o*(i-s);return a===0?0:a}function Q8(e,t){return Ve(2,arguments),We(e).getTime()-We(t).getTime()}var qK={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},FSt="trunc";function ST(e){return e?qK[e]:qK[FSt]}function LSt(e,t,n){Ve(2,arguments);var r=Q8(e,t)/_T;return ST(n==null?void 0:n.roundingMethod)(r)}function BSt(e,t,n){Ve(2,arguments);var r=Q8(e,t)/CT;return ST(n==null?void 0:n.roundingMethod)(r)}function yE(e){Ve(1,arguments);var t=We(e);return t.setHours(23,59,59,999),t}function NSt(e){Ve(1,arguments);var t=We(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function zSt(e){Ve(1,arguments);var t=We(e);return yE(t).getTime()===NSt(t).getTime()}function VSt(e,t){Ve(2,arguments);var n=We(e),r=We(t),o=hb(n,r),i=Math.abs(RSt(n,r)),s;if(i<1)s=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*i);var a=hb(n,r)===-o;zSt(We(e))&&i===1&&hb(e,r)===1&&(a=!1),s=o*(i-Number(a))}return s===0?0:s}function HSt(e,t,n){Ve(2,arguments);var r=Q8(e,t)/1e3;return ST(n==null?void 0:n.roundingMethod)(r)}function USt(e,t,n){Ve(2,arguments);var r=OSe(e,t)/7;return ST(n==null?void 0:n.roundingMethod)(r)}function WSt(e,t){Ve(2,arguments);var n=We(e),r=We(t),o=hb(n,r),i=Math.abs(MSt(n,r));n.setFullYear(1584),r.setFullYear(1584);var s=hb(n,r)===-o,a=o*(i-Number(s));return a===0?0:a}function GK(e){Ve(1,arguments);var t=We(e);return t.setSeconds(0,0),t}function $Se(e,t){Ve(1,arguments);var n=e||{},r=We(n.start),o=We(n.end),i=o.getTime();if(!(r.getTime()<=i))throw new RangeError("Invalid interval");var s=Gv(r,t),a=Gv(o,t);s.setHours(15),a.setHours(15),i=a.getTime();for(var l=[],u=s;u.getTime()<=i;)u.setHours(0),l.push(We(u)),u=OSt(u,1),u.setHours(15);return l}function RSe(e){Ve(1,arguments);var t=We(e);return t.setDate(1),t.setHours(0,0,0,0),t}function KK(e){Ve(1,arguments);var t=We(e);return t.setSeconds(59,999),t}function YSt(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function qSt(e){Ve(1,arguments);var t=We(e),n=t.getFullYear(),r=t.getMonth(),o=new Date(0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}function GSt(e){Ve(1,arguments);var t=We(e),n=t.getMinutes();return n}function KSt(e,t){var n,r,o,i,s,a,l,u;Ve(1,arguments);var d=We(e),f=d.getFullYear(),p=id(),m=jt((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:p.firstWeekContainsDate)!==null&&r!==void 0?r:(l=p.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setFullYear(f+1,0,m),v.setHours(0,0,0,0);var g=Gv(v,t),b=new Date(0);b.setFullYear(f,0,m),b.setHours(0,0,0,0);var x=Gv(b,t);return d.getTime()>=g.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function ZSt(e,t){var n,r,o,i,s,a,l,u;Ve(1,arguments);var d=id(),f=jt((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=KSt(e,t),m=new Date(0);m.setFullYear(p,0,f),m.setHours(0,0,0,0);var v=Gv(m,t);return v}var XSt=6048e5;function MSe(e,t){Ve(1,arguments);var n=We(e),r=Gv(n,t).getTime()-ZSt(n,t).getTime();return Math.round(r/XSt)+1}function FSe(e){Ve(1,arguments);var t=We(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function GR(e,t){Ve(2,arguments);var n=We(e),r=We(t);return n.getTime()>r.getTime()}function LSe(e,t){Ve(2,arguments);var n=We(e),r=We(t);return n.getTime()<r.getTime()}function ZK(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function QSt(e,t){if(e){if(typeof e=="string")return ZK(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZK(e,t)}}function XK(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=QSt(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,s=!1,a;return{s:function(){n=n.call(e)},n:function(){var u=n.next();return i=u.done,u},e:function(u){s=!0,a=u},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}}}function Fe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function on(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G5(e,t)}function bE(e){return bE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bE(e)}function JSt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function e5t(e,t){if(t&&(jl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fe(e)}function sn(e){var t=JSt();return function(){var r=bE(e),o;if(t){var i=bE(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return e5t(this,o)}}function qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s_e(r.key),r)}}function Gt(e,t,n){return t&&QK(e.prototype,t),n&&QK(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var t5t=10,BSe=function(){function e(){qt(this,e),Re(this,"priority",void 0),Re(this,"subPriority",0)}return Gt(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),n5t=function(e){on(n,e);var t=sn(n);function n(r,o,i,s,a){var l;return qt(this,n),l=t.call(this),l.value=r,l.validateValue=o,l.setValue=i,l.priority=s,a&&(l.subPriority=a),l}return Gt(n,[{key:"validate",value:function(o,i){return this.validateValue(o,this.value,i)}},{key:"set",value:function(o,i,s){return this.setValue(o,i,this.value,s)}}]),n}(BSe),r5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",t5t),Re(Fe(r),"subPriority",-1),r}return Gt(n,[{key:"set",value:function(o,i){if(i.timestampIsSet)return o;var s=new Date(0);return s.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),s.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),s}}]),n}(BSe),mn=function(){function e(){qt(this,e),Re(this,"incompatibleTokens",void 0),Re(this,"priority",void 0),Re(this,"subPriority",void 0)}return Gt(e,[{key:"run",value:function(n,r,o,i){var s=this.parse(n,r,o,i);return s?{setter:new n5t(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(n,r,o){return!0}}]),e}(),o5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",140),Re(Fe(r),"incompatibleTokens",["R","u","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"G":case"GG":case"GGG":return s.era(o,{width:"abbreviated"})||s.era(o,{width:"narrow"});case"GGGGG":return s.era(o,{width:"narrow"});case"GGGG":default:return s.era(o,{width:"wide"})||s.era(o,{width:"abbreviated"})||s.era(o,{width:"narrow"})}}},{key:"set",value:function(o,i,s){return i.era=s,o.setUTCFullYear(s,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn),Kr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},dc={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Zr(e,t){return e&&{value:t(e.value),rest:e.rest}}function Dr(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function fc(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,o=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(o*_T+i*CT+s*$St),rest:t.slice(n[0].length)}}function NSe(e){return Dr(Kr.anyDigitsSigned,e)}function zr(e,t){switch(e){case 1:return Dr(Kr.singleDigit,t);case 2:return Dr(Kr.twoDigits,t);case 3:return Dr(Kr.threeDigits,t);case 4:return Dr(Kr.fourDigits,t);default:return Dr(new RegExp("^\\d{1,"+e+"}"),t)}}function xE(e,t){switch(e){case 1:return Dr(Kr.singleDigitSigned,t);case 2:return Dr(Kr.twoDigitsSigned,t);case 3:return Dr(Kr.threeDigitsSigned,t);case 4:return Dr(Kr.fourDigitsSigned,t);default:return Dr(new RegExp("^-?\\d{1,"+e+"}"),t)}}function J8(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function zSe(e,t){var n=t>0,r=n?t:1-t,o;if(r<=50)o=e||100;else{var i=r+50,s=Math.floor(i/100)*100,a=e>=i%100;o=e+s-(a?100:0)}return n?o:1-o}function VSe(e){return e%400===0||e%4===0&&e%100!==0}var i5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",130),Re(Fe(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return{year:u,isTwoDigitYear:i==="yy"}};switch(i){case"y":return Zr(zr(4,o),a);case"yo":return Zr(s.ordinalNumber(o,{unit:"year"}),a);default:return Zr(zr(i.length,o),a)}}},{key:"validate",value:function(o,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(o,i,s){var a=o.getUTCFullYear();if(s.isTwoDigitYear){var l=zSe(s.year,a);return o.setUTCFullYear(l,0,1),o.setUTCHours(0,0,0,0),o}var u=!("era"in i)||i.era===1?s.year:1-s.year;return o.setUTCFullYear(u,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn),s5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",130),Re(Fe(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return{year:u,isTwoDigitYear:i==="YY"}};switch(i){case"Y":return Zr(zr(4,o),a);case"Yo":return Zr(s.ordinalNumber(o,{unit:"year"}),a);default:return Zr(zr(i.length,o),a)}}},{key:"validate",value:function(o,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(o,i,s,a){var l=Z8(o,a);if(s.isTwoDigitYear){var u=zSe(s.year,l);return o.setUTCFullYear(u,0,a.firstWeekContainsDate),o.setUTCHours(0,0,0,0),Yp(o,a)}var d=!("era"in i)||i.era===1?s.year:1-s.year;return o.setUTCFullYear(d,0,a.firstWeekContainsDate),o.setUTCHours(0,0,0,0),Yp(o,a)}}]),n}(mn),a5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",130),Re(Fe(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i){return xE(i==="R"?4:i.length,o)}},{key:"set",value:function(o,i,s){var a=new Date(0);return a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0),qv(a)}}]),n}(mn),l5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",130),Re(Fe(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i){return xE(i==="u"?4:i.length,o)}},{key:"set",value:function(o,i,s){return o.setUTCFullYear(s,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn),c5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",120),Re(Fe(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"Q":case"QQ":return zr(i.length,o);case"Qo":return s.ordinalNumber(o,{unit:"quarter"});case"QQQ":return s.quarter(o,{width:"abbreviated",context:"formatting"})||s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(o,{width:"wide",context:"formatting"})||s.quarter(o,{width:"abbreviated",context:"formatting"})||s.quarter(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=1&&i<=4}},{key:"set",value:function(o,i,s){return o.setUTCMonth((s-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn),u5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",120),Re(Fe(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"q":case"qq":return zr(i.length,o);case"qo":return s.ordinalNumber(o,{unit:"quarter"});case"qqq":return s.quarter(o,{width:"abbreviated",context:"standalone"})||s.quarter(o,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(o,{width:"wide",context:"standalone"})||s.quarter(o,{width:"abbreviated",context:"standalone"})||s.quarter(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=1&&i<=4}},{key:"set",value:function(o,i,s){return o.setUTCMonth((s-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn),d5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Re(Fe(r),"priority",110),r}return Gt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u-1};switch(i){case"M":return Zr(Dr(Kr.month,o),a);case"MM":return Zr(zr(2,o),a);case"Mo":return Zr(s.ordinalNumber(o,{unit:"month"}),a);case"MMM":return s.month(o,{width:"abbreviated",context:"formatting"})||s.month(o,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(o,{width:"wide",context:"formatting"})||s.month(o,{width:"abbreviated",context:"formatting"})||s.month(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){return o.setUTCMonth(s,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn),f5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",110),Re(Fe(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u-1};switch(i){case"L":return Zr(Dr(Kr.month,o),a);case"LL":return Zr(zr(2,o),a);case"Lo":return Zr(s.ordinalNumber(o,{unit:"month"}),a);case"LLL":return s.month(o,{width:"abbreviated",context:"standalone"})||s.month(o,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(o,{width:"wide",context:"standalone"})||s.month(o,{width:"abbreviated",context:"standalone"})||s.month(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){return o.setUTCMonth(s,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn);function h5t(e,t,n){Ve(2,arguments);var r=We(e),o=jt(t),i=jSe(r,n)-o;return r.setUTCDate(r.getUTCDate()-i*7),r}var p5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",100),Re(Fe(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"w":return Dr(Kr.week,o);case"wo":return s.ordinalNumber(o,{unit:"week"});default:return zr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=53}},{key:"set",value:function(o,i,s,a){return Yp(h5t(o,s,a),a)}}]),n}(mn);function m5t(e,t){Ve(2,arguments);var n=We(e),r=jt(t),o=kSe(n)-r;return n.setUTCDate(n.getUTCDate()-o*7),n}var g5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",100),Re(Fe(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"I":return Dr(Kr.week,o);case"Io":return s.ordinalNumber(o,{unit:"week"});default:return zr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=53}},{key:"set",value:function(o,i,s){return qv(m5t(o,s))}}]),n}(mn),v5t=[31,28,31,30,31,30,31,31,30,31,30,31],y5t=[31,29,31,30,31,30,31,31,30,31,30,31],b5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",90),Re(Fe(r),"subPriority",1),Re(Fe(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"d":return Dr(Kr.date,o);case"do":return s.ordinalNumber(o,{unit:"date"});default:return zr(i.length,o)}}},{key:"validate",value:function(o,i){var s=o.getUTCFullYear(),a=VSe(s),l=o.getUTCMonth();return a?i>=1&&i<=y5t[l]:i>=1&&i<=v5t[l]}},{key:"set",value:function(o,i,s){return o.setUTCDate(s),o.setUTCHours(0,0,0,0),o}}]),n}(mn),x5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",90),Re(Fe(r),"subpriority",1),Re(Fe(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"D":case"DD":return Dr(Kr.dayOfYear,o);case"Do":return s.ordinalNumber(o,{unit:"date"});default:return zr(i.length,o)}}},{key:"validate",value:function(o,i){var s=o.getUTCFullYear(),a=VSe(s);return a?i>=1&&i<=366:i>=1&&i<=365}},{key:"set",value:function(o,i,s){return o.setUTCMonth(0,s),o.setUTCHours(0,0,0,0),o}}]),n}(mn);function e9(e,t,n){var r,o,i,s,a,l,u,d;Ve(2,arguments);var f=id(),p=jt((r=(o=(i=(s=n==null?void 0:n.weekStartsOn)!==null&&s!==void 0?s:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&o!==void 0?o:(u=f.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=We(e),v=jt(t),g=m.getUTCDay(),b=v%7,x=(b+7)%7,y=(x<p?7:0)+v-g;return m.setUTCDate(m.getUTCDate()+y),m}var w5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",90),Re(Fe(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"E":case"EE":case"EEE":return s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=e9(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(mn),C5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",90),Re(Fe(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s,a){var l=function(d){var f=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+f};switch(i){case"e":case"ee":return Zr(zr(i.length,o),l);case"eo":return Zr(s.ordinalNumber(o,{unit:"day"}),l);case"eee":return s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"eeeee":return s.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=e9(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(mn),_5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",90),Re(Fe(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s,a){var l=function(d){var f=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+f};switch(i){case"c":case"cc":return Zr(zr(i.length,o),l);case"co":return Zr(s.ordinalNumber(o,{unit:"day"}),l);case"ccc":return s.day(o,{width:"abbreviated",context:"standalone"})||s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"});case"ccccc":return s.day(o,{width:"narrow",context:"standalone"});case"cccccc":return s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(o,{width:"wide",context:"standalone"})||s.day(o,{width:"abbreviated",context:"standalone"})||s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=e9(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(mn);function S5t(e,t){Ve(2,arguments);var n=jt(t);n%7===0&&(n=n-7);var r=1,o=We(e),i=o.getUTCDay(),s=n%7,a=(s+7)%7,l=(a<r?7:0)+n-i;return o.setUTCDate(o.getUTCDate()+l),o}var E5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",90),Re(Fe(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u===0?7:u};switch(i){case"i":case"ii":return zr(i.length,o);case"io":return s.ordinalNumber(o,{unit:"day"});case"iii":return Zr(s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a);case"iiiii":return Zr(s.day(o,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Zr(s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Zr(s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(o,i){return i>=1&&i<=7}},{key:"set",value:function(o,i,s){return o=S5t(o,s),o.setUTCHours(0,0,0,0),o}}]),n}(mn),k5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",80),Re(Fe(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"a":case"aa":case"aaa":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(J8(s),0,0,0),o}}]),n}(mn),j5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",80),Re(Fe(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"b":case"bb":case"bbb":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(J8(s),0,0,0),o}}]),n}(mn),T5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",80),Re(Fe(r),"incompatibleTokens",["a","b","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"B":case"BB":case"BBB":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(J8(s),0,0,0),o}}]),n}(mn),A5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",70),Re(Fe(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"h":return Dr(Kr.hour12h,o);case"ho":return s.ordinalNumber(o,{unit:"hour"});default:return zr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=12}},{key:"set",value:function(o,i,s){var a=o.getUTCHours()>=12;return a&&s<12?o.setUTCHours(s+12,0,0,0):!a&&s===12?o.setUTCHours(0,0,0,0):o.setUTCHours(s,0,0,0),o}}]),n}(mn),D5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",70),Re(Fe(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"H":return Dr(Kr.hour23h,o);case"Ho":return s.ordinalNumber(o,{unit:"hour"});default:return zr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=23}},{key:"set",value:function(o,i,s){return o.setUTCHours(s,0,0,0),o}}]),n}(mn),I5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",70),Re(Fe(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"K":return Dr(Kr.hour11h,o);case"Ko":return s.ordinalNumber(o,{unit:"hour"});default:return zr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){var a=o.getUTCHours()>=12;return a&&s<12?o.setUTCHours(s+12,0,0,0):o.setUTCHours(s,0,0,0),o}}]),n}(mn),P5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",70),Re(Fe(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"k":return Dr(Kr.hour24h,o);case"ko":return s.ordinalNumber(o,{unit:"hour"});default:return zr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=24}},{key:"set",value:function(o,i,s){var a=s<=24?s%24:s;return o.setUTCHours(a,0,0,0),o}}]),n}(mn),O5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",60),Re(Fe(r),"incompatibleTokens",["t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"m":return Dr(Kr.minute,o);case"mo":return s.ordinalNumber(o,{unit:"minute"});default:return zr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=59}},{key:"set",value:function(o,i,s){return o.setUTCMinutes(s,0,0),o}}]),n}(mn),$5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",50),Re(Fe(r),"incompatibleTokens",["t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"s":return Dr(Kr.second,o);case"so":return s.ordinalNumber(o,{unit:"second"});default:return zr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=59}},{key:"set",value:function(o,i,s){return o.setUTCSeconds(s,0),o}}]),n}(mn),R5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",30),Re(Fe(r),"incompatibleTokens",["t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i){var s=function(l){return Math.floor(l*Math.pow(10,-i.length+3))};return Zr(zr(i.length,o),s)}},{key:"set",value:function(o,i,s){return o.setUTCMilliseconds(s),o}}]),n}(mn),M5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",10),Re(Fe(r),"incompatibleTokens",["t","T","x"]),r}return Gt(n,[{key:"parse",value:function(o,i){switch(i){case"X":return fc(dc.basicOptionalMinutes,o);case"XX":return fc(dc.basic,o);case"XXXX":return fc(dc.basicOptionalSeconds,o);case"XXXXX":return fc(dc.extendedOptionalSeconds,o);case"XXX":default:return fc(dc.extended,o)}}},{key:"set",value:function(o,i,s){return i.timestampIsSet?o:new Date(o.getTime()-s)}}]),n}(mn),F5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",10),Re(Fe(r),"incompatibleTokens",["t","T","X"]),r}return Gt(n,[{key:"parse",value:function(o,i){switch(i){case"x":return fc(dc.basicOptionalMinutes,o);case"xx":return fc(dc.basic,o);case"xxxx":return fc(dc.basicOptionalSeconds,o);case"xxxxx":return fc(dc.extendedOptionalSeconds,o);case"xxx":default:return fc(dc.extended,o)}}},{key:"set",value:function(o,i,s){return i.timestampIsSet?o:new Date(o.getTime()-s)}}]),n}(mn),L5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",40),Re(Fe(r),"incompatibleTokens","*"),r}return Gt(n,[{key:"parse",value:function(o){return NSe(o)}},{key:"set",value:function(o,i,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),n}(mn),B5t=function(e){on(n,e);var t=sn(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Re(Fe(r),"priority",20),Re(Fe(r),"incompatibleTokens","*"),r}return Gt(n,[{key:"parse",value:function(o){return NSe(o)}},{key:"set",value:function(o,i,s){return[new Date(s),{timestampIsSet:!0}]}}]),n}(mn),N5t={G:new o5t,y:new i5t,Y:new s5t,R:new a5t,u:new l5t,Q:new c5t,q:new u5t,M:new d5t,L:new f5t,w:new p5t,I:new g5t,d:new b5t,D:new x5t,E:new w5t,e:new C5t,c:new _5t,i:new E5t,a:new k5t,b:new j5t,B:new T5t,h:new A5t,H:new D5t,K:new I5t,k:new P5t,m:new O5t,s:new $5t,S:new R5t,X:new M5t,x:new F5t,t:new L5t,T:new B5t},z5t=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,V5t=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,H5t=/^'([^]*?)'?$/,U5t=/''/g,W5t=/\S/,Y5t=/[a-zA-Z]/;function q5t(e,t,n,r){var o,i,s,a,l,u,d,f,p,m,v,g,b,x,y,w,C,_;Ve(3,arguments);var S=String(e),E=String(t),j=id(),k=(o=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:j.locale)!==null&&o!==void 0?o:ISe;if(!k.match)throw new RangeError("locale must contain match property");var T=jt((s=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(d=r.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&l!==void 0?l:j.firstWeekContainsDate)!==null&&a!==void 0?a:(p=j.locale)===null||p===void 0||(m=p.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=jt((v=(g=(b=(x=r==null?void 0:r.weekStartsOn)!==null&&x!==void 0?x:r==null||(y=r.locale)===null||y===void 0||(w=y.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&b!==void 0?b:j.weekStartsOn)!==null&&g!==void 0?g:(C=j.locale)===null||C===void 0||(_=C.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&v!==void 0?v:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(E==="")return S===""?We(n):new Date(NaN);var D={firstWeekContainsDate:T,weekStartsOn:A,locale:k},I=[new r5t],P=E.match(V5t).map(function(Q){var X=Q[0];if(X in qR){var Z=qR[X];return Z(Q,k.formatLong)}return Q}).join("").match(z5t),M=[],$=XK(P),V;try{var L=function(){var X=V.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&DSe(X)&&vE(X,E,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&ASe(X)&&vE(X,E,e);var Z=X[0],oe=N5t[Z];if(oe){var le=oe.incompatibleTokens;if(Array.isArray(le)){var he=M.find(function(ye){return le.includes(ye.token)||ye.token===Z});if(he)throw new RangeError("The format string mustn't contain `".concat(he.fullToken,"` and `").concat(X,"` at the same time"))}else if(oe.incompatibleTokens==="*"&&M.length>0)throw new RangeError("The format string mustn't contain `".concat(X,"` and any other token at the same time"));M.push({token:Z,fullToken:X});var ie=oe.run(S,X,k.match,D);if(!ie)return{v:new Date(NaN)};I.push(ie.setter),S=ie.rest}else{if(Z.match(Y5t))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Z+"`");if(X==="''"?X="'":Z==="'"&&(X=G5t(X)),S.indexOf(X)===0)S=S.slice(X.length);else return{v:new Date(NaN)}}};for($.s();!(V=$.n()).done;){var H=L();if(jl(H)==="object")return H.v}}catch(Q){$.e(Q)}finally{$.f()}if(S.length>0&&W5t.test(S))return new Date(NaN);var U=I.map(function(Q){return Q.priority}).sort(function(Q,X){return X-Q}).filter(function(Q,X,Z){return Z.indexOf(Q)===X}).map(function(Q){return I.filter(function(X){return X.priority===Q}).sort(function(X,Z){return Z.subPriority-X.subPriority})}).map(function(Q){return Q[0]}),z=We(n);if(isNaN(z.getTime()))return new Date(NaN);var Y=SSe(z,gE(z)),te={},N=XK(U),G;try{for(N.s();!(G=N.n()).done;){var q=G.value;if(!q.validate(Y,D))return new Date(NaN);var K=q.set(Y,te,D);Array.isArray(K)?(Y=K[0],YSt(te,K[1])):Y=K}}catch(Q){N.e(Q)}finally{N.f()}return Y}function G5t(e){return e.match(H5t)[1].replace(U5t,"'")}function HSe(e,t){Ve(2,arguments);var n=We(e),r=We(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function K5t(e,t){Ve(2,arguments);var n=jt(t);return zi(e,-n)}function Z5t(e,t){var n;Ve(1,arguments);var r=jt((n=t==null?void 0:t.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var o=eEt(e),i;if(o.date){var s=tEt(o.date,r);i=nEt(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var a=i.getTime(),l=0,u;if(o.time&&(l=rEt(o.time),isNaN(l)))return new Date(NaN);if(o.timezone){if(u=oEt(o.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(a+l),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(a+l+u)}var c_={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},X5t=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Q5t=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,J5t=/^([+-])(\d{2})(?::?(\d{2}))?$/;function eEt(e){var t={},n=e.split(c_.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],c_.timeZoneDelimiter.test(t.date)&&(t.date=e.split(c_.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var o=c_.timezone.exec(r);o?(t.time=r.replace(o[1],""),t.timezone=o[1]):t.time=r}return t}function tEt(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var o=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?o:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function nEt(e,t){if(t===null)return new Date(NaN);var n=e.match(X5t);if(!n)return new Date(NaN);var r=!!n[4],o=N1(n[1]),i=N1(n[2])-1,s=N1(n[3]),a=N1(n[4]),l=N1(n[5])-1;if(r)return cEt(t,a,l)?iEt(t,a,l):new Date(NaN);var u=new Date(0);return!aEt(t,i,s)||!lEt(t,o)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(o,s)),u)}function N1(e){return e?parseInt(e):1}function rEt(e){var t=e.match(Q5t);if(!t)return NaN;var n=uP(t[1]),r=uP(t[2]),o=uP(t[3]);return uEt(n,r,o)?n*_T+r*CT+o*1e3:NaN}function uP(e){return e&&parseFloat(e.replace(",","."))||0}function oEt(e){if(e==="Z")return 0;var t=e.match(J5t);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return dEt(r,o)?n*(r*_T+o*CT):NaN}function iEt(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,i=(t-1)*7+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}var sEt=[31,null,31,30,31,30,31,31,30,31,30,31];function USe(e){return e%400===0||e%4===0&&e%100!==0}function aEt(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(sEt[t]||(USe(e)?29:28))}function lEt(e,t){return t>=1&&t<=(USe(e)?366:365)}function cEt(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function uEt(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function dEt(e,t){return t>=0&&t<=59}function WSe(e,t){Ve(2,arguments);var n=We(e),r=jt(t),o=n.getFullYear(),i=n.getDate(),s=new Date(0);s.setFullYear(o,r,15),s.setHours(0,0,0,0);var a=qSt(s);return n.setMonth(r,Math.min(i,a)),n}function fEt(e,t){if(Ve(2,arguments),jl(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var n=We(e);return isNaN(n.getTime())?new Date(NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=WSe(n,t.month)),t.date!=null&&n.setDate(jt(t.date)),t.hours!=null&&n.setHours(jt(t.hours)),t.minutes!=null&&n.setMinutes(jt(t.minutes)),t.seconds!=null&&n.setSeconds(jt(t.seconds)),t.milliseconds!=null&&n.setMilliseconds(jt(t.milliseconds)),n)}function hEt(e,t){Ve(2,arguments);var n=We(e),r=jt(t);return n.setDate(r),n}function dP(e,t){Ve(2,arguments);var n=We(e),r=jt(t);return n.setHours(r),n}function aS(e,t){Ve(2,arguments);var n=We(e),r=jt(t);return n.setMinutes(r),n}function pEt(e,t){Ve(2,arguments);var n=We(e),r=jt(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function JK(){return Vf(Date.now())}function mEt(e,t){Ve(2,arguments);var n=jt(t);return X8(e,-n)}function eZ(e,t){if(Ve(2,arguments),!t||jl(t)!=="object")return new Date(NaN);var n=t.years?jt(t.years):0,r=t.months?jt(t.months):0,o=t.weeks?jt(t.weeks):0,i=t.days?jt(t.days):0,s=t.hours?jt(t.hours):0,a=t.minutes?jt(t.minutes):0,l=t.seconds?jt(t.seconds):0,u=mEt(e,r+n*12),d=K5t(u,i+o*7),f=a+s*60,p=l+f*60,m=p*1e3,v=new Date(d.getTime()-m);return v}const t9=[],n9=[],YSe=new Set,$w=new Map,Rw=new Map,qSe=e=>typeof e=="string"?new RegExp("^".concat(e,"$"),"i"):e,wE=(e,t)=>typeof t!="string"?e:e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase(),GSe=(e,t,n)=>{if(!e.length||YSe.has(e))return t;let{length:r}=n;for(;r--;){const o=n[r];if(o[0].test(t))return t.replace(o[0],function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];const[l,u]=s,d=o[1].replace(/\$(\d{1,2})/g,(f,p)=>s[p]||"");return wE(l===""?t[u-1]:l,d)})}return t},KSe=(e,t,n,r)=>{const o=e.toLowerCase();return n.has(o)?wE(e,o):t.has(o)?wE(e,t.get(o)):GSe(o,e,r)},ZSe=(e,t,n,r)=>{const o=e.toLowerCase();return n.has(o)?!0:t.has(o)?!1:GSe(o,o,r)===o},Nr=(e,t,n)=>{const r=t===1?Nr.singular(e):Nr.plural(e);return n?"".concat(t," ").concat(r):r};Nr.plural=e=>KSe(e,Rw,$w,t9);Nr.singular=e=>KSe(e,$w,Rw,n9);Nr.addPluralRule=(e,t)=>{t9.push([qSe(e),t])};Nr.addSingularRule=(e,t)=>{n9.push([qSe(e),t])};Nr.addIrregularRule=(e,t)=>{const n=t.toLowerCase(),r=e.toLowerCase();Rw.set(r,n),$w.set(n,r)};Nr.addUncountableRule=e=>{if(typeof e=="string"){YSe.add(e.toLowerCase());return}Nr.addPluralRule(e,"$0"),Nr.addSingularRule(e,"$0")};Nr.isPlural=e=>ZSe(e,Rw,$w,t9);Nr.isSingular=e=>ZSe(e,$w,Rw,n9);const gEt=[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["my","our"],["its","their"],["his","their"],["her","their"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"],["canvas","canvases"]],vEt=[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]],yEt=[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/(dg|ss|ois|lk|ok|wn|mb|th|ch|ec|oal|is|ck|ix|sser|ts|wb)ies$/i,"$1ie"],[/\b(l|(?:neck|cross|hog|aun)?t|coll|faer|food|gen|goon|group|hipp|junk|vegg|(?:pork)?p|charl|calor|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]],bEt=["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i];for(const[e,t]of gEt)Nr.addIrregularRule(e,t);for(const[e,t]of vEt)Nr.addPluralRule(e,t);for(const[e,t]of yEt)Nr.addSingularRule(e,t);for(const e of bEt)Nr.addUncountableRule(e);var XSe={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(xs,function(){function n(){return n=Object.assign||function(A){for(var D=1;D<arguments.length;D++){var I=arguments[D];for(var P in I)Object.prototype.hasOwnProperty.call(I,P)&&(A[P]=I[P])}return A},n.apply(this,arguments)}function r(A,D){if(A){if(typeof A=="string")return o(A,D);var I=Object.prototype.toString.call(A).slice(8,-1);if(I==="Object"&&A.constructor&&(I=A.constructor.name),I==="Map"||I==="Set")return Array.from(A);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return o(A,D)}}function o(A,D){(D==null||D>A.length)&&(D=A.length);for(var I=0,P=new Array(D);I<D;I++)P[I]=A[I];return P}function i(A,D){var I=typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(I)return(I=I.call(A)).next.bind(I);if(Array.isArray(A)||(I=r(A))||D&&A&&typeof A.length=="number"){I&&(A=I);var P=0;return function(){return P>=A.length?{done:!0}:{done:!1,value:A[P++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function a(A){var D=A.split("-"),I=D[1],P=D[2],M=D[3];if(!I||!P||!M)throw new Error("Malformed asset _ref '"+A+`'. Expected an id like "`+s+'".');var $=P.split("x"),V=$[0],L=$[1],H=+V,U=+L,z=isFinite(H)&&isFinite(U);if(!z)throw new Error("Malformed asset _ref '"+A+`'. Expected an id like "`+s+'".');return{id:I,width:H,height:U,format:M}}var l=function(D){var I=D;return I?typeof I._ref=="string":!1},u=function(D){var I=D;return I?typeof I._id=="string":!1},d=function(D){var I=D;return I&&I.asset?typeof I.asset.url=="string":!1};function f(A){if(!A)return null;var D;if(typeof A=="string"&&p(A))D={asset:{_ref:m(A)}};else if(typeof A=="string")D={asset:{_ref:A}};else if(l(A))D={asset:A};else if(u(A))D={asset:{_ref:A._id||""}};else if(d(A))D={asset:{_ref:m(A.asset.url)}};else if(typeof A.asset=="object")D=n({},A);else return null;var I=A;return I.crop&&(D.crop=I.crop),I.hotspot&&(D.hotspot=I.hotspot),v(D)}function p(A){return/^https?:\/\//.test(""+A)}function m(A){var D=A.split("/").slice(-1);return("image-"+D[0]).replace(/\.([a-z]+)$/,"-$1")}function v(A){if(A.crop&&A.hotspot)return A;var D=n({},A);return D.crop||(D.crop={left:0,top:0,bottom:0,right:0}),D.hotspot||(D.hotspot={x:.5,y:.5,height:1,width:1}),D}var g=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function b(A){var D=n({},A||{}),I=D.source;delete D.source;var P=f(I);if(!P)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(I)+")");var M=P.asset._ref||P.asset._id||"",$=a(M),V=Math.round(P.crop.left*$.width),L=Math.round(P.crop.top*$.height),H={left:V,top:L,width:Math.round($.width-P.crop.right*$.width-V),height:Math.round($.height-P.crop.bottom*$.height-L)},U=P.hotspot.height*$.height/2,z=P.hotspot.width*$.width/2,Y=P.hotspot.x*$.width,te=P.hotspot.y*$.height,N={left:Y-z,top:te-U,right:Y+z,bottom:te+U};return D.rect||D.focalPoint||D.ignoreImageParams||D.crop||(D=n({},D,y({crop:H,hotspot:N},D))),x(n({},D,{asset:$}))}function x(A){var D=(A.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),I=A.asset.id+"-"+A.asset.width+"x"+A.asset.height+"."+A.asset.format,P=D+"/images/"+A.projectId+"/"+A.dataset+"/"+I,M=[];if(A.rect){var $=A.rect,V=$.left,L=$.top,H=$.width,U=$.height,z=V!==0||L!==0||U!==A.asset.height||H!==A.asset.width;z&&M.push("rect="+V+","+L+","+H+","+U)}A.bg&&M.push("bg="+A.bg),A.focalPoint&&(M.push("fp-x="+A.focalPoint.x),M.push("fp-y="+A.focalPoint.y));var Y=[A.flipHorizontal&&"h",A.flipVertical&&"v"].filter(Boolean).join("");return Y&&M.push("flip="+Y),g.forEach(function(te){var N=te[0],G=te[1];typeof A[N]<"u"?M.push(G+"="+encodeURIComponent(A[N])):typeof A[G]<"u"&&M.push(G+"="+encodeURIComponent(A[G]))}),M.length===0?P:P+"?"+M.join("&")}function y(A,D){var I,P=D.width,M=D.height;if(!(P&&M))return{width:P,height:M,rect:A.crop};var $=A.crop,V=A.hotspot,L=P/M,H=$.width/$.height;if(H>L){var U=Math.round($.height),z=Math.round(U*L),Y=Math.max(0,Math.round($.top)),te=Math.round((V.right-V.left)/2+V.left),N=Math.max(0,Math.round(te-z/2));N<$.left?N=$.left:N+z>$.left+$.width&&(N=$.left+$.width-z),I={left:N,top:Y,width:z,height:U}}else{var G=$.width,q=Math.round(G/L),K=Math.max(0,Math.round($.left)),Q=Math.round((V.bottom-V.top)/2+V.top),X=Math.max(0,Math.round(Q-q/2));X<$.top?X=$.top:X+q>$.top+$.height&&(X=$.top+$.height-q),I={left:K,top:X,width:G,height:q}}return{width:P,height:M,rect:I}}var w=["clip","crop","fill","fillmax","max","scale","min"],C=["top","bottom","left","right","center","focalpoint","entropy"],_=["format"];function S(A){return A&&"config"in A?typeof A.config=="function":!1}function E(A){return A&&"clientConfig"in A?typeof A.clientConfig=="object":!1}function j(A){for(var D=g,I=i(D),P;!(P=I()).done;){var M=P.value,$=M[0],V=M[1];if(A===$||A===V)return $}return A}function k(A){if(S(A)){var D=A.config(),I=D.apiHost,P=D.projectId,M=D.dataset,$=I||"https://api.sanity.io";return new T(null,{baseUrl:$.replace(/^https:\/\/api\./,"https://cdn."),projectId:P,dataset:M})}var V=A;if(E(V)){var L=V.clientConfig,H=L.apiHost,U=L.projectId,z=L.dataset,Y=H||"https://api.sanity.io";return new T(null,{baseUrl:Y.replace(/^https:\/\/api\./,"https://cdn."),projectId:U,dataset:z})}return new T(null,A)}var T=function(){function A(I,P){this.options=void 0,this.options=I?n({},I.options||{},P||{}):n({},P||{})}var D=A.prototype;return D.withOptions=function(P){var M=P.baseUrl||this.options.baseUrl,$={baseUrl:M};for(var V in P)if(P.hasOwnProperty(V)){var L=j(V);$[L]=P[V]}return new A(this,n({baseUrl:M},$))},D.image=function(P){return this.withOptions({source:P})},D.dataset=function(P){return this.withOptions({dataset:P})},D.projectId=function(P){return this.withOptions({projectId:P})},D.bg=function(P){return this.withOptions({bg:P})},D.dpr=function(P){return this.withOptions(P&&P!==1?{dpr:P}:{})},D.width=function(P){return this.withOptions({width:P})},D.height=function(P){return this.withOptions({height:P})},D.focalPoint=function(P,M){return this.withOptions({focalPoint:{x:P,y:M}})},D.maxWidth=function(P){return this.withOptions({maxWidth:P})},D.minWidth=function(P){return this.withOptions({minWidth:P})},D.maxHeight=function(P){return this.withOptions({maxHeight:P})},D.minHeight=function(P){return this.withOptions({minHeight:P})},D.size=function(P,M){return this.withOptions({width:P,height:M})},D.blur=function(P){return this.withOptions({blur:P})},D.sharpen=function(P){return this.withOptions({sharpen:P})},D.rect=function(P,M,$,V){return this.withOptions({rect:{left:P,top:M,width:$,height:V}})},D.format=function(P){return this.withOptions({format:P})},D.invert=function(P){return this.withOptions({invert:P})},D.orientation=function(P){return this.withOptions({orientation:P})},D.quality=function(P){return this.withOptions({quality:P})},D.forceDownload=function(P){return this.withOptions({download:P})},D.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},D.flipVertical=function(){return this.withOptions({flipVertical:!0})},D.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},D.fit=function(P){if(w.indexOf(P)===-1)throw new Error('Invalid fit mode "'+P+'"');return this.withOptions({fit:P})},D.crop=function(P){if(C.indexOf(P)===-1)throw new Error('Invalid crop mode "'+P+'"');return this.withOptions({crop:P})},D.saturation=function(P){return this.withOptions({saturation:P})},D.auto=function(P){if(_.indexOf(P)===-1)throw new Error('Invalid auto mode "'+P+'"');return this.withOptions({auto:P})},D.pad=function(P){return this.withOptions({pad:P})},D.url=function(){return b(this.options)},D.toString=function(){return this.url()},A}();return k})})(XSe);var xEt=XSe.exports;const ET=De(xEt);function wEt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,dx(e,t)}function KR(e){return KR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},KR(e)}function dx(e,t){return dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},dx(e,t)}function CEt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lS(e,t,n){return CEt()?lS=Reflect.construct.bind():lS=function(o,i,s){var a=[null];a.push.apply(a,i);var l=Function.bind.apply(o,a),u=new l;return s&&dx(u,s.prototype),u},lS.apply(null,arguments)}function _Et(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function ZR(e){var t=typeof Map=="function"?new Map:void 0;return ZR=function(r){if(r===null||!_Et(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,o)}function o(){return lS(r,arguments,KR(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),dx(o,r)},ZR(e)}var u_=Object.freeze({left:0,top:0,bottom:0,right:0}),d_=Object.freeze({x:.5,y:.5,height:1,width:1}),SEt=function(t){var n=t.top,r=t.bottom,o=t.left,i=t.right,s=u_.top,a=u_.bottom,l=u_.left,u=u_.right;return n===s&&r===a&&o===l&&i===u},EEt=function(t){var n=t.x,r=t.y,o=t.width,i=t.height,s=d_.x,a=d_.y,l=d_.width,u=d_.height;return n===s&&r===a&&o===l&&i===u},r9=function(e){wEt(t,e);function t(n,r){var o;return r===void 0&&(r="Failed to resolve asset ID from source"),o=e.call(this,r)||this,o.unresolvable=!0,o.input=n,o}return t}(ZR(Error));function kEt(e){var t=e;return!!(t.unresolvable&&"input"in t)}function jEt(e){return function(){try{return e.apply(void 0,arguments)}catch(t){if(kEt(t))return;throw t}}}var Bd="https://cdn.sanity.io",TEt=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+\.[a-z0-9]+$/,AEt=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})-\d+x\d+\.[a-z0-9]+$/,QSe=/^(images|files)\/([a-z0-9]+)\/([a-z0-9][-\w]*)\//,JSe=/^(?:image-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-\d+x\d+-[a-z0-9]+|file-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-[a-z0-9]+)$/;function DEt(e){return Mw(e)&&typeof e._ref=="string"}function IEt(e){return Mw(e)&&typeof e._id=="string"}function PEt(e){return Mw(e)&&typeof e.path=="string"}function OEt(e){return Mw(e)&&typeof e.url=="string"}function $Et(e){var t=e;return Mw(t)&&t.asset&&typeof t.asset=="object"}function Mw(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"}function REt(e){if(QSe.test(e))return e;if(!e.startsWith(Bd+"/"))throw new r9('Failed to resolve path from URL "'+e+'"');var t=e.indexOf("?"),n=t===-1?void 0:t;return e.slice(Bd.length+1,n)}var MEt="image-027401f31c3ac1e6d78c5d539ccd1beff72b9b11-2000x3000-jpg";function FEt(e){var t=e.split("-"),n=t[1],r=t[2],o=t[3],i=(r||"").split("x").map(Number),s=i[0],a=i[1];if(!n||!r||!o||!(s>0)||!(a>0))throw new Error("Malformed asset ID '"+e+`'. Expected an id like "`+MEt+'".');return{type:"image",assetId:n,width:s,height:a,extension:o}}function LEt(e){var t=e5e(e),n=FEt(t),r=n.width,o=n.height,i=r/o;return{width:r,height:o,aspectRatio:i}}function e5e(e){var t=$Et(e)?e.asset:e,n="";typeof t=="string"?n=BEt(t):DEt(t)?n=t._ref:IEt(t)?n=t._id:PEt(t)?n=Vg(Bd+"/"+t.path):OEt(t)&&(n=Vg(t.url));var r=n&&JSe.test(n);if(!r)throw new r9(e);return n}var t5e=jEt(e5e);function BEt(e){if(JSe.test(e))return e;if(e.indexOf(Bd+"/images")===0||e.indexOf(Bd+"/files")===0)return Vg(e);if(QSe.test(e))return Vg(Bd+"/"+e);if(zEt(e))return Vg(Bd+"/files/a/b/"+e);if(NEt(e))return Vg(Bd+"/images/a/b/"+e);throw new r9(e)}function Vg(e){var t=REt(e),n=t.split("/"),r=n[0],o=n[3],i=r.replace(/s$/,"");return i+"-"+o.replace(/\./g,"-")}function NEt(e){return AEt.test(e)}function zEt(e){return TEt.test(e)}function tZ(e){var t=t5e(e);return t?t.startsWith("file-"):!1}function pb(e){var t=t5e(e);return t?t.startsWith("image-"):!1}function VEt(e){for(var t=-1,n=e==null?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}var HEt=VEt;const kT=De(HEt);var UEt=dT,WEt=W8,YEt=WEt(function(e,t,n){UEt(e,n,t)}),qEt=YEt;const o9=De(qEt);var GEt=Lc;function KEt(e){return GEt(e).toLowerCase()}var ZEt=KEt;const uv=De(ZEt);var XEt=F0,QEt=B0,JEt=yT,ekt=uT,tkt=QEt(function(e){return JEt(XEt(e,1,ekt,!0))}),nkt=tkt;const n5e=De(nkt);function rkt(){}var i9=rkt,okt=F8,ikt=i9;function CE(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}CE.prototype=okt(ikt.prototype);CE.prototype.constructor=CE;var s9=CE,nZ=pCe,skt=nZ&&new nZ,akt=skt,rZ=akt,lkt=B8,ckt=rZ?function(e){return rZ.get(e)}:lkt,r5e=ckt,ukt={},dkt=ukt,oZ=dkt,fkt=Object.prototype,hkt=fkt.hasOwnProperty;function pkt(e){for(var t=e.name+"",n=oZ[t],r=hkt.call(oZ,t)?n.length:0;r--;){var o=n[r],i=o.func;if(i==null||i==e)return o.name}return t}var o5e=pkt,mkt=F8,gkt=i9,vkt=4294967295;function _E(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=vkt,this.__views__=[]}_E.prototype=mkt(gkt.prototype);_E.prototype.constructor=_E;var a9=_E,ykt=a9,bkt=s9,xkt=$8;function wkt(e){if(e instanceof ykt)return e.clone();var t=new bkt(e.__wrapped__,e.__chain__);return t.__actions__=xkt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ckt=wkt,_kt=a9,iZ=s9,Skt=i9,Ekt=Jr,kkt=Za,jkt=Ckt,Tkt=Object.prototype,Akt=Tkt.hasOwnProperty;function SE(e){if(kkt(e)&&!Ekt(e)&&!(e instanceof _kt)){if(e instanceof iZ)return e;if(Akt.call(e,"__wrapped__"))return jkt(e)}return new iZ(e)}SE.prototype=Skt.prototype;SE.prototype.constructor=SE;var Dkt=SE,Ikt=a9,Pkt=r5e,Okt=o5e,$kt=Dkt;function Rkt(e){var t=Okt(e),n=$kt[t];if(typeof n!="function"||!(t in Ikt.prototype))return!1;if(e===n)return!0;var r=Pkt(n);return!!r&&e===r[0]}var Mkt=Rkt,sZ=s9,Fkt=p8,Lkt=r5e,fP=o5e,Bkt=Jr,aZ=Mkt,Nkt="Expected a function",zkt=8,Vkt=32,Hkt=128,Ukt=256;function Wkt(e){return Fkt(function(t){var n=t.length,r=n,o=sZ.prototype.thru;for(e&&t.reverse();r--;){var i=t[r];if(typeof i!="function")throw new TypeError(Nkt);if(o&&!s&&fP(i)=="wrapper")var s=new sZ([],!0)}for(r=s?r:n;++r<n;){i=t[r];var a=fP(i),l=a=="wrapper"?Lkt(i):void 0;l&&aZ(l[0])&&l[1]==(Hkt|zkt|Vkt|Ukt)&&!l[4].length&&l[9]==1?s=s[fP(l[0])].apply(s,l[3]):s=i.length==1&&aZ(i)?s[a]():s.thru(i)}return function(){var u=arguments,d=u[0];if(s&&u.length==1&&Bkt(d))return s.plant(d).value();for(var f=0,p=n?t[f].apply(this,u):d;++f<n;)p=t[f].call(this,p);return p}})}var Ykt=Wkt,qkt=Ykt,Gkt=qkt(),Kkt=Gkt;const Zkt=De(Kkt);var Xkt=c8;function Qkt(e,t){for(var n=e.length;n--&&Xkt(t,e[n],0)>-1;);return n}var Jkt=Qkt,ejt=c8;function tjt(e,t){for(var n=-1,r=e.length;++n<r&&ejt(t,e[n],0)>-1;);return n}var njt=tjt,rjt=ACe,ojt=Uge,ijt=R2e,sjt=Jkt,ajt=njt,lZ=H2e,ljt=Lc;function cjt(e,t,n){if(e=ljt(e),e&&(n||t===void 0))return ojt(e);if(!e||!(t=rjt(t)))return e;var r=lZ(e),o=lZ(t),i=ajt(r,o),s=sjt(r,o)+1;return ijt(r,i,s).join("")}var ujt=cjt;const djt=De(ujt);var f_,fjt=new Uint8Array(16);function hjt(){if(!f_&&(f_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!f_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return f_(fjt)}const pjt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function mjt(e){return typeof e=="string"&&pjt.test(e)}var Uo=[];for(var hP=0;hP<256;++hP)Uo.push((hP+256).toString(16).substr(1));function gjt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Uo[e[t+0]]+Uo[e[t+1]]+Uo[e[t+2]]+Uo[e[t+3]]+"-"+Uo[e[t+4]]+Uo[e[t+5]]+"-"+Uo[e[t+6]]+Uo[e[t+7]]+"-"+Uo[e[t+8]]+Uo[e[t+9]]+"-"+Uo[e[t+10]]+Uo[e[t+11]]+Uo[e[t+12]]+Uo[e[t+13]]+Uo[e[t+14]]+Uo[e[t+15]]).toLowerCase();if(!mjt(n))throw TypeError("Stringified UUID is invalid");return n}function sd(e,t,n){e=e||{};var r=e.random||(e.rng||hjt)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return gjt(r)}var vjt=FCe,cZ=Jr;function yjt(e,t,n,r){return e==null?[]:(cZ(t)||(t=t==null?[]:[t]),n=r?void 0:n,cZ(n)||(n=n==null?[]:[n]),vjt(e,t,n))}var bjt=yjt;const V0=De(bjt);function xjt(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function XR(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function Fw(e){const[t,n]=e;return[t,n]}function uZ(e,t){let n=e,r=t;const o=n.length,i=r.length;if(o===0||i===0)return 0;o>i?n=n.substring(o-i):o<i&&(r=r.substring(0,o));const s=Math.min(o,i);if(n===r)return s;let a=0,l=1;for(let u=0;u!==-1;){const d=n.substring(s-l);if(u=r.indexOf(d),u===-1)return a;l+=u,(u===0||n.substring(s-l)===r.substring(0,l))&&(a=l,l++)}return a}function l9(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(i,o)===t.substring(i,o)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function jT(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(e.length-o,e.length-i)===t.substring(t.length-o,t.length-i)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function c9(e){let t=e.map(f=>Fw(f)),n=!1;const r=[];let o=0,i=null,s=0,a=0,l=0,u=0,d=0;for(;s<t.length;)t[s][0]===wt?(r[o++]=s,a=u,l=d,u=0,d=0,i=t[s][1]):(t[s][0]===Yn?u+=t[s][1].length:d+=t[s][1].length,i&&i.length<=Math.max(a,l)&&i.length<=Math.max(u,d)&&(t.splice(r[o-1],0,[Dn,i]),t[r[o-1]+1][0]=Yn,o--,o--,s=o>0?r[o-1]:-1,a=0,l=0,u=0,d=0,i=null,n=!0)),s++;for(n&&(t=TT(t)),t=i5e(t),s=1;s<t.length;){if(t[s-1][0]===Dn&&t[s][0]===Yn){const f=t[s-1][1],p=t[s][1],m=uZ(f,p),v=uZ(p,f);m>=v?(m>=f.length/2||m>=p.length/2)&&(t.splice(s,0,[wt,p.substring(0,m)]),t[s-1][1]=f.substring(0,f.length-m),t[s+1][1]=p.substring(m),s++):(v>=f.length/2||v>=p.length/2)&&(t.splice(s,0,[wt,f.substring(0,v)]),t[s-1][0]=Yn,t[s-1][1]=p.substring(0,p.length-v),t[s+1][0]=Dn,t[s+1][1]=f.substring(v),s++),s++}s++}return t}const dZ=/[^a-zA-Z0-9]/,fZ=/\s/,hZ=/[\r\n]/,wjt=/\n\r?\n$/,Cjt=/^\r?\n\r?\n/;function i5e(e){const t=e.map(o=>Fw(o));function n(o,i){if(!o||!i)return 6;const s=o.charAt(o.length-1),a=i.charAt(0),l=s.match(dZ),u=a.match(dZ),d=l&&s.match(fZ),f=u&&a.match(fZ),p=d&&s.match(hZ),m=f&&a.match(hZ),v=p&&o.match(wjt),g=m&&i.match(Cjt);return v||g?5:p||m?4:l&&!d&&f?3:d||f?2:l||u?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===wt&&t[r+1][0]===wt){let o=t[r-1][1],i=t[r][1],s=t[r+1][1];const a=jT(o,i);if(a){const p=i.substring(i.length-a);o=o.substring(0,o.length-a),i=p+i.substring(0,i.length-a),s=p+s}let l=o,u=i,d=s,f=n(o,i)+n(i,s);for(;i.charAt(0)===s.charAt(0);){o+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);const p=n(o,i)+n(i,s);p>=f&&(f=p,l=o,u=i,d=s)}t[r-1][1]!==l&&(l?t[r-1][1]=l:(t.splice(r-1,1),r--),t[r][1]=u,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}return t}function TT(e){let t=e.map(u=>Fw(u));t.push([wt,""]);let n=0,r=0,o=0,i="",s="",a;for(;n<t.length;)switch(t[n][0]){case Yn:o++,s+=t[n][1],n++;break;case Dn:r++,i+=t[n][1],n++;break;case wt:r+o>1?(r!==0&&o!==0&&(a=l9(s,i),a!==0&&(n-r-o>0&&t[n-r-o-1][0]===wt?t[n-r-o-1][1]+=s.substring(0,a):(t.splice(0,0,[wt,s.substring(0,a)]),n++),s=s.substring(a),i=i.substring(a)),a=jT(s,i),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),i=i.substring(0,i.length-a))),n-=r+o,t.splice(n,r+o),i.length&&(t.splice(n,0,[Dn,i]),n++),s.length&&(t.splice(n,0,[Yn,s]),n++),n++):n!==0&&t[n-1][0]===wt?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,o=0,r=0,i="",s="";break;default:throw new Error("Unknown diff operation")}t[t.length-1][1]===""&&t.pop();let l=!1;for(n=1;n<t.length-1;)t[n-1][0]===wt&&t[n+1][0]===wt&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),l=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),l=!0)),n++;return l&&(t=TT(t)),t}function _jt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r+(o?1:0),0)}function u9(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,n=e.map(p=>Fw(p)),r=!1;const o=[];let i=0,s=null,a=0,l=!1,u=!1,d=!1,f=!1;for(;a<n.length;)n[a][0]===wt?(n[a][1].length<t&&(d||f)?(o[i++]=a,l=d,u=f,s=n[a][1]):(i=0,s=null),d=!1,f=!1):(n[a][0]===Dn?f=!0:d=!0,s&&(l&&u&&d&&f||s.length<t/2&&_jt(l,u,d,f)===3)&&(n.splice(o[i-1],0,[Dn,s]),n[o[i-1]+1][0]=Yn,i--,s=null,l&&u?(d=!0,f=!0,i=0):(i--,a=i>0?o[i-1]:-1,d=!1,f=!1),r=!0)),a++;return r&&(n=TT(n)),n}function Sjt(e,t,n){const r=e.length,o=t.length,i=Math.ceil((r+o)/2),s=i,a=2*i,l=new Array(a),u=new Array(a);for(let b=0;b<a;b++)l[b]=-1,u[b]=-1;l[s+1]=0,u[s+1]=0;const d=r-o,f=d%2!==0;let p=0,m=0,v=0,g=0;for(let b=0;b<i&&!(Date.now()>n);b++){for(let x=-b+p;x<=b-m;x+=2){const y=s+x;let w;x===-b||x!==b&&l[y-1]<l[y+1]?w=l[y+1]:w=l[y-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(w)===t.charAt(C);)w++,C++;if(l[y]=w,w>r)m+=2;else if(C>o)p+=2;else if(f){const _=s+d-x;if(_>=0&&_<a&&u[_]!==-1){const S=r-u[_];if(w>=S)return pZ(e,t,w,C,n)}}}for(let x=-b+v;x<=b-g;x+=2){const y=s+x;let w;x===-b||x!==b&&u[y-1]<u[y+1]?w=u[y+1]:w=u[y-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(r-w-1)===t.charAt(o-C-1);)w++,C++;if(u[y]=w,w>r)g+=2;else if(C>o)v+=2;else if(!f){const _=s+d-x;if(_>=0&&_<a&&l[_]!==-1){const S=l[_],E=s+S-_;if(w=r-w,S>=w)return pZ(e,t,S,E,n)}}}}return[[Dn,e],[Yn,t]]}function pZ(e,t,n,r,o){const i=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),l=t.substring(r),u=qp(i,s,{checkLines:!1,deadline:o}),d=qp(a,l,{checkLines:!1,deadline:o});return u.concat(d)}function Ejt(e,t){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:1)<=0)return null;const r=e.length>t.length?e:t,o=e.length>t.length?t:e;if(r.length<4||o.length*2<r.length)return null;const i=mZ(r,o,Math.ceil(r.length/4)),s=mZ(r,o,Math.ceil(r.length/2));let a;if(i&&s)a=i[4].length>s[4].length?i:s;else{if(!i&&!s)return null;s?i||(a=s):a=i}if(!a)throw new Error("Unable to find a half match.");let l,u,d,f;e.length>t.length?(l=a[0],u=a[1],d=a[2],f=a[3]):(d=a[0],f=a[1],l=a[2],u=a[3]);const p=a[4];return[l,u,d,f,p]}function mZ(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let o=-1,i="",s,a,l,u;for(;(o=t.indexOf(r,o+1))!==-1;){const d=l9(e.slice(n),t.slice(o)),f=jT(e.slice(0,n),t.slice(0,o));i.length<f+d&&(i=t.slice(o-f,o)+t.slice(o,o+d),s=e.slice(0,n-f),a=e.slice(n+d),l=t.slice(0,o-f),u=t.slice(o+d))}return i.length*2>=e.length?[s||"",a||"",l||"",u||"",i||""]:null}function kjt(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],o=[];for(let i=0;i<r.length;i++)o[i]=t[r.charCodeAt(i)];e[n][1]=o.join("")}}function jjt(e,t){const n=[],r={};n[0]="";function o(l){let u="",d=0,f=-1,p=n.length;for(;f<l.length-1;){f=l.indexOf(`
`,d),f===-1&&(f=l.length-1);let m=l.slice(d,f+1);(r.hasOwnProperty?r.hasOwnProperty(m):r[m]!==void 0)?u+=String.fromCharCode(r[m]):(p===i&&(m=l.slice(d),f=l.length),u+=String.fromCharCode(p),r[m]=p,n[p++]=m),d=f+1}return u}let i=4e4;const s=o(e);i=65535;const a=o(t);return{chars1:s,chars2:a,lineArray:n}}function Tjt(e,t,n){let r=e,o=t;const i=jjt(r,o);r=i.chars1,o=i.chars2;const s=i.lineArray;let a=qp(r,o,{checkLines:!1,deadline:n.deadline});kjt(a,s),a=c9(a),a.push([wt,""]);let l=0,u=0,d=0,f="",p="";for(;l<a.length;){switch(a[l][0]){case Yn:d++,p+=a[l][1];break;case Dn:u++,f+=a[l][1];break;case wt:if(u>=1&&d>=1){a.splice(l-u-d,u+d),l=l-u-d;const m=qp(f,p,{checkLines:!1,deadline:n.deadline});for(let v=m.length-1;v>=0;v--)a.splice(l,0,m[v]);l+=m.length}d=0,u=0,f="",p="";break;default:throw new Error("Unknown diff operation.")}l++}return a.pop(),a}function Ajt(e,t,n){let r;if(!e)return[[Yn,t]];if(!t)return[[Dn,e]];const o=e.length>t.length?e:t,i=e.length>t.length?t:e,s=o.indexOf(i);if(s!==-1)return r=[[Yn,o.substring(0,s)],[wt,i],[Yn,o.substring(s+i.length)]],e.length>t.length&&(r[0][0]=Dn,r[2][0]=Dn),r;if(i.length===1)return[[Dn,e],[Yn,t]];const a=Ejt(e,t);if(a){const l=a[0],u=a[1],d=a[2],f=a[3],p=a[4],m=qp(l,d,n),v=qp(u,f,n);return m.concat([[wt,p]],v)}return n.checkLines&&e.length>100&&t.length>100?Tjt(e,t,n):Sjt(e,t,n.deadline)}const Dn=-1,Yn=1,wt=0;function Lw(e,t,n){if(e===null||t===null)throw new Error("Null input. (diff)");const r=qp(e,t,Ijt(n||{}));return Ojt(r),r}function qp(e,t,n){let r=e,o=t;if(r===o)return r?[[wt,r]]:[];let i=l9(r,o);const s=r.substring(0,i);r=r.substring(i),o=o.substring(i),i=jT(r,o);const a=r.substring(r.length-i);r=r.substring(0,r.length-i),o=o.substring(0,o.length-i);let l=Ajt(r,o,n);return s&&l.unshift([wt,s]),a&&l.push([wt,a]),l=TT(l),l}function Djt(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+t*1e3}function Ijt(e){return{checkLines:!0,deadline:Djt(e.timeout||1),...e}}function h_(e,t,n){return n===1?e+t:t+e}function p_(e,t){return t===1?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function Pjt(e,t,n,r){return r===1?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function gZ(e,t,n){const r=n===1?-1:1;let o=null,i=null,s=t+n;for(;s>=0&&s<e.length&&(o===null||i===null);s+=n){const[u,d]=e[s];if(d.length!==0){if(u===Yn){o===null&&(o=s);continue}else if(u===Dn){i===null&&(i=s);continue}else if(u===wt){if(o===null&&i===null){const[f,p]=p_(e[t][1],n);e[t][1]=f,e[s][1]=h_(e[s][1],p,r);return}break}}}if(o!==null&&i!==null&&Pjt(e,o,i,n)){const[u,d]=p_(e[o][1],r),[f]=p_(e[i][1],r);e[o][1]=u,e[i][1]=f,e[t][1]=h_(e[t][1],d,n);return}const[a,l]=p_(e[t][1],n);e[t][1]=a,o===null?(e.splice(s,0,[Yn,l]),i!==null&&i>=s&&i++):e[o][1]=h_(e[o][1],l,r),i===null?e.splice(s,0,[Dn,l]):e[i][1]=h_(e[i][1],l,r)}function Ojt(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(r.length===0)continue;const o=r[0],i=r[r.length-1];xjt(i)&&n===wt&&gZ(e,t,1),XR(o)&&n===wt&&gZ(e,t,-1)}for(let t=0;t<e.length;t++)e[t][1].length===0&&e.splice(t,1)}const $jt={threshold:.5,distance:1e3};function Rjt(e){return{...$jt,...e}}const Mjt=32;function Fjt(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t.length>Mjt)throw new Error("Pattern too long for this browser.");const o=Rjt(r),i=Ljt(t);function s(v,g){const b=v/t.length,x=Math.abs(n-g);return o.distance?b+x/o.distance:x?1:b}let a=o.threshold,l=e.indexOf(t,n);l!==-1&&(a=Math.min(s(0,l),a),l=e.lastIndexOf(t,n+t.length),l!==-1&&(a=Math.min(s(0,l),a)));const u=1<<t.length-1;l=-1;let d,f,p=t.length+e.length,m=[];for(let v=0;v<t.length;v++){for(d=0,f=p;d<f;)s(v,n+f)<=a?d=f:p=f,f=Math.floor((p-d)/2+d);p=f;let g=Math.max(1,n-f+1);const b=Math.min(n+f,e.length)+t.length,x=new Array(b+2);x[b+1]=(1<<v)-1;for(let y=b;y>=g;y--){const w=i[e.charAt(y-1)];if(v===0?x[y]=(x[y+1]<<1|1)&w:x[y]=(x[y+1]<<1|1)&w|((m[y+1]|m[y])<<1|1)|m[y+1],x[y]&u){const C=s(v,y-1);if(C<=a)if(a=C,l=y-1,l>n)g=Math.max(1,2*n-l);else break}}if(s(v+1,n)>a)break;m=x}return l}function Ljt(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function pP(e,t,n){if(e===null||t===null||n===null)throw new Error("Null input. (match())");const r=Math.max(0,Math.min(n,e.length));if(e===t)return 0;if(e.length){if(e.substring(r,r+t.length)===t)return r}else return-1;return Fjt(e,t,r)}function EE(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function d9(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Yn&&(t[n]=e[n][1]);return t.join("")}function s5e(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Dn&&(t[n]=e[n][1]);return t.join("")}function qd(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=a5e(r)}return t}function Bjt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,o=0;function i(a){for(;r<a;){const l=t.codePointAt(o);if(typeof l>"u")return o;r+=a5e(l),l>65535?o+=2:o+=1}if(!n.allowExceedingIndices&&r!==a)throw new Error("Failed to determine byte offset");return o}const s=[];for(const a of e)s.push({diffs:a.diffs.map(l=>Fw(l)),start1:i(a.start1),start2:i(a.start2),utf8Start1:a.utf8Start1,utf8Start2:a.utf8Start2,length1:a.length1,length2:a.length2,utf8Length1:a.utf8Length1,utf8Length2:a.utf8Length2});return s}function a5e(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const Id=32,f9=4,Njt={margin:4};function mP(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{...Njt,...e}}function l5e(e,t,n){if(typeof e=="string"&&typeof t=="string"){let r=Lw(e,t,{checkLines:!0});return r.length>2&&(r=c9(r),r=u9(r)),gP(e,r,mP(n))}if(e&&Array.isArray(e)&&typeof t>"u")return gP(d9(e),e,mP(n));if(typeof e=="string"&&t&&Array.isArray(t))return gP(e,t,mP(n));throw new Error("Unknown call format to make()")}function gP(e,t,n){if(t.length===0)return[];const r=[];let o=EE(0,0),i=0,s=0,a=0,l=0,u=0,d=e,f=e;for(let p=0;p<t.length;p++){const m=t[p],[v,g]=m,b=g.length,x=qd(g);switch(!i&&v!==wt&&(o.start1=s,o.start2=a,o.utf8Start1=l,o.utf8Start2=u),v){case Yn:o.diffs[i++]=m,o.length2+=b,o.utf8Length2+=x,f=f.substring(0,a)+g+f.substring(a);break;case Dn:o.length1+=b,o.utf8Length1+=x,o.diffs[i++]=m,f=f.substring(0,a)+f.substring(a+b);break;case wt:b<=2*n.margin&&i&&t.length!==p+1?(o.diffs[i++]=m,o.length1+=b,o.length2+=b,o.utf8Length1+=x,o.utf8Length2+=x):b>=2*n.margin&&i&&(vZ(o,d,n),r.push(o),o=EE(-1,-1),i=0,d=f,s=a,l=u);break;default:throw new Error("Unknown diff type")}v!==Yn&&(s+=b,l+=x),v!==Dn&&(a+=b,u+=x)}return i&&(vZ(o,d,n),r.push(o)),r}function vZ(e,t,n){if(t.length===0)return;let r=t.substring(e.start2,e.start2+e.length1),o=0;for(;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<Id-n.margin-n.margin;)o+=n.margin,r=t.substring(e.start2-o,e.start2+e.length1+o);o+=n.margin;let i=e.start2-o;i>=1&&XR(t[i])&&i--;const s=t.substring(i,e.start2);s&&e.diffs.unshift([wt,s]);const a=s.length,l=qd(s);let u=e.start2+e.length1+o;u<t.length&&XR(t[u])&&u++;const d=t.substring(e.start2+e.length1,u);d&&e.diffs.push([wt,d]);const f=d.length,p=qd(d);e.start1-=a,e.start2-=a,e.utf8Start1-=l,e.utf8Start2-=l,e.length1+=a+f,e.length2+=a+f,e.utf8Length1+=l+p,e.utf8Length2+=l+p}function zjt(e){let t=0,n=0,r=0;for(let o=0;o<e.length;o++){const i=e[o][0],s=e[o][1];switch(i){case Yn:n+=s.length;break;case Dn:r+=s.length;break;case wt:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function yZ(e,t){let n=0,r=0,o=0,i=0,s;for(s=0;s<e.length&&(e[s][0]!==Yn&&(n+=e[s][1].length),e[s][0]!==Dn&&(r+=e[s][1].length),!(n>t));s++)o=n,i=r;return e.length!==s&&e[s][0]===Dn?i:i+(t-o)}function Vjt(e){const n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f9;let r="";for(let s=1;s<=n;s++)r+=String.fromCharCode(s);for(const s of e)s.start1+=n,s.start2+=n,s.utf8Start1+=n,s.utf8Start2+=n;let o=e[0],i=o.diffs;if(i.length===0||i[0][0]!==wt)i.unshift([wt,r]),o.start1-=n,o.start2-=n,o.utf8Start1-=n,o.utf8Start2-=n,o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[0][1].length){const s=i[0][1].length,a=n-s;i[0][1]=r.substring(s)+i[0][1],o.start1-=a,o.start2-=a,o.utf8Start1-=a,o.utf8Start2-=a,o.length1+=a,o.length2+=a,o.utf8Length1+=a,o.utf8Length2+=a}if(o=e[e.length-1],i=o.diffs,i.length===0||i[i.length-1][0]!==wt)i.push([wt,r]),o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[i.length-1][1].length){const s=n-i[i.length-1][1].length;i[i.length-1][1]+=r.substring(0,s),o.length1+=s,o.length2+=s,o.utf8Length1+=s,o.utf8Length2+=s}return r}function Hjt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f9;const n=Id;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const o=e[r];e.splice(r--,1);let i=o.start1,s=o.start2,a="";for(;o.diffs.length!==0;){const l=EE(i-a.length,s-a.length);let u=!0;if(a!==""){const p=qd(a);l.length1=a.length,l.utf8Length1=p,l.length2=a.length,l.utf8Length2=p,l.diffs.push([wt,a])}for(;o.diffs.length!==0&&l.length1<n-t;){const p=o.diffs[0][0];let m=o.diffs[0][1],v=qd(m);if(p===Yn){l.length2+=m.length,l.utf8Length2+=v,s+=m.length;const g=o.diffs.shift();g&&l.diffs.push(g),u=!1}else p===Dn&&l.diffs.length===1&&l.diffs[0][0]===wt&&m.length>2*n?(l.length1+=m.length,l.utf8Length1+=v,i+=m.length,u=!1,l.diffs.push([p,m]),o.diffs.shift()):(m=m.substring(0,n-l.length1-t),v=qd(m),l.length1+=m.length,l.utf8Length1+=v,i+=m.length,p===wt?(l.length2+=m.length,l.utf8Length2+=v,s+=m.length):u=!1,l.diffs.push([p,m]),m===o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(m.length))}a=s5e(l.diffs),a=a.substring(a.length-t);const d=d9(o.diffs).substring(0,t),f=qd(d);d!==""&&(l.length1+=d.length,l.length2+=d.length,l.utf8Length1+=f,l.utf8Length2+=f,l.diffs.length!==0&&l.diffs[l.diffs.length-1][0]===wt?l.diffs[l.diffs.length-1][1]+=d:l.diffs.push([wt,d])),u||e.splice(++r,0,l)}}}function c5e(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(e.length===0)return[r,[]];const o=Bjt(e,r,{allowExceedingIndices:n.allowExceedingIndices}),i=n.margin||f9,s=n.deleteThreshold||.4,a=Vjt(o,i);r=a+r+a,Hjt(o,i);let l=0;const u=[];for(let d=0;d<o.length;d++){const f=o[d].start2+l,p=d9(o[d].diffs);let m,v=-1;if(p.length>Id?(m=pP(r,p.substring(0,Id),f),m!==-1&&(v=pP(r,p.substring(p.length-Id),f+p.length-Id),(v===-1||m>=v)&&(m=-1))):m=pP(r,p,f),m===-1)u[d]=!1,l-=o[d].length2-o[d].length1;else{u[d]=!0,l=m-f;let g;if(v===-1?g=r.substring(m,m+p.length):g=r.substring(m,v+Id),p===g)r=r.substring(0,m)+s5e(o[d].diffs)+r.substring(m+p.length);else{let b=Lw(p,g,{checkLines:!1});if(p.length>Id&&zjt(b)/p.length>s)u[d]=!1;else{b=i5e(b);let x=0,y=0;for(let w=0;w<o[d].diffs.length;w++){const C=o[d].diffs[w];C[0]!==wt&&(y=yZ(b,x)),C[0]===Yn?r=r.substring(0,m+y)+C[1]+r.substring(m+y):C[0]===Dn&&(r=r.substring(0,m+y)+r.substring(m+yZ(b,x+C[1].length))),C[0]!==Dn&&(x+=C[1].length)}}}}}return r=r.substring(a.length,r.length-a.length),[r,u]}function u5e(e){return e.map(Ujt).join("")}function Ujt(e){const{utf8Length1:t,utf8Length2:n,utf8Start1:r,utf8Start2:o,diffs:i}=e;let s;t===0?s="".concat(r,",0"):t===1?s="".concat(r+1):s="".concat(r+1,",").concat(t);let a;n===0?a="".concat(o,",0"):n===1?a="".concat(o+1):a="".concat(o+1,",").concat(n);const l=["@@ -".concat(s," +").concat(a,` @@
`)];let u;for(let d=0;d<i.length;d++){switch(i[d][0]){case Yn:u="+";break;case Dn:u="-";break;case wt:u=" ";break;default:throw new Error("Unknown patch operation.")}l[d+1]="".concat(u+encodeURI(i[d][1]),`
`)}return l.join("").replace(/%20/g," ")}const Wjt=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function d5e(e){if(!e)return[];const t=[],n=e.split(`
`);let r=0;for(;r<n.length;){const o=n[r].match(Wjt);if(!o)throw new Error("Invalid patch string: ".concat(n[r]));const i=EE(m_(o[1]),m_(o[3]));for(t.push(i),o[2]===""?(i.start1--,i.utf8Start1--,i.length1=1,i.utf8Length1=1):o[2]==="0"?(i.length1=0,i.utf8Length1=0):(i.start1--,i.utf8Start1--,i.utf8Length1=m_(o[2]),i.length1=i.utf8Length1),o[4]===""?(i.start2--,i.utf8Start2--,i.length2=1,i.utf8Length2=1):o[4]==="0"?(i.length2=0,i.utf8Length2=0):(i.start2--,i.utf8Start2--,i.utf8Length2=m_(o[4]),i.length2=i.utf8Length2),r++;r<n.length;){const s=n[r],a=s.charAt(0);if(a==="@")break;if(a===""){r++;continue}let l;try{l=decodeURI(s.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(s))}const u=qd(l)-l.length;if(a==="-")i.diffs.push([Dn,l]),i.length1-=u;else if(a==="+")i.diffs.push([Yn,l]),i.length2-=u;else if(a===" ")i.diffs.push([wt,l]),i.length1-=u,i.length2-=u;else throw new Error('Invalid patch mode "'.concat(a,'" in: ').concat(l));r++}}return t}function m_(e){return parseInt(e,10)}//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var f5e;function $e(){return f5e.apply(null,arguments)}function Yjt(e){f5e=e}function Al(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Tp(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function cn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h9(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(cn(e,t))return!1;return!0}function us(e){return e===void 0}function Nu(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Bw(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function h5e(e,t){var n=[],r,o=e.length;for(r=0;r<o;++r)n.push(t(e[r],r));return n}function Gd(e,t){for(var n in t)cn(t,n)&&(e[n]=t[n]);return cn(t,"toString")&&(e.toString=t.toString),cn(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Nc(e,t,n,r){return F5e(e,t,n,r,!0).utc()}function qjt(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Et(e){return e._pf==null&&(e._pf=qjt()),e._pf}var QR;Array.prototype.some?QR=Array.prototype.some:QR=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function p9(e){if(e._isValid==null){var t=Et(e),n=QR.call(t.parsedDateParts,function(o){return o!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function AT(e){var t=Nc(NaN);return e!=null?Gd(Et(t),e):Et(t).userInvalidated=!0,t}var bZ=$e.momentProperties=[],vP=!1;function m9(e,t){var n,r,o,i=bZ.length;if(us(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),us(t._i)||(e._i=t._i),us(t._f)||(e._f=t._f),us(t._l)||(e._l=t._l),us(t._strict)||(e._strict=t._strict),us(t._tzm)||(e._tzm=t._tzm),us(t._isUTC)||(e._isUTC=t._isUTC),us(t._offset)||(e._offset=t._offset),us(t._pf)||(e._pf=Et(t)),us(t._locale)||(e._locale=t._locale),i>0)for(n=0;n<i;n++)r=bZ[n],o=t[r],us(o)||(e[r]=o);return e}function Nw(e){m9(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),vP===!1&&(vP=!0,$e.updateOffset(this),vP=!1)}function Dl(e){return e instanceof Nw||e!=null&&e._isAMomentObject!=null}function p5e(e){$e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Ja(e,t){var n=!0;return Gd(function(){if($e.deprecationHandler!=null&&$e.deprecationHandler(null,e),n){var r=[],o,i,s,a=arguments.length;for(i=0;i<a;i++){if(o="",typeof arguments[i]=="object"){o+=`
[`+i+"] ";for(s in arguments[0])cn(arguments[0],s)&&(o+=s+": "+arguments[0][s]+", ");o=o.slice(0,-2)}else o=arguments[i];r.push(o)}p5e(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var xZ={};function m5e(e,t){$e.deprecationHandler!=null&&$e.deprecationHandler(e,t),xZ[e]||(p5e(t),xZ[e]=!0)}$e.suppressDeprecationWarnings=!1;$e.deprecationHandler=null;function zc(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function Gjt(e){var t,n;for(n in e)cn(e,n)&&(t=e[n],zc(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function JR(e,t){var n=Gd({},e),r;for(r in t)cn(t,r)&&(Tp(e[r])&&Tp(t[r])?(n[r]={},Gd(n[r],e[r]),Gd(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)cn(e,r)&&!cn(t,r)&&Tp(e[r])&&(n[r]=Gd({},n[r]));return n}function g9(e){e!=null&&this.set(e)}var eM;Object.keys?eM=Object.keys:eM=function(e){var t,n=[];for(t in e)cn(e,t)&&n.push(t);return n};var Kjt={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Zjt(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return zc(r)?r.call(t,n):r}function Ic(e,t,n){var r=""+Math.abs(e),o=t-r.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var v9=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,g_=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,yP={},dv={};function Je(e,t,n,r){var o=r;typeof r=="string"&&(o=function(){return this[r]()}),e&&(dv[e]=o),t&&(dv[t[0]]=function(){return Ic(o.apply(this,arguments),t[1],t[2])}),n&&(dv[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function Xjt(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Qjt(e){var t=e.match(v9),n,r;for(n=0,r=t.length;n<r;n++)dv[t[n]]?t[n]=dv[t[n]]:t[n]=Xjt(t[n]);return function(o){var i="",s;for(s=0;s<r;s++)i+=zc(t[s])?t[s].call(o,e):t[s];return i}}function cS(e,t){return e.isValid()?(t=g5e(t,e.localeData()),yP[t]=yP[t]||Qjt(t),yP[t](e)):e.localeData().invalidDate()}function g5e(e,t){var n=5;function r(o){return t.longDateFormat(o)||o}for(g_.lastIndex=0;n>=0&&g_.test(e);)e=e.replace(g_,r),g_.lastIndex=0,n-=1;return e}var Jjt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function eTt(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(v9).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var tTt="Invalid date";function nTt(){return this._invalidDate}var rTt="%d",oTt=/\d{1,2}/;function iTt(e){return this._ordinal.replace("%d",e)}var sTt={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function aTt(e,t,n,r){var o=this._relativeTime[n];return zc(o)?o(e,t,n,r):o.replace(/%d/i,e)}function lTt(e,t){var n=this._relativeTime[e>0?"future":"past"];return zc(n)?n(t):n.replace(/%s/i,t)}var mb={};function Di(e,t){var n=e.toLowerCase();mb[n]=mb[n+"s"]=mb[t]=e}function el(e){return typeof e=="string"?mb[e]||mb[e.toLowerCase()]:void 0}function y9(e){var t={},n,r;for(r in e)cn(e,r)&&(n=el(r),n&&(t[n]=e[r]));return t}var v5e={};function Ii(e,t){v5e[e]=t}function cTt(e){var t=[],n;for(n in e)cn(e,n)&&t.push({unit:n,priority:v5e[n]});return t.sort(function(r,o){return r.priority-o.priority}),t}function DT(e){return e%4===0&&e%100!==0||e%400===0}function ka(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Mt(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=ka(t)),n}function H0(e,t){return function(n){return n!=null?(y5e(this,e,n),$e.updateOffset(this,t),this):kE(this,e)}}function kE(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function y5e(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&DT(e.year())&&e.month()===1&&e.date()===29?(n=Mt(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),MT(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function uTt(e){return e=el(e),zc(this[e])?this[e]():this}function dTt(e,t){if(typeof e=="object"){e=y9(e);var n=cTt(e),r,o=n.length;for(r=0;r<o;r++)this[n[r].unit](e[n[r].unit])}else if(e=el(e),zc(this[e]))return this[e](t);return this}var b5e=/\d/,pa=/\d\d/,x5e=/\d{3}/,b9=/\d{4}/,IT=/[+-]?\d{6}/,cr=/\d\d?/,w5e=/\d\d\d\d?/,C5e=/\d\d\d\d\d\d?/,PT=/\d{1,3}/,x9=/\d{1,4}/,OT=/[+-]?\d{1,6}/,U0=/\d+/,$T=/[+-]?\d+/,fTt=/Z|[+-]\d\d:?\d\d/gi,RT=/Z|[+-]\d\d(?::?\d\d)?/gi,hTt=/[+-]?\d+(\.\d{1,3})?/,zw=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,jE;jE={};function Le(e,t,n){jE[e]=zc(t)?t:function(r,o){return r&&n?n:t}}function pTt(e,t){return cn(jE,e)?jE[e](t._strict,t._locale):new RegExp(mTt(e))}function mTt(e){return Ks(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,o,i){return n||r||o||i}))}function Ks(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var tM={};function On(e,t){var n,r=t,o;for(typeof e=="string"&&(e=[e]),Nu(t)&&(r=function(i,s){s[t]=Mt(i)}),o=e.length,n=0;n<o;n++)tM[e[n]]=r}function Vw(e,t){On(e,function(n,r,o,i){o._w=o._w||{},t(n,o._w,o,i)})}function gTt(e,t,n){t!=null&&cn(tM,e)&&tM[e](t,n._a,n,e)}var wi=0,vu=1,hc=2,ko=3,gl=4,yu=5,ap=6,vTt=7,yTt=8;function bTt(e,t){return(e%t+t)%t}var qr;Array.prototype.indexOf?qr=Array.prototype.indexOf:qr=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function MT(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=bTt(t,12);return e+=(t-n)/12,n===1?DT(e)?29:28:31-n%7%2}Je("M",["MM",2],"Mo",function(){return this.month()+1});Je("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});Je("MMMM",0,0,function(e){return this.localeData().months(this,e)});Di("month","M");Ii("month",8);Le("M",cr);Le("MM",cr,pa);Le("MMM",function(e,t){return t.monthsShortRegex(e)});Le("MMMM",function(e,t){return t.monthsRegex(e)});On(["M","MM"],function(e,t){t[vu]=Mt(e)-1});On(["MMM","MMMM"],function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);o!=null?t[vu]=o:Et(n).invalidMonth=e});var xTt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),_5e="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),S5e=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,wTt=zw,CTt=zw;function _Tt(e,t){return e?Al(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||S5e).test(t)?"format":"standalone"][e.month()]:Al(this._months)?this._months:this._months.standalone}function STt(e,t){return e?Al(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[S5e.test(t)?"format":"standalone"][e.month()]:Al(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ETt(e,t,n){var r,o,i,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=Nc([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?t==="MMM"?(o=qr.call(this._shortMonthsParse,s),o!==-1?o:null):(o=qr.call(this._longMonthsParse,s),o!==-1?o:null):t==="MMM"?(o=qr.call(this._shortMonthsParse,s),o!==-1?o:(o=qr.call(this._longMonthsParse,s),o!==-1?o:null)):(o=qr.call(this._longMonthsParse,s),o!==-1?o:(o=qr.call(this._shortMonthsParse,s),o!==-1?o:null))}function kTt(e,t,n){var r,o,i;if(this._monthsParseExact)return ETt.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=Nc([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function E5e(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Mt(t);else if(t=e.localeData().monthsParse(t),!Nu(t))return e}return n=Math.min(e.date(),MT(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function k5e(e){return e!=null?(E5e(this,e),$e.updateOffset(this,!0),this):kE(this,"Month")}function jTt(){return MT(this.year(),this.month())}function TTt(e){return this._monthsParseExact?(cn(this,"_monthsRegex")||j5e.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(cn(this,"_monthsShortRegex")||(this._monthsShortRegex=wTt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ATt(e){return this._monthsParseExact?(cn(this,"_monthsRegex")||j5e.call(this),e?this._monthsStrictRegex:this._monthsRegex):(cn(this,"_monthsRegex")||(this._monthsRegex=CTt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function j5e(){function e(s,a){return a.length-s.length}var t=[],n=[],r=[],o,i;for(o=0;o<12;o++)i=Nc([2e3,o]),t.push(this.monthsShort(i,"")),n.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(t.sort(e),n.sort(e),r.sort(e),o=0;o<12;o++)t[o]=Ks(t[o]),n[o]=Ks(n[o]);for(o=0;o<24;o++)r[o]=Ks(r[o]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}Je("Y",0,0,function(){var e=this.year();return e<=9999?Ic(e,4):"+"+e});Je(0,["YY",2],0,function(){return this.year()%100});Je(0,["YYYY",4],0,"year");Je(0,["YYYYY",5],0,"year");Je(0,["YYYYYY",6,!0],0,"year");Di("year","y");Ii("year",1);Le("Y",$T);Le("YY",cr,pa);Le("YYYY",x9,b9);Le("YYYYY",OT,IT);Le("YYYYYY",OT,IT);On(["YYYYY","YYYYYY"],wi);On("YYYY",function(e,t){t[wi]=e.length===2?$e.parseTwoDigitYear(e):Mt(e)});On("YY",function(e,t){t[wi]=$e.parseTwoDigitYear(e)});On("Y",function(e,t){t[wi]=parseInt(e,10)});function gb(e){return DT(e)?366:365}$e.parseTwoDigitYear=function(e){return Mt(e)+(Mt(e)>68?1900:2e3)};var T5e=H0("FullYear",!0);function DTt(){return DT(this.year())}function ITt(e,t,n,r,o,i,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,o,i,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,o,i,s),a}function fx(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function TE(e,t,n){var r=7+t-n,o=(7+fx(e,0,r).getUTCDay()-t)%7;return-o+r-1}function A5e(e,t,n,r,o){var i=(7+n-r)%7,s=TE(e,r,o),a=1+7*(t-1)+i+s,l,u;return a<=0?(l=e-1,u=gb(l)+a):a>gb(e)?(l=e+1,u=a-gb(e)):(l=e,u=a),{year:l,dayOfYear:u}}function hx(e,t,n){var r=TE(e.year(),t,n),o=Math.floor((e.dayOfYear()-r-1)/7)+1,i,s;return o<1?(s=e.year()-1,i=o+ku(s,t,n)):o>ku(e.year(),t,n)?(i=o-ku(e.year(),t,n),s=e.year()+1):(s=e.year(),i=o),{week:i,year:s}}function ku(e,t,n){var r=TE(e,t,n),o=TE(e+1,t,n);return(gb(e)-r+o)/7}Je("w",["ww",2],"wo","week");Je("W",["WW",2],"Wo","isoWeek");Di("week","w");Di("isoWeek","W");Ii("week",5);Ii("isoWeek",5);Le("w",cr);Le("ww",cr,pa);Le("W",cr);Le("WW",cr,pa);Vw(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=Mt(e)});function PTt(e){return hx(e,this._week.dow,this._week.doy).week}var OTt={dow:0,doy:6};function $Tt(){return this._week.dow}function RTt(){return this._week.doy}function MTt(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function FTt(e){var t=hx(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}Je("d",0,"do","day");Je("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});Je("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});Je("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});Je("e",0,0,"weekday");Je("E",0,0,"isoWeekday");Di("day","d");Di("weekday","e");Di("isoWeekday","E");Ii("day",11);Ii("weekday",11);Ii("isoWeekday",11);Le("d",cr);Le("e",cr);Le("E",cr);Le("dd",function(e,t){return t.weekdaysMinRegex(e)});Le("ddd",function(e,t){return t.weekdaysShortRegex(e)});Le("dddd",function(e,t){return t.weekdaysRegex(e)});Vw(["dd","ddd","dddd"],function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);o!=null?t.d=o:Et(n).invalidWeekday=e});Vw(["d","e","E"],function(e,t,n,r){t[r]=Mt(e)});function LTt(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function BTt(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function w9(e,t){return e.slice(t,7).concat(e.slice(0,t))}var NTt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),D5e="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),zTt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),VTt=zw,HTt=zw,UTt=zw;function WTt(e,t){var n=Al(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?w9(n,this._week.dow):e?n[e.day()]:n}function YTt(e){return e===!0?w9(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function qTt(e){return e===!0?w9(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function GTt(e,t,n){var r,o,i,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=Nc([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?t==="dddd"?(o=qr.call(this._weekdaysParse,s),o!==-1?o:null):t==="ddd"?(o=qr.call(this._shortWeekdaysParse,s),o!==-1?o:null):(o=qr.call(this._minWeekdaysParse,s),o!==-1?o:null):t==="dddd"?(o=qr.call(this._weekdaysParse,s),o!==-1||(o=qr.call(this._shortWeekdaysParse,s),o!==-1)?o:(o=qr.call(this._minWeekdaysParse,s),o!==-1?o:null)):t==="ddd"?(o=qr.call(this._shortWeekdaysParse,s),o!==-1||(o=qr.call(this._weekdaysParse,s),o!==-1)?o:(o=qr.call(this._minWeekdaysParse,s),o!==-1?o:null)):(o=qr.call(this._minWeekdaysParse,s),o!==-1||(o=qr.call(this._weekdaysParse,s),o!==-1)?o:(o=qr.call(this._shortWeekdaysParse,s),o!==-1?o:null))}function KTt(e,t,n){var r,o,i;if(this._weekdaysParseExact)return GTt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=Nc([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function ZTt(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=LTt(e,this.localeData()),this.add(e-t,"d")):t}function XTt(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function QTt(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=BTt(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function JTt(e){return this._weekdaysParseExact?(cn(this,"_weekdaysRegex")||C9.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(cn(this,"_weekdaysRegex")||(this._weekdaysRegex=VTt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function eAt(e){return this._weekdaysParseExact?(cn(this,"_weekdaysRegex")||C9.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(cn(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=HTt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function tAt(e){return this._weekdaysParseExact?(cn(this,"_weekdaysRegex")||C9.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(cn(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=UTt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function C9(){function e(d,f){return f.length-d.length}var t=[],n=[],r=[],o=[],i,s,a,l,u;for(i=0;i<7;i++)s=Nc([2e3,1]).day(i),a=Ks(this.weekdaysMin(s,"")),l=Ks(this.weekdaysShort(s,"")),u=Ks(this.weekdays(s,"")),t.push(a),n.push(l),r.push(u),o.push(a),o.push(l),o.push(u);t.sort(e),n.sort(e),r.sort(e),o.sort(e),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function _9(){return this.hours()%12||12}function nAt(){return this.hours()||24}Je("H",["HH",2],0,"hour");Je("h",["hh",2],0,_9);Je("k",["kk",2],0,nAt);Je("hmm",0,0,function(){return""+_9.apply(this)+Ic(this.minutes(),2)});Je("hmmss",0,0,function(){return""+_9.apply(this)+Ic(this.minutes(),2)+Ic(this.seconds(),2)});Je("Hmm",0,0,function(){return""+this.hours()+Ic(this.minutes(),2)});Je("Hmmss",0,0,function(){return""+this.hours()+Ic(this.minutes(),2)+Ic(this.seconds(),2)});function I5e(e,t){Je(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}I5e("a",!0);I5e("A",!1);Di("hour","h");Ii("hour",13);function P5e(e,t){return t._meridiemParse}Le("a",P5e);Le("A",P5e);Le("H",cr);Le("h",cr);Le("k",cr);Le("HH",cr,pa);Le("hh",cr,pa);Le("kk",cr,pa);Le("hmm",w5e);Le("hmmss",C5e);Le("Hmm",w5e);Le("Hmmss",C5e);On(["H","HH"],ko);On(["k","kk"],function(e,t,n){var r=Mt(e);t[ko]=r===24?0:r});On(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});On(["h","hh"],function(e,t,n){t[ko]=Mt(e),Et(n).bigHour=!0});On("hmm",function(e,t,n){var r=e.length-2;t[ko]=Mt(e.substr(0,r)),t[gl]=Mt(e.substr(r)),Et(n).bigHour=!0});On("hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[ko]=Mt(e.substr(0,r)),t[gl]=Mt(e.substr(r,2)),t[yu]=Mt(e.substr(o)),Et(n).bigHour=!0});On("Hmm",function(e,t,n){var r=e.length-2;t[ko]=Mt(e.substr(0,r)),t[gl]=Mt(e.substr(r))});On("Hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[ko]=Mt(e.substr(0,r)),t[gl]=Mt(e.substr(r,2)),t[yu]=Mt(e.substr(o))});function rAt(e){return(e+"").toLowerCase().charAt(0)==="p"}var oAt=/[ap]\.?m?\.?/i,iAt=H0("Hours",!0);function sAt(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var O5e={calendar:Kjt,longDateFormat:Jjt,invalidDate:tTt,ordinal:rTt,dayOfMonthOrdinalParse:oTt,relativeTime:sTt,months:xTt,monthsShort:_5e,week:OTt,weekdays:NTt,weekdaysMin:zTt,weekdaysShort:D5e,meridiemParse:oAt},mr={},z1={},px;function aAt(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function wZ(e){return e&&e.toLowerCase().replace("_","-")}function lAt(e){for(var t=0,n,r,o,i;t<e.length;){for(i=wZ(e[t]).split("-"),n=i.length,r=wZ(e[t+1]),r=r?r.split("-"):null;n>0;){if(o=FT(i.slice(0,n).join("-")),o)return o;if(r&&r.length>=n&&aAt(i,r)>=n-1)break;n--}t++}return px}function cAt(e){return e.match("^[^/\\\\]*$")!=null}function FT(e){var t=null,n;if(mr[e]===void 0&&typeof module<"u"&&module&&module.exports&&cAt(e))try{t=px._abbr,n=require,n("./locale/"+e),gf(t)}catch{mr[e]=null}return mr[e]}function gf(e,t){var n;return e&&(us(t)?n=ad(e):n=S9(e,t),n?px=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),px._abbr}function S9(e,t){if(t!==null){var n,r=O5e;if(t.abbr=e,mr[e]!=null)m5e("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=mr[e]._config;else if(t.parentLocale!=null)if(mr[t.parentLocale]!=null)r=mr[t.parentLocale]._config;else if(n=FT(t.parentLocale),n!=null)r=n._config;else return z1[t.parentLocale]||(z1[t.parentLocale]=[]),z1[t.parentLocale].push({name:e,config:t}),null;return mr[e]=new g9(JR(r,t)),z1[e]&&z1[e].forEach(function(o){S9(o.name,o.config)}),gf(e),mr[e]}else return delete mr[e],null}function uAt(e,t){if(t!=null){var n,r,o=O5e;mr[e]!=null&&mr[e].parentLocale!=null?mr[e].set(JR(mr[e]._config,t)):(r=FT(e),r!=null&&(o=r._config),t=JR(o,t),r==null&&(t.abbr=e),n=new g9(t),n.parentLocale=mr[e],mr[e]=n),gf(e)}else mr[e]!=null&&(mr[e].parentLocale!=null?(mr[e]=mr[e].parentLocale,e===gf()&&gf(e)):mr[e]!=null&&delete mr[e]);return mr[e]}function ad(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return px;if(!Al(e)){if(t=FT(e),t)return t;e=[e]}return lAt(e)}function dAt(){return eM(mr)}function E9(e){var t,n=e._a;return n&&Et(e).overflow===-2&&(t=n[vu]<0||n[vu]>11?vu:n[hc]<1||n[hc]>MT(n[wi],n[vu])?hc:n[ko]<0||n[ko]>24||n[ko]===24&&(n[gl]!==0||n[yu]!==0||n[ap]!==0)?ko:n[gl]<0||n[gl]>59?gl:n[yu]<0||n[yu]>59?yu:n[ap]<0||n[ap]>999?ap:-1,Et(e)._overflowDayOfYear&&(t<wi||t>hc)&&(t=hc),Et(e)._overflowWeeks&&t===-1&&(t=vTt),Et(e)._overflowWeekday&&t===-1&&(t=yTt),Et(e).overflow=t),e}var fAt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,hAt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pAt=/Z|[+-]\d\d(?::?\d\d)?/,v_=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],bP=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],mAt=/^\/?Date\((-?\d+)/i,gAt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,vAt={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function $5e(e){var t,n,r=e._i,o=fAt.exec(r)||hAt.exec(r),i,s,a,l,u=v_.length,d=bP.length;if(o){for(Et(e).iso=!0,t=0,n=u;t<n;t++)if(v_[t][1].exec(o[1])){s=v_[t][0],i=v_[t][2]!==!1;break}if(s==null){e._isValid=!1;return}if(o[3]){for(t=0,n=d;t<n;t++)if(bP[t][1].exec(o[3])){a=(o[2]||" ")+bP[t][0];break}if(a==null){e._isValid=!1;return}}if(!i&&a!=null){e._isValid=!1;return}if(o[4])if(pAt.exec(o[4]))l="Z";else{e._isValid=!1;return}e._f=s+(a||"")+(l||""),j9(e)}else e._isValid=!1}function yAt(e,t,n,r,o,i){var s=[bAt(e),_5e.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(o,10)];return i&&s.push(parseInt(i,10)),s}function bAt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function xAt(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function wAt(e,t,n){if(e){var r=D5e.indexOf(e),o=new Date(t[0],t[1],t[2]).getDay();if(r!==o)return Et(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function CAt(e,t,n){if(e)return vAt[e];if(t)return 0;var r=parseInt(n,10),o=r%100,i=(r-o)/100;return i*60+o}function R5e(e){var t=gAt.exec(xAt(e._i)),n;if(t){if(n=yAt(t[4],t[3],t[2],t[5],t[6],t[7]),!wAt(t[1],n,e))return;e._a=n,e._tzm=CAt(t[8],t[9],t[10]),e._d=fx.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Et(e).rfc2822=!0}else e._isValid=!1}function _At(e){var t=mAt.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if($5e(e),e._isValid===!1)delete e._isValid;else return;if(R5e(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:$e.createFromInputFallback(e)}$e.createFromInputFallback=Ja("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function vg(e,t,n){return e??t??n}function SAt(e){var t=new Date($e.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function k9(e){var t,n,r=[],o,i,s;if(!e._d){for(o=SAt(e),e._w&&e._a[hc]==null&&e._a[vu]==null&&EAt(e),e._dayOfYear!=null&&(s=vg(e._a[wi],o[wi]),(e._dayOfYear>gb(s)||e._dayOfYear===0)&&(Et(e)._overflowDayOfYear=!0),n=fx(s,0,e._dayOfYear),e._a[vu]=n.getUTCMonth(),e._a[hc]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=o[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[ko]===24&&e._a[gl]===0&&e._a[yu]===0&&e._a[ap]===0&&(e._nextDay=!0,e._a[ko]=0),e._d=(e._useUTC?fx:ITt).apply(null,r),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ko]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==i&&(Et(e).weekdayMismatch=!0)}}function EAt(e){var t,n,r,o,i,s,a,l,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,s=4,n=vg(t.GG,e._a[wi],hx(ar(),1,4).year),r=vg(t.W,1),o=vg(t.E,1),(o<1||o>7)&&(l=!0)):(i=e._locale._week.dow,s=e._locale._week.doy,u=hx(ar(),i,s),n=vg(t.gg,e._a[wi],u.year),r=vg(t.w,u.week),t.d!=null?(o=t.d,(o<0||o>6)&&(l=!0)):t.e!=null?(o=t.e+i,(t.e<0||t.e>6)&&(l=!0)):o=i),r<1||r>ku(n,i,s)?Et(e)._overflowWeeks=!0:l!=null?Et(e)._overflowWeekday=!0:(a=A5e(n,r,o,i,s),e._a[wi]=a.year,e._dayOfYear=a.dayOfYear)}$e.ISO_8601=function(){};$e.RFC_2822=function(){};function j9(e){if(e._f===$e.ISO_8601){$5e(e);return}if(e._f===$e.RFC_2822){R5e(e);return}e._a=[],Et(e).empty=!0;var t=""+e._i,n,r,o,i,s,a=t.length,l=0,u,d;for(o=g5e(e._f,e._locale).match(v9)||[],d=o.length,n=0;n<d;n++)i=o[n],r=(t.match(pTt(i,e))||[])[0],r&&(s=t.substr(0,t.indexOf(r)),s.length>0&&Et(e).unusedInput.push(s),t=t.slice(t.indexOf(r)+r.length),l+=r.length),dv[i]?(r?Et(e).empty=!1:Et(e).unusedTokens.push(i),gTt(i,r,e)):e._strict&&!r&&Et(e).unusedTokens.push(i);Et(e).charsLeftOver=a-l,t.length>0&&Et(e).unusedInput.push(t),e._a[ko]<=12&&Et(e).bigHour===!0&&e._a[ko]>0&&(Et(e).bigHour=void 0),Et(e).parsedDateParts=e._a.slice(0),Et(e).meridiem=e._meridiem,e._a[ko]=kAt(e._locale,e._a[ko],e._meridiem),u=Et(e).era,u!==null&&(e._a[wi]=e._locale.erasConvertYear(u,e._a[wi])),k9(e),E9(e)}function kAt(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function jAt(e){var t,n,r,o,i,s,a=!1,l=e._f.length;if(l===0){Et(e).invalidFormat=!0,e._d=new Date(NaN);return}for(o=0;o<l;o++)i=0,s=!1,t=m9({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[o],j9(t),p9(t)&&(s=!0),i+=Et(t).charsLeftOver,i+=Et(t).unusedTokens.length*10,Et(t).score=i,a?i<r&&(r=i,n=t):(r==null||i<r||s)&&(r=i,n=t,s&&(a=!0));Gd(e,n||t)}function TAt(e){if(!e._d){var t=y9(e._i),n=t.day===void 0?t.date:t.day;e._a=h5e([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),k9(e)}}function AAt(e){var t=new Nw(E9(M5e(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function M5e(e){var t=e._i,n=e._f;return e._locale=e._locale||ad(e._l),t===null||n===void 0&&t===""?AT({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Dl(t)?new Nw(E9(t)):(Bw(t)?e._d=t:Al(n)?jAt(e):n?j9(e):DAt(e),p9(e)||(e._d=null),e))}function DAt(e){var t=e._i;us(t)?e._d=new Date($e.now()):Bw(t)?e._d=new Date(t.valueOf()):typeof t=="string"?_At(e):Al(t)?(e._a=h5e(t.slice(0),function(n){return parseInt(n,10)}),k9(e)):Tp(t)?TAt(e):Nu(t)?e._d=new Date(t):$e.createFromInputFallback(e)}function F5e(e,t,n,r,o){var i={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Tp(e)&&h9(e)||Al(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=o,i._l=n,i._i=e,i._f=t,i._strict=r,AAt(i)}function ar(e,t,n,r){return F5e(e,t,n,r,!1)}var IAt=Ja("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ar.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:AT()}),PAt=Ja("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ar.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:AT()});function L5e(e,t){var n,r;if(t.length===1&&Al(t[0])&&(t=t[0]),!t.length)return ar();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function OAt(){var e=[].slice.call(arguments,0);return L5e("isBefore",e)}function $At(){var e=[].slice.call(arguments,0);return L5e("isAfter",e)}var RAt=function(){return Date.now?Date.now():+new Date},V1=["year","quarter","month","week","day","hour","minute","second","millisecond"];function MAt(e){var t,n=!1,r,o=V1.length;for(t in e)if(cn(e,t)&&!(qr.call(V1,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<o;++r)if(e[V1[r]]){if(n)return!1;parseFloat(e[V1[r]])!==Mt(e[V1[r]])&&(n=!0)}return!0}function FAt(){return this._isValid}function LAt(){return Fl(NaN)}function LT(e){var t=y9(e),n=t.year||0,r=t.quarter||0,o=t.month||0,i=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,l=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=MAt(t),this._milliseconds=+d+u*1e3+l*6e4+a*1e3*60*60,this._days=+s+i*7,this._months=+o+r*3+n*12,this._data={},this._locale=ad(),this._bubble()}function uS(e){return e instanceof LT}function nM(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function BAt(e,t,n){var r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),i=0,s;for(s=0;s<r;s++)(n&&e[s]!==t[s]||!n&&Mt(e[s])!==Mt(t[s]))&&i++;return i+o}function B5e(e,t){Je(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Ic(~~(n/60),2)+t+Ic(~~n%60,2)})}B5e("Z",":");B5e("ZZ","");Le("Z",RT);Le("ZZ",RT);On(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=T9(RT,e)});var NAt=/([\+\-]|\d\d)/gi;function T9(e,t){var n=(t||"").match(e),r,o,i;return n===null?null:(r=n[n.length-1]||[],o=(r+"").match(NAt)||["-",0,0],i=+(o[1]*60)+Mt(o[2]),i===0?0:o[0]==="+"?i:-i)}function A9(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Dl(e)||Bw(e)?e.valueOf():ar(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),$e.updateOffset(n,!1),n):ar(e).local()}function rM(e){return-Math.round(e._d.getTimezoneOffset())}$e.updateOffset=function(){};function zAt(e,t,n){var r=this._offset||0,o;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=T9(RT,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(o=rM(this)),this._offset=e,this._isUTC=!0,o!=null&&this.add(o,"m"),r!==e&&(!t||this._changeInProgress?V5e(this,Fl(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,$e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:rM(this)}function VAt(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function HAt(e){return this.utcOffset(0,e)}function UAt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(rM(this),"m")),this}function WAt(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=T9(fTt,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function YAt(e){return this.isValid()?(e=e?ar(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function qAt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function GAt(){if(!us(this._isDSTShifted))return this._isDSTShifted;var e={},t;return m9(e,this),e=M5e(e),e._a?(t=e._isUTC?Nc(e._a):ar(e._a),this._isDSTShifted=this.isValid()&&BAt(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function KAt(){return this.isValid()?!this._isUTC:!1}function ZAt(){return this.isValid()?this._isUTC:!1}function N5e(){return this.isValid()?this._isUTC&&this._offset===0:!1}var XAt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,QAt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Fl(e,t){var n=e,r=null,o,i,s;return uS(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:Nu(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=XAt.exec(e))?(o=r[1]==="-"?-1:1,n={y:0,d:Mt(r[hc])*o,h:Mt(r[ko])*o,m:Mt(r[gl])*o,s:Mt(r[yu])*o,ms:Mt(nM(r[ap]*1e3))*o}):(r=QAt.exec(e))?(o=r[1]==="-"?-1:1,n={y:_h(r[2],o),M:_h(r[3],o),w:_h(r[4],o),d:_h(r[5],o),h:_h(r[6],o),m:_h(r[7],o),s:_h(r[8],o)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=JAt(ar(n.from),ar(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),i=new LT(n),uS(e)&&cn(e,"_locale")&&(i._locale=e._locale),uS(e)&&cn(e,"_isValid")&&(i._isValid=e._isValid),i}Fl.fn=LT.prototype;Fl.invalid=LAt;function _h(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function CZ(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function JAt(e,t){var n;return e.isValid()&&t.isValid()?(t=A9(t,e),e.isBefore(t)?n=CZ(e,t):(n=CZ(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function z5e(e,t){return function(n,r){var o,i;return r!==null&&!isNaN(+r)&&(m5e(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),o=Fl(n,r),V5e(this,o,e),this}}function V5e(e,t,n,r){var o=t._milliseconds,i=nM(t._days),s=nM(t._months);e.isValid()&&(r=r??!0,s&&E5e(e,kE(e,"Month")+s*n),i&&y5e(e,"Date",kE(e,"Date")+i*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&$e.updateOffset(e,i||s))}var eDt=z5e(1,"add"),tDt=z5e(-1,"subtract");function H5e(e){return typeof e=="string"||e instanceof String}function nDt(e){return Dl(e)||Bw(e)||H5e(e)||Nu(e)||oDt(e)||rDt(e)||e===null||e===void 0}function rDt(e){var t=Tp(e)&&!h9(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,i,s=r.length;for(o=0;o<s;o+=1)i=r[o],n=n||cn(e,i);return t&&n}function oDt(e){var t=Al(e),n=!1;return t&&(n=e.filter(function(r){return!Nu(r)&&H5e(e)}).length===0),t&&n}function iDt(e){var t=Tp(e)&&!h9(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,i;for(o=0;o<r.length;o+=1)i=r[o],n=n||cn(e,i);return t&&n}function sDt(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function aDt(e,t){arguments.length===1&&(arguments[0]?nDt(arguments[0])?(e=arguments[0],t=void 0):iDt(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||ar(),r=A9(n,this).startOf("day"),o=$e.calendarFormat(this,r)||"sameElse",i=t&&(zc(t[o])?t[o].call(this,n):t[o]);return this.format(i||this.localeData().calendar(o,this,ar(n)))}function lDt(){return new Nw(this)}function cDt(e,t){var n=Dl(e)?e:ar(e);return this.isValid()&&n.isValid()?(t=el(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function uDt(e,t){var n=Dl(e)?e:ar(e);return this.isValid()&&n.isValid()?(t=el(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function dDt(e,t,n,r){var o=Dl(e)?e:ar(e),i=Dl(t)?t:ar(t);return this.isValid()&&o.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(o,n):!this.isBefore(o,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function fDt(e,t){var n=Dl(e)?e:ar(e),r;return this.isValid()&&n.isValid()?(t=el(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function hDt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function pDt(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function mDt(e,t,n){var r,o,i;if(!this.isValid())return NaN;if(r=A9(e,this),!r.isValid())return NaN;switch(o=(r.utcOffset()-this.utcOffset())*6e4,t=el(t),t){case"year":i=dS(this,r)/12;break;case"month":i=dS(this,r);break;case"quarter":i=dS(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:ka(i)}function dS(e,t){if(e.date()<t.date())return-dS(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),o,i;return t-r<0?(o=e.clone().add(n-1,"months"),i=(t-r)/(r-o)):(o=e.clone().add(n+1,"months"),i=(t-r)/(o-r)),-(n+i)||0}$e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";$e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function gDt(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function vDt(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?cS(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):zc(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",cS(n,"Z")):cS(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function yDt(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,o,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(n+r+o+i)}function bDt(e){e||(e=this.isUtc()?$e.defaultFormatUtc:$e.defaultFormat);var t=cS(this,e);return this.localeData().postformat(t)}function xDt(e,t){return this.isValid()&&(Dl(e)&&e.isValid()||ar(e).isValid())?Fl({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function wDt(e){return this.from(ar(),e)}function CDt(e,t){return this.isValid()&&(Dl(e)&&e.isValid()||ar(e).isValid())?Fl({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function _Dt(e){return this.to(ar(),e)}function U5e(e){var t;return e===void 0?this._locale._abbr:(t=ad(e),t!=null&&(this._locale=t),this)}var W5e=Ja("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function Y5e(){return this._locale}var AE=1e3,fv=60*AE,DE=60*fv,q5e=(365*400+97)*24*DE;function hv(e,t){return(e%t+t)%t}function G5e(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-q5e:new Date(e,t,n).valueOf()}function K5e(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-q5e:Date.UTC(e,t,n)}function SDt(e){var t,n;if(e=el(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?K5e:G5e,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=hv(t+(this._isUTC?0:this.utcOffset()*fv),DE);break;case"minute":t=this._d.valueOf(),t-=hv(t,fv);break;case"second":t=this._d.valueOf(),t-=hv(t,AE);break}return this._d.setTime(t),$e.updateOffset(this,!0),this}function EDt(e){var t,n;if(e=el(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?K5e:G5e,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=DE-hv(t+(this._isUTC?0:this.utcOffset()*fv),DE)-1;break;case"minute":t=this._d.valueOf(),t+=fv-hv(t,fv)-1;break;case"second":t=this._d.valueOf(),t+=AE-hv(t,AE)-1;break}return this._d.setTime(t),$e.updateOffset(this,!0),this}function kDt(){return this._d.valueOf()-(this._offset||0)*6e4}function jDt(){return Math.floor(this.valueOf()/1e3)}function TDt(){return new Date(this.valueOf())}function ADt(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function DDt(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function IDt(){return this.isValid()?this.toISOString():null}function PDt(){return p9(this)}function ODt(){return Gd({},Et(this))}function $Dt(){return Et(this).overflow}function RDt(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Je("N",0,0,"eraAbbr");Je("NN",0,0,"eraAbbr");Je("NNN",0,0,"eraAbbr");Je("NNNN",0,0,"eraName");Je("NNNNN",0,0,"eraNarrow");Je("y",["y",1],"yo","eraYear");Je("y",["yy",2],0,"eraYear");Je("y",["yyy",3],0,"eraYear");Je("y",["yyyy",4],0,"eraYear");Le("N",D9);Le("NN",D9);Le("NNN",D9);Le("NNNN",YDt);Le("NNNNN",qDt);On(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var o=n._locale.erasParse(e,r,n._strict);o?Et(n).era=o:Et(n).invalidEra=e});Le("y",U0);Le("yy",U0);Le("yyy",U0);Le("yyyy",U0);Le("yo",GDt);On(["y","yy","yyy","yyyy"],wi);On(["yo"],function(e,t,n,r){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[wi]=n._locale.eraYearOrdinalParse(e,o):t[wi]=parseInt(e,10)});function MDt(e,t){var n,r,o,i=this._eras||ad("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":o=$e(i[n].since).startOf("day"),i[n].since=o.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":o=$e(i[n].until).startOf("day").valueOf(),i[n].until=o.valueOf();break}}return i}function FDt(e,t,n){var r,o,i=this.eras(),s,a,l;for(e=e.toUpperCase(),r=0,o=i.length;r<o;++r)if(s=i[r].name.toUpperCase(),a=i[r].abbr.toUpperCase(),l=i[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return i[r];break;case"NNNN":if(s===e)return i[r];break;case"NNNNN":if(l===e)return i[r];break}else if([s,a,l].indexOf(e)>=0)return i[r]}function LDt(e,t){var n=e.since<=e.until?1:-1;return t===void 0?$e(e.since).year():$e(e.since).year()+(t-e.offset)*n}function BDt(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function NDt(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function zDt(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function VDt(){var e,t,n,r,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,r=this.clone().startOf("day").valueOf(),o[e].since<=r&&r<=o[e].until||o[e].until<=r&&r<=o[e].since)return(this.year()-$e(o[e].since).year())*n+o[e].offset;return this.year()}function HDt(e){return cn(this,"_erasNameRegex")||I9.call(this),e?this._erasNameRegex:this._erasRegex}function UDt(e){return cn(this,"_erasAbbrRegex")||I9.call(this),e?this._erasAbbrRegex:this._erasRegex}function WDt(e){return cn(this,"_erasNarrowRegex")||I9.call(this),e?this._erasNarrowRegex:this._erasRegex}function D9(e,t){return t.erasAbbrRegex(e)}function YDt(e,t){return t.erasNameRegex(e)}function qDt(e,t){return t.erasNarrowRegex(e)}function GDt(e,t){return t._eraYearOrdinalRegex||U0}function I9(){var e=[],t=[],n=[],r=[],o,i,s=this.eras();for(o=0,i=s.length;o<i;++o)t.push(Ks(s[o].name)),e.push(Ks(s[o].abbr)),n.push(Ks(s[o].narrow)),r.push(Ks(s[o].name)),r.push(Ks(s[o].abbr)),r.push(Ks(s[o].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}Je(0,["gg",2],0,function(){return this.weekYear()%100});Je(0,["GG",2],0,function(){return this.isoWeekYear()%100});function BT(e,t){Je(0,[e,e.length],0,t)}BT("gggg","weekYear");BT("ggggg","weekYear");BT("GGGG","isoWeekYear");BT("GGGGG","isoWeekYear");Di("weekYear","gg");Di("isoWeekYear","GG");Ii("weekYear",1);Ii("isoWeekYear",1);Le("G",$T);Le("g",$T);Le("GG",cr,pa);Le("gg",cr,pa);Le("GGGG",x9,b9);Le("gggg",x9,b9);Le("GGGGG",OT,IT);Le("ggggg",OT,IT);Vw(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=Mt(e)});Vw(["gg","GG"],function(e,t,n,r){t[r]=$e.parseTwoDigitYear(e)});function KDt(e){return Z5e.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function ZDt(e){return Z5e.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function XDt(){return ku(this.year(),1,4)}function QDt(){return ku(this.isoWeekYear(),1,4)}function JDt(){var e=this.localeData()._week;return ku(this.year(),e.dow,e.doy)}function eIt(){var e=this.localeData()._week;return ku(this.weekYear(),e.dow,e.doy)}function Z5e(e,t,n,r,o){var i;return e==null?hx(this,r,o).year:(i=ku(e,r,o),t>i&&(t=i),tIt.call(this,e,t,n,r,o))}function tIt(e,t,n,r,o){var i=A5e(e,t,n,r,o),s=fx(i.year,0,i.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}Je("Q",0,"Qo","quarter");Di("quarter","Q");Ii("quarter",7);Le("Q",b5e);On("Q",function(e,t){t[vu]=(Mt(e)-1)*3});function nIt(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}Je("D",["DD",2],"Do","date");Di("date","D");Ii("date",9);Le("D",cr);Le("DD",cr,pa);Le("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});On(["D","DD"],hc);On("Do",function(e,t){t[hc]=Mt(e.match(cr)[0])});var X5e=H0("Date",!0);Je("DDD",["DDDD",3],"DDDo","dayOfYear");Di("dayOfYear","DDD");Ii("dayOfYear",4);Le("DDD",PT);Le("DDDD",x5e);On(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Mt(e)});function rIt(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}Je("m",["mm",2],0,"minute");Di("minute","m");Ii("minute",14);Le("m",cr);Le("mm",cr,pa);On(["m","mm"],gl);var oIt=H0("Minutes",!1);Je("s",["ss",2],0,"second");Di("second","s");Ii("second",15);Le("s",cr);Le("ss",cr,pa);On(["s","ss"],yu);var iIt=H0("Seconds",!1);Je("S",0,0,function(){return~~(this.millisecond()/100)});Je(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Je(0,["SSS",3],0,"millisecond");Je(0,["SSSS",4],0,function(){return this.millisecond()*10});Je(0,["SSSSS",5],0,function(){return this.millisecond()*100});Je(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Je(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Je(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Je(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Di("millisecond","ms");Ii("millisecond",16);Le("S",PT,b5e);Le("SS",PT,pa);Le("SSS",PT,x5e);var Kd,Q5e;for(Kd="SSSS";Kd.length<=9;Kd+="S")Le(Kd,U0);function sIt(e,t){t[ap]=Mt(("0."+e)*1e3)}for(Kd="S";Kd.length<=9;Kd+="S")On(Kd,sIt);Q5e=H0("Milliseconds",!1);Je("z",0,0,"zoneAbbr");Je("zz",0,0,"zoneName");function aIt(){return this._isUTC?"UTC":""}function lIt(){return this._isUTC?"Coordinated Universal Time":""}var je=Nw.prototype;je.add=eDt;je.calendar=aDt;je.clone=lDt;je.diff=mDt;je.endOf=EDt;je.format=bDt;je.from=xDt;je.fromNow=wDt;je.to=CDt;je.toNow=_Dt;je.get=uTt;je.invalidAt=$Dt;je.isAfter=cDt;je.isBefore=uDt;je.isBetween=dDt;je.isSame=fDt;je.isSameOrAfter=hDt;je.isSameOrBefore=pDt;je.isValid=PDt;je.lang=W5e;je.locale=U5e;je.localeData=Y5e;je.max=PAt;je.min=IAt;je.parsingFlags=ODt;je.set=dTt;je.startOf=SDt;je.subtract=tDt;je.toArray=ADt;je.toObject=DDt;je.toDate=TDt;je.toISOString=vDt;je.inspect=yDt;typeof Symbol<"u"&&Symbol.for!=null&&(je[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});je.toJSON=IDt;je.toString=gDt;je.unix=jDt;je.valueOf=kDt;je.creationData=RDt;je.eraName=BDt;je.eraNarrow=NDt;je.eraAbbr=zDt;je.eraYear=VDt;je.year=T5e;je.isLeapYear=DTt;je.weekYear=KDt;je.isoWeekYear=ZDt;je.quarter=je.quarters=nIt;je.month=k5e;je.daysInMonth=jTt;je.week=je.weeks=MTt;je.isoWeek=je.isoWeeks=FTt;je.weeksInYear=JDt;je.weeksInWeekYear=eIt;je.isoWeeksInYear=XDt;je.isoWeeksInISOWeekYear=QDt;je.date=X5e;je.day=je.days=ZTt;je.weekday=XTt;je.isoWeekday=QTt;je.dayOfYear=rIt;je.hour=je.hours=iAt;je.minute=je.minutes=oIt;je.second=je.seconds=iIt;je.millisecond=je.milliseconds=Q5e;je.utcOffset=zAt;je.utc=HAt;je.local=UAt;je.parseZone=WAt;je.hasAlignedHourOffset=YAt;je.isDST=qAt;je.isLocal=KAt;je.isUtcOffset=ZAt;je.isUtc=N5e;je.isUTC=N5e;je.zoneAbbr=aIt;je.zoneName=lIt;je.dates=Ja("dates accessor is deprecated. Use date instead.",X5e);je.months=Ja("months accessor is deprecated. Use month instead",k5e);je.years=Ja("years accessor is deprecated. Use year instead",T5e);je.zone=Ja("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",VAt);je.isDSTShifted=Ja("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",GAt);function cIt(e){return ar(e*1e3)}function uIt(){return ar.apply(null,arguments).parseZone()}function J5e(e){return e}var un=g9.prototype;un.calendar=Zjt;un.longDateFormat=eTt;un.invalidDate=nTt;un.ordinal=iTt;un.preparse=J5e;un.postformat=J5e;un.relativeTime=aTt;un.pastFuture=lTt;un.set=Gjt;un.eras=MDt;un.erasParse=FDt;un.erasConvertYear=LDt;un.erasAbbrRegex=UDt;un.erasNameRegex=HDt;un.erasNarrowRegex=WDt;un.months=_Tt;un.monthsShort=STt;un.monthsParse=kTt;un.monthsRegex=ATt;un.monthsShortRegex=TTt;un.week=PTt;un.firstDayOfYear=RTt;un.firstDayOfWeek=$Tt;un.weekdays=WTt;un.weekdaysMin=qTt;un.weekdaysShort=YTt;un.weekdaysParse=KTt;un.weekdaysRegex=JTt;un.weekdaysShortRegex=eAt;un.weekdaysMinRegex=tAt;un.isPM=rAt;un.meridiem=sAt;function IE(e,t,n,r){var o=ad(),i=Nc().set(r,t);return o[n](i,e)}function eEe(e,t,n){if(Nu(e)&&(t=e,e=void 0),e=e||"",t!=null)return IE(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=IE(e,r,n,"month");return o}function P9(e,t,n,r){typeof e=="boolean"?(Nu(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,Nu(t)&&(n=t,t=void 0),t=t||"");var o=ad(),i=e?o._week.dow:0,s,a=[];if(n!=null)return IE(t,(n+i)%7,r,"day");for(s=0;s<7;s++)a[s]=IE(t,(s+i)%7,r,"day");return a}function dIt(e,t){return eEe(e,t,"months")}function fIt(e,t){return eEe(e,t,"monthsShort")}function hIt(e,t,n){return P9(e,t,n,"weekdays")}function pIt(e,t,n){return P9(e,t,n,"weekdaysShort")}function mIt(e,t,n){return P9(e,t,n,"weekdaysMin")}gf("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=Mt(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});$e.lang=Ja("moment.lang is deprecated. Use moment.locale instead.",gf);$e.langData=Ja("moment.langData is deprecated. Use moment.localeData instead.",ad);var Kc=Math.abs;function gIt(){var e=this._data;return this._milliseconds=Kc(this._milliseconds),this._days=Kc(this._days),this._months=Kc(this._months),e.milliseconds=Kc(e.milliseconds),e.seconds=Kc(e.seconds),e.minutes=Kc(e.minutes),e.hours=Kc(e.hours),e.months=Kc(e.months),e.years=Kc(e.years),this}function tEe(e,t,n,r){var o=Fl(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function vIt(e,t){return tEe(this,e,t,1)}function yIt(e,t){return tEe(this,e,t,-1)}function _Z(e){return e<0?Math.floor(e):Math.ceil(e)}function bIt(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,o,i,s,a,l;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=_Z(oM(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,o=ka(e/1e3),r.seconds=o%60,i=ka(o/60),r.minutes=i%60,s=ka(i/60),r.hours=s%24,t+=ka(s/24),l=ka(nEe(t)),n+=l,t-=_Z(oM(l)),a=ka(n/12),n%=12,r.days=t,r.months=n,r.years=a,this}function nEe(e){return e*4800/146097}function oM(e){return e*146097/4800}function xIt(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=el(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+nEe(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(oM(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function wIt(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Mt(this._months/12)*31536e6:NaN}function ld(e){return function(){return this.as(e)}}var CIt=ld("ms"),_It=ld("s"),SIt=ld("m"),EIt=ld("h"),kIt=ld("d"),jIt=ld("w"),TIt=ld("M"),AIt=ld("Q"),DIt=ld("y");function IIt(){return Fl(this)}function PIt(e){return e=el(e),this.isValid()?this[e+"s"]():NaN}function jm(e){return function(){return this.isValid()?this._data[e]:NaN}}var OIt=jm("milliseconds"),$It=jm("seconds"),RIt=jm("minutes"),MIt=jm("hours"),FIt=jm("days"),LIt=jm("months"),BIt=jm("years");function NIt(){return ka(this.days()/7)}var lu=Math.round,Hg={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function zIt(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}function VIt(e,t,n,r){var o=Fl(e).abs(),i=lu(o.as("s")),s=lu(o.as("m")),a=lu(o.as("h")),l=lu(o.as("d")),u=lu(o.as("M")),d=lu(o.as("w")),f=lu(o.as("y")),p=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(p=p||d<=1&&["w"]||d<n.w&&["ww",d]),p=p||u<=1&&["M"]||u<n.M&&["MM",u]||f<=1&&["y"]||["yy",f],p[2]=t,p[3]=+e>0,p[4]=r,zIt.apply(null,p)}function HIt(e){return e===void 0?lu:typeof e=="function"?(lu=e,!0):!1}function UIt(e,t){return Hg[e]===void 0?!1:t===void 0?Hg[e]:(Hg[e]=t,e==="s"&&(Hg.ss=t-1),!0)}function WIt(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Hg,o,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},Hg,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),o=this.localeData(),i=VIt(this,!n,r,o),n&&(i=o.pastFuture(+this,i)),o.postformat(i)}var xP=Math.abs;function Xm(e){return(e>0)-(e<0)||+e}function NT(){if(!this.isValid())return this.localeData().invalidDate();var e=xP(this._milliseconds)/1e3,t=xP(this._days),n=xP(this._months),r,o,i,s,a=this.asSeconds(),l,u,d,f;return a?(r=ka(e/60),o=ka(r/60),e%=60,r%=60,i=ka(n/12),n%=12,s=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=Xm(this._months)!==Xm(a)?"-":"",d=Xm(this._days)!==Xm(a)?"-":"",f=Xm(this._milliseconds)!==Xm(a)?"-":"",l+"P"+(i?u+i+"Y":"")+(n?u+n+"M":"")+(t?d+t+"D":"")+(o||r||e?"T":"")+(o?f+o+"H":"")+(r?f+r+"M":"")+(e?f+s+"S":"")):"P0D"}var en=LT.prototype;en.isValid=FAt;en.abs=gIt;en.add=vIt;en.subtract=yIt;en.as=xIt;en.asMilliseconds=CIt;en.asSeconds=_It;en.asMinutes=SIt;en.asHours=EIt;en.asDays=kIt;en.asWeeks=jIt;en.asMonths=TIt;en.asQuarters=AIt;en.asYears=DIt;en.valueOf=wIt;en._bubble=bIt;en.clone=IIt;en.get=PIt;en.milliseconds=OIt;en.seconds=$It;en.minutes=RIt;en.hours=MIt;en.days=FIt;en.weeks=NIt;en.months=LIt;en.years=BIt;en.humanize=WIt;en.toISOString=NT;en.toString=NT;en.toJSON=NT;en.locale=U5e;en.localeData=Y5e;en.toIsoString=Ja("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",NT);en.lang=W5e;Je("X",0,0,"unix");Je("x",0,0,"valueOf");Le("x",$T);Le("X",hTt);On("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});On("x",function(e,t,n){n._d=new Date(Mt(e))});//! moment.js
$e.version="2.29.4";Yjt(ar);$e.fn=je;$e.min=OAt;$e.max=$At;$e.now=RAt;$e.utc=Nc;$e.unix=cIt;$e.months=dIt;$e.isDate=Bw;$e.locale=gf;$e.invalid=AT;$e.duration=Fl;$e.isMoment=Dl;$e.weekdays=hIt;$e.parseZone=uIt;$e.localeData=ad;$e.isDuration=uS;$e.monthsShort=fIt;$e.weekdaysMin=mIt;$e.defineLocale=S9;$e.updateLocale=uAt;$e.locales=dAt;$e.weekdaysShort=pIt;$e.normalizeUnits=el;$e.relativeTimeRounding=HIt;$e.relativeTimeThreshold=UIt;$e.calendarFormat=sDt;$e.prototype=je;$e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function zT(e,t){return $e(e).format(t)}function O9(e,t){const n=$e(e,t,!0);return n.isValid()?{isValid:!0,date:n.toDate()}:{isValid:!1,error:'Invalid date. Must be on the format "'.concat(t,'"')}}function $9(e){return window.crypto.getRandomValues(e)}var rEe=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function YIt(e){for(const t in e)if(!(t==="_type"||t==="_key")&&rEe(e,t)&&!R9(e[t]))return!1;return!0}function qIt(e){for(let t=0;t<e.length;t++)if(!R9(e[t]))return!1;return!0}function R9(e){if(e==null)return!0;const t=typeof e;return Array.isArray(e)?qIt(e):t==="object"?YIt(e):!1}function GIt(e){for(const t in e)if(!(t==="_type"||t==="_key")&&rEe(e,t)&&e[t]!==void 0)return!1;return!0}const KIt=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).substring(1);return e}})();function ZIt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return $9(t),t}function Hw(e){const t=KIt();return ZIt(e).reduce((n,r)=>n+t[r],"").slice(0,e)}const XIt=Object.prototype.toString;function QIt(e){switch(XIt.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}if(typeof e=="object"&&e&&typeof e.length=="number")try{if(typeof e.callee=="function")return"arguments"}catch(t){if(t instanceof TypeError)return"arguments"}return e===null?"null":e===void 0?"undefined":e&&e.nodeType===1?"element":e===Object(e)?"object":typeof e}function js(e){const t=QIt(e);if(t!=="object")return t;const n=e;return"_type"in n&&n._type||t}var iM={exports:{}},wP,SZ;function JIt(){if(SZ)return wP;SZ=1;var e=1e3,t=e*60,n=t*60,r=n*24,o=r*7,i=r*365.25;wP=function(d,f){f=f||{};var p=typeof d;if(p==="string"&&d.length>0)return s(d);if(p==="number"&&isFinite(d))return f.long?l(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function s(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var p=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(d){var f=Math.abs(d);return f>=r?Math.round(d/r)+"d":f>=n?Math.round(d/n)+"h":f>=t?Math.round(d/t)+"m":f>=e?Math.round(d/e)+"s":d+"ms"}function l(d){var f=Math.abs(d);return f>=r?u(d,f,r,"day"):f>=n?u(d,f,n,"hour"):f>=t?u(d,f,t,"minute"):f>=e?u(d,f,e,"second"):d+" ms"}function u(d,f,p,m){var v=f>=p*1.5;return Math.round(d/p)+" "+m+(v?"s":"")}return wP}function ePt(e){n.debug=n,n.default=n,n.coerce=l,n.disable=s,n.enable=i,n.enabled=a,n.humanize=JIt(),Object.keys(e).forEach(function(u){n[u]=e[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function t(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){var d;function f(){if(f.enabled){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];var g=f,b=Number(new Date),x=b-(d||b);g.diff=x,g.prev=d,g.curr=b,d=b,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var y=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(C,_){if(C==="%%")return C;y++;var S=n.formatters[_];if(typeof S=="function"){var E=m[y];C=S.call(g,E),m.splice(y,1),y--}return C}),n.formatArgs.call(g,m);var w=g.log||n.log;w.apply(g,m)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=t(u),f.destroy=r,f.extend=o,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function o(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function i(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var m=n.instances[d];m.enabled=n.enabled(m.namespace)}}function s(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var tPt=ePt;(function(e,t){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(p){return typeof p}:n=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n(d)}t.log=i,t.formatArgs=o,t.save=s,t.load=a,t.useColors=r,t.storage=l(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var p=0,m=0;d[0].replace(/%[a-zA-Z%]/g,function(v){v!=="%%"&&(p++,v==="%c"&&(m=p))}),d.splice(m,0,f)}}function i(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function s(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function a(){var d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function l(){try{return localStorage}catch{}}e.exports=tPt(t);var u=e.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(iM,iM.exports);var nPt=iM.exports;const jy=De(nPt);var rPt=sPt,oEe="֑-߿יִ-﷽ﹰ-ﻼ",iEe="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",oPt=new RegExp("^[^"+iEe+"]*["+oEe+"]"),iPt=new RegExp("^[^"+oEe+"]*["+iEe+"]");function sPt(e){return e=String(e||""),oPt.test(e)?"rtl":iPt.test(e)?"ltr":"neutral"}const sEe=De(rPt);function EZ(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function kZ(e,t){return(!t||e!=="hidden")&&e!=="visible"&&e!=="clip"}function CP(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return kZ(n.overflowY,t)||kZ(n.overflowX,t)||function(r){var o=function(i){if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}}(r);return!!o&&(o.clientHeight<r.scrollHeight||o.clientWidth<r.scrollWidth)}(e)}return!1}function y_(e,t,n,r,o,i,s,a){return i<e&&s>t||i>e&&s<t?0:i<=e&&a<=n||s>=t&&a>=n?i-e-r:s>t&&a<n||i<e&&a>n?s-t+o:0}var jZ=function(e,t){var n=window,r=t.scrollMode,o=t.block,i=t.inline,s=t.boundary,a=t.skipOverflowHiddenElements,l=typeof s=="function"?s:function(ie){return ie!==s};if(!EZ(e))throw new TypeError("Invalid target");for(var u,d,f=document.scrollingElement||document.documentElement,p=[],m=e;EZ(m)&&l(m);){if((m=(d=(u=m).parentElement)==null?u.getRootNode().host||null:d)===f){p.push(m);break}m!=null&&m===document.body&&CP(m)&&!CP(document.documentElement)||m!=null&&CP(m,a)&&p.push(m)}for(var v=n.visualViewport?n.visualViewport.width:innerWidth,g=n.visualViewport?n.visualViewport.height:innerHeight,b=window.scrollX||pageXOffset,x=window.scrollY||pageYOffset,y=e.getBoundingClientRect(),w=y.height,C=y.width,_=y.top,S=y.right,E=y.bottom,j=y.left,k=o==="start"||o==="nearest"?_:o==="end"?E:_+w/2,T=i==="center"?j+C/2:i==="end"?S:j,A=[],D=0;D<p.length;D++){var I=p[D],P=I.getBoundingClientRect(),M=P.height,$=P.width,V=P.top,L=P.right,H=P.bottom,U=P.left;if(r==="if-needed"&&_>=0&&j>=0&&E<=g&&S<=v&&_>=V&&E<=H&&j>=U&&S<=L)return A;var z=getComputedStyle(I),Y=parseInt(z.borderLeftWidth,10),te=parseInt(z.borderTopWidth,10),N=parseInt(z.borderRightWidth,10),G=parseInt(z.borderBottomWidth,10),q=0,K=0,Q="offsetWidth"in I?I.offsetWidth-I.clientWidth-Y-N:0,X="offsetHeight"in I?I.offsetHeight-I.clientHeight-te-G:0,Z="offsetWidth"in I?I.offsetWidth===0?0:$/I.offsetWidth:0,oe="offsetHeight"in I?I.offsetHeight===0?0:M/I.offsetHeight:0;if(f===I)q=o==="start"?k:o==="end"?k-g:o==="nearest"?y_(x,x+g,g,te,G,x+k,x+k+w,w):k-g/2,K=i==="start"?T:i==="center"?T-v/2:i==="end"?T-v:y_(b,b+v,v,Y,N,b+T,b+T+C,C),q=Math.max(0,q+x),K=Math.max(0,K+b);else{q=o==="start"?k-V-te:o==="end"?k-H+G+X:o==="nearest"?y_(V,H,M,te,G+X,k,k+w,w):k-(V+M/2)+X/2,K=i==="start"?T-U-Y:i==="center"?T-(U+$/2)+Q/2:i==="end"?T-L+N+Q:y_(U,L,$,Y,N+Q,T,T+C,C);var le=I.scrollLeft,he=I.scrollTop;k+=he-(q=Math.max(0,Math.min(he+q/oe,I.scrollHeight-M/oe+X))),T+=le-(K=Math.max(0,Math.min(le+K/Z,I.scrollWidth-$/Z+Q)))}A.push({el:I,top:q,left:K})}return A};function aEe(e){return e===Object(e)&&Object.keys(e).length!==0}function aPt(e,t){t===void 0&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach(function(r){var o=r.el,i=r.top,s=r.left;o.scroll&&n?o.scroll({top:i,left:s,behavior:t}):(o.scrollTop=i,o.scrollLeft=s)})}function lPt(e){return e===!1?{block:"end",inline:"nearest"}:aEe(e)?e:{block:"start",inline:"nearest"}}function cPt(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(aEe(t)&&typeof t.behavior=="function")return t.behavior(n?jZ(e,t):[]);if(n){var r=lPt(t);return aPt(jZ(e,r),r.behavior)}}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function TZ(e){return Object.prototype.toString.call(e)==="[object Object]"}function gi(e){var t,n;return TZ(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(TZ(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}function dl(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Gp(e){return!!e&&!!e[sa]}function Kp(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var o=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===vPt}(e)||Array.isArray(e)||!!e[MZ]||!!(!((t=e.constructor)===null||t===void 0)&&t[MZ])||M9(e)||F9(e))}function mx(e,t,n){n===void 0&&(n=!1),W0(e)===0?(n?Object.keys:V9)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,o){return t(o,r,e)})}function W0(e){var t=e[sa];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:M9(e)?2:F9(e)?3:0}function sM(e,t){return W0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function uPt(e,t){return W0(e)===2?e.get(t):e[t]}function lEe(e,t,n){var r=W0(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function dPt(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function M9(e){return mPt&&e instanceof Map}function F9(e){return gPt&&e instanceof Set}function Gh(e){return e.o||e.t}function L9(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=yPt(e);delete t[sa];for(var n=V9(t),r=0;r<n.length;r++){var o=n[r],i=t[o];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function B9(e,t){return t===void 0&&(t=!1),N9(e)||Gp(e)||!Kp(e)||(W0(e)>1&&(e.set=e.add=e.clear=e.delete=fPt),Object.freeze(e),t&&mx(e,function(n,r){return B9(r,!0)},!0)),e}function fPt(){dl(2)}function N9(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function _c(e){var t=bPt[e];return t||dl(18,e),t}function AZ(){return gx}function _P(e,t){t&&(_c("Patches"),e.u=[],e.s=[],e.v=t)}function PE(e){aM(e),e.p.forEach(hPt),e.p=null}function aM(e){e===gx&&(gx=e.l)}function DZ(e){return gx={p:[],l:gx,h:e,m:!0,_:0}}function hPt(e){var t=e[sa];t.i===0||t.i===1?t.j():t.g=!0}function SP(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||_c("ES5").S(t,e,r),r?(n[sa].P&&(PE(t),dl(4)),Kp(e)&&(e=OE(t,e),t.l||$E(t,e)),t.u&&_c("Patches").M(n[sa].t,e,t.u,t.s)):e=OE(t,n,[]),PE(t),t.u&&t.v(t.u,t.s),e!==cEe?e:void 0}function OE(e,t,n){if(N9(t))return t;var r=t[sa];if(!r)return mx(t,function(a,l){return IZ(e,r,t,a,l,n)},!0),t;if(r.A!==e)return t;if(!r.P)return $E(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=r.i===4||r.i===5?r.o=L9(r.k):r.o,i=o,s=!1;r.i===3&&(i=new Set(o),o.clear(),s=!0),mx(i,function(a,l){return IZ(e,r,o,a,l,n,s)}),$E(e,o,!1),n&&e.u&&_c("Patches").N(r,n,e.u,e.s)}return r.o}function IZ(e,t,n,r,o,i,s){if(Gp(o)){var a=OE(e,o,i&&t&&t.i!==3&&!sM(t.R,r)?i.concat(r):void 0);if(lEe(n,r,a),!Gp(a))return;e.m=!1}else s&&n.add(o);if(Kp(o)&&!N9(o)){if(!e.h.D&&e._<1)return;OE(e,o),t&&t.A.l||$E(e,o)}}function $E(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&B9(t,n)}function EP(e,t){var n=e[sa];return(n?Gh(n):e)[t]}function PZ(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function lM(e){e.P||(e.P=!0,e.l&&lM(e.l))}function kP(e){e.o||(e.o=L9(e.t))}function cM(e,t,n){var r=M9(t)?_c("MapSet").F(t,n):F9(t)?_c("MapSet").T(t,n):e.O?function(o,i){var s=Array.isArray(o),a={i:s?1:0,A:i?i.A:AZ(),P:!1,I:!1,R:{},l:i,t:o,k:null,o:null,j:null,C:!1},l=a,u=uM;s&&(l=[a],u=Ty);var d=Proxy.revocable(l,u),f=d.revoke,p=d.proxy;return a.k=p,a.j=f,p}(t,n):_c("ES5").J(t,n);return(n?n.A:AZ()).p.push(r),r}function pPt(e){return Gp(e)||dl(22,e),function t(n){if(!Kp(n))return n;var r,o=n[sa],i=W0(n);if(o){if(!o.P&&(o.i<4||!_c("ES5").K(o)))return o.t;o.I=!0,r=OZ(n,i),o.I=!1}else r=OZ(n,i);return mx(r,function(s,a){o&&uPt(o.t,s)===a||lEe(r,s,t(a))}),i===3?new Set(r):r}(e)}function OZ(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return L9(e)}var $Z,gx,z9=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",mPt=typeof Map<"u",gPt=typeof Set<"u",RZ=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",cEe=z9?Symbol.for("immer-nothing"):(($Z={})["immer-nothing"]=!0,$Z),MZ=z9?Symbol.for("immer-draftable"):"__$immer_draftable",sa=z9?Symbol.for("immer-state"):"__$immer_state",vPt=""+Object.prototype.constructor,V9=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,yPt=Object.getOwnPropertyDescriptors||function(e){var t={};return V9(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},bPt={},uM={get:function(e,t){if(t===sa)return e;var n=Gh(e);if(!sM(n,t))return function(o,i,s){var a,l=PZ(i,s);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(o.k):void 0}(e,n,t);var r=n[t];return e.I||!Kp(r)?r:r===EP(e.t,t)?(kP(e),e.o[t]=cM(e.A.h,r,e)):r},has:function(e,t){return t in Gh(e)},ownKeys:function(e){return Reflect.ownKeys(Gh(e))},set:function(e,t,n){var r=PZ(Gh(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=EP(Gh(e),t),i=o==null?void 0:o[sa];if(i&&i.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(dPt(n,o)&&(n!==void 0||sM(e.t,t)))return!0;kP(e),lM(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return EP(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,kP(e),lM(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Gh(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){dl(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){dl(12)}},Ty={};mx(uM,function(e,t){Ty[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Ty.deleteProperty=function(e,t){return Ty.set.call(this,e,t,void 0)},Ty.set=function(e,t,n){return uM.set.call(this,e[0],t,n,e[0])};var xPt=function(){function e(n){var r=this;this.O=RZ,this.D=!0,this.produce=function(o,i,s){if(typeof o=="function"&&typeof i!="function"){var a=i;i=o;var l=r;return function(g){var b=this;g===void 0&&(g=a);for(var x=arguments.length,y=Array(x>1?x-1:0),w=1;w<x;w++)y[w-1]=arguments[w];return l.produce(g,function(C){var _;return(_=i).call.apply(_,[b,C].concat(y))})}}var u;if(typeof i!="function"&&dl(6),s!==void 0&&typeof s!="function"&&dl(7),Kp(o)){var d=DZ(r),f=cM(r,o,void 0),p=!0;try{u=i(f),p=!1}finally{p?PE(d):aM(d)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(g){return _P(d,s),SP(g,d)},function(g){throw PE(d),g}):(_P(d,s),SP(u,d))}if(!o||typeof o!="object"){if((u=i(o))===void 0&&(u=o),u===cEe&&(u=void 0),r.D&&B9(u,!0),s){var m=[],v=[];_c("Patches").M(o,u,m,v),s(m,v)}return u}dl(21,o)},this.produceWithPatches=function(o,i){if(typeof o=="function")return function(u){for(var d=arguments.length,f=Array(d>1?d-1:0),p=1;p<d;p++)f[p-1]=arguments[p];return r.produceWithPatches(u,function(m){return o.apply(void 0,[m].concat(f))})};var s,a,l=r.produce(o,i,function(u,d){s=u,a=d});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,s,a]}):[l,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Kp(n)||dl(8),Gp(n)&&(n=pPt(n));var r=DZ(this),o=cM(this,n,void 0);return o[sa].C=!0,aM(r),o},t.finishDraft=function(n,r){var o=n&&n[sa],i=o.A;return _P(i,r),SP(void 0,i)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!RZ&&dl(20),this.O=n},t.applyPatches=function(n,r){var o;for(o=r.length-1;o>=0;o--){var i=r[o];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}o>-1&&(r=r.slice(o+1));var s=_c("Patches").$;return Gp(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},e}(),aa=new xPt,H9=aa.produce;aa.produceWithPatches.bind(aa);aa.setAutoFreeze.bind(aa);aa.setUseProxies.bind(aa);aa.applyPatches.bind(aa);var FZ=aa.createDraft.bind(aa),LZ=aa.finishDraft.bind(aa),wPt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=J.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},CPt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=It.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},_Pt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=ue.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},RE=new WeakMap,ME=new WeakMap,vb=new WeakMap,uEe=new WeakMap,BZ=new WeakMap,NZ=new WeakMap,zZ=new WeakMap,J={ancestors(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=J.levels(e,t);return n?r=r.slice(1):r=r.slice(0,-1),r},common(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var o=e[r],i=t[r];if(o!==i)break;n.push(o)}return n},compare(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0},endsAfter(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],s=t[n];return J.equals(r,o)&&i>s},endsAt(e,t){var n=e.length,r=e.slice(0,n),o=t.slice(0,n);return J.equals(r,o)},endsBefore(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],s=t[n];return J.equals(r,o)&&i<s},equals(e,t){return e.length===t.length&&e.every((n,r)=>n===t[r])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,t){return J.compare(e,t)===1},isAncestor(e,t){return e.length<t.length&&J.compare(e,t)===0},isBefore(e,t){return J.compare(e,t)===-1},isChild(e,t){return e.length===t.length+1&&J.compare(e,t)===0},isCommon(e,t){return e.length<=t.length&&J.compare(e,t)===0},isDescendant(e,t){return e.length>t.length&&J.compare(e,t)===0},isParent(e,t){return e.length+1===t.length&&J.compare(e,t)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1),o=e[e.length-1],i=t[t.length-1];return o!==i&&J.equals(n,r)},levels(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=[],o=0;o<=e.length;o++)r.push(e.slice(0,o));return n&&r.reverse(),r},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!J.isAncestor(t,e)&&!J.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return null;var r=[...e],{affinity:o="forward"}=n;if(e.length===0)return r;switch(t.type){case"insert_node":{var{path:i}=t;(J.equals(i,r)||J.endsBefore(i,r)||J.isAncestor(i,r))&&(r[i.length-1]+=1);break}case"remove_node":{var{path:s}=t;if(J.equals(s,r)||J.isAncestor(s,r))return null;J.endsBefore(s,r)&&(r[s.length-1]-=1);break}case"merge_node":{var{path:a,position:l}=t;J.equals(a,r)||J.endsBefore(a,r)?r[a.length-1]-=1:J.isAncestor(a,r)&&(r[a.length-1]-=1,r[a.length]+=l);break}case"split_node":{var{path:u,position:d}=t;if(J.equals(u,r)){if(o==="forward")r[r.length-1]+=1;else if(o!=="backward")return null}else J.endsBefore(u,r)?r[u.length-1]+=1:J.isAncestor(u,r)&&e[u.length]>=d&&(r[u.length-1]+=1,r[u.length]-=d);break}case"move_node":{var{path:f,newPath:p}=t;if(J.equals(f,p))return r;if(J.isAncestor(f,r)||J.equals(f,r)){var m=p.slice();return J.endsBefore(f,p)&&f.length<p.length&&(m[f.length-1]-=1),m.concat(r.slice(f.length))}else J.isSibling(f,p)&&(J.isAncestor(p,r)||J.equals(p,r))?J.endsBefore(f,r)?r[f.length-1]-=1:r[f.length-1]+=1:J.endsBefore(p,r)||J.equals(p,r)||J.isAncestor(p,r)?(J.endsBefore(f,r)&&(r[f.length-1]-=1),r[p.length-1]+=1):J.endsBefore(f,r)&&(J.equals(p,r)&&(r[p.length-1]+=1),r[f.length-1]-=1);break}}return r}};function ns(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function H1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VZ(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var SPt=(e,t,n)=>{switch(n.type){case"insert_node":{var{path:r,node:o}=n,i=Ee.parent(e,r),s=r[r.length-1];if(s>i.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(i.children.splice(s,0,o),t)for(var[a,l]of ue.points(t))t[l]=It.transform(a,n);break}case"insert_text":{var{path:u,offset:d,text:f}=n;if(f.length===0)break;var p=Ee.leaf(e,u),m=p.text.slice(0,d),v=p.text.slice(d);if(p.text=m+f+v,t)for(var[g,b]of ue.points(t))t[b]=It.transform(g,n);break}case"merge_node":{var{path:x}=n,y=Ee.get(e,x),w=J.previous(x),C=Ee.get(e,w),_=Ee.parent(e,x),S=x[x.length-1];if(we.isText(y)&&we.isText(C))C.text+=y.text;else if(!we.isText(y)&&!we.isText(C))C.children.push(...y.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(x,"] to nodes of different interfaces: ").concat(Lo.stringify(y)," ").concat(Lo.stringify(C)));if(_.children.splice(S,1),t)for(var[E,j]of ue.points(t))t[j]=It.transform(E,n);break}case"move_node":{var{path:k,newPath:T}=n;if(J.isAncestor(k,T))throw new Error("Cannot move a path [".concat(k,"] to new path [").concat(T,"] because the destination is inside itself."));var A=Ee.get(e,k),D=Ee.parent(e,k),I=k[k.length-1];D.children.splice(I,1);var P=J.transform(k,n),M=Ee.get(e,J.parent(P)),$=P[P.length-1];if(M.children.splice($,0,A),t)for(var[V,L]of ue.points(t))t[L]=It.transform(V,n);break}case"remove_node":{var{path:H}=n,U=H[H.length-1],z=Ee.parent(e,H);if(z.children.splice(U,1),t)for(var[Y,te]of ue.points(t)){var N=It.transform(Y,n);if(t!=null&&N!=null)t[te]=N;else{var G=void 0,q=void 0;for(var[K,Q]of Ee.texts(e))if(J.compare(Q,H)===-1)G=[K,Q];else{q=[K,Q];break}var X=!1;G&&q&&(J.equals(q[1],H)?X=!J.hasPrevious(q[1]):X=J.common(G[1],H).length<J.common(q[1],H).length),G&&!X?(Y.path=G[1],Y.offset=G[0].text.length):q?(Y.path=q[1],Y.offset=0):t=null}}break}case"remove_text":{var{path:Z,offset:oe,text:le}=n;if(le.length===0)break;var he=Ee.leaf(e,Z),ie=he.text.slice(0,oe),ye=he.text.slice(oe+le.length);if(he.text=ie+ye,t)for(var[_e,Ae]of ue.points(t))t[Ae]=It.transform(_e,n);break}case"set_node":{var{path:xe,properties:Ze,newProperties:rt}=n;if(xe.length===0)throw new Error("Cannot set properties on the root node!");var at=Ee.get(e,xe);for(var nt in rt){if(nt==="children"||nt==="text")throw new Error('Cannot set the "'.concat(nt,'" property of nodes!'));var Kt=rt[nt];Kt==null?delete at[nt]:at[nt]=Kt}for(var Ye in Ze)rt.hasOwnProperty(Ye)||delete at[Ye];break}case"set_selection":{var{newProperties:me}=n;if(me==null)t=me;else{if(t==null){if(!ue.isRange(me))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Lo.stringify(me)," when there is no current selection."));t=H1({},me)}for(var Ue in me){var qe=me[Ue];if(qe==null){if(Ue==="anchor"||Ue==="focus")throw new Error('Cannot remove the "'.concat(Ue,'" selection property'));delete t[Ue]}else t[Ue]=qe}}break}case"split_node":{var{path:Ne,position:bt,properties:Tt}=n;if(Ne.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Ne,"] because the root node cannot be split."));var St=Ee.get(e,Ne),Zt=Ee.parent(e,Ne),Oi=Ne[Ne.length-1],is;if(we.isText(St)){var Os=St.text.slice(0,bt),Ut=St.text.slice(bt);St.text=Os,is=H1(H1({},Tt),{},{text:Ut})}else{var Wr=St.children.slice(0,bt),Hl=St.children.slice(bt);St.children=Wr,is=H1(H1({},Tt),{},{children:Hl})}if(Zt.children.splice(Oi+1,0,is),t)for(var[nl,si]of ue.points(t))t[si]=It.transform(nl,n);break}}return t},EPt={transform(e,t){e.children=FZ(e.children);var n=e.selection&&FZ(e.selection);try{n=SPt(e,n,t)}finally{e.children=LZ(e.children),n?e.selection=Gp(n)?LZ(n):n:e.selection=null}}},kPt={insertNodes(e,t,n){e.insertNodes(t,n)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,n){e.setNodes(t,n)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,n){e.unsetNodes(t,n)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,n){e.wrapNodes(t,n)}},jPt={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,n){e.setPoint(t,n)},setSelection(e,t){e.setSelection(t)}},dEe=(e,t)=>{for(var n in e){var r=e[n],o=t[n];if(gi(r)&&gi(o)){if(!dEe(r,o))return!1}else if(Array.isArray(r)&&Array.isArray(o)){if(r.length!==o.length)return!1;for(var i=0;i<r.length;i++)if(r[i]!==o[i])return!1}else if(r!==o)return!1}for(var s in t)if(e[s]===void 0&&t[s]!==void 0)return!1;return!0};function TPt(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function zu(e,t){if(e==null)return{};var n=TPt(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var APt=["anchor","focus"];function HZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function DPt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HZ(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ue={edges(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,{anchor:r,focus:o}=e;return ue.isBackward(e)===n?[r,o]:[o,r]},end(e){var[,t]=ue.edges(e);return t},equals(e,t){return It.equals(e.anchor,t.anchor)&&It.equals(e.focus,t.focus)},includes(e,t){if(ue.isRange(t)){if(ue.includes(e,t.anchor)||ue.includes(e,t.focus))return!0;var[n,r]=ue.edges(e),[o,i]=ue.edges(t);return It.isBefore(n,o)&&It.isAfter(r,i)}var[s,a]=ue.edges(e),l=!1,u=!1;return It.isPoint(t)?(l=It.compare(t,s)>=0,u=It.compare(t,a)<=0):(l=J.compare(t,s.path)>=0,u=J.compare(t,a.path)<=0),l&&u},intersection(e,t){var n=zu(e,APt),[r,o]=ue.edges(e),[i,s]=ue.edges(t),a=It.isBefore(r,i)?i:r,l=It.isBefore(o,s)?o:s;return It.isBefore(l,a)?null:DPt({anchor:a,focus:l},n)},isBackward(e){var{anchor:t,focus:n}=e;return It.isAfter(t,n)},isCollapsed(e){var{anchor:t,focus:n}=e;return It.equals(t,n)},isExpanded(e){return!ue.isCollapsed(e)},isForward(e){return!ue.isBackward(e)},isRange(e){return gi(e)&&It.isPoint(e.anchor)&&It.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=ue.edges(e);return t},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return H9(e,r=>{if(r===null)return null;var{affinity:o="inward"}=n,i,s;if(o==="inward"){var a=ue.isCollapsed(r);ue.isForward(r)?(i="forward",s=a?i:"backward"):(i="backward",s=a?i:"forward")}else o==="outward"?ue.isForward(r)?(i="backward",s="forward"):(i="forward",s="backward"):(i=o,s=o);var l=It.transform(r.anchor,t,{affinity:i}),u=It.transform(r.focus,t,{affinity:s});if(!l||!u)return null;r.anchor=l,r.focus=u})}},UZ=e=>gi(e)&&Ee.isNodeList(e.children)&&!R.isEditor(e),Ie={isAncestor(e){return gi(e)&&Ee.isNodeList(e.children)},isElement:UZ,isElementList(e){return Array.isArray(e)&&e.every(t=>Ie.isElement(t))},isElementProps(e){return e.children!==void 0},isElementType:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return UZ(t)&&t[r]===n},matches(e,t){for(var n in t)if(n!=="children"&&e[n]!==t[n])return!1;return!0}},IPt=["children"],PPt=["text"],WZ=new WeakMap,Ee={ancestor(e,t){var n=Ee.get(e,t);if(we.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(Lo.stringify(n)));return n},*ancestors(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var r of J.ancestors(t,n)){var o=Ee.ancestor(e,r),i=[o,r];yield i}},child(e,t){if(we.isText(e))throw new Error("Cannot get the child of a text node: ".concat(Lo.stringify(e)));var n=e.children[t];if(n==null)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(Lo.stringify(e)));return n},*children(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{reverse:r=!1}=n,o=Ee.ancestor(e,t),{children:i}=o,s=r?i.length-1:0;r?s>=0:s<i.length;){var a=Ee.child(o,s),l=t.concat(s);yield[a,l],s=r?s-1:s+1}},common(e,t,n){var r=J.common(t,n),o=Ee.get(e,r);return[o,r]},descendant(e,t){var n=Ee.get(e,t);if(R.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(Lo.stringify(n)));return n},*descendants(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,r]of Ee.nodes(e,t))r.length!==0&&(yield[n,r])},*elements(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,r]of Ee.nodes(e,t))Ie.isElement(n)&&(yield[n,r])},extractProps(e){if(Ie.isAncestor(e)){var t=zu(e,IPt);return t}else{var t=zu(e,PPt);return t}},first(e,t){for(var n=t.slice(),r=Ee.get(e,n);r&&!(we.isText(r)||r.children.length===0);)r=r.children[0],n.push(0);return[r,n]},fragment(e,t){if(we.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Lo.stringify(e)));var n=H9({children:e.children},r=>{var[o,i]=ue.edges(t),s=Ee.nodes(r,{reverse:!0,pass:p=>{var[,m]=p;return!ue.includes(t,m)}});for(var[,a]of s){if(!ue.includes(t,a)){var l=Ee.parent(r,a),u=a[a.length-1];l.children.splice(u,1)}if(J.equals(a,i.path)){var d=Ee.leaf(r,a);d.text=d.text.slice(0,i.offset)}if(J.equals(a,o.path)){var f=Ee.leaf(r,a);f.text=f.text.slice(o.offset)}}R.isEditor(r)&&(r.selection=null)});return n.children},get(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(we.isText(n)||!n.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(Lo.stringify(e)));n=n.children[o]}return n},has(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(we.isText(n)||!n.children[o])return!1;n=n.children[o]}return!0},isNode(e){return we.isText(e)||Ie.isElement(e)||R.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var t=WZ.get(e);if(t!==void 0)return t;var n=e.every(r=>Ee.isNode(r));return WZ.set(e,n),n},last(e,t){for(var n=t.slice(),r=Ee.get(e,n);r&&!(we.isText(r)||r.children.length===0);){var o=r.children.length-1;r=r.children[o],n.push(o)}return[r,n]},leaf(e,t){var n=Ee.get(e,t);if(!we.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(Lo.stringify(n)));return n},*levels(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var r of J.levels(t,n)){var o=Ee.get(e,r);yield[o,r]}},matches(e,t){return Ie.isElement(e)&&Ie.isElementProps(t)&&Ie.matches(e,t)||we.isText(e)&&we.isTextProps(t)&&we.matches(e,t)},*nodes(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{pass:n,reverse:r=!1}=t,{from:o=[],to:i}=t,s=new Set,a=[],l=e;!(i&&(r?J.isBefore(a,i):J.isAfter(a,i)));){if(s.has(l)||(yield[l,a]),!s.has(l)&&!we.isText(l)&&l.children.length!==0&&(n==null||n([l,a])===!1)){s.add(l);var u=r?l.children.length-1:0;J.isAncestor(a,o)&&(u=o[a.length]),a=a.concat(u),l=Ee.get(e,a);continue}if(a.length===0)break;if(!r){var d=J.next(a);if(Ee.has(e,d)){a=d,l=Ee.get(e,a);continue}}if(r&&a[a.length-1]!==0){var f=J.previous(a);a=f,l=Ee.get(e,a);continue}a=J.parent(a),l=Ee.get(e,a),s.add(l)}},parent(e,t){var n=J.parent(t),r=Ee.get(e,n);if(we.isText(r))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string(e){return we.isText(e)?e.text:e.children.map(Ee.string).join("")},*texts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,r]of Ee.nodes(e,t))we.isText(n)&&(yield[n,r])}};function YZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YZ(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Ug={isNodeOperation(e){return Ug.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!gi(e))return!1;switch(e.type){case"insert_node":return J.isPath(e.path)&&Ee.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&J.isPath(e.path);case"merge_node":return typeof e.position=="number"&&J.isPath(e.path)&&gi(e.properties);case"move_node":return J.isPath(e.path)&&J.isPath(e.newPath);case"remove_node":return J.isPath(e.path)&&Ee.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&J.isPath(e.path);case"set_node":return J.isPath(e.path)&&gi(e.properties)&&gi(e.newProperties);case"set_selection":return e.properties===null&&ue.isRange(e.newProperties)||e.newProperties===null&&ue.isRange(e.properties)||gi(e.properties)&&gi(e.newProperties);case"split_node":return J.isPath(e.path)&&typeof e.position=="number"&&gi(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(t=>Ug.isOperation(t))},isSelectionOperation(e){return Ug.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return Ug.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return fr(fr({},e),{},{type:"remove_node"});case"insert_text":return fr(fr({},e),{},{type:"remove_text"});case"merge_node":return fr(fr({},e),{},{type:"split_node",path:J.previous(e.path)});case"move_node":{var{newPath:t,path:n}=e;if(J.equals(t,n))return e;if(J.isSibling(n,t))return fr(fr({},e),{},{path:t,newPath:n});var r=J.transform(n,e),o=J.transform(J.next(n),e);return fr(fr({},e),{},{path:r,newPath:o})}case"remove_node":return fr(fr({},e),{},{type:"insert_node"});case"remove_text":return fr(fr({},e),{},{type:"insert_text"});case"set_node":{var{properties:i,newProperties:s}=e;return fr(fr({},e),{},{properties:s,newProperties:i})}case"set_selection":{var{properties:a,newProperties:l}=e;return a==null?fr(fr({},e),{},{properties:l,newProperties:null}):l==null?fr(fr({},e),{},{properties:null,newProperties:a}):fr(fr({},e),{},{properties:l,newProperties:a})}case"split_node":return fr(fr({},e),{},{type:"merge_node",path:J.next(e.path)})}}},qZ=new WeakMap,OPt=e=>{var t=qZ.get(e);if(t!==void 0)return t;if(!gi(e))return!1;var n=typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertSoftBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isElementReadOnly=="function"&&typeof e.isInline=="function"&&typeof e.isSelectable=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&typeof e.getDirtyPaths=="function"&&(e.marks===null||gi(e.marks))&&(e.selection===null||ue.isRange(e.selection))&&Ee.isNodeList(e.children)&&Ug.isOperationList(e.operations);return qZ.set(e,n),n},R={above(e,t){return e.above(t)},addMark(e,t,n){e.addMark(t,n)},after(e,t,n){return e.after(t,n)},before(e,t,n){return e.before(t,n)},deleteBackward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteBackward(n)},deleteForward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteForward(n)},deleteFragment(e,t){e.deleteFragment(t)},edges(e,t){return e.edges(t)},elementReadOnly(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.elementReadOnly(t)},end(e,t){return e.end(t)},first(e,t){return e.first(t)},fragment(e,t){return e.fragment(t)},hasBlocks(e,t){return e.hasBlocks(t)},hasInlines(e,t){return e.hasInlines(t)},hasPath(e,t){return e.hasPath(t)},hasTexts(e,t){return e.hasTexts(t)},insertBreak(e){e.insertBreak()},insertFragment(e,t,n){e.insertFragment(t,n)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock(e,t){return e.isBlock(t)},isEdge(e,t,n){return e.isEdge(t,n)},isEditor(e){return OPt(e)},isElementReadOnly(e,t){return e.isElementReadOnly(t)},isEmpty(e,t){return e.isEmpty(t)},isEnd(e,t,n){return e.isEnd(t,n)},isInline(e,t){return e.isInline(t)},isNormalizing(e){return e.isNormalizing()},isSelectable(e,t){return e.isSelectable(t)},isStart(e,t,n){return e.isStart(t,n)},isVoid(e,t){return e.isVoid(t)},last(e,t){return e.last(t)},leaf(e,t,n){return e.leaf(t,n)},levels(e,t){return e.levels(t)},marks(e){return e.getMarks()},next(e,t){return e.next(t)},node(e,t,n){return e.node(t,n)},nodes(e,t){return e.nodes(t)},normalize(e,t){e.normalize(t)},parent(e,t,n){return e.parent(t,n)},path(e,t,n){return e.path(t,n)},pathRef(e,t,n){return e.pathRef(t,n)},pathRefs(e){return e.pathRefs()},point(e,t,n){return e.point(t,n)},pointRef(e,t,n){return e.pointRef(t,n)},pointRefs(e){return e.pointRefs()},positions(e,t){return e.positions(t)},previous(e,t){return e.previous(t)},range(e,t,n){return e.range(t,n)},rangeRef(e,t,n){return e.rangeRef(t,n)},rangeRefs(e){return e.rangeRefs()},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start(e,t){return e.start(t)},string(e,t,n){return e.string(t,n)},unhangRange(e,t,n){return e.unhangRange(t,n)},void(e,t){return e.void(t)},withoutNormalizing(e,t){e.withoutNormalizing(t)}},$Pt={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(J.isPath)}};function GZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function KZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GZ(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var It={compare(e,t){var n=J.compare(e.path,t.path);return n===0?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter(e,t){return It.compare(e,t)===1},isBefore(e,t){return It.compare(e,t)===-1},equals(e,t){return e.offset===t.offset&&J.equals(e.path,t.path)},isPoint(e){return gi(e)&&typeof e.offset=="number"&&J.isPath(e.path)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return H9(e,r=>{if(r===null)return null;var{affinity:o="forward"}=n,{path:i,offset:s}=r;switch(t.type){case"insert_node":case"move_node":{r.path=J.transform(i,t,n);break}case"insert_text":{J.equals(t.path,i)&&(t.offset<s||t.offset===s&&o==="forward")&&(r.offset+=t.text.length);break}case"merge_node":{J.equals(t.path,i)&&(r.offset+=t.position),r.path=J.transform(i,t,n);break}case"remove_text":{J.equals(t.path,i)&&t.offset<=s&&(r.offset-=Math.min(s-t.offset,t.text.length));break}case"remove_node":{if(J.equals(t.path,i)||J.isAncestor(t.path,i))return null;r.path=J.transform(i,t,n);break}case"split_node":{if(J.equals(t.path,i)){if(t.position===s&&o==null)return null;(t.position<s||t.position===s&&o==="forward")&&(r.offset-=t.position,r.path=J.transform(i,t,KZ(KZ({},n),{},{affinity:"forward"})))}else r.path=J.transform(i,t,n);break}}})}},ZZ=void 0,Lo={setScrubber(e){ZZ=e},stringify(e){return JSON.stringify(e,ZZ)}},RPt=["text"],MPt=["anchor","focus"];function XZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Zc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XZ(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var we={equals(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:r=!1}=n;function o(i){var s=zu(i,RPt);return s}return dEe(r?o(e):e,r?o(t):t)},isText(e){return gi(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(t=>we.isText(t))},isTextProps(e){return e.text!==void 0},matches(e,t){for(var n in t)if(n!=="text"&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations(e,t){var n=[Zc({},e)];for(var r of t){var o=zu(r,MPt),[i,s]=ue.edges(r),a=[],l=0,u=i.offset,d=s.offset;for(var f of n){var{length:p}=f.text,m=l;if(l+=p,u<=m&&l<=d){Object.assign(f,o),a.push(f);continue}if(u!==d&&(u===l||d===m)||u>l||d<m||d===m&&m!==0){a.push(f);continue}var v=f,g=void 0,b=void 0;if(d<l){var x=d-m;b=Zc(Zc({},v),{},{text:v.text.slice(x)}),v=Zc(Zc({},v),{},{text:v.text.slice(0,x)})}if(u>m){var y=u-m;g=Zc(Zc({},v),{},{text:v.text.slice(0,y)}),v=Zc(Zc({},v),{},{text:v.text.slice(y)})}Object.assign(v,o),g&&a.push(g),a.push(v),b&&a.push(b)}n=a}return n}},U9=e=>e.selection?e.selection:e.children.length>0?R.end(e,[]):[0],Y0=(e,t)=>{var[n]=R.node(e,t);return r=>r===n},W9=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=!n,o=n?VPt(t):t,i=ht.None,s=ht.None,a=0,l=null,u=null;for(var d of o){var f=d.codePointAt(0);if(!f)break;var p=eOt(d,f);if([i,s]=r?[s,p]:[p,i],Wg(i,ht.ZWJ)&&Wg(s,ht.ExtPict)&&(r?l=QZ(t.substring(0,a)):l=QZ(t.substring(0,t.length-a)),!l)||Wg(i,ht.RI)&&Wg(s,ht.RI)&&(u!==null?u=!u:r?u=!0:u=iOt(t.substring(0,t.length-a)),!u)||i!==ht.None&&s!==ht.None&&nOt(i,s))break;a+=d.length}return a||1},FPt=/\s/,LPt=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,BPt=/['\u2018\u2019]/,NPt=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=0,o=!1;t.length>0;){var i=W9(t,n),[s,a]=Y9(t,i,n);if(zPt(s,a,n))o=!0,r+=i;else if(!o)r+=i;else break;t=a}return r},Y9=(e,t,n)=>{if(n){var r=e.length-t;return[e.slice(r,e.length),e.slice(0,r)]}return[e.slice(0,t),e.slice(t)]},zPt=function e(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(FPt.test(t))return!1;if(BPt.test(t)){var o=W9(n,r),[i,s]=Y9(n,o,r);if(e(i,s,r))return!0}return!LPt.test(t)},VPt=function*(t){for(var n=t.length-1,r=0;r<t.length;r++){var o=t.charAt(n-r);if(UPt(o.charCodeAt(0))){var i=t.charAt(n-r-1);if(HPt(i.charCodeAt(0))){yield i+o,r++;continue}}yield o}},HPt=e=>e>=55296&&e<=56319,UPt=e=>e>=56320&&e<=57343,ht;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(ht||(ht={}));var WPt=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,YPt=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,qPt=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,GPt=/^[\u1100-\u115F\uA960-\uA97C]$/,KPt=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,ZPt=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,XPt=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,QPt=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,JPt=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,eOt=(e,t)=>{var n=ht.Any;return e.search(WPt)!==-1&&(n|=ht.Extend),t===8205&&(n|=ht.ZWJ),t>=127462&&t<=127487&&(n|=ht.RI),e.search(YPt)!==-1&&(n|=ht.Prepend),e.search(qPt)!==-1&&(n|=ht.SpacingMark),e.search(GPt)!==-1&&(n|=ht.L),e.search(KPt)!==-1&&(n|=ht.V),e.search(ZPt)!==-1&&(n|=ht.T),e.search(XPt)!==-1&&(n|=ht.LV),e.search(QPt)!==-1&&(n|=ht.LVT),e.search(JPt)!==-1&&(n|=ht.ExtPict),n};function Wg(e,t){return(e&t)!==0}var tOt=[[ht.L,ht.L|ht.V|ht.LV|ht.LVT],[ht.LV|ht.V,ht.V|ht.T],[ht.LVT|ht.T,ht.T],[ht.Any,ht.Extend|ht.ZWJ],[ht.Any,ht.SpacingMark],[ht.Prepend,ht.Any],[ht.ZWJ,ht.ExtPict],[ht.RI,ht.RI]];function nOt(e,t){return tOt.findIndex(n=>Wg(e,n[0])&&Wg(t,n[1]))===-1}var rOt=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,QZ=e=>e.search(rOt)!==-1,oOt=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,iOt=e=>{var t=e.match(oOt);if(t===null)return!1;var n=t[0].length/2;return n%2===1},sOt={delete(e,t){e.delete(t)},insertFragment(e,t,n){e.insertFragment(t,n)},insertText(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};R.withoutNormalizing(e,()=>{var{voids:r=!1}=n,{at:o=U9(e)}=n;if(J.isPath(o)&&(o=R.range(e,o)),ue.isRange(o))if(ue.isCollapsed(o))o=o.anchor;else{var i=ue.end(o);if(!r&&R.void(e,{at:i}))return;var s=ue.start(o),a=R.pointRef(e,s),l=R.pointRef(e,i);se.delete(e,{at:o,voids:r});var u=a.unref(),d=l.unref();o=u||d,se.setSelection(e,{anchor:o,focus:o})}if(!(!r&&R.void(e,{at:o})||R.elementReadOnly(e,{at:o}))){var{path:f,offset:p}=o;t.length>0&&e.apply({type:"insert_text",path:f,offset:p,text:t})}})}};function JZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function b_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JZ(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var se=b_(b_(b_(b_({},EPt),kPt),jPt),sOt),aOt=(e,t)=>{for(var n of R.pathRefs(e))wPt.transform(n,t);for(var r of R.pointRefs(e))CPt.transform(r,t);for(var o of R.rangeRefs(e))_Pt.transform(o,t);var i=RE.get(e)||[],s=ME.get(e)||new Set,a,l,u=v=>{if(v){var g=v.join(",");l.has(g)||(l.add(g),a.push(v))}};if(J.operationCanTransformPath(t)){a=[],l=new Set;for(var d of i){var f=J.transform(d,t);u(f)}}else a=i,l=s;var p=e.getDirtyPaths(t);for(var m of p)u(m);RE.set(e,a),ME.set(e,l),se.transform(e,t),e.operations.push(t),R.normalize(e,{operation:t}),t.type==="set_selection"&&(e.marks=null),vb.get(e)||(vb.set(e,!0),Promise.resolve().then(()=>{vb.set(e,!1),e.onChange({operation:t}),e.operations=[]}))},lOt=(e,t)=>{switch(t.type){case"insert_text":case"remove_text":case"set_node":{var{path:n}=t;return J.levels(n)}case"insert_node":{var{node:r,path:o}=t,i=J.levels(o),s=we.isText(r)?[]:Array.from(Ee.nodes(r),T=>{var[,A]=T;return o.concat(A)});return[...i,...s]}case"merge_node":{var{path:a}=t,l=J.ancestors(a),u=J.previous(a);return[...l,u]}case"move_node":{var{path:d,newPath:f}=t;if(J.equals(d,f))return[];var p=[],m=[];for(var v of J.ancestors(d)){var g=J.transform(v,t);p.push(g)}for(var b of J.ancestors(f)){var x=J.transform(b,t);m.push(x)}var y=m[m.length-1],w=f[f.length-1],C=y.concat(w);return[...p,...m,C]}case"remove_node":{var{path:_}=t,S=J.ancestors(_);return[...S]}case"split_node":{var{path:E}=t,j=J.levels(E),k=J.next(E);return[...j,k]}default:return[]}},cOt=e=>{var{selection:t}=e;return t?Ee.fragment(e,t):[]},uOt=(e,t)=>{var[n,r]=t;if(!we.isText(n)){if(Ie.isElement(n)&&n.children.length===0){var o={text:""};se.insertNodes(e,o,{at:r.concat(0),voids:!0});return}for(var i=R.isEditor(n)?!1:Ie.isElement(n)&&(e.isInline(n)||n.children.length===0||we.isText(n.children[0])||e.isInline(n.children[0])),s=0,a=0;a<n.children.length;a++,s++){var l=Ee.get(e,r);if(!we.isText(l)){var u=l.children[s],d=l.children[s-1],f=a===n.children.length-1,p=we.isText(u)||Ie.isElement(u)&&e.isInline(u);if(p!==i)se.removeNodes(e,{at:r.concat(s),voids:!0}),s--;else if(Ie.isElement(u)){if(e.isInline(u)){if(d==null||!we.isText(d)){var m={text:""};se.insertNodes(e,m,{at:r.concat(s),voids:!0}),s++}else if(f){var v={text:""};se.insertNodes(e,v,{at:r.concat(s+1),voids:!0}),s++}}}else d!=null&&we.isText(d)&&(we.equals(u,d,{loose:!0})?(se.mergeNodes(e,{at:r.concat(s),voids:!0}),s--):d.text===""?(se.removeNodes(e,{at:r.concat(s-1),voids:!0}),s--):u.text===""&&(se.removeNodes(e,{at:r.concat(s),voids:!0}),s--))}}}},dOt=(e,t)=>{var{iteration:n,initialDirtyPathsLength:r}=t,o=r*42;if(n>o)throw new Error("Could not completely normalize the editor after ".concat(o," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},fOt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:r=!1,mode:o="lowest",at:i=t.selection,match:s}=n;if(i){var a=R.path(t,i),l=o==="lowest";for(var[u,d]of R.levels(t,{at:a,voids:r,match:s,reverse:l}))if(!we.isText(u)){if(ue.isRange(i)){if(J.isAncestor(d,i.anchor.path)&&J.isAncestor(d,i.focus.path))return[u,d]}else if(!J.equals(a,d))return[u,d]}}};function eX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function tX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var hOt=(e,t,n)=>{var{selection:r}=e;if(r){var o=(f,p)=>{if(!we.isText(f))return!1;var[m,v]=R.parent(e,p);return!e.isVoid(m)||e.markableVoid(m)},i=ue.isExpanded(r),s=!1;if(!i){var[a,l]=R.node(e,r);if(a&&o(a,l)){var[u]=R.parent(e,l);s=u&&e.markableVoid(u)}}if(i||s)se.setNodes(e,{[t]:n},{match:o,split:!0,voids:!0});else{var d=tX(tX({},R.marks(e)||{}),{},{[t]:n});e.marks=d,vb.get(e)||e.onChange()}}};function nX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function rX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var pOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=R.point(t,n,{edge:"end"}),i=R.end(t,[]),s={anchor:o,focus:i},{distance:a=1}=r,l=0,u;for(var d of R.positions(t,rX(rX({},r),{},{at:s}))){if(l>a)break;l!==0&&(u=d),l++}return u};function oX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function iX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var mOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=R.start(t,[]),i=R.point(t,n,{edge:"start"}),s={anchor:o,focus:i},{distance:a=1}=r,l=0,u;for(var d of R.positions(t,iX(iX({},r),{},{at:s,reverse:!0}))){if(l>a)break;l!==0&&(u=d),l++}return u},gOt=(e,t)=>{var{selection:n}=e;n&&ue.isCollapsed(n)&&se.delete(e,{unit:t,reverse:!0})},vOt=(e,t)=>{var{selection:n}=e;n&&ue.isCollapsed(n)&&se.delete(e,{unit:t})},yOt=function(t){var{direction:n="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t;r&&ue.isExpanded(r)&&se.delete(t,{reverse:n==="backward"})},bOt=(e,t)=>[R.start(e,t),R.end(e,t)];function sX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function aX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var xOt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return R.above(t,aX(aX({},n),{},{match:r=>Ie.isElement(r)&&R.isElementReadOnly(t,r)}))},wOt=(e,t)=>R.point(e,t,{edge:"end"}),COt=(e,t)=>{var n=R.path(e,t,{edge:"start"});return R.node(e,n)},_Ot=(e,t)=>{var n=R.range(e,t);return Ee.fragment(e,n)};function lX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function cX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var SOt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return R.above(t,cX(cX({},n),{},{match:r=>Ie.isElement(r)&&R.isVoid(t,r)}))},EOt=(e,t)=>t.children.some(n=>Ie.isElement(n)&&R.isBlock(e,n)),kOt=(e,t)=>t.children.some(n=>we.isText(n)||R.isInline(e,n)),jOt=(e,t)=>Ee.has(e,t),TOt=(e,t)=>t.children.every(n=>we.isText(n)),AOt=e=>{se.splitNodes(e,{always:!0})},DOt=(e,t,n)=>{se.insertNodes(e,t,n)},IOt=e=>{se.splitNodes(e,{always:!0})};function uX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function POt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var OOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o,marks:i}=t;if(o){if(i){var s=POt({text:n},i);se.insertNodes(t,s,{at:r.at,voids:r.voids})}else se.insertText(t,n,r);t.marks=null}},$Ot=(e,t)=>!e.isInline(t),ROt=(e,t,n)=>R.isStart(e,t,n)||R.isEnd(e,t,n),MOt=(e,t)=>{var{children:n}=t,[r]=n;return n.length===0||n.length===1&&we.isText(r)&&r.text===""&&!e.isVoid(t)},FOt=(e,t,n)=>{var r=R.end(e,n);return It.equals(t,r)},LOt=e=>{var t=uEe.get(e);return t===void 0?!0:t},BOt=(e,t,n)=>{if(t.offset!==0)return!1;var r=R.start(e,n);return It.equals(t,r)},NOt=(e,t)=>{var n=R.path(e,t,{edge:"end"});return R.node(e,n)},zOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=R.path(t,n,r),i=Ee.leaf(t,o);return[i,o]};function*VOt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=e.selection,reverse:r=!1,voids:o=!1}=t,{match:i}=t;if(i==null&&(i=()=>!0),!!n){var s=[],a=R.path(e,n);for(var[l,u]of Ee.levels(e,a))if(i(l,u)&&(s.push([l,u]),!o&&Ie.isElement(l)&&R.isVoid(e,l)))break;r&&s.reverse(),yield*s}}var HOt=["text"],UOt=["text"],WOt=function(t){var{marks:n,selection:r}=t;if(!r)return null;if(n)return n;if(ue.isExpanded(r)){var[o]=R.nodes(t,{match:we.isText});if(o){var[i]=o,s=zu(i,HOt);return s}else return{}}var{anchor:a}=r,{path:l}=a,[u]=R.leaf(t,l);if(a.offset===0){var d=R.previous(t,{at:l,match:we.isText}),f=R.above(t,{match:x=>Ie.isElement(x)&&R.isVoid(t,x)&&t.markableVoid(x)});if(!f){var p=R.above(t,{match:x=>Ie.isElement(x)&&R.isBlock(t,x)});if(d&&p){var[m,v]=d,[,g]=p;J.isAncestor(g,v)&&(u=m)}}}var b=zu(u,UOt);return b},YOt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection}=n;if(s){var a=R.after(t,s,{voids:o});if(a){var[,l]=R.last(t,[]),u=[a.path,l];if(J.isPath(s)&&s.length===0)throw new Error("Cannot get the next node from the root node!");if(i==null)if(J.isPath(s)){var[d]=R.parent(t,s);i=p=>d.children.includes(p)}else i=()=>!0;var[f]=R.nodes(t,{at:u,match:i,mode:r,voids:o});return f}}},qOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=R.path(t,n,r),i=Ee.get(t,o);return[i,o]};function*GOt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=e.selection,mode:r="all",universal:o=!1,reverse:i=!1,voids:s=!1,ignoreNonSelectable:a=!1}=t,{match:l}=t;if(l||(l=()=>!0),!!n){var u,d;if($Pt.isSpan(n))u=n[0],d=n[1];else{var f=R.path(e,n,{edge:"start"}),p=R.path(e,n,{edge:"end"});u=i?p:f,d=i?f:p}var m=Ee.nodes(e,{reverse:i,from:u,to:d,pass:C=>{var[_]=C;return Ie.isElement(_)?!!(!s&&(R.isVoid(e,_)||R.isElementReadOnly(e,_))||a&&!R.isSelectable(e,_)):!1}}),v=[],g;for(var[b,x]of m)if(!(a&&Ie.isElement(b)&&!R.isSelectable(e,b))){var y=g&&J.compare(x,g[1])===0;if(!(r==="highest"&&y)){if(!l(b,x)){if(o&&!y&&we.isText(b))return;continue}if(r==="lowest"&&y){g=[b,x];continue}var w=r==="lowest"?g:[b,x];w&&(o?v.push(w):yield w),g=[b,x]}}r==="lowest"&&g&&(o?v.push(g):yield g),o&&(yield*v)}}var KOt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:r=!1,operation:o}=n,i=d=>RE.get(d)||[],s=d=>ME.get(d)||new Set,a=d=>{var f=i(d).pop(),p=f.join(",");return s(d).delete(p),f};if(R.isNormalizing(t)){if(r){var l=Array.from(Ee.nodes(t),d=>{var[,f]=d;return f}),u=new Set(l.map(d=>d.join(",")));RE.set(t,l),ME.set(t,u)}i(t).length!==0&&R.withoutNormalizing(t,()=>{for(var d of i(t))if(Ee.has(t,d)){var f=R.node(t,d),[p,m]=f;Ie.isElement(p)&&p.children.length===0&&t.normalizeNode(f,{operation:o})}for(var v=i(t),g=v.length,b=0;v.length!==0;){if(!t.shouldNormalize({dirtyPaths:v,iteration:b,initialDirtyPathsLength:g,operation:o}))return;var x=a(t);if(Ee.has(t,x)){var y=R.node(t,x);t.normalizeNode(y,{operation:o})}b++,v=i(t)}})}},ZOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=R.path(t,n,r),i=J.parent(o),s=R.node(t,i);return s},XOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,l=R.pathRefs(t);return l.delete(i),i.current=null,a}},s=R.pathRefs(t);return s.add(i),i},QOt=e=>{var t=BZ.get(e);return t||(t=new Set,BZ.set(e,t)),t},JOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:o,edge:i}=r;if(J.isPath(n)){if(i==="start"){var[,s]=Ee.first(t,n);n=s}else if(i==="end"){var[,a]=Ee.last(t,n);n=a}}return ue.isRange(n)&&(i==="start"?n=ue.start(n):i==="end"?n=ue.end(n):n=J.common(n.anchor.path,n.focus.path)),It.isPoint(n)&&(n=n.path),o!=null&&(n=n.slice(0,o)),n},e3t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,l=R.pointRefs(t);return l.delete(i),i.current=null,a}},s=R.pointRefs(t);return s.add(i),i},t3t=e=>{var t=NZ.get(e);return t||(t=new Set,NZ.set(e,t)),t},n3t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:o="start"}=r;if(J.isPath(n)){var i;if(o==="end"){var[,s]=Ee.last(t,n);i=s}else{var[,a]=Ee.first(t,n);i=a}var l=Ee.get(t,i);if(!we.isText(l))throw new Error("Cannot get the ".concat(o," point in the node at path [").concat(n,"] because it has no ").concat(o," text node."));return{path:i,offset:o==="end"?l.text.length:0}}if(ue.isRange(n)){var[u,d]=ue.edges(n);return o==="start"?u:d}return n};function*r3t(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=e.selection,unit:r="offset",reverse:o=!1,voids:i=!1,ignoreNonSelectable:s=!1}=t;if(!n)return;var a=R.range(e,n),[l,u]=ue.edges(a),d=o?u:l,f=!1,p="",m=0,v=0,g=0;for(var[b,x]of R.nodes(e,{at:n,reverse:o,voids:i,ignoreNonSelectable:s})){if(Ie.isElement(b)){if(!i&&(e.isVoid(b)||e.isElementReadOnly(b))){yield R.start(e,x);continue}if(e.isInline(b))continue;if(R.hasInlines(e,b)){var y=J.isAncestor(x,u.path)?u:R.end(e,x),w=J.isAncestor(x,l.path)?l:R.start(e,x);p=R.string(e,{anchor:w,focus:y},{voids:i}),f=!0}}if(we.isText(b)){var C=J.equals(x,d.path);for(C?(v=o?d.offset:b.text.length-d.offset,g=d.offset):(v=b.text.length,g=o?v:0),(C||f||r==="offset")&&(yield{path:x,offset:g},f=!1);;){if(m===0){if(p==="")break;m=_(p,r,o),p=Y9(p,m,o)[1]}if(g=o?g-m:g+m,v=v-m,v<0){m=-v;break}m=0,yield{path:x,offset:g}}}}function _(S,E,j){return E==="character"?W9(S,j):E==="word"?NPt(S,j):E==="line"||E==="block"?S.length:1}}var o3t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection}=n;if(s){var a=R.before(t,s,{voids:o});if(a){var[,l]=R.first(t,[]),u=[a.path,l];if(J.isPath(s)&&s.length===0)throw new Error("Cannot get the previous node from the root node!");if(i==null)if(J.isPath(s)){var[d]=R.parent(t,s);i=p=>d.children.includes(p)}else i=()=>!0;var[f]=R.nodes(t,{reverse:!0,at:u,match:i,mode:r,voids:o});return f}}},i3t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,l=R.rangeRefs(t);return l.delete(i),i.current=null,a}},s=R.rangeRefs(t);return s.add(i),i},s3t=e=>{var t=zZ.get(e);return t||(t=new Set,zZ.set(e,t)),t},a3t=(e,t,n)=>{if(ue.isRange(t)&&!n)return t;var r=R.start(e,t),o=R.end(e,n||t);return{anchor:r,focus:o}};function dX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function l3t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var c3t=(e,t)=>{var{selection:n}=e;if(n){var r=(d,f)=>{if(!we.isText(d))return!1;var[p,m]=R.parent(e,f);return!e.isVoid(p)||e.markableVoid(p)},o=ue.isExpanded(n),i=!1;if(!o){var[s,a]=R.node(e,n);if(s&&r(s,a)){var[l]=R.parent(e,a);i=l&&e.markableVoid(l)}}if(o||i)se.unsetNodes(e,t,{match:r,split:!0,voids:!0});else{var u=l3t({},R.marks(e)||{});delete u[t],e.marks=u,vb.get(e)||e.onChange()}}},u3t=(e,t)=>{uEe.set(e,t)},d3t=(e,t)=>R.point(e,t,{edge:"start"}),f3t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=r,i=R.range(t,n),[s,a]=ue.edges(i),l="";for(var[u,d]of R.nodes(t,{at:i,match:we.isText,voids:o})){var f=u.text;J.equals(d,a.path)&&(f=f.slice(0,a.offset)),J.equals(d,s.path)&&(f=f.slice(s.offset)),l+=f}return l},h3t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=r,[i,s]=ue.edges(n);if(i.offset!==0||s.offset!==0||ue.isCollapsed(n)||J.hasPrevious(s.path))return n;var a=R.above(t,{at:s,match:v=>Ie.isElement(v)&&R.isBlock(t,v),voids:o}),l=a?a[1]:[],u=R.start(t,i),d={anchor:u,focus:s},f=!0;for(var[p,m]of R.nodes(t,{at:d,match:we.isText,reverse:!0,voids:o})){if(f){f=!1;continue}if(p.text!==""||J.isBefore(m,l)){s={path:m,offset:p.text.length};break}}return{anchor:i,focus:s}},p3t=(e,t)=>{var n=R.isNormalizing(e);R.setNormalizing(e,!1);try{t()}finally{R.setNormalizing(e,n)}R.normalize(e)},m3t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};R.withoutNormalizing(t,()=>{var r,o,{reverse:i=!1,unit:s="character",distance:a=1,voids:l=!1}=n,{at:u=t.selection,hanging:d=!1}=n;if(u){var f=!1;if(ue.isRange(u)&&ue.isCollapsed(u)&&(f=!0,u=u.anchor),It.isPoint(u)){var p=R.void(t,{at:u,mode:"highest"});if(!l&&p){var[,m]=p;u=m}else{var v={unit:s,distance:a},g=i?R.before(t,u,v)||R.start(t,[]):R.after(t,u,v)||R.end(t,[]);u={anchor:u,focus:g},d=!0}}if(J.isPath(u)){se.removeNodes(t,{at:u,voids:l});return}if(!ue.isCollapsed(u)){if(!d){var[,b]=ue.edges(u),x=R.end(t,[]);It.equals(b,x)||(u=R.unhangRange(t,u,{voids:l}))}var[y,w]=ue.edges(u),C=R.above(t,{match:ie=>Ie.isElement(ie)&&R.isBlock(t,ie),at:y,voids:l}),_=R.above(t,{match:ie=>Ie.isElement(ie)&&R.isBlock(t,ie),at:w,voids:l}),S=C&&_&&!J.equals(C[1],_[1]),E=J.equals(y.path,w.path),j=l?null:(r=R.void(t,{at:y,mode:"highest"}))!==null&&r!==void 0?r:R.elementReadOnly(t,{at:y,mode:"highest"}),k=l?null:(o=R.void(t,{at:w,mode:"highest"}))!==null&&o!==void 0?o:R.elementReadOnly(t,{at:w,mode:"highest"});if(j){var T=R.before(t,y);T&&C&&J.isAncestor(C[1],T.path)&&(y=T)}if(k){var A=R.after(t,w);A&&_&&J.isAncestor(_[1],A.path)&&(w=A)}var D=[],I;for(var P of R.nodes(t,{at:u,voids:l})){var[M,$]=P;I&&J.compare($,I)===0||(!l&&Ie.isElement(M)&&(R.isVoid(t,M)||R.isElementReadOnly(t,M))||!J.isCommon($,y.path)&&!J.isCommon($,w.path))&&(D.push(P),I=$)}var V=Array.from(D,ie=>{var[,ye]=ie;return R.pathRef(t,ye)}),L=R.pointRef(t,y),H=R.pointRef(t,w),U="";if(!E&&!j){var z=L.current,[Y]=R.leaf(t,z),{path:te}=z,{offset:N}=y,G=Y.text.slice(N);G.length>0&&(t.apply({type:"remove_text",path:te,offset:N,text:G}),U=G)}if(V.reverse().map(ie=>ie.unref()).filter(ie=>ie!==null).forEach(ie=>se.removeNodes(t,{at:ie,voids:l})),!k){var q=H.current,[K]=R.leaf(t,q),{path:Q}=q,X=E?y.offset:0,Z=K.text.slice(X,w.offset);Z.length>0&&(t.apply({type:"remove_text",path:Q,offset:X,text:Z}),U=Z)}!E&&S&&H.current&&L.current&&se.mergeNodes(t,{at:H.current,hanging:!0,voids:l}),f&&i&&s==="character"&&U.length>1&&U.match(/[\u0E00-\u0E7F]+/)&&se.insertText(t,U.slice(0,U.length-a));var oe=L.unref(),le=H.unref(),he=i?oe||le:le||oe;n.at==null&&he&&se.select(t,he)}}})},g3t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};R.withoutNormalizing(t,()=>{var{hanging:o=!1,voids:i=!1}=r,{at:s=U9(t)}=r;if(n.length){if(ue.isRange(s))if(o||(s=R.unhangRange(t,s,{voids:i})),ue.isCollapsed(s))s=s.anchor;else{var[,a]=ue.edges(s);if(!i&&R.void(t,{at:a}))return;var l=R.pointRef(t,a);se.delete(t,{at:s}),s=l.unref()}else J.isPath(s)&&(s=R.start(t,s));if(!(!i&&R.void(t,{at:s}))){var u=R.above(t,{at:s,match:N=>Ie.isElement(N)&&R.isInline(t,N),mode:"highest",voids:i});if(u){var[,d]=u;if(R.isEnd(t,s,d)){var f=R.after(t,d);s=f}else if(R.isStart(t,s,d)){var p=R.before(t,d);s=p}}var m=R.above(t,{match:N=>Ie.isElement(N)&&R.isBlock(t,N),at:s,voids:i}),[,v]=m,g=R.isStart(t,s,v),b=R.isEnd(t,s,v),x=g&&b,y=!g||g&&b,w=!b,[,C]=Ee.first({children:n},[]),[,_]=Ee.last({children:n},[]),S=[],E=N=>{var[G,q]=N,K=q.length===0;return K?!1:x?!0:!(y&&J.isAncestor(q,C)&&Ie.isElement(G)&&!t.isVoid(G)&&!t.isInline(G)||w&&J.isAncestor(q,_)&&Ie.isElement(G)&&!t.isVoid(G)&&!t.isInline(G))};for(var j of Ee.nodes({children:n},{pass:E}))E(j)&&S.push(j);var k=[],T=[],A=[],D=!0,I=!1;for(var[P]of S)Ie.isElement(P)&&!t.isInline(P)?(D=!1,I=!0,T.push(P)):D?k.push(P):A.push(P);var[M]=R.nodes(t,{at:s,match:N=>we.isText(N)||R.isInline(t,N),mode:"highest",voids:i}),[,$]=M,V=R.isStart(t,s,$),L=R.isEnd(t,s,$),H=R.pathRef(t,b&&!A.length?J.next(v):v),U=R.pathRef(t,L?J.next($):$);se.splitNodes(t,{at:s,match:N=>I?Ie.isElement(N)&&R.isBlock(t,N):we.isText(N)||R.isInline(t,N),mode:I?"lowest":"highest",always:I&&(!g||k.length>0)&&(!b||A.length>0),voids:i});var z=R.pathRef(t,!V||V&&L?J.next($):$);if(se.insertNodes(t,k,{at:z.current,match:N=>we.isText(N)||R.isInline(t,N),mode:"highest",voids:i}),x&&!k.length&&T.length&&!A.length&&se.delete(t,{at:v,voids:i}),se.insertNodes(t,T,{at:H.current,match:N=>Ie.isElement(N)&&R.isBlock(t,N),mode:"lowest",voids:i}),se.insertNodes(t,A,{at:U.current,match:N=>we.isText(N)||R.isInline(t,N),mode:"highest",voids:i}),!r.at){var Y;if(A.length>0&&U.current?Y=J.previous(U.current):T.length>0&&H.current?Y=J.previous(H.current):z.current&&(Y=J.previous(z.current)),Y){var te=R.end(t,Y);se.select(t,te)}}z.unref(),H.unref(),U.unref()}}})},v3t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:r="anchor"}=n,{selection:o}=t;if(o){if(r==="anchor")se.select(t,o.anchor);else if(r==="focus")se.select(t,o.focus);else if(r==="start"){var[i]=ue.edges(o);se.select(t,i)}else if(r==="end"){var[,s]=ue.edges(o);se.select(t,s)}}else return},y3t=e=>{var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},b3t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t,{distance:o=1,unit:i="character",reverse:s=!1}=n,{edge:a=null}=n;if(r){a==="start"&&(a=ue.isBackward(r)?"focus":"anchor"),a==="end"&&(a=ue.isBackward(r)?"anchor":"focus");var{anchor:l,focus:u}=r,d={distance:o,unit:i,ignoreNonSelectable:!0},f={};if(a==null||a==="anchor"){var p=s?R.before(t,l,d):R.after(t,l,d);p&&(f.anchor=p)}if(a==null||a==="focus"){var m=s?R.before(t,u,d):R.after(t,u,d);m&&(f.focus=m)}se.setSelection(t,f)}},x3t=(e,t)=>{var{selection:n}=e;if(t=R.range(e,t),n){se.setSelection(e,t);return}if(!ue.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(Lo.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})};function fX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function hX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var w3t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o}=t,{edge:i="both"}=r;if(o){i==="start"&&(i=ue.isBackward(o)?"focus":"anchor"),i==="end"&&(i=ue.isBackward(o)?"anchor":"focus");var{anchor:s,focus:a}=o,l=i==="anchor"?s:a;se.setSelection(t,{[i==="anchor"?"anchor":"focus"]:hX(hX({},l),n)})}},C3t=(e,t)=>{var{selection:n}=e,r={},o={};if(n){for(var i in t)(i==="anchor"&&t.anchor!=null&&!It.equals(t.anchor,n.anchor)||i==="focus"&&t.focus!=null&&!It.equals(t.focus,n.focus)||i!=="anchor"&&i!=="focus"&&t[i]!==n[i])&&(r[i]=n[i],o[i]=t[i]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:o})}},_3t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};R.withoutNormalizing(t,()=>{var{hanging:o=!1,voids:i=!1,mode:s="lowest"}=r,{at:a,match:l,select:u}=r;if(Ee.isNode(n)&&(n=[n]),n.length!==0){var[d]=n;if(a||(a=U9(t),u=!0),u==null&&(u=!1),ue.isRange(a))if(o||(a=R.unhangRange(t,a,{voids:i})),ue.isCollapsed(a))a=a.anchor;else{var[,f]=ue.edges(a),p=R.pointRef(t,f);se.delete(t,{at:a}),a=p.unref()}if(It.isPoint(a)){l==null&&(we.isText(d)?l=E=>we.isText(E):t.isInline(d)?l=E=>we.isText(E)||R.isInline(t,E):l=E=>Ie.isElement(E)&&R.isBlock(t,E));var[m]=R.nodes(t,{at:a.path,match:l,mode:s,voids:i});if(m){var[,v]=m,g=R.pathRef(t,v),b=R.isEnd(t,a,v);se.splitNodes(t,{at:a,match:l,mode:s,voids:i});var x=g.unref();a=b?J.next(x):x}else return}var y=J.parent(a),w=a[a.length-1];if(!(!i&&R.void(t,{at:y}))){for(var C of n){var _=y.concat(w);w++,t.apply({type:"insert_node",path:_,node:C}),a=J.next(a)}if(a=J.previous(a),u){var S=R.end(t,a);S&&se.select(t,S)}}}})},S3t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};R.withoutNormalizing(t,()=>{var{at:r=t.selection,mode:o="lowest",voids:i=!1}=n,{match:s}=n;if(s==null&&(s=J.isPath(r)?Y0(t,r):C=>Ie.isElement(C)&&R.isBlock(t,C)),!!r){var a=R.nodes(t,{at:r,match:s,mode:o,voids:i}),l=Array.from(a,C=>{var[,_]=C;return R.pathRef(t,_)});for(var u of l){var d=u.unref();if(d.length<2)throw new Error("Cannot lift node at a path [".concat(d,"] because it has a depth of less than `2`."));var f=R.node(t,J.parent(d)),[p,m]=f,v=d[d.length-1],{length:g}=p.children;if(g===1){var b=J.next(m);se.moveNodes(t,{at:d,to:b,voids:i}),se.removeNodes(t,{at:m,voids:i})}else if(v===0)se.moveNodes(t,{at:d,to:m,voids:i});else if(v===g-1){var x=J.next(m);se.moveNodes(t,{at:d,to:x,voids:i})}else{var y=J.next(d),w=J.next(m);se.splitNodes(t,{at:y,voids:i}),se.moveNodes(t,{at:d,to:w,voids:i})}}}})},E3t=["text"],k3t=["children"],fEe=(e,t)=>{if(Ie.isElement(t)){var n=t;return R.isVoid(e,t)?!0:n.children.length===1?fEe(e,n.children[0]):!1}else return!R.isEditor(t)},j3t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};R.withoutNormalizing(t,()=>{var{match:r,at:o=t.selection}=n,{hanging:i=!1,voids:s=!1,mode:a="lowest"}=n;if(o){if(r==null)if(J.isPath(o)){var[l]=R.parent(t,o);r=T=>l.children.includes(T)}else r=T=>Ie.isElement(T)&&R.isBlock(t,T);if(!i&&ue.isRange(o)&&(o=R.unhangRange(t,o,{voids:s})),ue.isRange(o))if(ue.isCollapsed(o))o=o.anchor;else{var[,u]=ue.edges(o),d=R.pointRef(t,u);se.delete(t,{at:o}),o=d.unref(),n.at==null&&se.select(t,o)}var[f]=R.nodes(t,{at:o,match:r,voids:s,mode:a}),p=R.previous(t,{at:o,match:r,voids:s,mode:a});if(!(!f||!p)){var[m,v]=f,[g,b]=p;if(!(v.length===0||b.length===0)){var x=J.next(b),y=J.common(v,b),w=J.isSibling(v,b),C=Array.from(R.levels(t,{at:v}),T=>{var[A]=T;return A}).slice(y.length).slice(0,-1),_=R.above(t,{at:v,mode:"highest",match:T=>C.includes(T)&&fEe(t,T)}),S=_&&R.pathRef(t,_[1]),E,j;if(we.isText(m)&&we.isText(g)){var k=zu(m,E3t);j=g.text.length,E=k}else if(Ie.isElement(m)&&Ie.isElement(g)){var k=zu(m,k3t);j=g.children.length,E=k}else throw new Error("Cannot merge the node at path [".concat(v,"] with the previous sibling because it is not the same kind: ").concat(Lo.stringify(m)," ").concat(Lo.stringify(g)));w||se.moveNodes(t,{at:v,to:x,voids:s}),S&&se.removeNodes(t,{at:S.current,voids:s}),Ie.isElement(g)&&R.isEmpty(t,g)||we.isText(g)&&g.text===""&&b[b.length-1]!==0?se.removeNodes(t,{at:b,voids:s}):t.apply({type:"merge_node",path:x,position:j,properties:E}),S&&S.unref()}}}})},T3t=(e,t)=>{R.withoutNormalizing(e,()=>{var{to:n,at:r=e.selection,mode:o="lowest",voids:i=!1}=t,{match:s}=t;if(r){s==null&&(s=J.isPath(r)?Y0(e,r):m=>Ie.isElement(m)&&R.isBlock(e,m));var a=R.pathRef(e,n),l=R.nodes(e,{at:r,match:s,mode:o,voids:i}),u=Array.from(l,m=>{var[,v]=m;return R.pathRef(e,v)});for(var d of u){var f=d.unref(),p=a.current;f.length!==0&&e.apply({type:"move_node",path:f,newPath:p}),a.current&&J.isSibling(p,f)&&J.isAfter(p,f)&&(a.current=J.next(a.current))}a.unref()}})},A3t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};R.withoutNormalizing(t,()=>{var{hanging:r=!1,voids:o=!1,mode:i="lowest"}=n,{at:s=t.selection,match:a}=n;if(s){a==null&&(a=J.isPath(s)?Y0(t,s):m=>Ie.isElement(m)&&R.isBlock(t,m)),!r&&ue.isRange(s)&&(s=R.unhangRange(t,s,{voids:o}));var l=R.nodes(t,{at:s,match:a,mode:i,voids:o}),u=Array.from(l,m=>{var[,v]=m;return R.pathRef(t,v)});for(var d of u){var f=d.unref();if(f){var[p]=R.node(t,f);t.apply({type:"remove_node",path:f,node:p})}}}})},D3t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};R.withoutNormalizing(t,()=>{var{match:o,at:i=t.selection,compare:s,merge:a}=r,{hanging:l=!1,mode:u="lowest",split:d=!1,voids:f=!1}=r;if(i){if(o==null&&(o=J.isPath(i)?Y0(t,i):j=>Ie.isElement(j)&&R.isBlock(t,j)),!l&&ue.isRange(i)&&(i=R.unhangRange(t,i,{voids:f})),d&&ue.isRange(i)){if(ue.isCollapsed(i)&&R.leaf(t,i.anchor)[0].text.length>0)return;var p=R.rangeRef(t,i,{affinity:"inward"}),[m,v]=ue.edges(i),g=u==="lowest"?"lowest":"highest",b=R.isEnd(t,v,v.path);se.splitNodes(t,{at:v,match:o,mode:g,voids:f,always:!b});var x=R.isStart(t,m,m.path);se.splitNodes(t,{at:m,match:o,mode:g,voids:f,always:!x}),i=p.unref(),r.at==null&&se.select(t,i)}s||(s=(j,k)=>j!==k);for(var[y,w]of R.nodes(t,{at:i,match:o,mode:u,voids:f})){var C={},_={};if(w.length!==0){var S=!1;for(var E in n)E==="children"||E==="text"||s(n[E],y[E])&&(S=!0,y.hasOwnProperty(E)&&(C[E]=y[E]),a?n[E]!=null&&(_[E]=a(y[E],n[E])):n[E]!=null&&(_[E]=n[E]));S&&t.apply({type:"set_node",path:w,properties:C,newProperties:_})}}}})},I3t=(e,t)=>{if(ue.isCollapsed(t))return t.anchor;var[,n]=ue.edges(t),r=R.pointRef(e,n);return se.delete(e,{at:t}),r.unref()},P3t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};R.withoutNormalizing(t,()=>{var{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection,height:a=0,always:l=!1}=n;if(i==null&&(i=H=>Ie.isElement(H)&&R.isBlock(t,H)),ue.isRange(s)&&(s=I3t(t,s)),J.isPath(s)){var u=s,d=R.point(t,u),[f]=R.parent(t,u);i=H=>H===f,a=d.path.length-u.length+1,s=d,l=!0}if(s){var p=R.pointRef(t,s,{affinity:"backward"}),m;try{var[v]=R.nodes(t,{at:s,match:i,mode:r,voids:o});if(!v)return;var g=R.void(t,{at:s,mode:"highest"}),b=0;if(!o&&g){var[x,y]=g;if(Ie.isElement(x)&&t.isInline(x)){var w=R.after(t,y);if(!w){var C={text:""},_=J.next(y);se.insertNodes(t,C,{at:_,voids:o}),w=R.point(t,_)}s=w,l=!0}var S=s.path.length-y.length;a=S+1,l=!0}m=R.pointRef(t,s);var E=s.path.length-a,[,j]=v,k=s.path.slice(0,E),T=a===0?s.offset:s.path[E]+b;for(var[A,D]of R.levels(t,{at:k,reverse:!0,voids:o})){var I=!1;if(D.length<j.length||D.length===0||!o&&Ie.isElement(A)&&R.isVoid(t,A))break;var P=p.current,M=R.isEnd(t,P,D);if(l||!p||!R.isEdge(t,P,D)){I=!0;var $=Ee.extractProps(A);t.apply({type:"split_node",path:D,position:T,properties:$})}T=D[D.length-1]+(I||M?1:0)}if(n.at==null){var V=m.current||R.end(t,[]);se.select(t,V)}}finally{var L;p.unref(),(L=m)===null||L===void 0||L.unref()}}})},O3t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(n)||(n=[n]);var o={};for(var i of n)o[i]=null;se.setNodes(t,o,r)},$3t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};R.withoutNormalizing(t,()=>{var{mode:r="lowest",split:o=!1,voids:i=!1}=n,{at:s=t.selection,match:a}=n;if(s){a==null&&(a=J.isPath(s)?Y0(t,s):m=>Ie.isElement(m)&&R.isBlock(t,m)),J.isPath(s)&&(s=R.range(t,s));var l=ue.isRange(s)?R.rangeRef(t,s):null,u=R.nodes(t,{at:s,match:a,mode:r,voids:i}),d=Array.from(u,m=>{var[,v]=m;return R.pathRef(t,v)}).reverse(),f=function(v){var g=v.unref(),[b]=R.node(t,g),x=R.range(t,g);o&&l&&(x=ue.intersection(l.current,x)),se.liftNodes(t,{at:x,match:y=>Ie.isAncestor(b)&&b.children.includes(y),voids:i})};for(var p of d)f(p);l&&l.unref()}})};function pX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function mX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var R3t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};R.withoutNormalizing(t,()=>{var{mode:o="lowest",split:i=!1,voids:s=!1}=r,{match:a,at:l=t.selection}=r;if(l){if(a==null&&(J.isPath(l)?a=Y0(t,l):t.isInline(n)?a=x=>Ie.isElement(x)&&R.isInline(t,x)||we.isText(x):a=x=>Ie.isElement(x)&&R.isBlock(t,x)),i&&ue.isRange(l)){var[u,d]=ue.edges(l),f=R.rangeRef(t,l,{affinity:"inward"});se.splitNodes(t,{at:d,match:a,voids:s}),se.splitNodes(t,{at:u,match:a,voids:s}),l=f.unref(),r.at==null&&se.select(t,l)}var p=Array.from(R.nodes(t,{at:l,match:t.isInline(n)?x=>Ie.isElement(x)&&R.isBlock(t,x):x=>R.isEditor(x),mode:"lowest",voids:s}));for(var[,m]of p){var v=ue.isRange(l)?ue.intersection(l,R.range(t,m)):l;if(v){var g=Array.from(R.nodes(t,{at:v,match:a,mode:o,voids:s}));if(g.length>0){var b=function(){var[x]=g,y=g[g.length-1],[,w]=x,[,C]=y;if(w.length===0&&C.length===0)return"continue";var _=J.equals(w,C)?J.parent(w):J.common(w,C),S=R.range(t,w,C),E=R.node(t,_),[j]=E,k=_.length+1,T=J.next(C.slice(0,k)),A=mX(mX({},n),{},{children:[]});se.insertNodes(t,A,{at:T,voids:s}),se.moveNodes(t,{at:S,match:D=>Ie.isAncestor(j)&&j.children.includes(D),to:T.concat(0),voids:s})}();if(b==="continue")continue}}}}})},M3t=()=>{var e={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return aOt(e,...r)},addMark:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return hOt(e,...r)},deleteBackward:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return gOt(e,...r)},deleteForward:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return vOt(e,...r)},deleteFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return yOt(e,...r)},getFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return cOt(e,...r)},insertBreak:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return AOt(e,...r)},insertSoftBreak:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return IOt(e,...r)},insertFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return g3t(e,...r)},insertNode:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return DOt(e,...r)},insertText:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return OOt(e,...r)},normalizeNode:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return uOt(e,...r)},removeMark:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return c3t(e,...r)},getDirtyPaths:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return lOt(e,...r)},shouldNormalize:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return dOt(e,...r)},above:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return fOt(e,...r)},after:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return pOt(e,...r)},before:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return mOt(e,...r)},collapse:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return v3t(e,...r)},delete:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return m3t(e,...r)},deselect:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return y3t(e,...r)},edges:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return bOt(e,...r)},elementReadOnly:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return xOt(e,...r)},end:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return wOt(e,...r)},first:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return COt(e,...r)},fragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return _Ot(e,...r)},getMarks:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return WOt(e,...r)},hasBlocks:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return EOt(e,...r)},hasInlines:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return kOt(e,...r)},hasPath:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return jOt(e,...r)},hasTexts:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return TOt(e,...r)},insertNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return _3t(e,...r)},isBlock:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return $Ot(e,...r)},isEdge:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ROt(e,...r)},isEmpty:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return MOt(e,...r)},isEnd:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return FOt(e,...r)},isNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return LOt(e,...r)},isStart:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return BOt(e,...r)},last:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return NOt(e,...r)},leaf:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return zOt(e,...r)},levels:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return VOt(e,...r)},liftNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return S3t(e,...r)},mergeNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return j3t(e,...r)},move:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return b3t(e,...r)},moveNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return T3t(e,...r)},next:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return YOt(e,...r)},node:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return qOt(e,...r)},nodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return GOt(e,...r)},normalize:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return KOt(e,...r)},parent:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ZOt(e,...r)},path:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return JOt(e,...r)},pathRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return XOt(e,...r)},pathRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return QOt(e,...r)},point:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return n3t(e,...r)},pointRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e3t(e,...r)},pointRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t3t(e,...r)},positions:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return r3t(e,...r)},previous:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return o3t(e,...r)},range:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a3t(e,...r)},rangeRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return i3t(e,...r)},rangeRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return s3t(e,...r)},removeNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return A3t(e,...r)},select:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return x3t(e,...r)},setNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return D3t(e,...r)},setNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return u3t(e,...r)},setPoint:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return w3t(e,...r)},setSelection:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return C3t(e,...r)},splitNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return P3t(e,...r)},start:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return d3t(e,...r)},string:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return f3t(e,...r)},unhangRange:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return h3t(e,...r)},unsetNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return O3t(e,...r)},unwrapNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return $3t(e,...r)},void:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return SOt(e,...r)},withoutNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return p3t(e,...r)},wrapNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return R3t(e,...r)}};return e},cd={};Object.defineProperty(cd,"__esModule",{value:!0});var F3t=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),jP={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},L3t={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:F3t?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},hEe={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var x_=1;x_<20;x_++)hEe["f"+x_]=111+x_;function VT(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(s){return pEe(s,t)}),o=function(a){return r.some(function(l){return mEe(l,a)})},i=n==null?o:o(n);return i}function B3t(e,t){return VT(e,t)}function N3t(e,t){return VT(e,{byKey:!0},t)}function pEe(e,t){var n=t&&t.byKey,r={};e=e.replace("++","+add");var o=e.split("+"),i=o.length;for(var s in jP)r[jP[s]]=!1;var a=!0,l=!1,u=void 0;try{for(var d=o[Symbol.iterator](),f;!(a=(f=d.next()).done);a=!0){var p=f.value,m=p.endsWith("?")&&p.length>1;m&&(p=p.slice(0,-1));var v=q9(p),g=jP[v];(i===1||!g)&&(n?r.key=v:r.which=gEe(p)),g&&(r[g]=m?null:!0)}}catch(b){l=!0,u=b}finally{try{!a&&d.return&&d.return()}finally{if(l)throw u}}return r}function mEe(e,t){for(var n in e){var r=e[n],o=void 0;if(r!=null&&(n==="key"&&t.key!=null?o=t.key.toLowerCase():n==="which"?o=r===91&&t.which===93?91:t.which:o=t[n],!(o==null&&r===!1)&&o!==r))return!1}return!0}function gEe(e){e=q9(e);var t=hEe[e]||e.toUpperCase().charCodeAt(0);return t}function q9(e){return e=e.toLowerCase(),e=L3t[e]||e,e}var Fi=cd.default=VT,TP=cd.isHotkey=VT;cd.isCodeHotkey=B3t;cd.isKeyHotkey=N3t;cd.parseHotkey=pEe;cd.compareHotkey=mEe;cd.toKeyCode=gEe;cd.toKeyName=q9;function HT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z3t(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Kv(e,t){if(e==null)return{};var n=z3t(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var G9=h.createContext(null),Vc=()=>{var e=h.useContext(G9);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},vEe=parseInt(re.version.split(".")[0],10),V3t=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,gX=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),bs=typeof navigator<"u"&&/Android/.test(navigator.userAgent),yb=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Ay=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),H3t=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),yEe=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),U3t=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),W3t=bs&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),Y3t=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),q3t=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),G3t=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent),fS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yd=(!U3t||!W3t)&&!H3t&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",K9=new WeakMap,Z9=new WeakMap,bEe=new WeakMap,hS=new WeakMap,dM=new WeakMap,vx=new WeakMap,Ap=new WeakMap,fM=new WeakMap,UT=new WeakMap,hM=new WeakMap,lp=new WeakMap,cp=new WeakMap,bb=new WeakMap,pM=new WeakMap,X9=new WeakMap,vl=new WeakMap,bu=new WeakMap,hs=new WeakMap,Pd=new WeakMap,Od=new WeakMap,xEe=new WeakMap,Zv=Symbol("placeholder"),wEe=Symbol("mark-placeholder"),K3t=globalThis.Text,Q9=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,Z3t=e=>Hf(e)&&e.nodeType===8,Aa=e=>Hf(e)&&e.nodeType===1,Hf=e=>{var t=Q9(e);return!!t&&e instanceof t.Node},mM=e=>{var t=e&&e.anchorNode&&Q9(e.anchorNode);return!!t&&e instanceof t.Selection},CEe=e=>Hf(e)&&e.nodeType===3,X3t=e=>e.clipboardData&&e.clipboardData.getData("text/plain")!==""&&e.clipboardData.types.length===1,Q3t=e=>{var[t,n]=e;if(Aa(t)&&t.childNodes.length){var r=n===t.childNodes.length,o=r?n-1:n;for([t,o]=_Ee(t,o,r?"backward":"forward"),r=o<n;Aa(t)&&t.childNodes.length;){var i=r?t.childNodes.length-1:0;t=e$t(t,i,r?"backward":"forward")}n=r&&t.textContent!=null?t.textContent.length:0}return[t,n]},J3t=e=>{for(var t=e&&e.parentNode;t;){if(t.toString()==="[object ShadowRoot]")return!0;t=t.parentNode}return!1},_Ee=(e,t,n)=>{for(var{childNodes:r}=e,o=r[t],i=t,s=!1,a=!1;(Z3t(o)||Aa(o)&&o.childNodes.length===0||Aa(o)&&o.getAttribute("contenteditable")==="false")&&!(s&&a);){if(i>=r.length){s=!0,i=t-1,n="backward";continue}if(i<0){a=!0,i=t+1,n="forward";continue}o=r[i],t=i,i+=n==="forward"?1:-1}return[o,t]},e$t=(e,t,n)=>{var[r]=_Ee(e,t,n);return r},SEe=e=>{var t="";if(CEe(e)&&e.nodeValue)return e.nodeValue;if(Aa(e)){for(var n of Array.from(e.childNodes))t+=SEe(n);var r=getComputedStyle(e).getPropertyValue("display");(r==="block"||r==="list"||e.tagName==="BR")&&(t+=`
`)}return t},t$t=/data-slate-fragment="(.+?)"/m,n$t=e=>{var t=e.getData("text/html"),[,n]=t.match(t$t)||[];return n},J9=(e,t,n)=>{var{target:r}=t;if(Aa(r)&&r.matches('[contentEditable="false"]'))return!1;var{document:o}=pe.getWindow(e);if(o.contains(r))return pe.hasDOMNode(e,r,{editable:!0});var i=n.find(s=>{var{addedNodes:a,removedNodes:l}=s;for(var u of a)if(u===r||u.contains(r))return!0;for(var d of l)if(d===r||d.contains(r))return!0});return!i||i===t?!1:J9(e,i,n)},r$t=0;class o$t{constructor(){this.id="".concat(r$t++)}}var pe={androidPendingDiffs:e=>hs.get(e),androidScheduleFlush:e=>{var t;(t=X9.get(e))===null||t===void 0||t()},blur:e=>{var t=pe.toDOMNode(e,e),n=pe.findDocumentOrShadowRoot(e);lp.set(e,!1),n.activeElement===t&&t.blur()},deselect:e=>{var{selection:t}=e,n=pe.findDocumentOrShadowRoot(e),r=n.getSelection();r&&r.rangeCount>0&&r.removeAllRanges(),t&&se.deselect(e)},findDocumentOrShadowRoot:e=>{var t=pe.toDOMNode(e,e),n=t.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&n.getSelection!=null?n:t.ownerDocument},findEventRange:(e,t)=>{"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:n,clientY:r,target:o}=t;if(n==null||r==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var i=pe.toSlateNode(e,t.target),s=pe.findPath(e,i);if(Ie.isElement(i)&&R.isVoid(e,i)){var a=o.getBoundingClientRect(),l=e.isInline(i)?n-a.left<a.left+a.width-n:r-a.top<a.top+a.height-r,u=R.point(e,s,{edge:l?"start":"end"}),d=l?R.before(e,u):R.after(e,u);if(d){var f=R.range(e,d);return f}}var p,{document:m}=pe.getWindow(e);if(m.caretRangeFromPoint)p=m.caretRangeFromPoint(n,r);else{var v=m.caretPositionFromPoint(n,r);v&&(p=m.createRange(),p.setStart(v.offsetNode,v.offset),p.setEnd(v.offsetNode,v.offset))}if(!p)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var g=pe.toSlateRange(e,p,{exactMatch:!1,suppressThrow:!1});return g},findKey:(e,t)=>{var n=fM.get(t);return n||(n=new o$t,fM.set(t,n)),n},findPath:(e,t)=>{for(var n=[],r=t;;){var o=Z9.get(r);if(o==null){if(R.isEditor(r))return n;break}var i=K9.get(r);if(i==null)break;n.unshift(i),r=o}throw new Error("Unable to find the path for Slate node: ".concat(Lo.stringify(t)))},focus:e=>{var t=pe.toDOMNode(e,e),n=pe.findDocumentOrShadowRoot(e);lp.set(e,!0),n.activeElement!==t&&t.focus({preventScroll:!0})},getWindow:e=>{var t=bEe.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},hasDOMNode:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:o=!1}=r,i=pe.toDOMNode(t,t),s;try{s=Aa(n)?n:n.parentElement}catch(a){if(!a.message.includes('Permission denied to access property "nodeType"'))throw a}return s?s.closest("[data-slate-editor]")===i&&(!o||s.isContentEditable?!0:typeof s.isContentEditable=="boolean"&&s.closest('[contenteditable="false"]')===i||!!s.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(e,t)=>Hf(t)&&pe.hasDOMNode(e,t,{editable:!0}),hasRange:(e,t)=>{var{anchor:n,focus:r}=t;return R.hasPath(e,n.path)&&R.hasPath(e,r.path)},hasSelectableTarget:(e,t)=>pe.hasEditableTarget(e,t)||pe.isTargetInsideNonReadonlyVoid(e,t),hasTarget:(e,t)=>Hf(t)&&pe.hasDOMNode(e,t),insertData:(e,t)=>{e.insertData(t)},insertFragmentData:(e,t)=>e.insertFragmentData(t),insertTextData:(e,t)=>e.insertTextData(t),isComposing:e=>!!cp.get(e),isFocused:e=>!!lp.get(e),isReadOnly:e=>!!hM.get(e),isTargetInsideNonReadonlyVoid:(e,t)=>{if(hM.get(e))return!1;var n=pe.hasTarget(e,t)&&pe.toSlateNode(e,t);return Ie.isElement(n)&&R.isVoid(e,n)},setFragmentData:(e,t,n)=>e.setFragmentData(t,n),toDOMNode:(e,t)=>{var n=UT.get(e),r=R.isEditor(t)?hS.get(e):n==null?void 0:n.get(pe.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(Lo.stringify(t)));return r},toDOMPoint:(e,t)=>{var[n]=R.node(e,t.path),r=pe.toDOMNode(e,n),o;R.void(e,{at:t})&&(t={path:t.path,offset:0});for(var i="[data-slate-string], [data-slate-zero-width]",s=Array.from(r.querySelectorAll(i)),a=0,l=0;l<s.length;l++){var u=s[l],d=u.childNodes[0];if(!(d==null||d.textContent==null)){var{length:f}=d.textContent,p=u.getAttribute("data-slate-length"),m=p==null?f:parseInt(p,10),v=a+m,g=s[l+1];if(t.offset===v&&g!==null&&g!==void 0&&g.hasAttribute("data-slate-mark-placeholder")){var b,x=g.childNodes[0];o=[x instanceof K3t?x:g,(b=g.textContent)!==null&&b!==void 0&&b.startsWith("\uFEFF")?1:0];break}if(t.offset<=v){var y=Math.min(f,Math.max(0,t.offset-a));o=[d,y];break}a=v}}if(!o)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(Lo.stringify(t)));return o},toDOMRange:(e,t)=>{var{anchor:n,focus:r}=t,o=ue.isBackward(t),i=pe.toDOMPoint(e,n),s=ue.isCollapsed(t)?i:pe.toDOMPoint(e,r),a=pe.getWindow(e),l=a.document.createRange(),[u,d]=o?s:i,[f,p]=o?i:s,m=Aa(u)?u:u.parentElement,v=!!m.getAttribute("data-slate-zero-width"),g=Aa(f)?f:f.parentElement,b=!!g.getAttribute("data-slate-zero-width");return l.setStart(u,v?1:d),l.setEnd(f,b?1:p),l},toSlateNode:(e,t)=>{var n=Aa(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?vx.get(n):null;if(!r)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},toSlatePoint:(e,t,n)=>{var{exactMatch:r,suppressThrow:o}=n,[i,s]=r?t:Q3t(t),a=i.parentNode,l=null,u=0;if(a){var d,f,p=pe.toDOMNode(e,e),m=a.closest('[data-slate-void="true"]'),v=m&&p.contains(m)?m:null,g=a.closest("[data-slate-leaf]"),b=null;if(g){if(l=g.closest('[data-slate-node="text"]'),l){var x=pe.getWindow(e),y=x.document.createRange();y.setStart(l,0),y.setEnd(i,s);var w=y.cloneContents(),C=[...Array.prototype.slice.call(w.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(w.querySelectorAll("[contenteditable=false]"))];C.forEach(P=>{if(bs&&!r&&P.hasAttribute("data-slate-zero-width")&&P.textContent.length>0&&P.textContext!=="\uFEFF"){P.textContent.startsWith("\uFEFF")&&(P.textContent=P.textContent.slice(1));return}P.parentNode.removeChild(P)}),u=w.textContent.length,b=l}}else if(v){for(var _=v.querySelectorAll("[data-slate-leaf]"),S=0;S<_.length;S++){var E=_[S];if(pe.hasDOMNode(e,E)){g=E;break}}g?(l=g.closest('[data-slate-node="text"]'),b=g,u=b.textContent.length,b.querySelectorAll("[data-slate-zero-width]").forEach(P=>{u-=P.textContent.length})):u=1}b&&u===b.textContent.length&&bs&&b.getAttribute("data-slate-zero-width")==="z"&&(d=b.textContent)!==null&&d!==void 0&&d.startsWith("\uFEFF")&&(a.hasAttribute("data-slate-zero-width")||yb&&(f=b.textContent)!==null&&f!==void 0&&f.endsWith(`

`))&&u--}if(bs&&!l&&!r){var j=a.hasAttribute("data-slate-node")?a:a.closest("[data-slate-node]");if(j&&pe.hasDOMNode(e,j,{editable:!0})){var k=pe.toSlateNode(e,j),{path:T,offset:A}=R.start(e,pe.findPath(e,k));return j.querySelector("[data-slate-leaf]")||(A=s),{path:T,offset:A}}}if(!l){if(o)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var D=pe.toSlateNode(e,l),I=pe.findPath(e,D);return{path:I,offset:u}},toSlateRange:(e,t,n)=>{var{exactMatch:r,suppressThrow:o}=n,i=mM(t)?t.anchorNode:t.startContainer,s,a,l,u,d;if(i)if(mM(t)){if(yb&&t.rangeCount>1){l=t.focusNode;var f=t.getRangeAt(0),p=t.getRangeAt(t.rangeCount-1);if(l instanceof HTMLTableRowElement&&f.startContainer instanceof HTMLTableRowElement&&p.startContainer instanceof HTMLTableRowElement){let _=function(S){return S.childElementCount>0?_(S.children[0]):S};var m=f.startContainer,v=p.startContainer,g=_(m.children[f.startOffset]),b=_(v.children[p.startOffset]);u=0,b.childNodes.length>0?s=b.childNodes[0]:s=b,g.childNodes.length>0?l=g.childNodes[0]:l=g,b instanceof HTMLElement?a=b.innerHTML.length:a=0}else f.startContainer===l?(s=p.endContainer,a=p.endOffset,u=f.startOffset):(s=f.startContainer,a=f.endOffset,u=p.startOffset)}else s=t.anchorNode,a=t.anchorOffset,l=t.focusNode,u=t.focusOffset;yEe&&J3t(s)||yb?d=t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:d=t.isCollapsed}else s=t.startContainer,a=t.startOffset,l=t.endContainer,u=t.endOffset,d=t.collapsed;if(s==null||l==null||a==null||u==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));if("getAttribute"in l&&l.getAttribute("contenteditable")==="false"&&l.getAttribute("data-slate-void")!=="true"){var x;l=s,u=((x=s.textContent)===null||x===void 0?void 0:x.length)||0}var y=pe.toSlatePoint(e,[s,a],{exactMatch:r,suppressThrow:o});if(!y)return null;var w=d?y:pe.toSlatePoint(e,[l,u],{exactMatch:r,suppressThrow:o});if(!w)return null;var C={anchor:y,focus:w};return ue.isExpanded(C)&&ue.isForward(C)&&Aa(l)&&R.void(e,{at:C.focus,mode:"highest"})&&(C=R.unhangRange(e,C,{voids:!0})),C}};function i$t(e,t){var{path:n,diff:r}=t;if(!R.hasPath(e,n))return!1;var o=Ee.get(e,n);if(!we.isText(o))return!1;if(r.start!==o.text.length||r.text.length===0)return o.text.slice(r.start,r.start+r.text.length)===r.text;var i=J.next(n);if(!R.hasPath(e,i))return!1;var s=Ee.get(e,i);return we.isText(s)&&s.text.startsWith(r.text)}function EEe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((o,i)=>o.slice(0,i.start)+i.text+o.slice(i.end),e)}function s$t(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return n}function a$t(e,t,n){for(var r=Math.min(e.length,t.length,n),o=0;o<r;o++)if(e.charAt(e.length-o-1)!==t.charAt(t.length-o-1))return o;return r}function kEe(e,t){var{start:n,end:r,text:o}=t,i=e.slice(n,r),s=s$t(i,o),a=Math.min(i.length-s,o.length-s),l=a$t(i,o,a),u={start:n+s,end:r-l,text:o.slice(s,o.length-l)};return u.start===u.end&&u.text.length===0?null:u}function l$t(e,t,n){var r=Math.min(t.start,n.start),o=Math.max(0,Math.min(t.start+t.text.length,n.end)-n.start),i=EEe(e,t,n),s=Math.max(n.start+n.text.length,t.start+t.text.length+(t.start+t.text.length>n.start?n.text.length:0)-o),a=i.slice(r,s),l=Math.max(t.end,n.end-t.text.length+(t.end-t.start));return kEe(e,{start:r,end:l,text:a})}function c$t(e){var{path:t,diff:n}=e;return{anchor:{path:t,offset:n.start},focus:{path:t,offset:n.end}}}function gM(e,t){var{path:n,offset:r}=t;if(!R.hasPath(e,n))return null;var o=Ee.get(e,n);if(!we.isText(o))return null;var i=R.above(e,{match:a=>Ie.isElement(a)&&R.isBlock(e,a),at:n});if(!i)return null;for(;r>o.text.length;){var s=R.next(e,{at:n,match:we.isText});if(!s||!J.isDescendant(s[1],i[1]))return null;r-=o.text.length,o=s[0],n=s[1]}return{path:n,offset:r}}function vX(e,t){var n=gM(e,t.anchor);if(!n)return null;if(ue.isCollapsed(t))return{anchor:n,focus:n};var r=gM(e,t.focus);return r?{anchor:n,focus:r}:null}function vM(e,t,n){var r=hs.get(e),o=r==null?void 0:r.find(d=>{var{path:f}=d;return J.equals(f,t.path)});if(!o||t.offset<=o.diff.start)return It.transform(t,n,{affinity:"backward"});var{diff:i}=o;if(t.offset<=i.start+i.text.length){var s={path:t.path,offset:i.start},a=It.transform(s,n,{affinity:"backward"});return a?{path:a.path,offset:a.offset+t.offset-i.start}:null}var l={path:t.path,offset:t.offset-i.text.length+i.end-i.start},u=It.transform(l,n,{affinity:"backward"});return u?n.type==="split_node"&&J.equals(n.path,t.path)&&l.offset<n.position&&i.start<n.position?u:{path:u.path,offset:u.offset+i.text.length-i.end+i.start}:null}function yX(e,t,n){var r=vM(e,t.anchor,n);if(!r)return null;if(ue.isCollapsed(t))return{anchor:r,focus:r};var o=vM(e,t.focus,n);return o?{anchor:r,focus:o}:null}function u$t(e,t){var{path:n,diff:r,id:o}=e;switch(t.type){case"insert_text":return!J.equals(t.path,n)||t.offset>=r.end?e:t.offset<=r.start?{diff:{start:t.text.length+r.start,end:t.text.length+r.end,text:r.text},id:o,path:n}:{diff:{start:r.start,end:r.end+t.text.length,text:r.text},id:o,path:n};case"remove_text":return!J.equals(t.path,n)||t.offset>=r.end?e:t.offset+t.text.length<=r.start?{diff:{start:r.start-t.text.length,end:r.end-t.text.length,text:r.text},id:o,path:n}:{diff:{start:r.start,end:r.end-t.text.length,text:r.text},id:o,path:n};case"split_node":return!J.equals(t.path,n)||t.position>=r.end?{diff:r,id:o,path:J.transform(n,t,{affinity:"backward"})}:t.position>r.start?{diff:{start:r.start,end:Math.min(t.position,r.end),text:r.text},id:o,path:n}:{diff:{start:r.start-t.position,end:r.end-t.position,text:r.text},id:o,path:J.transform(n,t,{affinity:"forward"})};case"merge_node":return J.equals(t.path,n)?{diff:{start:r.start+t.position,end:r.end+t.position,text:r.text},id:o,path:J.transform(n,t)}:{diff:r,id:o,path:J.transform(n,t)}}var i=J.transform(n,t);return i?{diff:r,path:i,id:o}:null}function bX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function w_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bX(Object(n),!0).forEach(function(r){HT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var d$t=25,f$t=200,h$t=function(){},p$t=e=>(e==null?void 0:e.constructor.name)==="DataTransfer";function m$t(e){var{editor:t,scheduleOnDOMSelectionChange:n,onDOMSelectionChange:r}=e,o=!1,i=null,s=null,a=null,l=0,u=!1,d=()=>{var D=Od.get(t);if(Od.delete(t),D){var{selection:I}=t,P=vX(t,D);P&&(!I||!ue.equals(P,I))&&se.select(t,P)}},f=()=>{var D=Pd.get(t);if(Pd.delete(t),!!D){if(D.at){var I=It.isPoint(D.at)?gM(t,D.at):vX(t,D.at);if(!I)return;var P=R.range(t,I);(!t.selection||!ue.equals(t.selection,P))&&se.select(t,I)}D.run()}},p=()=>{if(s&&(clearTimeout(s),s=null),a&&(clearTimeout(a),a=null),!C()&&!w()){d();return}o||(o=!0,setTimeout(()=>o=!1)),w()&&(o="action");var D=t.selection&&R.rangeRef(t,t.selection,{affinity:"forward"});bu.set(t,t.marks),h$t("flush",Pd.get(t),hs.get(t));for(var I=C(),P;P=(M=hs.get(t))===null||M===void 0?void 0:M[0];){var M,$,V=vl.get(t);V!==void 0&&(vl.delete(t),t.marks=V),V&&u===!1&&(u=null);var L=c$t(P);(!t.selection||!ue.equals(t.selection,L))&&se.select(t,L),P.diff.text?R.insertText(t,P.diff.text):R.deleteFragment(t),hs.set(t,($=hs.get(t))===null||$===void 0?void 0:$.filter(z=>{var{id:Y}=z;return Y!==P.id})),i$t(t,P)||(I=!1,Pd.delete(t),bu.delete(t),o="action",Od.delete(t),n.cancel(),r.cancel(),D==null||D.unref())}var H=D==null?void 0:D.unref();if(H&&!Od.get(t)&&(!t.selection||!ue.equals(H,t.selection))&&se.select(t,H),w()){f();return}I&&n(),n.flush(),r.flush(),d();var U=bu.get(t);bu.delete(t),U!==void 0&&(t.marks=U,t.onChange())},m=D=>{i&&clearTimeout(i),i=setTimeout(()=>{cp.set(t,!1),p()},d$t)},v=D=>{cp.set(t,!0),i&&(clearTimeout(i),i=null)},g=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,P=dM.get(t);if(P){if(C()||I){P.style.display="none";return}P.style.removeProperty("display")}},b=(D,I)=>{var P,M=(P=hs.get(t))!==null&&P!==void 0?P:[];hs.set(t,M);var $=Ee.leaf(t,D),V=M.findIndex(U=>J.equals(U.path,D));if(V<0){var L=kEe($.text,I);L&&M.push({path:D,diff:I,id:l++}),g();return}var H=l$t($.text,M[V].diff,I);if(!H){M.splice(V,1),g();return}M[V]=w_(w_({},M[V]),{},{diff:H})},x=function(I){var{at:P}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};u=!1,Od.delete(t),n.cancel(),r.cancel(),w()&&p(),Pd.set(t,{at:P,run:I}),a=setTimeout(p)},y=D=>{var I;s&&(clearTimeout(s),s=null);var{inputType:P}=D,M=null,$=D.dataTransfer||D.data||void 0;u!==!1&&P!=="insertText"&&P!=="insertCompositionText"&&(u=!1);var[V]=D.getTargetRanges();V&&(M=pe.toSlateRange(t,V,{exactMatch:!1,suppressThrow:!0}));var L=pe.getWindow(t),H=L.getSelection();if(!M&&H&&(V=H,M=pe.toSlateRange(t,H,{exactMatch:!1,suppressThrow:!0})),M=(I=M)!==null&&I!==void 0?I:t.selection,!!M){var U=!0;if(P.startsWith("delete")){if(ue.isExpanded(M)){var[z,Y]=ue.edges(M),te=Ee.leaf(t,z.path);if(te.text.length===z.offset&&Y.offset===0){var N=R.next(t,{at:z.path,match:we.isText});N&&J.equals(N[1],Y.path)&&(M={anchor:Y,focus:Y})}}var G=P.endsWith("Backward")?"backward":"forward",[q,K]=ue.edges(M),[Q,X]=R.leaf(t,q.path),Z={text:"",start:q.offset,end:K.offset},oe=hs.get(t),le=oe==null?void 0:oe.find(Ne=>J.equals(Ne.path,X)),he=le?[le.diff,Z]:[Z],ie=EEe(Q.text,...he);if(ie.length===0&&(U=!1),ue.isExpanded(M)){if(U&&J.equals(M.anchor.path,M.focus.path)){var ye={path:M.anchor.path,offset:q.offset},_e=R.range(t,ye,ye);return E(_e),b(M.anchor.path,{text:"",end:K.offset,start:q.offset})}return x(()=>R.deleteFragment(t,{direction:G}),{at:M})}}switch(P){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return x(()=>R.deleteFragment(t),{at:M});case"deleteContent":case"deleteContentForward":{var{anchor:Ae}=M;if(U&&ue.isCollapsed(M)){var xe=Ee.leaf(t,Ae.path);if(Ae.offset<xe.text.length)return b(Ae.path,{text:"",start:Ae.offset,end:Ae.offset+1})}return x(()=>R.deleteForward(t),{at:M})}case"deleteContentBackward":{var Ze,{anchor:rt}=M,at=mM(V)?V.isCollapsed:!!((Ze=V)!==null&&Ze!==void 0&&Ze.collapsed);return U&&at&&ue.isCollapsed(M)&&rt.offset>0?b(rt.path,{text:"",start:rt.offset-1,end:rt.offset}):x(()=>R.deleteBackward(t),{at:M})}case"deleteEntireSoftLine":return x(()=>{R.deleteBackward(t,{unit:"line"}),R.deleteForward(t,{unit:"line"})},{at:M});case"deleteHardLineBackward":return x(()=>R.deleteBackward(t,{unit:"block"}),{at:M});case"deleteSoftLineBackward":return x(()=>R.deleteBackward(t,{unit:"line"}),{at:M});case"deleteHardLineForward":return x(()=>R.deleteForward(t,{unit:"block"}),{at:M});case"deleteSoftLineForward":return x(()=>R.deleteForward(t,{unit:"line"}),{at:M});case"deleteWordBackward":return x(()=>R.deleteBackward(t,{unit:"word"}),{at:M});case"deleteWordForward":return x(()=>R.deleteForward(t,{unit:"word"}),{at:M});case"insertLineBreak":return x(()=>R.insertSoftBreak(t),{at:M});case"insertParagraph":return x(()=>R.insertBreak(t),{at:M});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(p$t($))return x(()=>pe.insertData(t,$),{at:M});var nt=$??"";if(vl.get(t)&&(nt=nt.replace("\uFEFF","")),P==="insertText"&&/.*\n.*\n$/.test(nt)&&(nt=nt.slice(0,-1)),nt.includes(`
`))return x(()=>{var Ne=nt.split(`
`);Ne.forEach((bt,Tt)=>{bt&&R.insertText(t,bt),Tt!==Ne.length-1&&R.insertSoftBreak(t)})},{at:M});if(J.equals(M.anchor.path,M.focus.path)){var[Kt,Ye]=ue.edges(M),me={start:Kt.offset,end:Ye.offset,text:nt};if(nt&&u&&P==="insertCompositionText"){var Ue=u.start+u.text.search(/\S|$/),qe=me.start+me.text.search(/\S|$/);qe===Ue+1&&me.end===u.start+u.text.length?(me.start-=1,u=null,T()):u=!1}else P==="insertText"?u===null?u=me:u&&ue.isCollapsed(M)&&u.end+u.text.length===Kt.offset?u=w_(w_({},u),{},{text:u.text+nt}):u=!1:u=!1;if(U){b(Kt.path,me);return}}return x(()=>R.insertText(t,nt),{at:M})}}}},w=()=>!!Pd.get(t),C=()=>{var D;return!!((D=hs.get(t))!==null&&D!==void 0&&D.length)},_=()=>w()||C(),S=()=>o,E=D=>{Od.set(t,D),s&&(clearTimeout(s),s=null);var{selection:I}=t;if(D){var P=!I||!J.equals(I.anchor.path,D.anchor.path),M=!I||!J.equals(I.anchor.path.slice(0,-1),D.anchor.path.slice(0,-1));(P&&u||M)&&(u=!1),(P||C())&&(s=setTimeout(p,f$t))}},j=()=>{(w()||!C())&&p()},k=D=>{C()||(g(!0),setTimeout(g))},T=()=>{w()||(a=setTimeout(p))},A=D=>{if(!(C()||w())&&D.some(P=>J9(t,P,D))){var I;(I=xEe.get(t))===null||I===void 0||I()}};return{flush:p,scheduleFlush:T,hasPendingDiffs:C,hasPendingAction:w,hasPendingChanges:_,isFlushing:S,handleUserSelect:E,handleCompositionEnd:m,handleCompositionStart:v,handleDOMBeforeInput:y,handleKeyDown:k,handleDomMutations:A,handleInput:j}}function g$t(){var e=h.useRef(!1);return h.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),e.current}var yx=fS?h.useLayoutEffect:h.useEffect;function v$t(e,t,n){var[r]=h.useState(()=>new MutationObserver(t));yx(()=>{r.takeRecords()}),h.useEffect(()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return r.observe(e.current,n),()=>r.disconnect()},[r,e,n])}var y$t=["node"];function xX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function b$t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xX(Object(n),!0).forEach(function(r){HT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var x$t={subtree:!0,childList:!0,characterData:!0},w$t=bs?e=>{var{node:t}=e,n=Kv(e,y$t);if(!bs)return null;var r=Vc(),o=g$t(),[i]=h.useState(()=>m$t(b$t({editor:r},n)));return v$t(t,i.handleDomMutations,x$t),X9.set(r,i.scheduleFlush),o&&i.flush(),i}:()=>null,C$t=["anchor","focus"],_$t=["anchor","focus"],S$t=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>t.hasOwnProperty(n)&&e[n]===t[n]),jEe=(e,t)=>{var n=Kv(e,C$t),r=Kv(t,_$t);return e[Zv]===t[Zv]&&S$t(n,r)},E$t=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n];if(!ue.equals(r,o)||!jEe(r,o))return!1}return!0},k$t=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n];if(r.anchor.offset!==o.anchor.offset||r.focus.offset!==o.focus.offset||!jEe(r,o))return!1}return!0},j$t=e=>{var{isLast:t,leaf:n,parent:r,text:o}=e,i=Vc(),s=pe.findPath(i,o),a=J.parent(s),l=n[wEe]===!0;return i.isVoid(r)?re.createElement(AP,{length:Ee.string(r).length}):n.text===""&&r.children[r.children.length-1]===o&&!i.isInline(r)&&R.string(i,a)===""?re.createElement(AP,{isLineBreak:!0,isMarkPlaceholder:l}):n.text===""?re.createElement(AP,{isMarkPlaceholder:l}):t&&n.text.slice(-1)===`
`?re.createElement(wX,{isTrailing:!0,text:n.text}):re.createElement(wX,{text:n.text})},wX=e=>{var{text:t,isTrailing:n=!1}=e,r=h.useRef(null),o=()=>"".concat(t??"").concat(n?`
`:""),[i]=h.useState(o);return yx(()=>{var s=o();r.current&&r.current.textContent!==s&&(r.current.textContent=s)}),re.createElement(T$t,{ref:r},i)},T$t=h.memo(h.forwardRef((e,t)=>re.createElement("span",{"data-slate-string":!0,ref:t},e.children))),AP=e=>{var{length:t=0,isLineBreak:n=!1,isMarkPlaceholder:r=!1}=e,o={"data-slate-zero-width":n?"n":"z","data-slate-length":t};return r&&(o["data-slate-mark-placeholder"]=!0),re.createElement("span",Object.assign({},o),!bs||!n?"\uFEFF":null,n?re.createElement("br",null):null)};function A$t(e,t){e.current&&(e.current.disconnect(),t&&(e.current=null))}function CX(e){e.current&&(clearTimeout(e.current),e.current=null)}var D$t=e=>{var{leaf:t,isLast:n,text:r,parent:o,renderPlaceholder:i,renderLeaf:s=y=>re.createElement(P$t,Object.assign({},y))}=e,a=Vc(),l=h.useRef(null),u=h.useRef(null),[d,f]=h.useState(!1),p=h.useRef(null),m=h.useCallback(y=>{if(A$t(l,y==null),y==null){var w;dM.delete(a),(w=t.onPlaceholderResize)===null||w===void 0||w.call(t,null)}else{if(dM.set(a,y),!l.current){var C=window.ResizeObserver||_Ce;l.current=new C(()=>{var _;(_=t.onPlaceholderResize)===null||_===void 0||_.call(t,y)})}l.current.observe(y),u.current=y}},[u,t,a]),v=re.createElement(j$t,{isLast:n,leaf:t,parent:o,text:r}),g=t[Zv];if(h.useEffect(()=>(g?p.current||(p.current=setTimeout(()=>{f(!0),p.current=null},300)):(CX(p),f(!1)),()=>CX(p)),[g,f]),g&&d){var b={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:Ay?"inherit":void 0},contentEditable:!1,ref:m}};v=re.createElement(re.Fragment,null,i(b),v)}var x={"data-slate-leaf":!0};return s({attributes:x,children:v,leaf:t,text:r})},I$t=re.memo(D$t,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&we.equals(t.leaf,e.leaf)&&t.leaf[Zv]===e.leaf[Zv]),P$t=e=>{var{attributes:t,children:n}=e;return re.createElement("span",Object.assign({},t),n)},O$t=e=>{for(var{decorations:t,isLast:n,parent:r,renderPlaceholder:o,renderLeaf:i,text:s}=e,a=Vc(),l=h.useRef(null),u=we.decorations(s,t),d=pe.findKey(a,s),f=[],p=0;p<u.length;p++){var m=u[p];f.push(re.createElement(I$t,{isLast:n&&p===u.length-1,key:"".concat(d.id,"-").concat(p),renderPlaceholder:o,leaf:m,text:s,parent:r,renderLeaf:i}))}var v=h.useCallback(g=>{var b=UT.get(a);g?(b==null||b.set(d,g),Ap.set(s,g),vx.set(g,s)):(b==null||b.delete(d),Ap.delete(s),l.current&&vx.delete(l.current)),l.current=g},[l,a,d,s]);return re.createElement("span",{"data-slate-node":"text",ref:v},f)},TEe=re.memo(O$t,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&k$t(t.decorations,e.decorations)),$$t=e=>{var{decorations:t,element:n,renderElement:r=y=>re.createElement(M$t,Object.assign({},y)),renderPlaceholder:o,renderLeaf:i,selection:s}=e,a=Vc(),l=L$t(),u=a.isInline(n),d=pe.findKey(a,n),f=h.useCallback(y=>{var w=UT.get(a);y?(w==null||w.set(d,y),Ap.set(n,y),vx.set(y,n)):(w==null||w.delete(d),Ap.delete(n))},[a,d,n]),p=PEe({decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:s}),m={"data-slate-node":"element",ref:f};if(u&&(m["data-slate-inline"]=!0),!u&&R.hasInlines(a,n)){var v=Ee.string(n),g=sEe(v);g==="rtl"&&(m.dir=g)}if(R.isVoid(a,n)){m["data-slate-void"]=!0,!l&&u&&(m.contentEditable=!1);var b=u?"span":"div",[[x]]=Ee.texts(n);p=re.createElement(b,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},re.createElement(TEe,{renderPlaceholder:o,decorations:[],isLast:!1,parent:n,text:x})),K9.set(x,0),Z9.set(x,n)}return r({attributes:m,children:p,element:n})},R$t=re.memo($$t,(e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&E$t(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&ue.equals(e.selection,t.selection))),M$t=e=>{var{attributes:t,children:n,element:r}=e,o=Vc(),i=o.isInline(r)?"span":"div";return re.createElement(i,Object.assign({},t,{style:{position:"relative"}}),n)},AEe=h.createContext(()=>[]),F$t=()=>h.useContext(AEe),DEe=h.createContext(!1),IEe=()=>h.useContext(DEe),PEe=e=>{for(var{decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:s}=e,a=F$t(),l=Vc(),u=pe.findPath(l,n),d=[],f=Ie.isElement(n)&&!l.isInline(n)&&R.hasInlines(l,n),p=0;p<n.children.length;p++){var m=u.concat(p),v=n.children[p],g=pe.findKey(l,v),b=R.range(l,m),x=s&&ue.intersection(b,s),y=a([v,m]);for(var w of t){var C=ue.intersection(w,b);C&&y.push(C)}Ie.isElement(v)?d.push(re.createElement(DEe.Provider,{key:"provider-".concat(g.id),value:!!x},re.createElement(R$t,{decorations:y,element:v,key:g.id,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:x}))):d.push(re.createElement(TEe,{decorations:y,key:g.id,isLast:f&&p===n.children.length-1,parent:n,renderPlaceholder:o,renderLeaf:i,text:v})),K9.set(v,p),Z9.set(v,n)}return d},OEe=h.createContext(!1),L$t=()=>h.useContext(OEe),$Ee=h.createContext(null),WT=()=>{var e=h.useContext($Ee);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:t}=e;return t};function B$t(){var e=Vc(),t=h.useRef(!1),n=h.useRef(0),r=h.useCallback(()=>{if(!t.current){t.current=!0;var o=pe.getWindow(e);o.cancelAnimationFrame(n.current),n.current=o.requestAnimationFrame(()=>{t.current=!1})}},[e]);return h.useEffect(()=>()=>cancelAnimationFrame(n.current),[]),{receivedUserInput:t,onUserInput:r}}var N$t=3,z$t={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},V$t={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},H$t={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},hr=e=>{var t=z$t[e],n=V$t[e],r=H$t[e],o=t&&TP(t),i=n&&TP(n),s=r&&TP(r);return a=>!!(o&&o(a)||gX&&i&&i(a)||!gX&&s&&s(a))},Er={isBold:hr("bold"),isCompose:hr("compose"),isMoveBackward:hr("moveBackward"),isMoveForward:hr("moveForward"),isDeleteBackward:hr("deleteBackward"),isDeleteForward:hr("deleteForward"),isDeleteLineBackward:hr("deleteLineBackward"),isDeleteLineForward:hr("deleteLineForward"),isDeleteWordBackward:hr("deleteWordBackward"),isDeleteWordForward:hr("deleteWordForward"),isExtendBackward:hr("extendBackward"),isExtendForward:hr("extendForward"),isExtendLineBackward:hr("extendLineBackward"),isExtendLineForward:hr("extendLineForward"),isItalic:hr("italic"),isMoveLineBackward:hr("moveLineBackward"),isMoveLineForward:hr("moveLineForward"),isMoveWordBackward:hr("moveWordBackward"),isMoveWordForward:hr("moveWordForward"),isRedo:hr("redo"),isSoftBreak:hr("insertSoftBreak"),isSplitBlock:hr("splitBlock"),isTransposeCharacter:hr("transposeCharacter"),isUndo:hr("undo")},U$t=(e,t)=>{var n=[],r=()=>{n=[]},o=s=>{if(t.current){var a=s.filter(l=>J9(e,l,s));n.push(...a)}};function i(){n.length>0&&(n.reverse().forEach(s=>{s.type!=="characterData"&&(s.removedNodes.forEach(a=>{s.target.insertBefore(a,s.nextSibling)}),s.addedNodes.forEach(a=>{s.target.removeChild(a)}))}),r())}return{registerMutations:o,restoreDOM:i,clear:r}},W$t={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class REe extends h.Component{constructor(){super(...arguments),this.context=null,this.manager=null,this.mutationObserver=null}observe(){var t,{node:n}=this.props;if(!n.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(t=this.mutationObserver)===null||t===void 0||t.observe(n.current,W$t)}componentDidMount(){var{receivedUserInput:t}=this.props,n=this.context;this.manager=U$t(n,t),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var t,n,r,o=(t=this.mutationObserver)===null||t===void 0?void 0:t.takeRecords();if(o!=null&&o.length){var i;(i=this.manager)===null||i===void 0||i.registerMutations(o)}return(n=this.mutationObserver)===null||n===void 0||n.disconnect(),(r=this.manager)===null||r===void 0||r.restoreDOM(),null}componentDidUpdate(){var t;(t=this.manager)===null||t===void 0||t.clear(),this.observe()}componentWillUnmount(){var t;(t=this.mutationObserver)===null||t===void 0||t.disconnect()}render(){return this.props.children}}REe.contextType=G9;var Y$t=bs?REe:e=>{var{children:t}=e;return re.createElement(re.Fragment,null,t)},q$t=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],G$t=["text"];function _X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Qm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_X(Object(n),!0).forEach(function(r){HT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_X(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var K$t=e=>re.createElement(re.Fragment,null,PEe(e)),Z$t=e=>{var t=h.useCallback(N=>re.createElement(X$t,Object.assign({},N)),[]),{autoFocus:n,decorate:r=Q$t,onDOMBeforeInput:o,placeholder:i,readOnly:s=!1,renderElement:a,renderLeaf:l,renderPlaceholder:u=t,scrollSelectionIntoView:d=J$t,style:f={},as:p="div",disableDefaultStyles:m=!1}=e,v=Kv(e,q$t),g=WT(),[b,x]=h.useState(!1),y=h.useRef(null),w=h.useRef([]),[C,_]=h.useState(),{onUserInput:S,receivedUserInput:E}=B$t(),[,j]=h.useReducer(N=>N+1,0);xEe.set(g,j),hM.set(g,s);var k=h.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);h.useEffect(()=>{y.current&&n&&y.current.focus()},[n]);var T=h.useRef(),A=h.useMemo(()=>lT(()=>{var N=T.current;if((bs||!pe.isComposing(g))&&(!k.isUpdatingSelection||N!=null&&N.isFlushing())&&!k.isDraggingInternally){var G=pe.findDocumentOrShadowRoot(g),{activeElement:q}=G,K=pe.toDOMNode(g,g),Q=G.getSelection();if(q===K?(k.latestElement=q,lp.set(g,!0)):lp.delete(g),!Q)return se.deselect(g);var{anchorNode:X,focusNode:Z}=Q,oe=pe.hasEditableTarget(g,X)||pe.isTargetInsideNonReadonlyVoid(g,X),le=pe.hasEditableTarget(g,Z)||pe.isTargetInsideNonReadonlyVoid(g,Z);if(oe&&le){var he=pe.toSlateRange(g,Q,{exactMatch:!1,suppressThrow:!0});he&&(!pe.isComposing(g)&&!(N!=null&&N.hasPendingChanges())&&!(N!=null&&N.isFlushing())?se.select(g,he):N==null||N.handleUserSelect(he))}s&&(!oe||!le)&&se.deselect(g)}},100),[g,s,k]),D=h.useMemo(()=>nw(A,0),[A]);T.current=w$t({node:y,onDOMSelectionChange:A,scheduleOnDOMSelectionChange:D}),yx(()=>{var N,G,q;y.current&&(q=Q9(y.current))?(bEe.set(g,q),hS.set(g,y.current),Ap.set(g,y.current),vx.set(y.current,g)):Ap.delete(g);var{selection:K}=g,Q=pe.findDocumentOrShadowRoot(g),X=Q.getSelection();if(!(!X||!pe.isFocused(g)||(N=T.current)!==null&&N!==void 0&&N.hasPendingAction())){var Z=ie=>{var ye=X.type!=="None";if(!(!K&&!ye)){var _e=X.focusNode,Ae;if(yb&&X.rangeCount>1){var xe=X.getRangeAt(0),Ze=X.getRangeAt(X.rangeCount-1);xe.startContainer===_e?Ae=Ze.endContainer:Ae=xe.startContainer}else Ae=X.anchorNode;var rt=hS.get(g),at=!1;if(rt.contains(Ae)&&rt.contains(_e)&&(at=!0),ye&&at&&K&&!ie){var nt=pe.toSlateRange(g,X,{exactMatch:!0,suppressThrow:!0});if(nt&&ue.equals(nt,K)){var Kt,Ye;if(!k.hasMarkPlaceholder||(Kt=Ae)!==null&&Kt!==void 0&&(Ye=Kt.parentElement)!==null&&Ye!==void 0&&Ye.hasAttribute("data-slate-mark-placeholder"))return}}if(K&&!pe.hasRange(g,K)){g.selection=pe.toSlateRange(g,X,{exactMatch:!1,suppressThrow:!0});return}k.isUpdatingSelection=!0;var me=K&&pe.toDOMRange(g,K);return me?(pe.isComposing(g)&&!bs?X.collapseToEnd():ue.isBackward(K)?X.setBaseAndExtent(me.endContainer,me.endOffset,me.startContainer,me.startOffset):X.setBaseAndExtent(me.startContainer,me.startOffset,me.endContainer,me.endOffset),d(g,me)):X.removeAllRanges(),me}};X.rangeCount<=1&&Z();var oe=((G=T.current)===null||G===void 0?void 0:G.isFlushing())==="action";if(!bs||!oe){setTimeout(()=>{k.isUpdatingSelection=!1});return}var le=null,he=requestAnimationFrame(()=>{if(oe){var ie=ye=>{try{var _e=pe.toDOMNode(g,g);_e.focus(),Z(ye)}catch{}};ie(),le=setTimeout(()=>{ie(!0),k.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(he),le&&clearTimeout(le)}}});var I=h.useCallback(N=>{if(S(),!s&&pe.hasEditableTarget(g,N.target)&&!eRt(N,o)){var G;if(T.current)return T.current.handleDOMBeforeInput(N);D.flush(),A.flush();var{selection:q}=g,{inputType:K}=N,Q=N.dataTransfer||N.data||void 0,X=K==="insertCompositionText"||K==="deleteCompositionText";if(X&&pe.isComposing(g))return;var Z=!1;if(K==="insertText"&&q&&ue.isCollapsed(q)&&N.data&&N.data.length===1&&/[a-z ]/i.test(N.data)&&q.anchor.offset!==0){var oe,le;Z=!0,g.marks&&(Z=!1);var{anchor:he}=q,[ie,ye]=pe.toDOMPoint(g,he),_e=(oe=ie.parentElement)===null||oe===void 0?void 0:oe.closest("a"),Ae=pe.getWindow(g);if(Z&&_e&&pe.hasDOMNode(g,_e)){var xe,Ze=Ae==null?void 0:Ae.document.createTreeWalker(_e,NodeFilter.SHOW_TEXT).lastChild();Ze===ie&&((xe=Ze.textContent)===null||xe===void 0?void 0:xe.length)===ye&&(Z=!1)}if(Z&&ie.parentElement&&(Ae==null||(le=Ae.getComputedStyle(ie.parentElement))===null||le===void 0?void 0:le.whiteSpace)==="pre"){var rt=R.above(g,{at:he.path,match:Ue=>Ie.isElement(Ue)&&R.isBlock(g,Ue)});rt&&Ee.string(rt[0]).includes("	")&&(Z=!1)}}if(!K.startsWith("delete")||K.startsWith("deleteBy")){var[at]=N.getTargetRanges();if(at){var nt=pe.toSlateRange(g,at,{exactMatch:!1,suppressThrow:!1});if(!q||!ue.equals(q,nt)){Z=!1;var Kt=!X&&g.selection&&R.rangeRef(g,g.selection);se.select(g,nt),Kt&&bb.set(g,Kt)}}}if(X)return;if(Z||N.preventDefault(),q&&ue.isExpanded(q)&&K.startsWith("delete")){var Ye=K.endsWith("Backward")?"backward":"forward";R.deleteFragment(g,{direction:Ye});return}switch(K){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{R.deleteFragment(g);break}case"deleteContent":case"deleteContentForward":{R.deleteForward(g);break}case"deleteContentBackward":{R.deleteBackward(g);break}case"deleteEntireSoftLine":{R.deleteBackward(g,{unit:"line"}),R.deleteForward(g,{unit:"line"});break}case"deleteHardLineBackward":{R.deleteBackward(g,{unit:"block"});break}case"deleteSoftLineBackward":{R.deleteBackward(g,{unit:"line"});break}case"deleteHardLineForward":{R.deleteForward(g,{unit:"block"});break}case"deleteSoftLineForward":{R.deleteForward(g,{unit:"line"});break}case"deleteWordBackward":{R.deleteBackward(g,{unit:"word"});break}case"deleteWordForward":{R.deleteForward(g,{unit:"word"});break}case"insertLineBreak":R.insertSoftBreak(g);break;case"insertParagraph":{R.insertBreak(g);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{K==="insertFromComposition"&&pe.isComposing(g)&&(x(!1),cp.set(g,!1)),(Q==null?void 0:Q.constructor.name)==="DataTransfer"?pe.insertData(g,Q):typeof Q=="string"&&(Z?w.current.push(()=>R.insertText(g,Q)):R.insertText(g,Q));break}}var me=(G=bb.get(g))===null||G===void 0?void 0:G.unref();bb.delete(g),me&&(!g.selection||!ue.equals(g.selection,me))&&se.select(g,me)}},[g,A,S,o,s,D]),P=h.useCallback(N=>{N==null?(A.cancel(),D.cancel(),hS.delete(g),Ap.delete(g),y.current&&yd&&y.current.removeEventListener("beforeinput",I)):yd&&N.addEventListener("beforeinput",I),y.current=N},[A,D,g,I]);yx(()=>{var N=pe.getWindow(g);return N.document.addEventListener("selectionchange",D),()=>{N.document.removeEventListener("selectionchange",D)}},[D]);var M=r([g,[]]),$=i&&g.children.length===1&&Array.from(Ee.texts(g)).length===1&&Ee.string(g)===""&&!b,V=h.useCallback(N=>{if(N&&$){var G;_((G=N.getBoundingClientRect())===null||G===void 0?void 0:G.height)}else _(void 0)},[$]);if($){var L=R.start(g,[]);M.push({[Zv]:!0,placeholder:i,onPlaceholderResize:V,anchor:L,focus:L})}var{marks:H}=g;if(k.hasMarkPlaceholder=!1,g.selection&&ue.isCollapsed(g.selection)&&H){var{anchor:U}=g.selection,z=Ee.leaf(g,U.path),Y=Kv(z,G$t);if(!we.equals(z,H,{loose:!0})){k.hasMarkPlaceholder=!0;var te=Object.fromEntries(Object.keys(Y).map(N=>[N,null]));M.push(Qm(Qm(Qm({[wEe]:!0},te),H),{},{anchor:U,focus:U}))}}return h.useEffect(()=>{setTimeout(()=>{var{selection:N}=g;if(N){var{anchor:G}=N,q=Ee.leaf(g,G.path);if(H&&!we.equals(q,H,{loose:!0})){vl.set(g,H);return}}vl.delete(g)})}),re.createElement(OEe.Provider,{value:s},re.createElement(AEe.Provider,{value:r},re.createElement(Y$t,{node:y,receivedUserInput:E},re.createElement(p,Object.assign({role:s?void 0:"textbox","aria-multiline":s?void 0:!0},v,{spellCheck:yd||!fS?v.spellCheck:!1,autoCorrect:yd||!fS?v.autoCorrect:"false",autoCapitalize:yd||!fS?v.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!s,zindex:-1,suppressContentEditableWarning:!0,ref:P,style:Qm(Qm({},m?{}:Qm({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},C?{minHeight:C}:{})),f),onBeforeInput:h.useCallback(N=>{if(!yd&&!s&&!Mi(N,v.onBeforeInput)&&pe.hasSelectableTarget(g,N.target)&&(N.preventDefault(),!pe.isComposing(g))){var G=N.data;R.insertText(g,G)}},[v.onBeforeInput,g,s]),onInput:h.useCallback(N=>{if(!Mi(N,v.onInput)){if(T.current){T.current.handleInput();return}for(var G of w.current)G();w.current=[]}},[v.onInput]),onBlur:h.useCallback(N=>{if(!(s||k.isUpdatingSelection||!pe.hasSelectableTarget(g,N.target)||Mi(N,v.onBlur))){var G=pe.findDocumentOrShadowRoot(g);if(k.latestElement!==G.activeElement){var{relatedTarget:q}=N,K=pe.toDOMNode(g,g);if(q!==K&&!(Aa(q)&&q.hasAttribute("data-slate-spacer"))){if(q!=null&&Hf(q)&&pe.hasDOMNode(g,q)){var Q=pe.toSlateNode(g,q);if(Ie.isElement(Q)&&!g.isVoid(Q))return}if(Ay){var X=G.getSelection();X==null||X.removeAllRanges()}lp.delete(g)}}}},[s,k.isUpdatingSelection,k.latestElement,g,v.onBlur]),onClick:h.useCallback(N=>{if(pe.hasTarget(g,N.target)&&!Mi(N,v.onClick)&&Hf(N.target)){var G=pe.toSlateNode(g,N.target),q=pe.findPath(g,G);if(!R.hasPath(g,q)||Ee.get(g,q)!==G)return;if(N.detail===N$t&&q.length>=1){var K=q;if(!(Ie.isElement(G)&&R.isBlock(g,G))){var Q,X=R.above(g,{match:_e=>Ie.isElement(_e)&&R.isBlock(g,_e),at:q});K=(Q=X==null?void 0:X[1])!==null&&Q!==void 0?Q:q.slice(0,1)}var Z=R.range(g,K);se.select(g,Z);return}if(s)return;var oe=R.start(g,q),le=R.end(g,q),he=R.void(g,{at:oe}),ie=R.void(g,{at:le});if(he&&ie&&J.equals(he[1],ie[1])){var ye=R.range(g,oe);se.select(g,ye)}}},[g,v.onClick,s]),onCompositionEnd:h.useCallback(N=>{if(pe.hasSelectableTarget(g,N.target)){var G;if(pe.isComposing(g)&&(x(!1),cp.set(g,!1)),(G=T.current)===null||G===void 0||G.handleCompositionEnd(N),Mi(N,v.onCompositionEnd)||bs)return;if(!Ay&&!Y3t&&!V3t&&!G3t&&!q3t&&N.data){var q=vl.get(g);vl.delete(g),q!==void 0&&(bu.set(g,g.marks),g.marks=q),R.insertText(g,N.data);var K=bu.get(g);bu.delete(g),K!==void 0&&(g.marks=K)}}},[v.onCompositionEnd,g]),onCompositionUpdate:h.useCallback(N=>{pe.hasSelectableTarget(g,N.target)&&!Mi(N,v.onCompositionUpdate)&&(pe.isComposing(g)||(x(!0),cp.set(g,!0)))},[v.onCompositionUpdate,g]),onCompositionStart:h.useCallback(N=>{if(pe.hasSelectableTarget(g,N.target)){var G;if((G=T.current)===null||G===void 0||G.handleCompositionStart(N),Mi(N,v.onCompositionStart)||bs)return;x(!0);var{selection:q}=g;if(q){if(ue.isExpanded(q)){R.deleteFragment(g);return}var K=R.above(g,{match:Z=>Ie.isElement(Z)&&R.isInline(g,Z),mode:"highest"});if(K){var[,Q]=K;if(R.isEnd(g,q.anchor,Q)){var X=R.after(g,Q);se.setSelection(g,{anchor:X,focus:X})}}}}},[v.onCompositionStart,g]),onCopy:h.useCallback(N=>{pe.hasSelectableTarget(g,N.target)&&!Mi(N,v.onCopy)&&!SX(N)&&(N.preventDefault(),pe.setFragmentData(g,N.clipboardData,"copy"))},[v.onCopy,g]),onCut:h.useCallback(N=>{if(!s&&pe.hasSelectableTarget(g,N.target)&&!Mi(N,v.onCut)&&!SX(N)){N.preventDefault(),pe.setFragmentData(g,N.clipboardData,"cut");var{selection:G}=g;if(G)if(ue.isExpanded(G))R.deleteFragment(g);else{var q=Ee.parent(g,G.anchor.path);R.isVoid(g,q)&&se.delete(g)}}},[s,g,v.onCut]),onDragOver:h.useCallback(N=>{if(pe.hasTarget(g,N.target)&&!Mi(N,v.onDragOver)){var G=pe.toSlateNode(g,N.target);Ie.isElement(G)&&R.isVoid(g,G)&&N.preventDefault()}},[v.onDragOver,g]),onDragStart:h.useCallback(N=>{if(!s&&pe.hasTarget(g,N.target)&&!Mi(N,v.onDragStart)){var G=pe.toSlateNode(g,N.target),q=pe.findPath(g,G),K=Ie.isElement(G)&&R.isVoid(g,G)||R.void(g,{at:q,voids:!0});if(K){var Q=R.range(g,q);se.select(g,Q)}k.isDraggingInternally=!0,pe.setFragmentData(g,N.dataTransfer,"drag")}},[s,g,v.onDragStart,k]),onDrop:h.useCallback(N=>{if(!s&&pe.hasTarget(g,N.target)&&!Mi(N,v.onDrop)){N.preventDefault();var G=g.selection,q=pe.findEventRange(g,N),K=N.dataTransfer;se.select(g,q),k.isDraggingInternally&&G&&!ue.equals(G,q)&&!R.void(g,{at:q,voids:!0})&&se.delete(g,{at:G}),pe.insertData(g,K),pe.isFocused(g)||pe.focus(g)}k.isDraggingInternally=!1},[s,g,v.onDrop,k]),onDragEnd:h.useCallback(N=>{!s&&k.isDraggingInternally&&v.onDragEnd&&pe.hasTarget(g,N.target)&&v.onDragEnd(N),k.isDraggingInternally=!1},[s,k,v,g]),onFocus:h.useCallback(N=>{if(!s&&!k.isUpdatingSelection&&pe.hasEditableTarget(g,N.target)&&!Mi(N,v.onFocus)){var G=pe.toDOMNode(g,g),q=pe.findDocumentOrShadowRoot(g);if(k.latestElement=q.activeElement,yb&&N.target!==G){G.focus();return}lp.set(g,!0)}},[s,k,g,v.onFocus]),onKeyDown:h.useCallback(N=>{if(!s&&pe.hasEditableTarget(g,N.target)){var G;(G=T.current)===null||G===void 0||G.handleKeyDown(N);var{nativeEvent:q}=N;if(pe.isComposing(g)&&q.isComposing===!1&&(cp.set(g,!1),x(!1)),Mi(N,v.onKeyDown)||pe.isComposing(g))return;var{selection:K}=g,Q=g.children[K!==null?K.focus.path[0]:0],X=sEe(Ee.string(Q))==="rtl";if(Er.isRedo(q)){N.preventDefault();var Z=g;typeof Z.redo=="function"&&Z.redo();return}if(Er.isUndo(q)){N.preventDefault();var oe=g;typeof oe.undo=="function"&&oe.undo();return}if(Er.isMoveLineBackward(q)){N.preventDefault(),se.move(g,{unit:"line",reverse:!0});return}if(Er.isMoveLineForward(q)){N.preventDefault(),se.move(g,{unit:"line"});return}if(Er.isExtendLineBackward(q)){N.preventDefault(),se.move(g,{unit:"line",edge:"focus",reverse:!0});return}if(Er.isExtendLineForward(q)){N.preventDefault(),se.move(g,{unit:"line",edge:"focus"});return}if(Er.isMoveBackward(q)){N.preventDefault(),K&&ue.isCollapsed(K)?se.move(g,{reverse:!X}):se.collapse(g,{edge:"start"});return}if(Er.isMoveForward(q)){N.preventDefault(),K&&ue.isCollapsed(K)?se.move(g,{reverse:X}):se.collapse(g,{edge:"end"});return}if(Er.isMoveWordBackward(q)){N.preventDefault(),K&&ue.isExpanded(K)&&se.collapse(g,{edge:"focus"}),se.move(g,{unit:"word",reverse:!X});return}if(Er.isMoveWordForward(q)){N.preventDefault(),K&&ue.isExpanded(K)&&se.collapse(g,{edge:"focus"}),se.move(g,{unit:"word",reverse:X});return}if(yd){if((yEe||Ay)&&K&&(Er.isDeleteBackward(q)||Er.isDeleteForward(q))&&ue.isCollapsed(K)){var le=Ee.parent(g,K.anchor.path);if(Ie.isElement(le)&&R.isVoid(g,le)&&(R.isInline(g,le)||R.isBlock(g,le))){N.preventDefault(),R.deleteBackward(g,{unit:"block"});return}}}else{if(Er.isBold(q)||Er.isItalic(q)||Er.isTransposeCharacter(q)){N.preventDefault();return}if(Er.isSoftBreak(q)){N.preventDefault(),R.insertSoftBreak(g);return}if(Er.isSplitBlock(q)){N.preventDefault(),R.insertBreak(g);return}if(Er.isDeleteBackward(q)){N.preventDefault(),K&&ue.isExpanded(K)?R.deleteFragment(g,{direction:"backward"}):R.deleteBackward(g);return}if(Er.isDeleteForward(q)){N.preventDefault(),K&&ue.isExpanded(K)?R.deleteFragment(g,{direction:"forward"}):R.deleteForward(g);return}if(Er.isDeleteLineBackward(q)){N.preventDefault(),K&&ue.isExpanded(K)?R.deleteFragment(g,{direction:"backward"}):R.deleteBackward(g,{unit:"line"});return}if(Er.isDeleteLineForward(q)){N.preventDefault(),K&&ue.isExpanded(K)?R.deleteFragment(g,{direction:"forward"}):R.deleteForward(g,{unit:"line"});return}if(Er.isDeleteWordBackward(q)){N.preventDefault(),K&&ue.isExpanded(K)?R.deleteFragment(g,{direction:"backward"}):R.deleteBackward(g,{unit:"word"});return}if(Er.isDeleteWordForward(q)){N.preventDefault(),K&&ue.isExpanded(K)?R.deleteFragment(g,{direction:"forward"}):R.deleteForward(g,{unit:"word"});return}}}},[s,g,v.onKeyDown]),onPaste:h.useCallback(N=>{!s&&pe.hasEditableTarget(g,N.target)&&!Mi(N,v.onPaste)&&(!yd||X3t(N.nativeEvent)||Ay)&&(N.preventDefault(),pe.insertData(g,N.clipboardData))},[s,g,v.onPaste])}),re.createElement(K$t,{decorations:M,node:g,renderElement:a,renderPlaceholder:u,renderLeaf:l,selection:g.selection})))))},X$t=e=>{var{attributes:t,children:n}=e;return re.createElement("span",Object.assign({},t),n,bs&&re.createElement("br",null))},Q$t=()=>[],J$t=(e,t)=>{if(t.getBoundingClientRect&&(!e.selection||e.selection&&ue.isCollapsed(e.selection))){var n=t.startContainer.parentElement;n.getBoundingClientRect=t.getBoundingClientRect.bind(t),cPt(n,{scrollMode:"if-needed"}),delete n.getBoundingClientRect}},Mi=(e,t)=>{if(!t)return!1;var n=t(e);return n??(e.isDefaultPrevented()||e.isPropagationStopped())},SX=e=>Hf(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement),eRt=(e,t)=>{if(!t)return!1;var n=t(e);return n??e.defaultPrevented},tRt=h.createContext(!1),nRt=h.createContext({});function rRt(e){var t=h.useRef([]).current,n=h.useRef({editor:e}).current,r=h.useCallback(i=>{n.editor=i,t.forEach(s=>s(i))},[t,n]),o=h.useMemo(()=>({getSlate:()=>n.editor,addEventListener:i=>(t.push(i),()=>{t.splice(t.indexOf(i),1)})}),[t,n]);return{selectorContext:o,onChange:r}}var oRt=["editor","children","onChange","initialValue"],iRt=e=>{var{editor:t,children:n,onChange:r,initialValue:o}=e,i=Kv(e,oRt),s=h.useRef(!1),[a,l]=re.useState(()=>{if(!Ee.isNodeList(o))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(Lo.stringify(o)));if(!R.isEditor(t))throw new Error("[Slate] editor is invalid! You passed: ".concat(Lo.stringify(t)));return t.children=o,Object.assign(t,i),{v:0,editor:t}}),{selectorContext:u,onChange:d}=rRt(t),f=h.useCallback(()=>{r&&r(t.children),l(v=>({v:v.v+1,editor:t})),d(t)},[t,d,r]);h.useEffect(()=>(pM.set(t,f),()=>{pM.set(t,()=>{}),s.current=!0}),[t,f]);var[p,m]=h.useState(pe.isFocused(t));return h.useEffect(()=>{m(pe.isFocused(t))},[t]),yx(()=>{var v=()=>m(pe.isFocused(t));return vEe>=17?(document.addEventListener("focusin",v),document.addEventListener("focusout",v),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",v)}):(document.addEventListener("focus",v,!0),document.addEventListener("blur",v,!0),()=>{document.removeEventListener("focus",v,!0),document.removeEventListener("blur",v,!0)})},[]),re.createElement(nRt.Provider,{value:u},re.createElement($Ee.Provider,{value:a},re.createElement(G9.Provider,{value:a.editor},re.createElement(tRt.Provider,{value:p},n))))},EX=(e,t)=>{var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},kX=(e,t,n)=>{var r=pe.toDOMRange(e,t).getBoundingClientRect(),o=pe.toDOMRange(e,n).getBoundingClientRect();return EX(r,o)&&EX(o,r)},sRt=(e,t)=>{var n=R.range(e,ue.end(t)),r=Array.from(R.positions(e,{at:t})),o=0,i=r.length,s=Math.floor(i/2);if(kX(e,R.range(e,r[o]),n))return R.range(e,r[o],n);if(r.length<2)return R.range(e,r[r.length-1],n);for(;s!==r.length&&s!==o;)kX(e,R.range(e,r[s]),n)?i=s:o=s,s=Math.floor((o+i)/2);return R.range(e,r[i],n)};function jX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function TX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jX(Object(n),!0).forEach(function(r){HT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var aRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",r=t,{apply:o,onChange:i,deleteBackward:s,addMark:a,removeMark:l}=r;return UT.set(r,new WeakMap),r.addMark=(u,d)=>{var f,p;(f=X9.get(r))===null||f===void 0||f(),!vl.get(r)&&(p=hs.get(r))!==null&&p!==void 0&&p.length&&vl.set(r,null),bu.delete(r),a(u,d)},r.removeMark=u=>{var d;!vl.get(r)&&(d=hs.get(r))!==null&&d!==void 0&&d.length&&vl.set(r,null),bu.delete(r),l(u)},r.deleteBackward=u=>{if(u!=="line")return s(u);if(r.selection&&ue.isCollapsed(r.selection)){var d=R.above(r,{match:v=>Ie.isElement(v)&&R.isBlock(r,v),at:r.selection});if(d){var[,f]=d,p=R.range(r,f,r.selection.anchor),m=sRt(r,p);ue.isCollapsed(m)||se.delete(r,{at:m})}}},r.apply=u=>{var d=[],f=hs.get(r);if(f!=null&&f.length){var p=f.map(S=>u$t(S,u)).filter(Boolean);hs.set(r,p)}var m=Od.get(r);m&&Od.set(r,yX(r,m,u));var v=Pd.get(r);if(v!=null&&v.at){var g=It.isPoint(v==null?void 0:v.at)?vM(r,v.at,u):yX(r,v.at,u);Pd.set(r,g?TX(TX({},v),{},{at:g}):null)}switch(u.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{d.push(...C_(r,u.path));break}case"set_selection":{var b;(b=bb.get(r))===null||b===void 0||b.unref(),bb.delete(r);break}case"insert_node":case"remove_node":{d.push(...C_(r,J.parent(u.path)));break}case"merge_node":{var x=J.previous(u.path);d.push(...C_(r,x));break}case"move_node":{var y=J.common(J.parent(u.path),J.parent(u.newPath));d.push(...C_(r,y));break}}o(u);for(var[w,C]of d){var[_]=R.node(r,w);fM.set(_,C)}},r.setFragmentData=u=>{var{selection:d}=r;if(d){var[f,p]=ue.edges(d),m=R.void(r,{at:f.path}),v=R.void(r,{at:p.path});if(!(ue.isCollapsed(d)&&!m)){var g=pe.toDOMRange(r,d),b=g.cloneContents(),x=b.childNodes[0];if(b.childNodes.forEach(T=>{T.textContent&&T.textContent.trim()!==""&&(x=T)}),v){var[y]=v,w=g.cloneRange(),C=pe.toDOMNode(r,y);w.setEndAfter(C),b=w.cloneContents()}if(m&&(x=b.querySelector("[data-slate-spacer]")),Array.from(b.querySelectorAll("[data-slate-zero-width]")).forEach(T=>{var A=T.getAttribute("data-slate-zero-width")==="n";T.textContent=A?`
`:""}),CEe(x)){var _=x.ownerDocument.createElement("span");_.style.whiteSpace="pre",_.appendChild(x),b.appendChild(_),x=_}var S=r.getFragment(),E=JSON.stringify(S),j=window.btoa(encodeURIComponent(E));x.setAttribute("data-slate-fragment",j),u.setData("application/".concat(n),j);var k=b.ownerDocument.createElement("div");return k.appendChild(b),k.setAttribute("hidden","true"),b.ownerDocument.body.appendChild(k),u.setData("text/html",k.innerHTML),u.setData("text/plain",SEe(k)),b.ownerDocument.body.removeChild(k),u}}},r.insertData=u=>{r.insertFragmentData(u)||r.insertTextData(u)},r.insertFragmentData=u=>{var d=u.getData("application/".concat(n))||n$t(u);if(d){var f=decodeURIComponent(window.atob(d)),p=JSON.parse(f);return r.insertFragment(p),!0}return!1},r.insertTextData=u=>{var d=u.getData("text/plain");if(d){var f=d.split(/\r\n|\r|\n/),p=!1;for(var m of f)p&&se.splitNodes(r,{always:!0}),r.insertText(m),p=!0;return!0}return!1},r.onChange=u=>{var d=vEe<18?kVe.unstable_batchedUpdates:f=>f();d(()=>{var f=pM.get(r);f&&f(),i(u)})},r},C_=(e,t)=>{var n=[];for(var[r,o]of R.levels(e,{at:t})){var i=pe.findKey(e,r);n.push([o,i])}return n},lRt=Yge,AX=1/0,cRt=17976931348623157e292;function uRt(e){if(!e)return e===0?e:0;if(e=lRt(e),e===AX||e===-AX){var t=e<0?-1:1;return t*cRt}return e===e?e:0}var MEe=uRt,dRt=MEe;function fRt(e){var t=dRt(e),n=t%1;return t===t?n?t-n:t:0}var hRt=fRt,pRt=YCe,mRt=rh,gRt=hRt,vRt=Math.max;function yRt(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:gRt(n);return o<0&&(o=vRt(r+o,0)),pRt(e,mRt(t),o)}var FEe=yRt;const e7=De(FEe);var bRt=L8,xRt=4;function wRt(e){return bRt(e,xRt)}var CRt=wRt;const LEe=De(CRt);function pS(e){return!!e&&(typeof e=="object"||typeof e=="function")}function FE(e){return pS(e)&&typeof e._type=="string"&&Array.isArray(e.children)&&e.children.every(t=>pS(t))&&("markDefs"in e?Array.isArray(e.markDefs)&&e.markDefs.every(t=>pS(t)):!1)&&("style"in e?typeof e.style=="string":!0)}function DP(e){return pS(e)&&e._type==="span"&&typeof e.text=="string"&&("marks"in e?Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"):!0)}function Vu(e){return!!e&&(typeof e=="object"||typeof e=="function")}function DX(e){return Vu(e)?e.jsonType==="object":!1}function _Rt(e){return Vu(e)?e.jsonType==="array":!1}function SRt(e){return typeof e=="object"&&e!==null&&"title"in e&&"value"in e}function ERt(e){return Vu(e)?Array.isArray(e.annotations)&&Array.isArray(e.decorators):!1}function kRt(e){if(!Vu(e)||!Array.isArray(e.fields))return!1;const[t,n,r]=e.fields;return zEe(t)&&BEe(n)&&NEe(r)}function BEe(e){return!Vu(e)||e.name!=="style"?!1:Vu(e.type)&&e.type.jsonType==="string"}function NEe(e){return!Vu(e)||e.name!=="list"?!1:Vu(e.type)&&e.type.jsonType==="string"}function zEe(e){return!Vu(e)||e.name!=="children"||!_Rt(e.type)?!1:e.type.of.some(ERt)}function t7(e){return e.type?t7(e.type):e.name==="block"}function jRt(e){var t,n;if(!e)throw new Error("Parameter 'blockContentType' required");const r=e.of.find(t7);if(!kRt(r))throw new Error("'block' type is not defined in this schema (required).");const o=(n=(t=r.fields.find(zEe))==null?void 0:t.type)==null?void 0:n.of;if(!o)throw new Error("No `of` declaration found for blocks `children` field");const i=o.find(l=>l.name==="span");if(!i)throw new Error("No `span` type found in `block` schema type `children` definition");const s=o.filter(l=>l.name!=="span"&&DX(l)),a=e.of.filter(l=>l.name!==r.name&&DX(l));return{styles:TRt(r),decorators:DRt(i),annotations:ARt(i),lists:IRt(r),types:{block:e,span:i,inlineObjects:s,blockObjects:a}}}function TRt(e){const t=e.fields.find(BEe);if(!t)throw new Error("A field with name 'style' is not defined in the block type (required).");const n=VEe(t.type.options);if(n.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return n}function ARt(e){return e.annotations.map(t=>({title:t.title,type:t,value:t.name,icon:t.icon}))}function DRt(e){return e.decorators}function IRt(e){const t=e.fields.find(NEe);if(!t)throw new Error("A field with name 'list' is not defined in the block type (required).");const n=VEe(t.type.options);if(!n)throw new Error("The list field need at least to be an empty array");return n}function VEe(e){const t=e?e.list:void 0;return Array.isArray(t)?t.map(n=>SRt(n)?n:{title:n,value:n}):[]}const PRt=Object.prototype.toString;function HEe(e){switch(PRt.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}return e===null?"null":e===void 0?"undefined":e&&typeof e=="object"&&"nodeType"in e&&e.nodeType===1?"element":e===Object(e)?"object":typeof e}function ORt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return $9(t),t}const UEe=[];for(let e=0;e<256;++e)UEe[e]=(e+256).toString(16).substring(1);function yM(e){return ORt(e).reduce((t,n)=>t+UEe[n],"").slice(0,e)}const $Rt=["pre","textarea","code"],Xv="normal",gs=Object.freeze({_type:"block",markDefs:[],style:Xv}),mS=Object.freeze({_type:"span",marks:[]}),LE={p:gs,blockquote:{...gs,style:"blockquote"}},WEe={span:{object:"text"}},BE={ol:{object:null},ul:{object:null}},NE={h1:{...gs,style:"h1"},h2:{...gs,style:"h2"},h3:{...gs,style:"h3"},h4:{...gs,style:"h4"},h5:{...gs,style:"h5"},h6:{...gs,style:"h6"}},RRt={br:{...gs,style:Xv}},YEe={b:"strong",strong:"strong",i:"em",em:"em",u:"underline",s:"strike-through",strike:"strike-through",del:"strike-through",code:"code",sup:"sup",sub:"sub",ins:"ins",mark:"mark",small:"small"},qEe={li:{...gs,style:Xv,level:1,listItem:"bullet"}},MRt={...LE,...WEe,...BE,...qEe,...NE,...RRt};uo(Object.values(MRt).filter(e=>"style"in e).map(e=>e.style));uo(Object.values(YEe));const Zp={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9};var FRt=(e,t)=>{function n(r){var o,i;if(r.nodeType===Zp.BOOLEAN_TYPE&&!$Rt.includes(((o=r.parentElement)==null?void 0:o.tagName.toLowerCase())||""))r.textContent=((i=r.textContent)==null?void 0:i.replace(/\s\s+/g," ").replace(/[\r\n]+/g," "))||"";else for(let s=0;s<r.childNodes.length;s++)n(r.childNodes[s])}return n(t.body),t};const LRt=["/html/text()","/html/head/text()","/html/body/text()","/html/body/ul/text()","/html/body/ol/text()","//comment()","//style","//xml","//script","//meta","//link"];var BRt=(e,t)=>{var n,r,o;const i=t.evaluate("/html/body/text()",t,null,Zp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=i.snapshotLength-1;a>=0;a--){const l=i.snapshotItem(a),u=l.textContent||"";if(u.replace(/[^\S\n]+$/g,"")){const d=t.createElement("span");d.appendChild(t.createTextNode(u)),(n=l.parentNode)==null||n.replaceChild(d,l)}else(r=l.parentNode)==null||r.removeChild(l)}const s=t.evaluate(LRt.join("|"),t,null,Zp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=s.snapshotLength-1;a>=0;a--){const l=s.snapshotItem(a);l&&((o=l.parentNode)==null||o.removeChild(l))}return t};const NRt=/(class="?Mso|style=(?:"|')[^"]*?\bmso-|w:WordDocument|<o:\w+>|<\/font>)/,zRt=["//o:p","//span[@style='mso-list:Ignore']","//span[@style='mso-list: Ignore']"],VRt=["//p[@class='MsoTocHeading']","//p[@class='MsoTitle']","//p[@class='MsoToaHeading']","//p[@class='MsoSubtitle']","//span[@class='MsoSubtleEmphasis']","//span[@class='MsoIntenseEmphasis']"],HRt={MsoTocHeading:["h3"],MsoTitle:["h1"],MsoToaHeading:["h2"],MsoSubtitle:["h5"],MsoSubtleEmphasis:["span","em"],MsoIntenseEmphasis:["span","em","strong"]};function URt(e){return NRt.test(e)}var WRt=(e,t)=>{var n;if(!URt(e))return t;const r=t.evaluate(zRt.join("|"),t,i=>i==="o"?"urn:schemas-microsoft-com:office:office":null,Zp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=r.snapshotLength-1;i>=0;i--){const s=r.snapshotItem(i);s!=null&&s.parentNode&&s.parentNode.removeChild(s)}const o=t.evaluate(VRt.join("|"),t,null,Zp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=o.snapshotLength-1;i>=0;i--){const s=o.snapshotItem(i),a=HRt[s.className],l=new Text(s.textContent||"");if(!a)continue;const u=document.createElement(a[0]);let d=u,f=u;a.slice(1).forEach(p=>{f=document.createElement(p),d.appendChild(f),d=f}),f.appendChild(l),(n=s==null?void 0:s.parentNode)==null||n.replaceChild(u,s)}return t},YRt=(e,t)=>{var n;const r=t.evaluate('//b[contains(@id, "docs-internal-guid")]',t,null,Zp.ORDERED_NODE_ITERATOR_TYPE,null).iterateNext();if(r){const o=t.evaluate("//*",t,null,Zp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=o.snapshotLength-1;i>=0;i--){const s=o.snapshotItem(i);s==null||s.setAttribute("data-is-google-docs","true")}return(n=t.body.firstElementChild)==null||n.replaceWith(...Array.from(r.childNodes)),t}return t},qRt=[FRt,WRt,YRt,BRt];function GRt(e){const t=jRt(e),n=t.styles.map(s=>s.value||s.title),r=t.decorators.map(s=>s.value||s.title),o=t.annotations.map(s=>s.value||s.title||""),i=t.lists.map(s=>s.value||s.title||"");return{enabledBlockStyles:n,enabledSpanDecorators:r,enabledBlockAnnotations:o,enabledListTypes:i}}function kr(e){if(e&&"tagName"in e)return e.tagName.toLowerCase()}function KRt(e,t){const n=t(ZRt(e));return qRt.forEach(r=>{r(e,n)}),n}function ZRt(e){return e.trim()}function XRt(){if(HEe(DOMParser)==="undefined")throw new Error("The native `DOMParser` global which the `Html` deserializer uses by default is not present in this environment. You must supply the `options.parseHtml` function instead.");return e=>new DOMParser().parseFromString(e,"text/html")}function QRt(e){let t=0;const n=[],r=o=>{const i=[];o.forEach(s=>{t===0&&n.push(s),FE(s)&&(t>0&&(i.push(s),n.push(s)),t++,r(s.children)),s._type==="__block"&&(i.push(s),n.push(s.block))}),i.forEach(s=>{o.splice(o.indexOf(s),1)}),t--};return r(e),n}function JRt(e,t){const n=e.children[t+1];return n&&n._type==="span"?n:null}function eMt(e,t){const n=e.children[t-1];return n&&n._type==="span"?n:null}function IX(e){return[" "," "].includes(e)}function tMt(e){return e.forEach(t=>{FE(t)&&t.children.forEach((n,r)=>{if(!pv(n))return;const o=JRt(t,r),i=eMt(t,r);r===0&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),r===t.children.length-1&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.substring(n.text.length-1))&&o&&pv(o)&&/\s/.test(o.text.substring(0,1))&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.substring(0,1))&&i&&pv(i)&&/\s/.test(i.text.substring(i.text.length-1))&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),n.text||t.children.splice(r,1),i&&Yt(i.marks,n.marks)&&IX(n.text)?(i.text+=" ",t.children.splice(r,1)):o&&Yt(o.marks,n.marks)&&IX(n.text)&&(o.text=" ".concat(o.text),t.children.splice(r,1))})}),e}function nMt(e){return e.reduce((t,n,r,o)=>{if(n._type==="block")return t.push(n),t;if(n._type==="__block")return t.push(n.block),t;const i=t[t.length-1];if(r>0&&!FE(o[r-1])&&FE(i))return i.children.push(n),t;const s={...gs,children:[n]};return t.push(s),t},[])}function rMt(e){return Object.prototype.toString.call(e)=="[object NodeList]"}function pv(e){return e._type==="span"}function PX(e){return e._type==="block"}function OX(e){return e._type==="__decorator"}function $X(e){return e._type==="__annotation"}function sh(e){return e.nodeType===1}function oMt(e,t){if(e==="ul"&&t.includes("bullet"))return"bullet";if(e==="ol"&&t.includes("number"))return"number"}function iMt(e,t){return[{deserialize(n){if(kr(n)==="pre")return;const o=(n.nodeType===3&&(n.textContent||"").replace(/[\r\n]/g," ").replace(/\s\s+/g," ")===" "&&n.nextSibling&&n.nextSibling.nodeType!==3&&n.previousSibling&&n.previousSibling.nodeType!==3||n.textContent!==" ")&&kr(n.parentNode)!=="body";if(n.nodeName==="#text"&&o)return{...mS,marks:[],text:(n.textContent||"").replace(/\s\s+/g," ")}}},{deserialize(n){if(kr(n)!=="pre")return;const r=t.enabledBlockStyles.includes("code");return{_type:"block",style:"normal",markDefs:[],children:[{...mS,marks:r?["code"]:[],text:n.textContent||""}]}}},{deserialize(n,r){if(kr(n)!=="blockquote")return;const o={...LE,...NE};delete o.blockquote;const i=[];return n.childNodes.forEach((s,a)=>{if(s.nodeType===1&&Object.keys(o).includes(s.localName.toLowerCase())){if(!n.ownerDocument)return;const l=n.ownerDocument.createElement("span");l.appendChild(n.ownerDocument.createTextNode("\r")),s.childNodes.forEach(u=>{l.appendChild(u.cloneNode(!0))}),a!==n.childNodes.length&&l.appendChild(n.ownerDocument.createTextNode("\r")),i.push(l)}else i.push(s)}),{_type:"block",style:"blockquote",markDefs:[],children:r(i)}}},{deserialize(n,r){const o={...LE,...NE},i=kr(n);let s=i?o[i]:void 0;if(s)return n.parentNode&&kr(n.parentNode)==="li"?r(n.childNodes):(t.enabledBlockStyles.includes(s.style)||(s=gs),{...s,children:r(n.childNodes)})}},{deserialize(n,r){const o=kr(n);if(!(!o||!(o in WEe)))return r(n.childNodes)}},{deserialize(n,r){if(kr(n)==="div")return r(n.childNodes)}},{deserialize(n,r){const o=kr(n);if(!(!o||!(o in BE)))return r(n.childNodes)}},{deserialize(n){if(kr(n)==="br")return{...mS,text:`
`}}},{deserialize(n,r,o){const i=kr(n),s=i?qEe[i]:void 0,a=kr(n.parentNode)||"";if(!s||!n.parentNode||!BE[a])return;const l=oMt(a,t.enabledListTypes);return l?(s.listItem=l,{...s,children:r(n.childNodes)}):o({_type:"block",children:r(n.childNodes)})}},{deserialize(n,r){const o=YEe[kr(n)||""];if(!(!o||!t.enabledSpanDecorators.includes(o)))return{_type:"__decorator",name:o,children:r(n.childNodes)}}},{deserialize(n,r){if(kr(n)!="a")return;const o=t.enabledBlockAnnotations.includes("link"),i=sh(n)&&n.getAttribute("href");if(!i)return r(n.childNodes);let s;return o?(s={_key:yM(12),_type:"link",href:i},{_type:"__annotation",markDef:s,children:r(n.childNodes)}):n.appendChild(n.ownerDocument.createTextNode(" (".concat(i,")")))&&r(n.childNodes)}}]}const GEe=Object.keys(BE);function sMt(e){const t=sh(e)&&e.getAttribute("style");return/font-style:italic/.test(t||"")}function aMt(e){const t=sh(e)&&e.getAttribute("style");return/font-weight:700/.test(t||"")}function RX(e){return sh(e)&&!!e.getAttribute("data-is-google-docs")}function lMt(e){const t=kr(e.parentNode);if(!(t&&!GEe.includes(t)))return kr(e.parentNode)==="ul"?"bullet":"number"}function cMt(e){let t=0;if(kr(e)==="li"){let n=e.parentNode;for(;n;){const r=kr(n);r&&GEe.includes(r)&&t++,n=n.parentNode}}else t=1;return t}const uMt={...LE,...NE};function dMt(e,t){const n=kr(e.firstChild),r=n&&uMt[n];return!r||!t.includes(r.style)?Xv:r.style}function fMt(e,t){return[{deserialize(n){if(sh(n)&&kr(n)==="span"&&RX(n)){const r={...mS,marks:[],text:n.textContent};return aMt(n)&&r.marks.push("strong"),sMt(n)&&r.marks.push("em"),r}}},{deserialize(n,r){var o;if(kr(n)==="li"&&RX(n))return{...gs,listItem:lMt(n),level:cMt(n),style:dMt(n,t.enabledBlockStyles),children:r(((o=n.firstChild)==null?void 0:o.childNodes)||[])}}}]}function hMt(e){const t=sh(e)&&e.getAttribute("style");if(t&&t.match(/lfo\d+/))return t.match("lfo1")?"bullet":"number"}function pMt(e){const t=sh(e)&&e.getAttribute("style");if(!t)return;const n=t.match(/level\d+/);if(!n)return;const[r]=n[0].match(/\d/)||[];return(r?parseInt(r,10):1)||1}function mMt(e){return sh(e)&&e.className?e.className==="MsoListParagraphCxSpFirst"||e.className==="MsoListParagraphCxSpMiddle"||e.className==="MsoListParagraphCxSpLast":!1}function gMt(){return[{deserialize(e,t){if(kr(e)==="p"&&mMt(e))return{...gs,listItem:hMt(e),level:pMt(e),style:Xv,children:t(e.childNodes)}}}]}function vMt(e,t){return[...gMt(),...fMt(e,t),...iMt(e,t)]}var yMt=Object.defineProperty,bMt=(e,t,n)=>t in e?yMt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xc=(e,t,n)=>(bMt(e,typeof t!="symbol"?t+"":t,n),n);class xMt{constructor(t){var n=this;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Xc(this,"blockContentType"),Xc(this,"rules"),Xc(this,"parseHtml"),Xc(this,"_markDefs",[]),Xc(this,"deserialize",a=>{this._markDefs=[];const{parseHtml:l}=this,u=l(a),d=Array.from(u.childNodes),f=tMt(QRt(nMt(this.deserializeElements(d))));this._markDefs.length>0&&f.filter(m=>m._type==="block").forEach(m=>{m.markDefs=m.markDefs||[],m.markDefs=m.markDefs.concat(this._markDefs.filter(v=>En(m.children.map(g=>g.marks||[])).includes(v._key)))});const p=this.blockContentType.of.find(t7);return p?f.map(m=>(m._type==="block"&&(m._type=p.name),m)):f}),Xc(this,"deserializeElements",function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=[];return a.forEach(u=>{l=l.concat(n.deserializeElement(u))}),l}),Xc(this,"deserializeElement",a=>{var l,u;const d=m=>{if(rMt(m))return this.deserializeElements(Array.from(m));if(Array.isArray(m))return this.deserializeElements(m);if(m)return this.deserializeElement(m)},f=m=>({_type:"__block",block:m});let p;for(let m=0;m<this.rules.length;m++){const v=this.rules[m];if(!v.deserialize)continue;const g=v.deserialize(a,d,f),b=HEe(g);if(b!=="array"&&b!=="object"&&b!=="null"&&b!=="undefined")throw new Error('A rule returned an invalid deserialized representation: "'.concat(p,'".'));if(g!==void 0){{if(g===null)throw new Error("Deserializer rule returned `null`");Array.isArray(g)?p=g:OX(g)?p=this.deserializeDecorator(g):$X(g)?p=this.deserializeAnnotation(g):p=g}if(g&&!Array.isArray(g)&&PX(g)&&"listItem"in g){let x=(l=a.parentNode)==null?void 0:l.parentNode;for(;x&&kr(x)==="li";)x=(u=x.parentNode)==null?void 0:u.parentNode,g.level=g.level?g.level+1:1}g&&!Array.isArray(g)&&PX(g)&&g.style==="blockquote"&&g.children.forEach((x,y)=>{pv(x)&&x.text==="\r"&&(x.text=`

`,(y===0||y===g.children.length-1)&&g.children.splice(y,1))});break}}return p||d(a.childNodes)||[]}),Xc(this,"deserializeDecorator",a=>{const{name:l}=a,u=d=>{if(OX(d))return this.deserializeDecorator(d);if(pv(d))d.marks=d.marks||[],d.text.trim()&&d.marks.unshift(l);else if("children"in d&&Array.isArray(d.children)){const f=d;f.children=f.children.map(u)}return d};return a.children.reduce((d,f)=>{const p=u(f);return Array.isArray(p)?d.concat(p):(d.push(p),d)},[])}),Xc(this,"deserializeAnnotation",a=>{const{markDef:l}=a;this._markDefs.push(l);const u=d=>{if($X(d))return this.deserializeAnnotation(d);if(pv(d))d.marks=d.marks||[],d.text.trim()&&d.marks.unshift(l._key);else if("children"in d&&Array.isArray(d.children)){const f=d;f.children=f.children.map(u)}return d};return a.children.reduce((d,f)=>{const p=u(f);return Array.isArray(p)?d.concat(p):(d.push(p),d)},[])});const{rules:o=[]}=r;if(!t)throw new Error("Parameter 'blockContentType' is required");const i=vMt(t,GRt(t));this.rules=[...o,...i];const s=r.parseHtml||XRt();this.blockContentType=t,this.parseHtml=a=>KRt(a,s).body}}function bx(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e._type!==(t.blockTypeName||"block"))return"_key"in e?e:{...e,_key:yM(12)};const n={_key:yM(12),children:[],markDefs:[],...e},r=n.children[n.children.length-1];if(!r)return n.children=[{_type:"span",_key:"".concat(n._key).concat(0),text:"",marks:[]}],n;const o=[],i=t.allowedDecorators&&Array.isArray(t.allowedDecorators)?t.allowedDecorators:!1;return n.children=n.children.reduce((s,a)=>{const l=s[s.length-1];return l&&DP(a)&&DP(l)&&Yt(l.marks,a.marks)?(r&&r===a&&a.text===""&&n.children.length>1||(l.text+=a.text),s):(s.push(a),s)},[]).map((s,a)=>{if(!s)throw new Error("missing child");return s._key="".concat(n._key).concat(a),DP(s)&&(s.marks?i&&(s.marks=s.marks.filter(l=>{var u;const d=i.includes(l),f=(u=n.markDefs)==null?void 0:u.some(p=>p._key===l);return d||f})):s.marks=[],o.push(...s.marks)),s}),n.markDefs=(n.markDefs||[]).filter(s=>o.includes(s._key)),n}function MX(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new xMt(t,n).deserialize(e).map(o=>bx(o))}function FX(e){return z8.compile({name:"blockTypeSchema",types:[e]}).get(e.name)}function LX(e){var t,n,r;if(!e)throw new Error("Parameter 'portabletextType' missing (required)");const o=(t=e.of)==null?void 0:t.find(KEe);if(!o)throw new Error("Block type is not defined in this schema (required)");const i=(n=o.fields)==null?void 0:n.find(d=>d.name==="children");if(!i)throw new Error("Children field for block type found in schema (required)");const s=i.type.of;if(!s)throw new Error("Valid types for block children not found in schema (required)");const a=s.find(d=>d.name==="span");if(!a)throw new Error("Span type not found in schema (required)");const l=s.filter(d=>d.name!=="span")||[],u=((r=e.of)==null?void 0:r.filter(d=>d.name!==o.name))||[];return{styles:wMt(o),decorators:CMt(a),lists:_Mt(o),block:o,span:a,portableText:e,inlineObjects:l,blockObjects:u,annotations:a.annotations}}function wMt(e){var t,n,r;const o=(t=e.fields)==null?void 0:t.find(s=>s.name==="style");if(!o)throw new Error("A field with name 'style' is not defined in the block type (required).");const i=((n=o.type.options)==null?void 0:n.list)&&((r=o.type.options.list)==null?void 0:r.filter(s=>s.value));if(!i||i.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return i}function CMt(e){return e.decorators}function _Mt(e){var t,n;const r=(t=e.fields)==null?void 0:t.find(i=>i.name==="list");if(!r)throw new Error("A field with name 'list' is not defined in the block type (required).");const o=((n=r.type.options)==null?void 0:n.list)&&r.type.options.list.filter(i=>i.value);if(!o)throw new Error("The list field need at least to be an empty array");return o}function KEe(e){return e.type?KEe(e.type):e.name==="block"?e:null}const bM="sanity-pte:";jy(bM);function Ur(e){const t="".concat(bM).concat(e);return jy&&jy.enabled(t)?jy(t):jy(bM)}const zE=()=>Hw(12),ZEe=h.createContext(zE),SMt=()=>{const e=h.useContext(ZEe);if(e===void 0)throw new Error("The `usePortableTextEditorKeyGenerator` hook must be used inside the <PortableTextEditor> component's context.");return e},VE=new WeakMap,gS=new WeakMap,__=new WeakMap,U1=new WeakMap,W1=new WeakMap,Y1=new WeakMap,xM=new WeakMap,wa=new WeakMap,HE=new WeakMap;function EMt(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function wM(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function Uw(e){const[t,n]=e;return[t,n]}function BX(e,t){let n=e,r=t;const o=n.length,i=r.length;if(o===0||i===0)return 0;o>i?n=n.substring(o-i):o<i&&(r=r.substring(0,o));const s=Math.min(o,i);if(n===r)return s;let a=0,l=1;for(let u=0;u!==-1;){const d=n.substring(s-l);if(u=r.indexOf(d),u===-1)return a;l+=u,(u===0||n.substring(s-l)===r.substring(0,l))&&(a=l,l++)}return a}function n7(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(i,o)===t.substring(i,o)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function YT(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(e.length-o,e.length-i)===t.substring(t.length-o,t.length-i)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function XEe(e){let t=e.map(f=>Uw(f)),n=!1;const r=[];let o=0,i=null,s=0,a=0,l=0,u=0,d=0;for(;s<t.length;)t[s][0]===gt?(r[o++]=s,a=u,l=d,u=0,d=0,i=t[s][1]):(t[s][0]===qn?u+=t[s][1].length:d+=t[s][1].length,i&&i.length<=Math.max(a,l)&&i.length<=Math.max(u,d)&&(t.splice(r[o-1],0,[In,i]),t[r[o-1]+1][0]=qn,o--,o--,s=o>0?r[o-1]:-1,a=0,l=0,u=0,d=0,i=null,n=!0)),s++;for(n&&(t=qT(t)),t=QEe(t),s=1;s<t.length;){if(t[s-1][0]===In&&t[s][0]===qn){const f=t[s-1][1],p=t[s][1],m=BX(f,p),v=BX(p,f);m>=v?(m>=f.length/2||m>=p.length/2)&&(t.splice(s,0,[gt,p.substring(0,m)]),t[s-1][1]=f.substring(0,f.length-m),t[s+1][1]=p.substring(m),s++):(v>=f.length/2||v>=p.length/2)&&(t.splice(s,0,[gt,f.substring(0,v)]),t[s-1][0]=qn,t[s-1][1]=p.substring(0,p.length-v),t[s+1][0]=In,t[s+1][1]=f.substring(v),s++),s++}s++}return t}const NX=/[^a-zA-Z0-9]/,zX=/\s/,VX=/[\r\n]/,kMt=/\n\r?\n$/,jMt=/^\r?\n\r?\n/;function QEe(e){const t=e.map(o=>Uw(o));function n(o,i){if(!o||!i)return 6;const s=o.charAt(o.length-1),a=i.charAt(0),l=s.match(NX),u=a.match(NX),d=l&&s.match(zX),f=u&&a.match(zX),p=d&&s.match(VX),m=f&&a.match(VX),v=p&&o.match(kMt),g=m&&i.match(jMt);return v||g?5:p||m?4:l&&!d&&f?3:d||f?2:l||u?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===gt&&t[r+1][0]===gt){let o=t[r-1][1],i=t[r][1],s=t[r+1][1];const a=YT(o,i);if(a){const p=i.substring(i.length-a);o=o.substring(0,o.length-a),i=p+i.substring(0,i.length-a),s=p+s}let l=o,u=i,d=s,f=n(o,i)+n(i,s);for(;i.charAt(0)===s.charAt(0);){o+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);const p=n(o,i)+n(i,s);p>=f&&(f=p,l=o,u=i,d=s)}t[r-1][1]!==l&&(l?t[r-1][1]=l:(t.splice(r-1,1),r--),t[r][1]=u,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}return t}function qT(e){let t=e.map(u=>Uw(u));t.push([gt,""]);let n=0,r=0,o=0,i="",s="",a;for(;n<t.length;)switch(t[n][0]){case qn:o++,s+=t[n][1],n++;break;case In:r++,i+=t[n][1],n++;break;case gt:r+o>1?(r!==0&&o!==0&&(a=n7(s,i),a!==0&&(n-r-o>0&&t[n-r-o-1][0]===gt?t[n-r-o-1][1]+=s.substring(0,a):(t.splice(0,0,[gt,s.substring(0,a)]),n++),s=s.substring(a),i=i.substring(a)),a=YT(s,i),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),i=i.substring(0,i.length-a))),n-=r+o,t.splice(n,r+o),i.length&&(t.splice(n,0,[In,i]),n++),s.length&&(t.splice(n,0,[qn,s]),n++),n++):n!==0&&t[n-1][0]===gt?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,o=0,r=0,i="",s="";break;default:throw new Error("Unknown diff operation")}t[t.length-1][1]===""&&t.pop();let l=!1;for(n=1;n<t.length-1;)t[n-1][0]===gt&&t[n+1][0]===gt&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),l=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),l=!0)),n++;return l&&(t=qT(t)),t}function TMt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r+(o?1:0),0)}function JEe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,n=e.map(p=>Uw(p)),r=!1;const o=[];let i=0,s=null,a=0,l=!1,u=!1,d=!1,f=!1;for(;a<n.length;)n[a][0]===gt?(n[a][1].length<t&&(d||f)?(o[i++]=a,l=d,u=f,s=n[a][1]):(i=0,s=null),d=!1,f=!1):(n[a][0]===In?f=!0:d=!0,s&&(l&&u&&d&&f||s.length<t/2&&TMt(l,u,d,f)===3)&&(n.splice(o[i-1],0,[In,s]),n[o[i-1]+1][0]=qn,i--,s=null,l&&u?(d=!0,f=!0,i=0):(i--,a=i>0?o[i-1]:-1,d=!1,f=!1),r=!0)),a++;return r&&(n=qT(n)),n}function AMt(e,t,n){const r=e.length,o=t.length,i=Math.ceil((r+o)/2),s=i,a=2*i,l=new Array(a),u=new Array(a);for(let b=0;b<a;b++)l[b]=-1,u[b]=-1;l[s+1]=0,u[s+1]=0;const d=r-o,f=d%2!==0;let p=0,m=0,v=0,g=0;for(let b=0;b<i&&!(Date.now()>n);b++){for(let x=-b+p;x<=b-m;x+=2){const y=s+x;let w;x===-b||x!==b&&l[y-1]<l[y+1]?w=l[y+1]:w=l[y-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(w)===t.charAt(C);)w++,C++;if(l[y]=w,w>r)m+=2;else if(C>o)p+=2;else if(f){const _=s+d-x;if(_>=0&&_<a&&u[_]!==-1){const S=r-u[_];if(w>=S)return HX(e,t,w,C,n)}}}for(let x=-b+v;x<=b-g;x+=2){const y=s+x;let w;x===-b||x!==b&&u[y-1]<u[y+1]?w=u[y+1]:w=u[y-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(r-w-1)===t.charAt(o-C-1);)w++,C++;if(u[y]=w,w>r)g+=2;else if(C>o)v+=2;else if(!f){const _=s+d-x;if(_>=0&&_<a&&l[_]!==-1){const S=l[_],E=s+S-_;if(w=r-w,S>=w)return HX(e,t,S,E,n)}}}}return[[In,e],[qn,t]]}function HX(e,t,n,r,o){const i=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),l=t.substring(r),u=Xp(i,s,{checkLines:!1,deadline:o}),d=Xp(a,l,{checkLines:!1,deadline:o});return u.concat(d)}function DMt(e,t){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:1)<=0)return null;const r=e.length>t.length?e:t,o=e.length>t.length?t:e;if(r.length<4||o.length*2<r.length)return null;const i=UX(r,o,Math.ceil(r.length/4)),s=UX(r,o,Math.ceil(r.length/2));let a;if(i&&s)a=i[4].length>s[4].length?i:s;else{if(!i&&!s)return null;s?i||(a=s):a=i}if(!a)throw new Error("Unable to find a half match.");let l,u,d,f;e.length>t.length?(l=a[0],u=a[1],d=a[2],f=a[3]):(d=a[0],f=a[1],l=a[2],u=a[3]);const p=a[4];return[l,u,d,f,p]}function UX(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let o=-1,i="",s,a,l,u;for(;(o=t.indexOf(r,o+1))!==-1;){const d=n7(e.slice(n),t.slice(o)),f=YT(e.slice(0,n),t.slice(0,o));i.length<f+d&&(i=t.slice(o-f,o)+t.slice(o,o+d),s=e.slice(0,n-f),a=e.slice(n+d),l=t.slice(0,o-f),u=t.slice(o+d))}return i.length*2>=e.length?[s||"",a||"",l||"",u||"",i||""]:null}function IMt(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],o=[];for(let i=0;i<r.length;i++)o[i]=t[r.charCodeAt(i)];e[n][1]=o.join("")}}function PMt(e,t){const n=[],r={};n[0]="";function o(l){let u="",d=0,f=-1,p=n.length;for(;f<l.length-1;){f=l.indexOf(`
`,d),f===-1&&(f=l.length-1);let m=l.slice(d,f+1);(r.hasOwnProperty?r.hasOwnProperty(m):r[m]!==void 0)?u+=String.fromCharCode(r[m]):(p===i&&(m=l.slice(d),f=l.length),u+=String.fromCharCode(p),r[m]=p,n[p++]=m),d=f+1}return u}let i=4e4;const s=o(e);i=65535;const a=o(t);return{chars1:s,chars2:a,lineArray:n}}function OMt(e,t,n){let r=e,o=t;const i=PMt(r,o);r=i.chars1,o=i.chars2;const s=i.lineArray;let a=Xp(r,o,{checkLines:!1,deadline:n.deadline});IMt(a,s),a=XEe(a),a.push([gt,""]);let l=0,u=0,d=0,f="",p="";for(;l<a.length;){switch(a[l][0]){case qn:d++,p+=a[l][1];break;case In:u++,f+=a[l][1];break;case gt:if(u>=1&&d>=1){a.splice(l-u-d,u+d),l=l-u-d;const m=Xp(f,p,{checkLines:!1,deadline:n.deadline});for(let v=m.length-1;v>=0;v--)a.splice(l,0,m[v]);l+=m.length}d=0,u=0,f="",p="";break;default:throw new Error("Unknown diff operation.")}l++}return a.pop(),a}function $Mt(e,t,n){let r;if(!e)return[[qn,t]];if(!t)return[[In,e]];const o=e.length>t.length?e:t,i=e.length>t.length?t:e,s=o.indexOf(i);if(s!==-1)return r=[[qn,o.substring(0,s)],[gt,i],[qn,o.substring(s+i.length)]],e.length>t.length&&(r[0][0]=In,r[2][0]=In),r;if(i.length===1)return[[In,e],[qn,t]];const a=DMt(e,t);if(a){const l=a[0],u=a[1],d=a[2],f=a[3],p=a[4],m=Xp(l,d,n),v=Xp(u,f,n);return m.concat([[gt,p]],v)}return n.checkLines&&e.length>100&&t.length>100?OMt(e,t,n):AMt(e,t,n.deadline)}const In=-1,qn=1,gt=0;function r7(e,t,n){if(e===null||t===null)throw new Error("Null input. (diff)");const r=Xp(e,t,MMt(n||{}));return LMt(r),r}function Xp(e,t,n){let r=e,o=t;if(r===o)return r?[[gt,r]]:[];let i=n7(r,o);const s=r.substring(0,i);r=r.substring(i),o=o.substring(i),i=YT(r,o);const a=r.substring(r.length-i);r=r.substring(0,r.length-i),o=o.substring(0,o.length-i);let l=$Mt(r,o,n);return s&&l.unshift([gt,s]),a&&l.push([gt,a]),l=qT(l),l}function RMt(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+t*1e3}function MMt(e){return{checkLines:!0,deadline:RMt(e.timeout||1),...e}}function S_(e,t,n){return n===1?e+t:t+e}function E_(e,t){return t===1?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function FMt(e,t,n,r){return r===1?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function WX(e,t,n){const r=n===1?-1:1;let o=null,i=null,s=t+n;for(;s>=0&&s<e.length&&(o===null||i===null);s+=n){const[u,d]=e[s];if(d.length!==0){if(u===qn){o===null&&(o=s);continue}else if(u===In){i===null&&(i=s);continue}else if(u===gt){if(o===null&&i===null){const[f,p]=E_(e[t][1],n);e[t][1]=f,e[s][1]=S_(e[s][1],p,r);return}break}}}if(o!==null&&i!==null&&FMt(e,o,i,n)){const[u,d]=E_(e[o][1],r),[f]=E_(e[i][1],r);e[o][1]=u,e[i][1]=f,e[t][1]=S_(e[t][1],d,n);return}const[a,l]=E_(e[t][1],n);e[t][1]=a,o===null?(e.splice(s,0,[qn,l]),i!==null&&i>=s&&i++):e[o][1]=S_(e[o][1],l,r),i===null?e.splice(s,0,[In,l]):e[i][1]=S_(e[i][1],l,r)}function LMt(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(r.length===0)continue;const o=r[0],i=r[r.length-1];EMt(i)&&n===gt&&WX(e,t,1),wM(o)&&n===gt&&WX(e,t,-1)}for(let t=0;t<e.length;t++)e[t][1].length===0&&e.splice(t,1)}const BMt={threshold:.5,distance:1e3};function NMt(e){return{...BMt,...e}}const zMt=32;function VMt(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t.length>zMt)throw new Error("Pattern too long for this browser.");const o=NMt(r),i=HMt(t);function s(v,g){const b=v/t.length,x=Math.abs(n-g);return o.distance?b+x/o.distance:x?1:b}let a=o.threshold,l=e.indexOf(t,n);l!==-1&&(a=Math.min(s(0,l),a),l=e.lastIndexOf(t,n+t.length),l!==-1&&(a=Math.min(s(0,l),a)));const u=1<<t.length-1;l=-1;let d,f,p=t.length+e.length,m=[];for(let v=0;v<t.length;v++){for(d=0,f=p;d<f;)s(v,n+f)<=a?d=f:p=f,f=Math.floor((p-d)/2+d);p=f;let g=Math.max(1,n-f+1);const b=Math.min(n+f,e.length)+t.length,x=new Array(b+2);x[b+1]=(1<<v)-1;for(let y=b;y>=g;y--){const w=i[e.charAt(y-1)];if(v===0?x[y]=(x[y+1]<<1|1)&w:x[y]=(x[y+1]<<1|1)&w|((m[y+1]|m[y])<<1|1)|m[y+1],x[y]&u){const C=s(v,y-1);if(C<=a)if(a=C,l=y-1,l>n)g=Math.max(1,2*n-l);else break}}if(s(v+1,n)>a)break;m=x}return l}function HMt(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function IP(e,t,n){if(e===null||t===null||n===null)throw new Error("Null input. (match())");const r=Math.max(0,Math.min(n,e.length));if(e===t)return 0;if(e.length){if(e.substring(r,r+t.length)===t)return r}else return-1;return VMt(e,t,r)}function UE(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function o7(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==qn&&(t[n]=e[n][1]);return t.join("")}function eke(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==In&&(t[n]=e[n][1]);return t.join("")}function Zd(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=tke(r)}return t}function UMt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,o=0;function i(a){for(;r<a;){const l=t.codePointAt(o);if(typeof l>"u")return o;r+=tke(l),l>65535?o+=2:o+=1}if(!n.allowExceedingIndices&&r!==a)throw new Error("Failed to determine byte offset");return o}const s=[];for(const a of e)s.push({diffs:a.diffs.map(l=>Uw(l)),start1:i(a.start1),start2:i(a.start2),utf8Start1:a.utf8Start1,utf8Start2:a.utf8Start2,length1:a.length1,length2:a.length2,utf8Length1:a.utf8Length1,utf8Length2:a.utf8Length2});return s}function tke(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const $d=32,i7=4,WMt={margin:4};function PP(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{...WMt,...e}}function YMt(e,t,n){if(typeof e=="string"&&typeof t=="string"){let r=r7(e,t,{checkLines:!0});return r.length>2&&(r=XEe(r),r=JEe(r)),OP(e,r,PP(n))}if(e&&Array.isArray(e)&&typeof t>"u")return OP(o7(e),e,PP(n));if(typeof e=="string"&&t&&Array.isArray(t))return OP(e,t,PP(n));throw new Error("Unknown call format to make()")}function OP(e,t,n){if(t.length===0)return[];const r=[];let o=UE(0,0),i=0,s=0,a=0,l=0,u=0,d=e,f=e;for(let p=0;p<t.length;p++){const m=t[p],[v,g]=m,b=g.length,x=Zd(g);switch(!i&&v!==gt&&(o.start1=s,o.start2=a,o.utf8Start1=l,o.utf8Start2=u),v){case qn:o.diffs[i++]=m,o.length2+=b,o.utf8Length2+=x,f=f.substring(0,a)+g+f.substring(a);break;case In:o.length1+=b,o.utf8Length1+=x,o.diffs[i++]=m,f=f.substring(0,a)+f.substring(a+b);break;case gt:b<=2*n.margin&&i&&t.length!==p+1?(o.diffs[i++]=m,o.length1+=b,o.length2+=b,o.utf8Length1+=x,o.utf8Length2+=x):b>=2*n.margin&&i&&(YX(o,d,n),r.push(o),o=UE(-1,-1),i=0,d=f,s=a,l=u);break;default:throw new Error("Unknown diff type")}v!==qn&&(s+=b,l+=x),v!==In&&(a+=b,u+=x)}return i&&(YX(o,d,n),r.push(o)),r}function YX(e,t,n){if(t.length===0)return;let r=t.substring(e.start2,e.start2+e.length1),o=0;for(;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<$d-n.margin-n.margin;)o+=n.margin,r=t.substring(e.start2-o,e.start2+e.length1+o);o+=n.margin;let i=e.start2-o;i>=1&&wM(t[i])&&i--;const s=t.substring(i,e.start2);s&&e.diffs.unshift([gt,s]);const a=s.length,l=Zd(s);let u=e.start2+e.length1+o;u<t.length&&wM(t[u])&&u++;const d=t.substring(e.start2+e.length1,u);d&&e.diffs.push([gt,d]);const f=d.length,p=Zd(d);e.start1-=a,e.start2-=a,e.utf8Start1-=l,e.utf8Start2-=l,e.length1+=a+f,e.length2+=a+f,e.utf8Length1+=l+p,e.utf8Length2+=l+p}function qMt(e){let t=0,n=0,r=0;for(let o=0;o<e.length;o++){const i=e[o][0],s=e[o][1];switch(i){case qn:n+=s.length;break;case In:r+=s.length;break;case gt:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function qX(e,t){let n=0,r=0,o=0,i=0,s;for(s=0;s<e.length&&(e[s][0]!==qn&&(n+=e[s][1].length),e[s][0]!==In&&(r+=e[s][1].length),!(n>t));s++)o=n,i=r;return e.length!==s&&e[s][0]===In?i:i+(t-o)}function GMt(e){const n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i7;let r="";for(let s=1;s<=n;s++)r+=String.fromCharCode(s);for(const s of e)s.start1+=n,s.start2+=n,s.utf8Start1+=n,s.utf8Start2+=n;let o=e[0],i=o.diffs;if(i.length===0||i[0][0]!==gt)i.unshift([gt,r]),o.start1-=n,o.start2-=n,o.utf8Start1-=n,o.utf8Start2-=n,o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[0][1].length){const s=i[0][1].length,a=n-s;i[0][1]=r.substring(s)+i[0][1],o.start1-=a,o.start2-=a,o.utf8Start1-=a,o.utf8Start2-=a,o.length1+=a,o.length2+=a,o.utf8Length1+=a,o.utf8Length2+=a}if(o=e[e.length-1],i=o.diffs,i.length===0||i[i.length-1][0]!==gt)i.push([gt,r]),o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[i.length-1][1].length){const s=n-i[i.length-1][1].length;i[i.length-1][1]+=r.substring(0,s),o.length1+=s,o.length2+=s,o.utf8Length1+=s,o.utf8Length2+=s}return r}function KMt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i7;const n=$d;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const o=e[r];e.splice(r--,1);let i=o.start1,s=o.start2,a="";for(;o.diffs.length!==0;){const l=UE(i-a.length,s-a.length);let u=!0;if(a!==""){const p=Zd(a);l.length1=a.length,l.utf8Length1=p,l.length2=a.length,l.utf8Length2=p,l.diffs.push([gt,a])}for(;o.diffs.length!==0&&l.length1<n-t;){const p=o.diffs[0][0];let m=o.diffs[0][1],v=Zd(m);if(p===qn){l.length2+=m.length,l.utf8Length2+=v,s+=m.length;const g=o.diffs.shift();g&&l.diffs.push(g),u=!1}else p===In&&l.diffs.length===1&&l.diffs[0][0]===gt&&m.length>2*n?(l.length1+=m.length,l.utf8Length1+=v,i+=m.length,u=!1,l.diffs.push([p,m]),o.diffs.shift()):(m=m.substring(0,n-l.length1-t),v=Zd(m),l.length1+=m.length,l.utf8Length1+=v,i+=m.length,p===gt?(l.length2+=m.length,l.utf8Length2+=v,s+=m.length):u=!1,l.diffs.push([p,m]),m===o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(m.length))}a=eke(l.diffs),a=a.substring(a.length-t);const d=o7(o.diffs).substring(0,t),f=Zd(d);d!==""&&(l.length1+=d.length,l.length2+=d.length,l.utf8Length1+=f,l.utf8Length2+=f,l.diffs.length!==0&&l.diffs[l.diffs.length-1][0]===gt?l.diffs[l.diffs.length-1][1]+=d:l.diffs.push([gt,d])),u||e.splice(++r,0,l)}}}function nke(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(e.length===0)return[r,[]];const o=UMt(e,r,{allowExceedingIndices:n.allowExceedingIndices}),i=n.margin||i7,s=n.deleteThreshold||.4,a=GMt(o,i);r=a+r+a,KMt(o,i);let l=0;const u=[];for(let d=0;d<o.length;d++){const f=o[d].start2+l,p=o7(o[d].diffs);let m,v=-1;if(p.length>$d?(m=IP(r,p.substring(0,$d),f),m!==-1&&(v=IP(r,p.substring(p.length-$d),f+p.length-$d),(v===-1||m>=v)&&(m=-1))):m=IP(r,p,f),m===-1)u[d]=!1,l-=o[d].length2-o[d].length1;else{u[d]=!0,l=m-f;let g;if(v===-1?g=r.substring(m,m+p.length):g=r.substring(m,v+$d),p===g)r=r.substring(0,m)+eke(o[d].diffs)+r.substring(m+p.length);else{let b=r7(p,g,{checkLines:!1});if(p.length>$d&&qMt(b)/p.length>s)u[d]=!1;else{b=QEe(b);let x=0,y=0;for(let w=0;w<o[d].diffs.length;w++){const C=o[d].diffs[w];C[0]!==gt&&(y=qX(b,x)),C[0]===qn?r=r.substring(0,m+y)+C[1]+r.substring(m+y):C[0]===In&&(r=r.substring(0,m+y)+r.substring(m+qX(b,x+C[1].length))),C[0]!==In&&(x+=C[1].length)}}}}}return r=r.substring(a.length,r.length-a.length),[r,u]}function ZMt(e){return e.map(XMt).join("")}function XMt(e){const{utf8Length1:t,utf8Length2:n,utf8Start1:r,utf8Start2:o,diffs:i}=e;let s;t===0?s="".concat(r,",0"):t===1?s="".concat(r+1):s="".concat(r+1,",").concat(t);let a;n===0?a="".concat(o,",0"):n===1?a="".concat(o+1):a="".concat(o+1,",").concat(n);const l=["@@ -".concat(s," +").concat(a,` @@
`)];let u;for(let d=0;d<i.length;d++){switch(i[d][0]){case qn:u="+";break;case In:u="-";break;case gt:u=" ";break;default:throw new Error("Unknown patch operation.")}l[d+1]="".concat(u+encodeURI(i[d][1]),`
`)}return l.join("").replace(/%20/g," ")}const QMt=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function s7(e){if(!e)return[];const t=[],n=e.split(`
`);let r=0;for(;r<n.length;){const o=n[r].match(QMt);if(!o)throw new Error("Invalid patch string: ".concat(n[r]));const i=UE(k_(o[1]),k_(o[3]));for(t.push(i),o[2]===""?(i.start1--,i.utf8Start1--,i.length1=1,i.utf8Length1=1):o[2]==="0"?(i.length1=0,i.utf8Length1=0):(i.start1--,i.utf8Start1--,i.utf8Length1=k_(o[2]),i.length1=i.utf8Length1),o[4]===""?(i.start2--,i.utf8Start2--,i.length2=1,i.utf8Length2=1):o[4]==="0"?(i.length2=0,i.utf8Length2=0):(i.start2--,i.utf8Start2--,i.utf8Length2=k_(o[4]),i.length2=i.utf8Length2),r++;r<n.length;){const s=n[r],a=s.charAt(0);if(a==="@")break;if(a===""){r++;continue}let l;try{l=decodeURI(s.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(s))}const u=Zd(l)-l.length;if(a==="-")i.diffs.push([In,l]),i.length1-=u;else if(a==="+")i.diffs.push([qn,l]),i.length2-=u;else if(a===" ")i.diffs.push([gt,l]),i.length1-=u,i.length2-=u;else throw new Error('Invalid patch mode "'.concat(a,'" in: ').concat(l));r++}}return t}function k_(e){return parseInt(e,10)}function rke(e){return{type:"setIfMissing",path:arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],value:e}}function GX(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=YMt(e,t),o=ZMt(r);return{type:"diffMatchPatch",path:n,value:o}}function cu(e,t){return{type:"insert",path:arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],position:t,items:e}}function ul(e){return{type:"set",path:arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],value:e}}function Ys(){return{type:"unset",path:arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]}}const JMt=[];function mv(e,t){const n=t[e._key];return n&&Yt(e,n)?n:(t[e._key]=e,e)}function Sc(e,t){let{schemaTypes:n}=t,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e&&Array.isArray(e)?e.map(o=>{const{_type:i,_key:s,...a}=o,l=[{_key:"".concat(s,"-void-child"),_type:"span",text:"",marks:[]}];if(o&&o._type===n.block.name){const d=o;let f=!1;const p=typeof d.style>"u",m=typeof d.markDefs>"u",v=d.children.map(g=>{const{_type:b,_key:x,...y}=g;return b!=="span"?(f=!0,mv({_type:b,_key:x,children:l,value:y,__inline:!0},r)):g});return!p&&!m&&!f&&Ie.isElement(o)?o:(p&&(a.style=n.styles[0].value),m&&(a.markDefs=JMt),mv({_type:i,_key:s,...a,children:v},r))}return mv({_type:i,_key:s,children:l,value:a},r)}):[]}function vr(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.map(r=>{const{_key:o,_type:i}=r;if(!o||!i)throw new Error("Not a valid block");if(i===t&&"children"in r&&Array.isArray(r.children)&&o){let a=!1;const l=r.children.map(u=>{const{_type:d}=u;if("value"in u&&d!=="span"){a=!0;const{value:f,_key:p,_type:m,__inline:v,children:g,...b}=u;return mv({...b,...f,_key:p,_type:m},n)}return u});return a?mv({...r,children:l,_key:o,_type:i},n):r}const s="value"in r&&r.value;return mv({_key:o,_type:i,...typeof s=="object"?s:{}},n)})}function WE(e,t){var n;return e===void 0||e&&Array.isArray(e)&&e.length===0||e&&Array.isArray(e)&&e.length===1&&Ie.isElement(e[0])&&e[0]._type===t.block.name&&"style"in e[0]&&e[0].style===t.styles[0].value&&!("listItem"in e[0])&&Array.isArray(e[0].children)&&e[0].children.length===1&&we.isText(e[0].children[0])&&e[0].children[0]._type==="span"&&!((n=e[0].children[0].marks)!=null&&n.join(""))&&e[0].children[0].text===""}const Kh=Ur("operationToPatches");Kh.enabled=!1;function e4t(e){const t=e.block.name;function n(d,f,p){Kh.enabled&&Kh("Operation",JSON.stringify(f,null,2));const m=d.isTextBlock(d.children[f.path[0]])&&d.children[f.path[0]];if(!m)throw new Error("Could not find block");const v=d.isTextBlock(m)&&d.isTextSpan(m.children[f.path[1]])&&m.children[f.path[1]];if(!v)throw new Error("Could not find child");const g=[{_key:m._key},"children",{_key:v._key},"text"],b=p[f.path[0]],x=d.isTextBlock(b)&&b.children[f.path[1]],y=d.isTextSpan(x)?x.text:"",w=GX(y,v.text,g);return w.value.length?[w]:[]}function r(d,f,p){const m=d&&d.children[f.path[0]];if(!m)throw new Error("Could not find block");const v=d.isTextBlock(m)&&m.children[f.path[1]]||void 0,g=d.isTextSpan(v)?v:void 0;if(v&&!g)throw new Error("Expected span");if(!g)throw new Error("Could not find child");const b=[{_key:m._key},"children",{_key:g._key},"text"],x=p[f.path[0]],y=d.isTextBlock(x)&&x.children[f.path[1]],w=d.isTextSpan(y)&&y.text,C=GX(w||"",g.text,b);return C.value?[C]:[]}function o(d,f){if(f.path.length===1){const p=d.children[f.path[0]];if(typeof p._key!="string")throw new Error("Expected block to have a _key");const m=X2e({...d.children[f.path[0]],...f.newProperties},Q2e);return[ul(vr([m],t)[0],[{_key:p._key}])]}else if(f.path.length===2){const p=d.children[f.path[0]];if(d.isTextBlock(p)){const m=p.children[f.path[1]];if(m){const v=p._key,g=m._key,b=[];return Object.keys(f.newProperties).forEach(x=>{const y=Nn(f.newProperties,x);b.push(ul(y,[{_key:v},"children",{_key:g},x]))}),b}throw new Error("Could not find a valid child")}throw new Error("Could not find a valid block")}else throw new Error("Unexpected path encountered: ".concat(JSON.stringify(f.path)))}function i(d,f,p){const m=p[f.path[0]],v=d.isTextBlock(m);if(f.path.length===1){const g=f.path[0]===0?"before":"after",b=p[f.path[0]-1],x=f.path[0]===0?m==null?void 0:m._key:b==null?void 0:b._key;return x?[cu([vr([f.node],t)[0]],g,[{_key:x}])]:[rke(p,[]),cu([vr([f.node],t)[0]],"before",[f.path[0]])]}else if(v&&f.path.length===2&&d.children[f.path[0]]){const g=m.children.length===0||!m.children[f.path[1]-1]?"before":"after",b={...f.node};!b._type&&we.isText(b)&&(b._type="span",b.marks=[]);const y=vr([{_key:"bogus",_type:t,children:[b]}],t)[0].children[0];return[cu([y],g,[{_key:m._key},"children",m.children.length<=1||!m.children[f.path[1]-1]?0:{_key:m.children[f.path[1]-1]._key}])]}return Kh("Something was inserted into a void block. Not producing editor patches."),[]}function s(d,f,p){const m=[],v=d.children[f.path[0]];if(!d.isTextBlock(v))throw new Error("Block with path ".concat(JSON.stringify(f.path[0])," is not a text block and can't be split"));if(f.path.length===1){const g=p[f.path[0]];if(d.isTextBlock(g)){const b=vr([d.children[f.path[0]+1]],t)[0];b&&(m.push(cu([b],"after",[{_key:v._key}])),g.children.slice(f.position).forEach(y=>{const w=[{_key:g._key},"children",{_key:y._key}];m.push(Ys(w))}))}return m}if(f.path.length===2){const g=v.children[f.path[1]];if(d.isTextSpan(g)){const b=vr([{...v,children:v.children.slice(f.path[1]+1,f.path[1]+2)}],t)[0].children;m.push(cu(b,"after",[{_key:v._key},"children",{_key:g._key}])),m.push(ul(g.text,[{_key:v._key},"children",{_key:g._key},"text"]))}return m}return m}function a(d,f,p){const m=p[f.path[0]];if(f.path.length===1){if(m&&m._key)return[Ys([{_key:m._key}])];throw new Error("Block not found")}else if(d.isTextBlock(m)&&f.path.length===2){const v=d.isTextBlock(m)&&m.children&&m.children[f.path[1]];return v?[Ys([{_key:m._key},"children",{_key:v._key}])]:(Kh("Span not found in editor trying to remove node"),[])}else return Kh("Not creating patch inside object block"),[]}function l(d,f,p){const m=[],v=p[f.path[0]],g=d.children[f.path[0]];if(f.path.length===1)if(v!=null&&v._key){const b=vr([d.children[f.path[0]-1]],t)[0];m.push(ul(b,[{_key:b._key}])),m.push(Ys([{_key:v._key}]))}else throw new Error("Target key not found!");else if(f.path.length===2&&d.isTextBlock(g)){const b=d.isTextBlock(v)&&v.children[f.path[1]]||void 0,x=g.children[f.path[1]-1];d.isTextSpan(x)&&(m.push(ul(x.text,[{_key:v._key},"children",{_key:x._key},"text"])),b&&m.push(Ys([{_key:v._key},"children",{_key:b._key}])))}else Kh("Void nodes can't be merged, not creating any patches");return m}function u(d,f,p){const m=[],v=p[f.path[0]],g=p[f.newPath[0]];if(f.path.length===1){const b=f.path[0]>f.newPath[0]?"before":"after";m.push(Ys([{_key:v._key}])),m.push(cu([vr([v],t)[0]],b,[{_key:g._key}]))}else if(f.path.length===2&&d.isTextBlock(v)&&d.isTextBlock(g)){const b=v.children[f.path[1]],x=g.children[f.newPath[1]],y=f.newPath[1]===g.children.length?"after":"before",w=vr([v],t)[0].children[f.path[1]];m.push(Ys([{_key:v._key},"children",{_key:b._key}])),m.push(cu([w],y,[{_key:g._key},"children",{_key:x._key}]))}return m}return{insertNodePatch:i,insertTextPatch:n,mergeNodePatch:l,moveNodePatch:u,removeNodePatch:a,removeTextPatch:r,setNodePatch:o,splitNodePatch:s}}function KX(e,t,n){const r=[e.path[0]];if(!t)return null;const o=t[r[0]];if(!o)return null;const i=[{_key:o._key}];if(o._type!==n.block.name)return i;let s;const a=e.path.slice(0,2),l=Array.isArray(o.children)&&o.children[a[1]];return l&&(s=["children",{_key:l._key}]),s?[...i,...s]:i}function ZX(e,t){if(!t)return[];const[n,r]=Array.from(R.nodes(t,{at:[],match:s=>Or(e.path[0])&&s._key===e.path[0]._key}))[0]||[void 0,void 0];if(!n||!Ie.isElement(n))return[];if(t.isVoid(n))return[r[0],0];const o=[e.path[2]],i=n.children.findIndex(s=>Yt([{_key:s._key}],o));if(i>=0&&n.children[i]){const s=n.children[i];return Ie.isElement(s)&&t.isVoid(s)?r.concat(i).concat(0):r.concat(i)}return r}function up(e,t,n){if(!t)return null;let r=null,o=null;const i=t.anchor&&KX(t.anchor,e,n);i&&t.anchor&&(r={path:i,offset:t.anchor.offset});const s=t.focus&&KX(t.focus,e,n);return s&&t.focus&&(o={path:s,offset:t.focus.offset}),r&&o?{anchor:r,focus:o}:null}function vS(e,t){if(!e||!t)return null;const n={path:ZX(e.anchor,t),offset:e.anchor.offset},r={path:ZX(e.focus,t),offset:e.focus.offset};return n&&r?{anchor:n,focus:r}:null}function YE(e){if(e){const t=e&&window.getSelection();t==null||t.removeAllRanges()}}const j_=Ur("API:editable");function t4t(e,t,n){return function(o){return e.setEditable({focus:()=>{if(!o.selection){const i={path:[0,0],offset:0};se.select(o,{focus:i,anchor:i}),o.onChange()}pe.focus(o)},blur:()=>{pe.blur(o)},toggleMark:i=>{o.pteToggleMark(i)},toggleList:i=>{o.pteToggleListItem(i)},toggleBlockStyle:i=>{o.pteToggleBlockStyle(i)},isMarkActive:i=>{try{return o.pteIsMarkActive(i)}catch(s){return console.warn(s),!1}},marks:()=>({...R.marks(o)||{}}).marks||[],undo:()=>o.undo(),redo:()=>o.redo(),select:i=>{const s=vS(i,o);s?se.select(o,s):se.deselect(o),o.onChange()},focusBlock:()=>{if(o.selection){const i=Ee.descendant(o,o.selection.focus.path.slice(0,1));if(i)return vr([i],t.block.name,wa.get(o))[0]}},focusChild:()=>{if(o.selection){const i=Ee.descendant(o,o.selection.focus.path.slice(0,1));if(i&&o.isTextBlock(i))return vr([i],t.block.name,wa.get(o))[0].children[o.selection.focus.path[1]]}},insertChild:(i,s)=>{var a;if(!o.selection)throw new Error("The editor has no selection");const[l]=Array.from(R.nodes(o,{at:o.selection.focus.path.slice(0,1)}))[0]||[void 0];if(!l)throw new Error("No focus block");const d=Sc([{_key:n(),_type:t.block.name,children:[{_key:n(),_type:i.name,...s||{}}]}],e)[0].children[0];return R.insertNode(o,d),o.onChange(),((a=up(vr(o.children,t.block.name,wa.get(o)),o.selection,t))==null?void 0:a.focus.path)||[]},insertBlock:(i,s)=>{var a;if(!o.selection)throw new Error("The editor has no selection");const l=Sc([{_key:n(),_type:i.name,...s||{}}],e)[0];return R.insertNode(o,l),o.onChange(),((a=up(vr(o.children,t.block.name,wa.get(o)),o.selection,t))==null?void 0:a.focus.path)||[]},hasBlockStyle:i=>{try{return o.pteHasBlockStyle(i)}catch{return!1}},hasListStyle:i=>{try{return o.pteHasListStyle(i)}catch{return!1}},isVoid:i=>![t.block.name,t.span.name].includes(i._type),findByPath:i=>{const s=vS({focus:{path:i,offset:0},anchor:{path:i,offset:0}},o);if(s){const[a,l]=R.node(o,s.focus.path.slice(0,1));if(a&&l&&typeof a._key=="string"){if(i.length===1&&s.focus.path.length===1)return[vr([a],t.block.name)[0],[{_key:a._key}]];const u=vr([a],t.block.name,wa.get(o))[0];if(o.isTextBlock(u)){const d=u.children[s.focus.path[1]];if(d)return[d,[{_key:a._key},"children",{_key:d._key}]]}}}return[void 0,void 0]},findDOMNode:i=>{let s;try{const[a]=Array.from(R.nodes(o,{at:[],match:l=>l._key===i._key})||[])[0]||[void 0];s=pe.toDOMNode(o,a)}catch{}return s},activeAnnotations:()=>{var i;if(!o.selection||o.selection.focus.path.length<2)return[];try{const s=[],a=R.nodes(o,{at:o.selection,match:l=>we.isText(l)&&l.marks!==void 0&&Array.isArray(l.marks)&&l.marks.length>0});for(const[l,u]of a){const[d]=R.node(o,u,{depth:1});o.isTextBlock(d)&&((i=d.markDefs)==null||i.forEach(f=>{we.isText(l)&&l.marks&&Array.isArray(l.marks)&&l.marks.includes(f._key)&&s.push(f)}))}return s}catch{return[]}},addAnnotation:(i,s)=>{const{selection:a}=o;if(a){const[l]=R.node(o,a.focus,{depth:1});if(Ie.isElement(l)&&l._type===t.block.name){const u=n();if(o.isTextBlock(l)){se.setNodes(o,{markDefs:[...l.markDefs||[],{_type:i.name,_key:u,...s}]},{at:a.focus}),o.onChange(),ue.isCollapsed(a)&&(o.pteExpandToWord(),o.onChange());const[d]=R.node(o,a.focus,{depth:2});if(o.selection){R.withoutNormalizing(o,()=>{se.setNodes(o,{},{match:we.isText,split:!0}),o.selection&&we.isText(d)&&(se.setNodes(o,{marks:[...d.marks||[],u]},{at:o.selection,match:p=>p._type===t.span.name}),o.onChange())}),R.normalize(o),o.onChange();const f=up(vr(o.children,t.block.name,wa.get(o)),o.selection,t);if(f&&typeof l._key=="string")return R.withoutNormalizing(o,()=>{o.selection&&(se.insertNodes(o,[{_type:"span",text:"",marks:[],_key:n()}],{at:ue.end(o.selection)}),o.onChange())}),{spanPath:f.focus.path,markDefPath:[{_key:l._key},"markDefs",{_key:u}]}}}}}},delete:(i,s)=>{if(i){const a=vS(i,o);if(!(a&&a.anchor.path.length>0&&a.focus.path.length>0))throw new Error("Invalid range");if(a){if(!(s!=null&&s.mode)||(s==null?void 0:s.mode)==="selected"){j_("Deleting content in selection"),se.delete(o,{at:a,hanging:!0,voids:!0}),o.onChange();return}(s==null?void 0:s.mode)==="blocks"&&(j_("Deleting blocks touched by selection"),se.removeNodes(o,{at:a,voids:!0,match:u=>o.isTextBlock(u)||!o.isTextBlock(u)&&Ie.isElement(u)})),(s==null?void 0:s.mode)==="children"&&(j_("Deleting children touched by selection"),se.removeNodes(o,{at:a,voids:!0,match:u=>u._type===t.span.name||!o.isTextBlock(u)&&Ie.isElement(u)})),o.children.length===0&&(o.children=[o.createPlaceholderBlock()]),o.onChange()}}},removeAnnotation:i=>{let{selection:s}=o;if(j_("Removing annotation",i),s){if(ue.isCollapsed(s)){const[a,l]=R.node(o,s,{depth:2});we.isText(a)&&a.marks&&typeof a.text=="string"&&(se.select(o,l),s=o.selection)}R.withoutNormalizing(o,()=>{if(s&&ue.isExpanded(s)){if(s=o.selection,!s)return;se.setNodes(o,{},{match:we.isText,split:!0}),o.onChange(),[...R.nodes(o,{at:s,match:l=>we.isText(l)&&l.marks!==void 0&&Array.isArray(l.marks)&&l.marks.length>0})].forEach(l=>{let[u,d]=l;var f;const[p]=R.node(o,d,{depth:1});o.isTextBlock(p)&&((f=p.markDefs)==null||f.filter(m=>m._type===i.name).forEach(m=>{if(we.isText(u)&&Array.isArray(u.marks)&&u.marks.includes(m._key)){const v=[...(u.marks||[]).filter(g=>g!==m._key)];se.setNodes(o,{marks:v},{at:d,voids:!1,split:!1})}}))})}}),R.normalize(o),o.onChange()}},getSelection:()=>{let i=null;if(o.selection){const s=HE.get(o.selection);if(s)return s;i=up(vr(o.children,t.block.name,wa.get(o)),o.selection,t),HE.set(o.selection,i)}return i},getValue:()=>vr(o.children,t.block.name,wa.get(o)),isCollapsedSelection:()=>!!o.selection&&ue.isCollapsed(o.selection),isExpandedSelection:()=>!!o.selection&&ue.isExpanded(o.selection),insertBreak:()=>{o.insertBreak(),o.onChange()}}),o}}function n4t(e){return function(n){const{apply:r}=n;return n.apply=o=>{const i=e;i>0&&n.children.length>=i&&(o.type==="insert_node"||o.type==="split_node")&&o.path.length===1||r(o)},n}}const qE=new WeakMap;function xx(e,t){const n=oke(e);qE.set(e,!0),t(),qE.set(e,n)}function oke(e){return qE.get(e)}function r4t(e,t){return function(r){qE.set(r,!1);const{apply:o,normalizeNode:i}=r;return r.apply=s=>{if(s.type==="split_node"&&(s.properties={...s.properties,_key:t()}),s.type==="insert_node"){const a=!oke(r)||!("_key"in s.node);R.isEditor(s.node)||(s.node={...s.node,...a?{_key:t()}:{}})}o(s)},r.normalizeNode=s=>{const[a,l]=s;if(Ie.isElement(a)&&a._type===e.block.name){a._key||se.setNodes(r,{_key:t()},{at:l});for(const[u,d]of Ee.children(r,l))if(!u._key){se.setNodes(r,{_key:t()},{at:d});return}}i(s)},r}}const GE=new WeakMap;function CM(e,t){const n=ike(e);GE.set(e,!1),t(),GE.set(e,n)}function ike(e){return GE.get(e)}const XX="before",QX="after";function o4t(e,t,n){if(t!==XX&&t!==QX)throw new Error('Invalid position "'.concat(t,'", must be either ').concat(XX," or ").concat(QX));for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];const s=JX(...o);if(e.length===0)return s;const a=e.length,l=Math.abs((a+n)%a)%a,u=t==="after"?l+1:l,d=e.slice();return d.splice(u,0,...JX(s)),d}function JX(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o),[])}const eQ=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function i4t(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function s4t(e,t){if(typeof t=="number")return t;const n=e7(e,t);return n===-1?!1:n}function a4t(e,t){const n=e.slice();if(t.path.length===0){if(t.type==="setIfMissing"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return e===void 0?t.value:e}else if(t.type==="set"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}else{if(t.type==="unset")return;if(t.type==="move"){if(!t.value||!eQ(t.value,"from")||!eQ(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: `.concat(JSON.stringify(t.value)));return i4t(n,t.value.from,t.value.to)}}throw new Error("Invalid array operation: ".concat(t.type))}const[r,...o]=t.path,i=s4t(e,r);if(i===!1)return n;if(o.length===0){if(t.type==="insert"){const{position:s,items:a}=t;return o4t(e,s,i,a)}else if(t.type==="unset"){if(typeof i!="number")throw new Error('Expected array index to be a number, instead got "'.concat(i,'"'));return n.splice(i,1),n}}return n[i]=a7(n[i],{...t,path:o}),n}function l4t(e,t){const n=LEe(e);if(t.path.length===0){if(t.type==="set"){if(!tw(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}else{if(t.type==="unset")return;if(t.type==="setIfMissing")return e===void 0?t.value:e}throw new Error("Invalid object operation: ".concat(t.type))}const[r,...o]=t.path;if(typeof r!="string")throw new Error("Expected field name to be a string, instad got: ".concat(r));return o.length===0&&t.type==="unset"?ji(n,r):(n[r]=a7(n[r],{...t,path:o}),n)}const ske={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},inc(e,t){return e+t},dec(e,t){return e-t}},c4t=Object.keys(ske);function u4t(e,t){if(!c4t.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for primitives. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.map(n=>JSON.stringify(n)).join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return ske[t.type](e,t.value)}const ake={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},diffMatchPatch(e,t){const[n]=nke(s7(t),e,{allowExceedingIndices:!0});return n}},d4t=Object.keys(ake);function f4t(e,t){if(!d4t.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for string. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on string values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));const n=ake[t.type];if(n)return n(e,t.value);throw new Error("Unknown patch type")}function h4t(e,t){return t.reduce(a7,e)}function p4t(e,t){return Array.isArray(e)?a4t(e,t):vT(e)?f4t(e,t):tw(e)?l4t(e,t):u4t(e,t)}function a7(e,t){return p4t(e,t)}const xr=Ur("applyPatches"),l7=xr.enabled&&!0;function m4t(e){let t;return function(n,r){let o=!1;l7&&(xr(`

NEW PATCH =============================================================`),xr(JSON.stringify(r,null,2)));try{switch(r.type){case"insert":o=v4t(n,r,e);break;case"unset":o=b4t(n,r,t);break;case"set":o=y4t(n,r);break;case"diffMatchPatch":o=g4t(n,r);break;default:xr("Unhandled patch",r.type)}}catch(i){console.error(i)}return t=r,o}}function g4t(e,t){const{block:n,child:r,childPath:o}=GT(e,t.path);if(!n)return xr("Block not found"),!1;if(!r||!o)return xr("Child not found"),!1;if(!(n&&e.isTextBlock(n)&&t.path.length===4&&t.path[1]==="children"&&t.path[3]==="text")||!we.isText(r))return!1;const s=s7(t.value),[a]=nke(s,r.text,{allowExceedingIndices:!0}),l=JEe(r7(r.text,a),5);vs(e,"before");let u=0;for(const[d,f]of l)d===qn?(e.apply({type:"insert_text",path:o,offset:u,text:f}),u+=f.length):d===In?e.apply({type:"remove_text",path:o,offset:u,text:f}):d===gt&&(u+=f.length);return vs(e,"after"),!0}function v4t(e,t,n){const{block:r,child:o,blockPath:i,childPath:s}=GT(e,t.path);if(!r||!i)return xr("Block not found"),!1;if(t.path.length>1&&t.path[1]!=="children")return xr("Ignoring patch targeting void value"),!1;if(t.path.length===1){const{items:m,position:v}=t,g=Sc(m,{schemaTypes:n},xM.get(e)),b=i[0],x=v==="after"?b+1:b;return xr("Inserting blocks at path [".concat(x,"]")),vs(e,"before"),se.insertNodes(e,g,{at:[x]}),vs(e,"after"),!0}const{items:a,position:l}=t;if(!o||!s)return xr("Child not found"),!1;const u=r&&Sc([{...r,children:a}],{schemaTypes:n},xM.get(e)),d=s[1],f=l==="after"?d+1:d,p=[s[0],f];return xr("Inserting children at path ".concat(p)),vs(e,"before"),u&&Ie.isElement(u[0])&&se.insertNodes(e,u[0].children,{at:p}),vs(e,"after"),!0}function y4t(e,t){let n=t.value;typeof t.path[3]=="string"&&(n={},n[t.path[3]]=t.value);const{block:r,blockPath:o,child:i,childPath:s}=GT(e,t.path);if(!r)return xr("Block not found"),!1;const a=e.isTextBlock(r);if(a&&t.path.length>1&&t.path[1]!=="children")return xr("Ignoring setting void value"),!1;if(vs(e,"before"),a&&i&&s){if(we.isText(n)&&we.isText(i)){const l=i.text;n.text!==l&&(xr("Setting text property"),e.apply({type:"remove_text",path:s,offset:0,text:l}),e.apply({type:"insert_text",path:s,offset:0,text:n.text}),e.onChange())}else xr("Setting non-text property"),e.apply({type:"set_node",path:s,properties:{},newProperties:n});return!0}else if(Ie.isElement(r)&&t.path.length===1&&o){xr("Setting block property");const{children:l,...u}=n,{children:d,...f}=r||{children:void 0};e.apply({type:"set_node",path:o,properties:{...f},newProperties:u}),r.children.forEach((p,m)=>{e.apply({type:"remove_node",path:o.concat(m),node:p})}),Array.isArray(l)&&l.forEach((p,m)=>{e.apply({type:"insert_node",path:o.concat(m),node:p})})}else if(r&&"value"in r){const l=h4t([r.value],[t])[0];return se.setNodes(e,{...r,value:l},{at:o}),!0}return vs(e,"after"),!0}function b4t(e,t,n){if(t.path.length===0){xr("Removing everything"),vs(e,"before");const a=e.selection;return se.deselect(e),e.children.forEach((l,u)=>{se.removeNodes(e,{at:[u]})}),se.insertNodes(e,e.createPlaceholderBlock()),a&&se.select(e,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),e.onChange(),vs(e,"after"),!0}const{block:r,blockPath:o,child:i,childPath:s}=GT(e,t.path);if(t.path.length===1){if(!r||!o)return xr("Block not found"),!1;const a=o[0];return xr("Removing block at path [".concat(a,"]")),vs(e,"before"),se.removeNodes(e,{at:[a]}),vs(e,"after"),!0}if(e.isTextBlock(r)&&t.path[1]==="children"&&t.path.length===3){if(!i||!s)return xr("Child not found"),!1;const a=s[1];return xr("Unsetting child at path ".concat(JSON.stringify(s))),vs(e,"before"),l7&&xr("Removing child at path ".concat(JSON.stringify([s,a]))),se.removeNodes(e,{at:s}),vs(e,"after"),!0}return!1}function lke(e){return typeof e=="object"&&"_key"in e}function vs(e,t){l7&&(xr("Children ".concat(t,":"),JSON.stringify(e.children,null,2)),xr("Selection ".concat(t,": "),JSON.stringify(e.selection,null,2)))}function x4t(e,t){let n=-1;const r=e.children.find((o,i)=>{const s=lke(t[0])?o._key===t[0]._key:i===t[0];return s&&(n=i),s});return r?{block:r,path:[n]}:{}}function GT(e,t){const{block:n,path:r}=x4t(e,t);if(!(Ie.isElement(n)&&t[1]==="children"))return{block:n,blockPath:r,child:void 0,childPath:void 0};let o=-1;const i=n.children.find((s,a)=>{const l=lke(t[2])?s._key===t[2]._key:a===t[2];return l&&(o=a),l});return i?{block:n,child:i,blockPath:r,childPath:r==null?void 0:r.concat(o)}:{block:n,blockPath:r,child:void 0,childPath:void 0}}function cke(e,t){const n=uke(e)||!1;VE.set(e,!0),t(),VE.set(e,n)}function uke(e){return VE.get(e)}function w4t(e){return gS.get(e)}const qo=Ur("plugin:withUndoRedo"),tQ=qo.enabled&&!1,gv=new WeakMap,$P=new WeakMap,C4t=1e3,dke=e=>{const t=gv.get(e);return t===void 0?!0:t},_4t=e=>($P.get(e)||$P.set(e,[]),$P.get(e)||[]);function S4t(e){const{readOnly:t,patches$:n,blockSchemaType:r}=e;return o=>{let i=vr(o.children,r.name);const s=_4t(o);n&&o.subscriptions.push(()=>{qo("Subscribing to patches");const l=n.subscribe(u=>{let{patches:d,snapshot:f}=u,p=!1;d.forEach(m=>{if(!p&&m.origin!=="local"&&s){if(m.type==="unset"&&m.path.length===0){qo("Someone else cleared the content, resetting undo/redo history"),o.history={undos:[],redos:[]},s.splice(0,s.length),gv.set(o,!0),p=!0;return}s.push({patch:m,time:new Date,snapshot:f,previousSnapshot:i})}}),i=f});return()=>{qo("Unsubscribing to patches"),l.unsubscribe()}}),o.history={undos:[],redos:[]};const{apply:a}=o;return o.apply=l=>{if(t){a(l);return}const{operations:u,history:d}=o,{undos:f}=d,p=f[f.length-1],m=p&&p.operations&&p.operations[p.operations.length-1],v=k4t(l,m),g=dke(o);let b=!0;if(g){if(p?u.length===0&&(b=E4t(l,m)||v):b=!1,p&&b)p.operations.push(l);else{const x={operations:[...o.selection===null?[]:[T4t(o)],l],timestamp:new Date};f.push(x),qo("Created new undo step",p)}for(;f.length>C4t;)f.shift();j4t(l)&&(d.redos=[])}a(l)},o.undo=()=>{if(t)return;const{undos:l}=o.history;if(l.length>0){const u=l[l.length-1];if(qo("Undoing",u),u.operations.length>0){const d=s.filter(p=>p.time>=u.timestamp);let f=u.operations;d.forEach(p=>{f=En(f.map(m=>nQ(o,p.patch,m,p.snapshot,p.previousSnapshot)))}),YE(!!o.selection);try{R.withoutNormalizing(o,()=>{wx(o,()=>{f.map(Ug.inverse).reverse().forEach(p=>{o.apply(p)})})}),o.normalize(),o.onChange()}catch(p){qo("Could not perform undo step",p),s.splice(0,s.length),se.deselect(o),o.history={undos:[],redos:[]},gv.set(o,!0),o.onChange();return}o.history.redos.push(u),o.history.undos.pop()}}},o.redo=()=>{if(t)return;const{redos:l}=o.history;if(l.length>0){const u=l[l.length-1];if(qo("Redoing",u),u.operations.length>0){const d=s.filter(p=>p.time>=u.timestamp);let f=u.operations;d.forEach(p=>{f=En(f.map(m=>nQ(o,p.patch,m,p.snapshot,p.previousSnapshot)))}),YE(!!o.selection);try{R.withoutNormalizing(o,()=>{wx(o,()=>{f.forEach(p=>{o.apply(p)})})}),o.normalize(),o.onChange()}catch(p){qo("Could not perform redo step",p),s.splice(0,s.length),se.deselect(o),o.history={undos:[],redos:[]},gv.set(o,!0),o.onChange();return}o.history.undos.push(u),o.history.redos.pop()}}},o}}function nQ(e,t,n,r,o){tQ&&(qo("Adjusting '".concat(n.type,"' operation paths for '").concat(t.type,"' patch")),qo("Operation ".concat(JSON.stringify(n))),qo("Patch ".concat(JSON.stringify(t))));const i={...n};if(t.type==="insert"&&t.path.length===1){const s=(r||[]).findIndex(a=>Yt({_key:a._key},t.path[0]));return qo("Adjusting block path (+".concat(t.items.length,") for '").concat(i.type,"' operation and patch '").concat(t.type,"'")),[rQ(i,t.items.length,s)]}if(t.type==="unset"&&t.path.length===1){const s=(o||[]).findIndex(a=>Yt({_key:a._key},t.path[0]));return"path"in i&&Array.isArray(i.path)&&i.path[0]===s?(qo("Skipping transformation that targeted removed block"),[]):(tQ&&(qo("Selection ".concat(JSON.stringify(e.selection))),qo("Adjusting block path (-1) for '".concat(i.type,"' operation and patch '").concat(t.type,"'"))),[rQ(i,-1,s)])}if(t.type==="unset"&&t.path.length===0)return qo("Adjusting selection for unset everything patch and ".concat(n.type," operation")),[];if(t.type==="diffMatchPatch"){const s=A4t(e,i);return!s||!Yt({_key:s._key},t.path[0])?[i]:(s7(t.value).forEach(l=>{var u,d,f,p;let m=0,v=l.utf8Start1;const{diffs:g}=l;if(g.forEach((b,x)=>{const[y,w]=b;y===qn?(m+=w.length,v+=w.length):y===In?(m-=w.length,v-=w.length):y===gt&&(g.slice(x).every(C=>{let[_]=C;return _===gt})||(v+=w.length))}),i.type==="insert_text"&&v<i.offset&&(i.offset+=m),i.type==="remove_text"&&v<=i.offset-i.text.length&&(i.offset+=m),i.type==="set_selection"){const b=(u=i.properties)!=null&&u.focus?{...i.properties.focus}:void 0,x=(d=i==null?void 0:i.properties)!=null&&d.anchor?{...i.properties.anchor}:void 0,y=(f=i==null?void 0:i.newProperties)!=null&&f.focus?{...i.newProperties.focus}:void 0,w=(p=i==null?void 0:i.newProperties)!=null&&p.anchor?{...i.newProperties.anchor}:void 0;(b&&x||y&&w)&&([b,x,y,w].forEach(_=>{_&&v<_.offset&&(_.offset+=m)}),b&&x&&(i.properties={focus:b,anchor:x}),y&&w&&(i.newProperties={focus:y,anchor:w}))}}),[i])}return[i]}function rQ(e,t,n){var r,o,i,s;const a={...e};if(n>=0&&a.type!=="set_selection"&&Array.isArray(a.path)&&a.path[0]>=n+t&&a.path[0]+t>-1){const l=[a.path[0]+t,...a.path.slice(1)];a.path=l}if(a.type==="set_selection"){const l=(r=a.properties)!=null&&r.focus?{...a.properties.focus}:void 0,u=(o=a==null?void 0:a.properties)!=null&&o.anchor?{...a.properties.anchor}:void 0,d=(i=a==null?void 0:a.newProperties)!=null&&i.focus?{...a.newProperties.focus}:void 0,f=(s=a==null?void 0:a.newProperties)!=null&&s.anchor?{...a.newProperties.anchor}:void 0;(l&&u||d&&f)&&([l,u,d,f].forEach(m=>{m&&m.path[0]>=n+t&&m.path[0]+t>-1&&(m.path=[m.path[0]+t,...m.path.slice(1)])}),l&&u&&(a.properties={focus:l,anchor:u}),d&&f&&(a.newProperties={focus:d,anchor:f}))}return a}const E4t=(e,t)=>!!(e.type==="set_selection"||t&&e.type==="insert_text"&&t.type==="insert_text"&&e.offset===t.offset+t.text.length&&J.equals(e.path,t.path)&&e.text!==" "||t&&e.type==="remove_text"&&t.type==="remove_text"&&e.offset+e.text.length===t.offset&&J.equals(e.path,t.path)),k4t=(e,t)=>!!(t&&e.type==="set_selection"&&t.type==="set_selection"),j4t=e=>e.type!=="set_selection";function wx(e,t){const n=dke(e);gv.set(e,!1),t(),gv.set(e,n)}function T4t(e){return{type:"set_selection",properties:{...e.selection},newProperties:{...e.selection}}}function A4t(e,t){let n;return t.type==="set_selection"&&e.selection?n=e.children[e.selection.focus.path[0]]:"path"in t&&(n=e.children[t.path[0]]),n}const T_=Ur("plugin:withPatches");function D4t(e){let{change$:t,patches$:n,patchFunctions:r,readOnly:o,schemaTypes:i}=e,s;const a=m4t(i);return function(u){VE.set(u,!1),GE.set(u,!0),s=[...u.children];const{apply:d}=u;let f=[];const p=()=>{if(f.length===0)return;const v=f;f=[];let g=!1;cke(u,()=>{R.withoutNormalizing(u,()=>{CM(u,()=>{wx(u,()=>{xx(u,()=>{v.forEach(b=>{(b.type==="insert"||b.type==="unset")&&YE(!!u.selection),T_.enabled&&T_("Handling remote patch ".concat(JSON.stringify(b))),g=a(u,b)})})})})}),g&&(u.normalize(),u.onChange())})},m=v=>{let{patches:g}=v;const b=g.filter(x=>x.origin!=="local");b.length!==0&&(f=f.concat(b),p())};return n&&u.subscriptions.push(()=>{T_("Subscribing to patches$");const v=n.subscribe(m);return()=>{T_("Unsubscribing to patches$"),v.unsubscribe()}}),u.apply=v=>{if(o)return d(v),u;let g=[];s=u.children;const b=WE(s,i);d(v);const x=WE(u.children,i);if(!ike(u))return u;switch(b&&!x&&v.type!=="set_selection"&&g.push(cu(s,"before",[0])),v.type){case"insert_text":g=[...g,...r.insertTextPatch(u,v,s)];break;case"remove_text":g=[...g,...r.removeTextPatch(u,v,s)];break;case"remove_node":g=[...g,...r.removeNodePatch(u,v,s)];break;case"split_node":g=[...g,...r.splitNodePatch(u,v,s)];break;case"insert_node":g=[...g,...r.insertNodePatch(u,v,s)];break;case"set_node":g=[...g,...r.setNodePatch(u,v,s)];break;case"merge_node":g=[...g,...r.mergeNodePatch(u,v,s)];break;case"move_node":g=[...g,...r.moveNodePatch(u,v,s)];break}return!b&&x&&["merge_node","set_node","remove_text","remove_node"].includes(v.type)&&(g=[...g,Ys([])],t.next({type:"unset",previousValue:vr(s,i.block.name,wa.get(u))})),b&&g.length>0&&(g=[rke([],[]),...g]),g.length>0&&g.forEach(y=>{t.next({type:"patch",patch:{...y,origin:"local"}})}),u},u}}const I4t=Ur("plugin:withPlaceholderBlock");function P4t(e){let{schemaTypes:t,keyGenerator:n}=e;return function(o){return o.createPlaceholderBlock=()=>(I4t("Creating placeholder block"),{_type:t.block.name,_key:n(),style:t.styles[0].value||"normal",markDefs:[],children:[{_type:"span",_key:n(),text:"",marks:[]}]}),o}}const A_=Ur("plugin:withPortableTextBlockStyle");function O4t(e){const t=e.styles[0].value;return function(r){const{normalizeNode:o}=r;return r.normalizeNode=i=>{o(i);const[,s]=i;for(const a of r.operations)if(a.type==="split_node"&&a.path.length===1&&r.isTextBlock(a.properties)&&a.properties.style!==t&&a.path[0]===s[0]&&!J.equals(s,a.path)){const[l]=R.node(r,[a.path[0]+1,0]);if(we.isText(l)&&l.text===""){A_("Normalizing split node to ".concat(t," style"),a),se.setNodes(r,{style:t},{at:[a.path[0]+1],voids:!1});break}}},r.pteHasBlockStyle=i=>r.selection?[...R.nodes(r,{at:r.selection,match:a=>r.isTextBlock(a)&&a.style===i})].length>0:!1,r.pteToggleBlockStyle=i=>{if(!r.selection)return;[...R.nodes(r,{at:r.selection,match:a=>r.isTextBlock(a)})].forEach(a=>{let[l,u]=a;r.isTextBlock(l)&&l.style===i?(A_("Unsetting block style '".concat(i,"'")),se.setNodes(r,{...l,style:t},{at:u})):(i?A_("Setting style '".concat(i,"'")):A_("Setting default style",t),se.setNodes(r,{...l,style:i||t},{at:u}))}),r.onChange()},r}}const Sh=Ur("plugin:withPortableTextLists"),RP=10;function $4t(e){return function(n){return n.pteToggleListItem=r=>{n.pteHasListStyle(r)?(Sh("Remove list item '".concat(r,"'")),n.pteUnsetListItem(r)):(Sh("Add list item '".concat(r,"'")),n.pteSetListItem(r))},n.pteUnsetListItem=r=>{if(!n.selection)return;[...R.nodes(n,{at:n.selection,match:i=>Ie.isElement(i)&&i._type===e.block.name})].forEach(i=>{let[s,a]=i;if(n.isListBlock(s)){const{listItem:l,level:u,...d}=s,f={...d,listItem:void 0,level:void 0};Sh("Unsetting list '".concat(r,"'")),se.setNodes(n,f,{at:a})}})},n.pteSetListItem=r=>{if(!n.selection)return;[...R.nodes(n,{at:n.selection,match:i=>n.isTextBlock(i)})].forEach(i=>{let[s,a]=i;Sh("Setting list '".concat(r,"'")),se.setNodes(n,{...s,level:1,listItem:r||e.lists[0]&&e.lists[0].value},{at:a})})},n.pteEndList=()=>{if(!n.selection)return!1;const r=[...R.nodes(n,{at:n.selection,match:o=>Ie.isElement(o)&&n.isListBlock(o)&&o.children.length===1&&we.isText(o.children[0])&&o.children[0].text===""})];return r.length===0?!1:(r.forEach(o=>{let[i,s]=o;Ie.isElement(i)&&(Sh("Unset list"),se.setNodes(n,{...i,level:void 0,listItem:void 0},{at:s}))}),!0)},n.pteIncrementBlockLevels=r=>{if(!n.selection)return!1;const o=[...R.nodes(n,{at:n.selection,match:i=>!!n.isListBlock(i)})];return o.length===0?!1:(o.forEach(i=>{let[s,a]=i;if(n.isListBlock(s)){let l=s.level||1;r?(l--,Sh("Decrementing list level",Math.min(RP,Math.max(1,l)))):(l++,Sh("Incrementing list level",Math.min(RP,Math.max(1,l)))),se.setNodes(n,{level:Math.min(RP,Math.max(1,l))},{at:a})}}),!0)},n.pteHasListStyle=r=>n.selection?[...R.nodes(n,{at:n.selection,match:i=>n.isListBlock(i)&&i.listItem===r})].length>0:!1,n}}const Eh=Ur("plugin:withPortableTextMarkModel");function R4t(e,t){return function(i){const{apply:s,normalizeNode:a}=i,l=e.decorators.map(d=>d.value),u=()=>{i.selection&&(se.select(i,{...i.selection}),i.selection={...i.selection});const d=up(i.children,i.selection,e);t.next({type:"selection",selection:d})};return i.normalizeNode=d=>{a(d),i.operations.some(g=>["insert_node","insert_text","merge_node","remove_node","remove_text","set_node"].includes(g.type))&&n(i);const[f,p]=d,m=we.isText(f)&&f._type===e.span.name,v=i.isTextBlock(f);if(m||v){m&&!Array.isArray(f.marks)&&(Eh("Adding .marks to span node"),se.setNodes(i,{marks:[]},{at:p}),i.onChange());for(const g of i.operations){if(g.type==="merge_node"&&g.path.length===1&&"markDefs"in g.properties&&g.properties._type===e.block.name&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0&&g.path[0]-1>=0){const[b,x]=R.node(i,[g.path[0]-1]);if(Eh("Copying markDefs over to merged block",g),i.isTextBlock(b)){const y=Array.isArray(b.markDefs)&&b.markDefs||[],w=uo([...y,...g.properties.markDefs]);Yt(w,b.markDefs)||(se.setNodes(i,{markDefs:w},{at:x,voids:!1}),i.onChange())}}if(g.type==="split_node"&&g.path.length===1&&Ie.isElementProps(g.properties)&&g.properties._type===e.block.name&&"markDefs"in g.properties&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0&&g.path[0]+1<i.children.length){const[b,x]=R.node(i,[g.path[0]+1]);if(Eh("Copying markDefs over to split block",g),i.isTextBlock(b)){const y=Array.isArray(b.markDefs)&&b.markDefs||[];se.setNodes(i,{markDefs:uo([...y,...g.properties.markDefs])},{at:x,voids:!1}),i.onChange()}}if(g.type==="split_node"&&g.path.length===2&&g.properties._type===e.span.name&&"marks"in g.properties&&Array.isArray(g.properties.marks)&&g.properties.marks.length>0&&g.path[0]+1<i.children.length){const[b,x]=R.node(i,[g.path[0]+1,0]);we.isText(b)&&b.text===""&&Array.isArray(b.marks)&&b.marks.length>0&&(se.setNodes(i,{marks:[]},{at:x,voids:!1}),i.onChange())}if(g.type==="split_node"&&g.path.length===1&&g.properties._type===e.block.name&&"markDefs"in g.properties&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0){const[b,x]=R.node(i,[g.path[0]]);i.isTextBlock(b)&&b.children.length===1&&b.markDefs&&b.markDefs.length>0&&we.isText(b.children[0])&&b.children[0].text===""&&(!b.children[0].marks||b.children[0].marks.length===0)&&(se.setNodes(i,{markDefs:[]},{at:x}),i.onChange())}}m&&Array.isArray(f.marks)&&(!f.marks||f.marks.length>0&&f.text==="")&&(se.setNodes(i,{marks:[]},{at:p,voids:!1}),i.onChange())}v&&i.operations.some(g=>["split_node","remove_node","remove_text","merge_node"].includes(g.type))&&r(i)},i.apply=d=>{var f,p;if(d.type==="insert_text"){const{selection:m}=i;if(m&&ue.isCollapsed(m)&&((p=(f=R.marks(i))==null?void 0:f.marks)!=null&&p.some(v=>!l.includes(v)))){const[v]=Array.from(R.nodes(i,{mode:"lowest",at:m.focus,match:g=>g._type===e.span.name,voids:!1}))[0]||[void 0];if(we.isText(v)&&v.text.length===m.focus.offset&&Array.isArray(v.marks)&&v.marks.length>0){s(d),se.splitNodes(i,{match:we.isText,at:{...m.focus,offset:m.focus.offset}});const g=({...R.marks(i)||{}}.marks||[]).filter(b=>l.includes(b));se.setNodes(i,{marks:g},{at:J.next(m.focus.path)});return}}}s(d)},i.addMark=d=>{if(i.selection){if(ue.isExpanded(i.selection)){se.setNodes(i,{},{match:we.isText,split:!0});const f=[...R.nodes(i,{at:i.selection,match:we.isText})];if(En(f.map(m=>m[0]).map(m=>m.marks)).includes(d))return i.removeMark(d),i;R.withoutNormalizing(i,()=>{f.forEach(m=>{let[v,g]=m;const b=[...(Array.isArray(v.marks)?v.marks:[]).filter(x=>x!==d),d];se.setNodes(i,{marks:b},{at:g,match:we.isText,split:!0,hanging:!0})})}),R.normalize(i)}else{const f={...R.marks(i)||{}}.marks||[],p={...R.marks(i)||{},marks:[...f,d]};return i.marks=p,u(),i}i.onChange(),u()}return i},i.removeMark=d=>{const{selection:f}=i;if(f){if(ue.isExpanded(f))R.withoutNormalizing(i,()=>{se.setNodes(i,{},{match:we.isText,split:!0}),i.selection&&[...R.nodes(i,{at:i.selection,match:we.isText})].forEach(m=>{let[v,g]=m;const b=i.children[g[0]];Ie.isElement(b)&&b.children.includes(v)&&se.setNodes(i,{marks:(Array.isArray(v.marks)?v.marks:[]).filter(x=>x!==d),_type:"span"},{at:g})})}),R.normalize(i);else{const p={...R.marks(i)||{}}.marks||[],m={...R.marks(i)||{},marks:p.filter(v=>v!==d)};return i.marks={marks:m.marks,_type:"span"},u(),i}i.onChange(),u()}return i},i.pteIsMarkActive=d=>{if(!i.selection)return!1;let f={...R.marks(i)||{}}.marks||[];return ue.isExpanded(i.selection)&&Array.from(R.nodes(i,{match:we.isText,at:i.selection})).forEach(p=>{const[m]=p;f=uo([...f,...m.marks||[]])}),f.includes(d)},i.pteToggleMark=d=>{i.pteIsMarkActive(d)?(Eh("Remove mark '".concat(d,"'")),R.removeMark(i,d)):(Eh("Add mark '".concat(d,"'")),R.addMark(i,d,!0))},i};function n(o){const{selection:i}=o;if(i)for(const[s,a]of Array.from(R.nodes(o,{at:R.range(o,[i.anchor.path[0]],[i.focus.path[0]])})).reverse()){const[l]=a.length>1?R.node(o,J.parent(a)):[void 0],u=[a[0],a[1]+1];if(o.isTextBlock(l)){const d=l.children[u[1]];we.isText(s)&&we.isText(d)&&Yt(d.marks,s.marks)&&(Eh("Merging spans"),se.mergeNodes(o,{at:u,voids:!0}),o.onChange())}}}function r(o){const{selection:i}=o;if(i){const s=R.nodes(o,{at:i,match:a=>a._type===e.block.name});for(const[a,l]of s)if(o.isTextBlock(a)){const u=(a.markDefs||[]).filter(d=>a.children.find(f=>we.isText(f)&&Array.isArray(f.marks)&&f.marks.includes(d._key)));Yt(u,a.markDefs)||(Eh("Removing markDef not in use"),se.setNodes(o,{markDefs:u},{at:l}),o.onChange())}}}}const fke=Ur("plugin:withPortableTextSelections"),M4t=fke.enabled&&!1;function F4t(e,t){let n=null;return function(o){const i=()=>{if(n!==o.selection){let a=null;if(o.selection){const l=HE.get(o.selection);if(l)a=l;else{const u=o.children;a=up(u,o.selection,t),HE.set(o.selection,a)}}M4t&&fke("Emitting selection ".concat(JSON.stringify(a||null)," (").concat(JSON.stringify(o.selection),")")),a?e.next({type:"selection",selection:a}):e.next({type:"selection",selection:null})}n=o.selection},{onChange:s}=o;return o.onChange=()=>{const a=o.operations.length>0;s(),a&&i()},o}}const L4t=Ur("plugin:withSchemaTypes");function B4t(e){return function(n){n.isTextBlock=o=>Xu(o)&&o._type===e.block.name,n.isTextSpan=o=>Qs(o)&&o._type==e.span.name,n.isListBlock=o=>iRe(o)&&o._type===e.block.name,n.isVoid=o=>e.block.name!==o._type&&(e.blockObjects.map(i=>i.name).includes(o._type)||e.inlineObjects.map(i=>i.name).includes(o._type)),n.isInline=o=>e.inlineObjects.map(s=>s.name).includes(o._type)&&"__inline"in o&&o.__inline===!0;const{normalizeNode:r}=n;return n.normalizeNode=o=>{const[i,s]=o;we.isText(i)&&s.length===2&&i._type===void 0&&(L4t("Setting span type on text node without a type"),se.setNodes(n,{_type:"span"},{at:s})),r(o)},n}}const MP=Ur("plugin:withUtils");function N4t(e){return function(n){return n.pteExpandToWord=()=>{const{selection:r}=n;if(r&&!ue.isExpanded(r)){const[o]=R.node(n,r.focus,{depth:2});if(!o||!we.isText(o)||o.text.length===0){MP("pteExpandToWord: Can't expand to word here");return}const{focus:i}=r,s=i.offset,a=o.text.slice(0,s),l=o.text.slice(s,-1),u=v=>v.match(/\s/g),d=a.split("").reverse().findIndex(v=>u(v)),f=d>-1?a.length-d:0,p=l.split("").findIndex(v=>u(v)),m=a.length+(p>-1?p:l.length+1);if(!(f===m||isNaN(f)||isNaN(m))){MP("pteExpandToWord: Expanding to focused word"),se.setSelection(n,{anchor:{...r.anchor,offset:f},focus:{...r.focus,offset:m}});return}MP("pteExpandToWord: Can't expand to word here")}},n}}const FP=Ur("plugin:withHotKeys"),z4t={marks:{"mod+b":"strong","mod+i":"em","mod+u":"underline","mod+'":"code"},custom:{}};function V4t(e,t,n,r){const o=["enter","tab","shift","delete","end"],i=r||z4t,s=()=>Sc([{_type:e.block.name,_key:t(),style:"normal",markDefs:[],children:[{_type:"span",_key:t(),text:"",marks:[]}]}],n)[0];return function(l){return l.pteWithHotKeys=u=>{Object.keys(i).forEach(b=>{if(b==="marks")for(const x in i[b]){if(o.includes(x))throw new Error("The hotkey ".concat(x," is reserved!"));if(Fi(x,u.nativeEvent)){u.preventDefault();const y=i[b];if(y){const w=y[x];FP("HotKey ".concat(x," to toggle ").concat(w)),l.pteToggleMark(w)}}}if(b==="custom")for(const x in i[b]){if(o.includes(x))throw new Error("The hotkey ".concat(x," is reserved!"));if(Fi(x,u.nativeEvent)){const y=i[b];if(y){const w=y[x];w(u,n)}}}});const d=Fi("enter",u.nativeEvent),f=Fi("tab",u.nativeEvent),p=Fi("shift+enter",u.nativeEvent),m=Fi("shift+tab",u.nativeEvent),v=Fi("backspace",u.nativeEvent),g=Fi("delete",u.nativeEvent);if(v&&l.selection&&l.selection.focus.path[0]>0&&ue.isCollapsed(l.selection)){const b=J.previous(l.selection.focus.path.slice(0,1)),x=Ee.descendant(l,b),y=Ee.descendant(l,l.selection.focus.path.slice(0,1));if(x&&y&&R.isVoid(l,x)&&l.selection.focus.offset===0){FP("Preventing deleting void block above"),u.preventDefault(),u.stopPropagation(),se.removeNodes(l,{match:w=>w===y}),se.select(l,b),l.onChange();return}}if(g&&l.selection&&l.selection.focus.offset===0&&ue.isCollapsed(l.selection)&&l.children[l.selection.focus.path[0]+1]){const b=Ee.descendant(l,J.next(l.selection.focus.path.slice(0,1))),x=l.selection.focus.path.slice(0,1),y=Ee.descendant(l,x);if(b&&y&&!R.isVoid(l,y)&&R.isVoid(l,b)){FP("Preventing deleting void block below"),u.preventDefault(),u.stopPropagation(),se.removeNodes(l,{match:w=>w===y}),se.select(l,x),l.onChange();return}}if((f||m)&&l.selection){const[b]=R.node(l,l.selection.focus,{depth:2}),[x]=Qs(b)?R.node(l,l.selection.focus,{depth:1}):[],y=b&&Xu(x)&&Qs(b)&&(b.marks||[]).filter(_=>(x.markDefs||[]).map(S=>S._key).includes(_)).length>0,[w]=ue.edges(l.selection),C=R.isStart(l,w,w.path);b&&Qs(b)&&(!y||C)&&l.pteIncrementBlockLevels(m)&&u.preventDefault()}if(d&&!p&&l.selection){const b=l.selection.focus.path.slice(0,1),x=Ee.descendant(l,b);if(l.isListBlock(x)){l.pteEndList()&&u.preventDefault();return}if(l.isTextBlock(x)&&x.style&&x.style!==e.styles[0].value){const[,y]=ue.edges(l.selection);if(R.isEnd(l,y,y.path)){R.insertNode(l,s()),u.preventDefault();return}}if(x&&R.isVoid(l,x)){R.insertNode(l,s()),u.preventDefault();return}u.preventDefault(),l.insertBreak()}if(p){u.preventDefault(),l.insertText(`
`);return}if(Fi("mod+z",u.nativeEvent)){u.preventDefault(),l.undo();return}(Fi("mod+y",u.nativeEvent)||Fi("mod+shift+z",u.nativeEvent))&&(u.preventDefault(),l.redo())},l}}function KE(e,t,n){let r=null,o=!0;const i=[t.span.name,...t.inlineObjects.map(a=>a.name)],s=[t.block.name,...t.blockObjects.map(a=>a.name)];return e===void 0?{valid:!0,resolution:null,value:e}:!Array.isArray(e)||e.length===0?{valid:!1,resolution:{patches:[Ys([])],description:"Editor value must be an array of Portable Text blocks, or undefined.",action:"Unset the value",item:e},value:e}:(e.some((a,l)=>{if(!tw(a))return r={patches:[Ys([l])],description:"Block must be an object, got ".concat(String(a)),action:"Unset invalid item",item:a},!0;if(!a._key)return r={patches:[ul({...a,_key:n()},[l])],description:"Block at index ".concat(l," is missing required _key."),action:"Set the block with a random _key value",item:a},!0;if(!a._type||!s.includes(a._type)){if(a._type==="block"){const u=t.block.name;return r={patches:[ul({...a,_type:u},[{_key:a._key}])],description:"Block with _key '".concat(a._key,"' has invalid type name '").concat(a._type,"'. According to the schema, the block type name is '").concat(u,"'"),action:"Use type '".concat(u,"'"),item:a},!0}return r={patches:[Ys([{_key:a._key}])],description:"Block with _key '".concat(a._key,"' has invalid _type '").concat(a._type,"'"),action:"Remove the block",item:a},!0}if(a._type===t.block.name){const u=a;if(!u.children)return r={patches:[Ys([{_key:u._key}])],description:"Text block with _key '".concat(u._key,"' is missing required key 'children'."),action:"Remove the block",item:u},!0;if(!a.markDefs)return r={patches:[ul({...u,markDefs:[]},[{_key:u._key}])],description:"Block is missing required key 'markDefs'.",action:"Add empty markDefs array",item:u},!0;const p=uo(En(u.children.filter(m=>m._type===t.span.name).map(m=>m.marks||[]))).filter(m=>!t.decorators.map(v=>v.value).includes(m)).filter(m=>u.markDefs?!u.markDefs.find(v=>v._key===m):!1);if(p.length>0){const m=u.children.filter(v=>v._type===t.span.name&&Array.isArray(v.marks)&&v.marks.some(g=>p.includes(g)));if(m)return r={patches:m.map(v=>ul((v.marks||[]).filter(g=>!p.includes(g)),[{_key:a._key},"children",{_key:v._key},"marks"])),description:"Block with _key '".concat(a._key,"' contains marks (").concat(p.join(", "),") not supported by the current content model."),action:"Remove invalid marks",item:a},!0}if(u.children&&u.children.length===0){const m={_type:t.span.name,_key:n(),text:""};return r={patches:[cu([m],"after",[{_key:a._key},"children",0])],description:"Children for text block with _key '".concat(a._key,"' is empty."),action:"Insert an empty text",item:a},!0}u.children.some((m,v)=>{if(!m._key){const g={...m,_key:n()};return r={patches:[ul(g,[{_key:a._key},"children",v])],description:"Child at index ".concat(v," is missing required _key in block with _key ").concat(a._key,"."),action:"Set a new random _key on the object",item:a},!0}return!m._type||i.includes(m._type)===!1?(r={patches:[Ys([{_key:a._key},"children",{_key:m._key}])],description:"Child with _key '".concat(m._key,"' in block with key '").concat(a._key,"' has invalid '_type' property (").concat(m._type,")."),action:"Remove the object",item:a},!0):m._type===t.span.name&&m.text===void 0?(r={patches:[ul({...m,text:""},[{_key:a._key},"children",{_key:m._key}])],description:"Child with _key '".concat(m._key,"' in block with key '").concat(a._key,"' is missing text property!"),action:"Write an empty .text to the object",item:a},!0):!1})&&(o=!1)}return!1})&&(o=!1),{valid:o,resolution:r,value:e})}const ou=Ur("plugin:withInsertData");function H4t(e,t,n){return function(o){const i=t.block.name,s=t.span.name,a=l=>l.map(u=>{var d;return o.isTextBlock(u)?u.children.map(f=>{var p;return f._type===s?f.text:"[".concat(((p=t.inlineObjects.find(m=>m.name===f._type))==null?void 0:p.title)||"Object","]")}).join(""):"[".concat(((d=t.blockObjects.find(f=>f.name===u._type))==null?void 0:d.title)||"Object","]")}).join(`

`);return o.setFragmentData=(l,u)=>{const{selection:d}=o;if(!d)return;const[f,p]=ue.edges(d),m=R.void(o,{at:f.path}),v=R.void(o,{at:p.path});if(ue.isCollapsed(d)&&!m)return;const g=pe.toDOMRange(o,d);let b=g.cloneContents();if(v){const[E]=v,j=g.cloneRange(),k=pe.toDOMNode(o,E);j.setEndAfter(k),b=j.cloneContents()}Array.from(b.querySelectorAll("[data-slate-zero-width]")).forEach(E=>{const j=E.getAttribute("data-slate-zero-width")==="n";E.textContent=j?`
`:""}),Array.from(b.querySelectorAll("*")).forEach(E=>{E.removeAttribute("contentEditable"),E.removeAttribute("data-slate-inline"),E.removeAttribute("data-slate-leaf"),E.removeAttribute("data-slate-node"),E.removeAttribute("data-slate-spacer"),E.removeAttribute("data-slate-string"),E.removeAttribute("data-slate-zero-width"),E.removeAttribute("draggable");for(const j in E.attributes)E.hasAttribute(j)&&E.removeAttribute(j)});const x=b.ownerDocument.createElement("div");x.appendChild(b),x.setAttribute("hidden","true"),b.ownerDocument.body.appendChild(x);const y=x.innerHTML;b.ownerDocument.body.removeChild(x);const w=o.getFragment(),C=vr(w,i),_=JSON.stringify(C),S=a(C);l.clearData(),l.setData("text/plain",S),l.setData("text/html",y),l.setData("application/json",_),l.setData("application/x-portable-text",_),ou("text",S),l.setData("application/x-portable-text-event-origin",u||"external"),ou("Set fragment data",_,y)},o.insertPortableTextData=l=>{var u;if(!o.selection)return!1;const d=l.getData("application/x-portable-text"),f=l.getData("application/x-portable-text-event-origin");if(ou("Inserting portable text from ".concat(f," event"),d),d){const p=JSON.parse(d);if(Array.isArray(p)&&p.length>0){const m=Y4t(o,Sc(p,{schemaTypes:t}),n,s),v=KE(p,t,n);if(!v.valid){const g="".concat((u=v.resolution)==null?void 0:u.description);return e.next({type:"error",level:"warning",name:"pasteError",description:g,data:v}),ou("Invalid insert result",v),!1}return oQ(o,m,t),!0}}return!1},o.insertTextOrHTMLData=l=>{var u;if(!o.selection)return ou("No selection, not inserting"),!1;e.next({type:"loading",isLoading:!0});const d=l.getData("text/html"),f=l.getData("text/plain");if(d||f){ou("Inserting data",l);let p,m,v;if(d)p=MX(d,t.portableText).map(b=>bx(b,{blockTypeName:i})),m=Sc(p,{schemaTypes:t}),v="HTML";else{const b=W4t(f).split(/\n{2,}/).map(y=>y?"<p>".concat(y.replace(/(?:\r\n|\r|\n)/g,"<br/>"),"</p>"):"<p></p>").join(""),x="<html><body>".concat(b,"</body></html>");p=MX(x,t.portableText).map(y=>bx(y,{blockTypeName:i})),m=Sc(p,{schemaTypes:t}),v="text"}const g=KE(p,t,n);if(!g.valid){const b=`Could not validate the resulting portable text to insert.
`.concat((u=g.resolution)==null?void 0:u.description,`
Try to insert as plain text (shift-paste) instead.`);return e.next({type:"error",level:"warning",name:"pasteError",description:b,data:g}),ou("Invalid insert result",g),!1}return ou("Inserting ".concat(v," fragment at ").concat(JSON.stringify(o.selection))),oQ(o,m,t),e.next({type:"loading",isLoading:!1}),!0}return e.next({type:"loading",isLoading:!1}),!1},o.insertData=l=>{o.insertPortableTextData(l)||o.insertTextOrHTMLData(l)},o.insertFragmentData=l=>{const u=l.getData("application/x-portable-text");if(u){const d=JSON.parse(u);return o.insertFragment(d),!0}return!1},o}}const U4t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function W4t(e){return String(e).replace(/[&<>"'`=/]/g,t=>U4t[t])}function Y4t(e,t,n,r){return t.map(o=>{const i={...o};e.isTextBlock(i)&&(i.markDefs=(i.markDefs||[]).map(a=>{const l=a._key,u=n();return i.children=i.children.map(d=>d._type===r&&e.isTextSpan(d)?{...d,marks:d.marks&&d.marks.includes(l)?[...d.marks].filter(f=>f!==l).concat(u):d.marks}:d),{...a,_key:u}}));const s={...i,_key:n()};return e.isTextBlock(s)&&(s.children=s.children.map(a=>({...a,_key:n()}))),s})}function oQ(e,t,n){if(!e.selection)return;const[r,o]=R.node(e,e.selection,{depth:1});if(e.isTextBlock(r)&&e.isTextBlock(t[0])){const{markDefs:s}=r;ou("Mixing markDefs of focusBlock and fragments[0] block",s,t[0].markDefs),Yt(s,t[0].markDefs)||se.setNodes(e,{markDefs:uo([...t[0].markDefs||[],...s||[]])},{at:o,mode:"lowest",voids:!1})}WE(e.children,n)?(se.splitNodes(e,{at:[0,0]}),e.insertFragment(t),se.removeNodes(e,{at:[0]})):e.insertFragment(t),e.onChange()}const iQ=new WeakMap,sQ=(e,t)=>{const n=e,{keyGenerator:r,portableTextEditor:o,patches$:i,readOnly:s,maxBlocks:a}=t,{schemaTypes:l,change$:u}=o;n.subscriptions=[],n.destroy?n.destroy():iQ.set(n,{apply:n.apply,onChange:n.onChange,normalizeNode:n.normalizeNode});const d=e4t(l),f=r4t(l,r),p=B4t(l),m=t4t(o,l,r),v=D4t({change$:u,keyGenerator:r,patches$:i,patchFunctions:d,readOnly:s,schemaTypes:l}),g=n4t(a||-1),b=$4t(l),x=S4t({readOnly:s,patches$:i,blockSchemaType:l.block}),y=R4t(l,u),w=O4t(l),C=P4t({keyGenerator:r,schemaTypes:l}),_=N4t(),S=F4t(u,l);return n.destroy=()=>{const E=iQ.get(n);if(!E)throw new Error("Could not find pristine versions of editor functions");n.apply=E.apply,n.history={undos:[],redos:[]},n.normalizeNode=E.normalizeNode,n.onChange=E.onChange},s?{editor:p(f(y(w(_(C(b(S(m(n))))))))),subscribe:()=>eSe}:{editor:p(f(y(w(b(C(_(g(x(v(S(m(n)))))))))))),subscribe:()=>{const E=[];return e.subscriptions.forEach(j=>{E.push(j())}),()=>{E.forEach(j=>{j()})}}}},LP=Ur("component:PortableTextEditor:SlateContainer");function q4t(e){const{patches$:t,portableTextEditor:n,readOnly:r,maxBlocks:o,keyGenerator:i}=e,[s,a]=h.useMemo(()=>{LP("Creating new Slate editor instance");const{editor:u,subscribe:d}=sQ(aRt(M3t()),{keyGenerator:i,maxBlocks:o,patches$:t,portableTextEditor:n,readOnly:r});return wa.set(u,{}),xM.set(u,{}),[u,d]},[]);h.useEffect(()=>{const u=a();return()=>{u()}},[a]),h.useEffect(()=>{LP("Re-initializing plugin chain"),sQ(s,{keyGenerator:i,maxBlocks:o,patches$:t,portableTextEditor:n,readOnly:r})},[i,n,o,r,t,s]);const l=h.useMemo(()=>[s.createPlaceholderBlock()],[s]);return h.useEffect(()=>()=>{LP("Destroying Slate editor"),s.destroy()},[s]),c.jsx(iRt,{editor:s,initialValue:l,children:e.children})}const hke=h.createContext(null),q0=()=>{const e=h.useContext(hke);if(e===void 0)throw new Error("The `usePortableTextEditorSelection` hook must be used inside the <PortableTextEditor> component's context.");return e},pke=h.createContext(null),mo=()=>{const e=h.useContext(pke);if(!e)throw new Error("The `usePortableTextEditor` hook must be used inside the <PortableTextEditor> component's context.");return e},G4t=h.createContext(void 0),mke=h.createContext(!1),K4t=()=>{const e=h.useContext(mke);if(e===void 0)throw new Error("The `usePortableTextEditorReadOnly` hook must be used inside the <PortableTextEditor> component's context.");return e},oo=Ur("hook:useSyncValue"),aQ=new WeakMap;function Z4t(e){const{portableTextEditor:t,readOnly:n,keyGenerator:r}=e,{change$:o,schemaTypes:i}=t,s=h.useRef(),a=WT(),l=h.useRef(),u=h.useCallback(()=>{const f=aQ.get(t);if(s.current===f){oo("Value is the same object as previous, not need to sync");return}l.current&&f&&(oo("Updating the value debounced"),l.current(f))},[t]),d=h.useCallback(nw(u,1e3,{trailing:!0,leading:!1}),[u]);return h.useMemo(()=>{const f=p=>{aQ.set(t,p);const m=w4t(a),v=uke(a);if(!n){if(m){oo("Has local changes, not syncing value right now"),d();return}if(v){oo("Has remote changes, not syncing value right now"),d();return}}let g=!1,b=!0;const x=!!a.selection;if((!p||p.length===0)&&(oo("Value is empty"),R.withoutNormalizing(a,()=>{wx(a,()=>{CM(a,()=>{x&&se.deselect(a);const y=a.children.length;a.children.forEach((w,C)=>{se.removeNodes(a,{at:[y-1-C]})}),se.insertNodes(a,a.createPlaceholderBlock(),{at:[0]}),x&&se.select(a,[0,0])})})}),g=!0),p&&p.length>0){const y=Sc(p,{schemaTypes:i});R.withoutNormalizing(a,()=>{cke(a,()=>{wx(a,()=>{CM(a,()=>{const w=a.children.length;if(y.length<w){for(let C=w-1;C>y.length-1;C--)se.removeNodes(a,{at:[C]});g=!0}y.forEach((C,_)=>{const S=a.children[_];if(S&&!Yt(C,S)&&b){const j=[p[_]],k=KE(j,i,r);k.valid?(S._key===C._key?(oo.enabled&&oo("Updating block",S,C),Q4t(a,C,S,_)):(oo.enabled&&oo("Replacing block",S,C),X4t(a,C,_)),g=!0):(o.next({type:"invalidValue",resolution:k.resolution,value:p}),b=!1)}if(!S&&b){const j=[p[_]],k=KE(j,i,r);oo.enabled&&oo("Validating and inserting new block in the end of the value",C),k.valid?xx(a,()=>{se.insertNodes(a,C,{at:[_]})}):(oo("Invalid",k),o.next({type:"invalidValue",resolution:k.resolution,value:p}),b=!1)}})})})})})}if(!b){oo("Invalid value, returning");return}if(g){oo("Server value changed, syncing editor");try{a.onChange()}catch(y){console.error(y),o.next({type:"invalidValue",resolution:null,value:p});return}x&&!a.selection&&(se.select(a,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),a.onChange()),o.next({type:"value",value:p})}else oo("Server value and editor value is equal, no need to sync.");s.current=p};return l.current=f,f},[o,r,t,n,i,a,d])}function X4t(e,t,n){const r=e.selection,o=r&&r.focus.path[0]===n;o&&se.deselect(e),se.removeNodes(e,{at:[n]}),xx(e,()=>{se.insertNodes(e,t,{at:[n]})}),o&&se.select(e,r)}function Q4t(e,t,n,r){if(se.setNodes(e,t,{at:[r]}),e.isTextBlock(t)&&e.isTextBlock(n)){const o=n.children.length;t.children.length<o&&Array.from(Array(o-t.children.length)).forEach((i,s)=>{const a=o-1-s;a>0&&(oo("Removing child"),se.removeNodes(e,{at:[r,a]}))}),t.children.forEach((i,s)=>{const a=n.children[s],l=!Yt(i,a),u=!Yt(i.text,a==null?void 0:a.text),d=[r,s];if(l)if(i._key===(a==null?void 0:a._key)){oo("Updating changed child",i,a),se.setNodes(e,i,{at:d});const f=we.isText(i)&&i._type==="span"&&we.isText(a)&&a._type==="span";f&&u?(se.delete(e,{at:{focus:{path:d,offset:0},anchor:{path:d,offset:a.text.length}}}),se.insertText(e,i.text,{at:d}),e.onChange()):f||(oo("Updating changed inline object child",i),se.setNodes(e,{_key:"".concat(t._key,"-void-child")},{at:[...d,0],voids:!0}))}else a?(oo("Replacing child",i),se.removeNodes(e,{at:[r,s]}),xx(e,()=>{se.insertNodes(e,i,{at:[r,s]})}),e.onChange()):a||(oo("Inserting new child",i),xx(e,()=>{se.insertNodes(e,i,{at:[r,s]}),e.onChange()}))})}}const iu=Ur("component:PortableTextEditor:Synchronizer"),lQ=iu.enabled&&!1,J4t=1e3;function eFt(e){const{change$:t,portableTextEditor:n,onChange:r,keyGenerator:o,readOnly:i,value:s}=e,[a,l]=h.useState(null),u=h.useRef([]),d=Z4t({keyGenerator:o,onChange:r,portableTextEditor:n,readOnly:i}),f=WT();h.useEffect(()=>{gS.set(f,!1)},[f]);const p=h.useCallback(()=>{if(u.current.length>0){iu("Flushing pending patches"),lQ&&iu(`Patches:
`.concat(JSON.stringify(u.current,null,2)));const y=Ce.getValue(n);r({type:"mutation",patches:u.current,snapshot:y}),u.current=[]}gS.set(f,!1)},[f,n,r]),m=h.useCallback(y=>{if(R.isNormalizing(f)){p();return}y()},[p,f]),v=h.useMemo(()=>lT(()=>{m(v)},J4t,{leading:!1,trailing:!0}),[m]);h.useEffect(()=>()=>{p()},[p]),h.useEffect(()=>{iu("Subscribing to editor changes$");const y=t.subscribe(w=>{switch(w.type){case"patch":gS.set(f,!0),u.current.push(w.patch),v(),r(w);break;case"selection":h.startTransition(()=>{lQ&&iu("Setting selection"),l(w.selection)}),r(w);break;default:r(w)}});return()=>{iu("Unsubscribing to changes$"),y.unsubscribe()}},[t,r,p,v,f,d]);const g=h.useCallback(()=>{iu("Editor is online, syncing from props.value"),t.next({type:"connection",value:"online"}),d(s)},[t,d,s]),b=h.useCallback(()=>{iu("Editor is offline"),t.next({type:"connection",value:"offline"})},[t]);h.useEffect(()=>(n.props.patches$&&(window.addEventListener("online",g),window.addEventListener("offline",b)),()=>{n.props.patches$&&(window.removeEventListener("online",g),window.removeEventListener("offline",b))}));const x=h.useRef(!0);return h.useEffect(()=>{iu("Value from props changed, syncing new value"),d(s),x.current&&(t.next({type:"loading",isLoading:!1}),t.next({type:"ready"}),x.current=!1)},[t,d,s]),c.jsx(ZEe.Provider,{value:o,children:c.jsx(pke.Provider,{value:n,children:c.jsx(G4t.Provider,{value:s,children:c.jsx(mke.Provider,{value:i,children:c.jsx(hke.Provider,{value:a,children:e.children})})})})})}var tFt=Object.defineProperty,nFt=(e,t,n)=>t in e?tFt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fn=(e,t,n)=>(nFt(e,typeof t!="symbol"?t+"":t,n),n);const G0=Ur("component:PortableTextEditor");class Ce extends re.Component{constructor(t){if(super(t),fn(this,"change$",new Ar),fn(this,"schemaTypes"),fn(this,"editable"),fn(this,"setEditable",n=>{this.editable={...this.editable,...n}}),!t.schemaType)throw new Error('PortableTextEditor: missing "type" property');t.incomingPatches$&&console.warn("The prop 'incomingPatches$' is deprecated and renamed to 'patches$'"),this.change$.next({type:"loading",isLoading:!0}),this.schemaTypes=LX(t.schemaType.hasOwnProperty("jsonType")?t.schemaType:FX(t.schemaType))}componentDidUpdate(t){this.props.schemaType!==t.schemaType&&(this.schemaTypes=LX(this.props.schemaType.hasOwnProperty("jsonType")?this.props.schemaType:FX(this.props.schemaType)))}render(){const{onChange:t,value:n,children:r,patches$:o,incomingPatches$:i}=this.props,{change$:s}=this,a=i||o,l=typeof this.props.maxBlocks>"u"?void 0:parseInt(this.props.maxBlocks.toString(),10)||void 0,u=!!this.props.readOnly,d=this.props.keyGenerator||zE;return c.jsx(q4t,{keyGenerator:d,maxBlocks:l,patches$:a,portableTextEditor:this,readOnly:u,children:c.jsx(eFt,{change$:s,keyGenerator:d,onChange:t,portableTextEditor:this,readOnly:u,value:n,children:r})})}}fn(Ce,"activeAnnotations",e=>e&&e.editable?e.editable.activeAnnotations():[]);fn(Ce,"addAnnotation",(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.addAnnotation(t,n)});fn(Ce,"blur",e=>{var t;G0("Host blurred"),(t=e.editable)==null||t.blur()});fn(Ce,"delete",(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.delete(t,n)});fn(Ce,"findDOMNode",(e,t)=>{var n;return(n=e.editable)==null?void 0:n.findDOMNode(t)});fn(Ce,"findByPath",(e,t)=>{var n;return((n=e.editable)==null?void 0:n.findByPath(t))||[]});fn(Ce,"focus",e=>{var t;G0("Host requesting focus"),(t=e.editable)==null||t.focus()});fn(Ce,"focusBlock",e=>{var t;return(t=e.editable)==null?void 0:t.focusBlock()});fn(Ce,"focusChild",e=>{var t;return(t=e.editable)==null?void 0:t.focusChild()});fn(Ce,"getSelection",e=>e.editable?e.editable.getSelection():null);fn(Ce,"getValue",e=>{var t;return(t=e.editable)==null?void 0:t.getValue()});fn(Ce,"hasBlockStyle",(e,t)=>{var n;return(n=e.editable)==null?void 0:n.hasBlockStyle(t)});fn(Ce,"hasListStyle",(e,t)=>{var n;return(n=e.editable)==null?void 0:n.hasListStyle(t)});fn(Ce,"isCollapsedSelection",e=>{var t;return(t=e.editable)==null?void 0:t.isCollapsedSelection()});fn(Ce,"isExpandedSelection",e=>{var t;return(t=e.editable)==null?void 0:t.isExpandedSelection()});fn(Ce,"isMarkActive",(e,t)=>{var n;return(n=e.editable)==null?void 0:n.isMarkActive(t)});fn(Ce,"insertChild",(e,t,n)=>{var r;return G0("Host inserting child"),(r=e.editable)==null?void 0:r.insertChild(t,n)});fn(Ce,"insertBlock",(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.insertBlock(t,n)});fn(Ce,"insertBreak",e=>{var t;return(t=e.editable)==null?void 0:t.insertBreak()});fn(Ce,"isVoid",(e,t)=>{var n;return(n=e.editable)==null?void 0:n.isVoid(t)});fn(Ce,"isObjectPath",(e,t)=>{if(!t||!Array.isArray(t))return!1;const n=t.length>3&&t[1]==="children";return t.length>1&&t[1]!=="children"||n});fn(Ce,"marks",e=>{var t;return(t=e.editable)==null?void 0:t.marks()});fn(Ce,"select",(e,t)=>{var n;G0("Host setting selection",t),(n=e.editable)==null||n.select(t)});fn(Ce,"removeAnnotation",(e,t)=>{var n;return(n=e.editable)==null?void 0:n.removeAnnotation(t)});fn(Ce,"toggleBlockStyle",(e,t)=>{var n;return G0("Host is toggling block style"),(n=e.editable)==null?void 0:n.toggleBlockStyle(t)});fn(Ce,"toggleList",(e,t)=>{var n;return(n=e.editable)==null?void 0:n.toggleList(t)});fn(Ce,"toggleMark",(e,t)=>{var n;G0("Host toggling mark",t),(n=e.editable)==null||n.toggleMark(t)});function cQ(e,t){if(!e||!t)return null;const n=[];let r=e.offset||0;const o=typeof e.path[0]=="object"&&"_key"in e.path[0]&&e.path[0]._key,i=typeof e.path[2]=="object"&&"_key"in e.path[2]&&e.path[2]._key,s=t.find(a=>a._key===o);if(s)n.push({_key:s._key});else return null;if(s&&e.path[1]==="children"){if(!s.children||Array.isArray(s.children)&&s.children.length===0)return null;const a=Array.isArray(s.children)&&s.children.find(l=>l._key===i);if(a)n.push("children"),n.push({_key:a._key}),r=a.text&&a.text.length>=e.offset?e.offset:a.text&&a.text.length||0;else return null}return{path:n,offset:r}}function rFt(e,t){if(!e||!t||t.length===0)return null;let n=null,r=null;const{anchor:o,focus:i}=e;return o&&t.find(s=>Yt({_key:s._key},o.path[0]))&&(n=cQ(o,t)),i&&t.find(s=>Yt({_key:s._key},i.path[0]))&&(r=cQ(i,t)),n&&r?{anchor:n,focus:r}:null}function oFt(e){const t=h.useCallback(()=>alert(JSON.stringify(e.annotation)),[e.annotation]);return c.jsx("span",{style:{color:"blue"},onClick:t,children:e.children})}const iFt=Ur("components:Leaf"),uQ=[],sFt=e=>{const{attributes:t,children:n,leaf:r,schemaTypes:o,renderChild:i,renderDecorator:s,renderAnnotation:a}=e,l=re.useRef(null),u=mo(),d=IEe(),[f,p]=h.useState(!1),[m,v]=h.useState(!1),g=n.props.parent,b=h.useMemo(()=>g?[{_key:g==null?void 0:g._key},"children",{_key:r._key}]:[],[g,r._key]),x=h.useMemo(()=>o.decorators.map(j=>j.value),[o.decorators]),y=h.useMemo(()=>uo((r.marks||uQ).filter(j=>x.includes(j))),[x,r.marks]),w=Array.isArray(r.marks)?r.marks:uQ,C=h.useMemo(()=>w.map(j=>{var k;return!x.includes(j)&&((k=g==null?void 0:g.markDefs)==null?void 0:k.find(T=>T._key===j))}).filter(Boolean),[w,g,x]),_=C.length>0&&d;h.useEffect(()=>{if(!_){p(!1);return}const j=Ce.getSelection(u);j&&Yt(j.focus.path,b)&&Ce.isCollapsedSelection(u)&&h.startTransition(()=>{p(!0)})},[_,b,u]);const S=h.useCallback(()=>{if(!_)return;iFt("Setting selection and focus from range");const j=window.getSelection();if(!j){v(!1);return}if(j&&j.rangeCount>0){const k=j.getRangeAt(0);l.current&&k.intersectsNode(l.current)?v(!0):v(!1)}else v(!1)},[_]);h.useEffect(()=>{if(!_)return;const j=u.change$.subscribe(k=>{if(k.type==="blur"){p(!1),v(!1);return}if(k.type==="focus"){const T=Ce.getSelection(u);T&&Yt(T.focus.path,b)&&Ce.isCollapsedSelection(u)&&p(!0),S();return}k.type==="selection"&&(k.selection&&Yt(k.selection.focus.path,b)&&Ce.isCollapsedSelection(u)?p(!0):p(!1),S())});return()=>{j.unsubscribe()}},[b,u,S,_]),h.useEffect(()=>S(),[S]);const E=h.useMemo(()=>{let j=n;if(we.isText(r)&&r._type===o.span.name&&(y.forEach(k=>{const T=o.decorators.find(A=>A.value===k);if(T&&s){const A=Object.defineProperty({children:j,editorElementRef:l,focused:f,path:b,selected:m,schemaType:T,value:k},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),T}});j=s(A)}}),g&&C.length>0&&C.forEach(k=>{const T=o.annotations.find(A=>A.name===k._type);if(T)if(a){const A=Object.defineProperty({block:g,children:j,editorElementRef:l,focused:f,path:b,selected:m,schemaType:T,value:k},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),T}});j=c.jsx("span",{ref:l,children:a(A)})}else j=c.jsx(oFt,{annotation:k,children:c.jsx("span",{ref:l,children:j})})}),g&&i)){const k=g.children.find(T=>T._key===r._key);if(k){const T=c.jsx(c.Fragment,{children:j}),A=Object.defineProperty({annotations:C,children:T,editorElementRef:l,focused:f,path:b,schemaType:o.span,selected:m,value:k},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),o.span}});j=i(A)}}return j},[C,g,n,f,r,y,b,a,i,s,o.annotations,o.decorators,o.span,m]);return h.useMemo(()=>c.jsx("span",{...t,ref:l,children:E},r._key),[r,t,E])},D_=e=>c.jsx("div",{children:c.jsx("pre",{children:JSON.stringify(e.value,null,2)})});var dQ=Object.freeze,aFt=Object.defineProperty,KT=(e,t)=>dQ(aFt(e,"raw",{value:dQ(t||e.slice())})),fQ,hQ,pQ,mQ;const lFt=O.div(fQ||(fQ=KT([`
  user-select: none;
  border: `,`;
`])),e=>e.selected?"1px solid blue":"1px solid transparent");O.span(hQ||(hQ=KT([`
  background: #999;
  border: `,`;
`])),e=>e.selected?"1px solid blue":"1px solid transparent");const cFt=O.div(pQ||(pQ=KT([`
  &.pt-list-item {
    width: fit-content;
    position: relative;
    display: block;

    /* Important 'transform' in order to force refresh the ::before and ::after rules
      in Webkit: https://stackoverflow.com/a/21947628/831480
    */
    transform: translateZ(0);
    margin-left: `,`;
  }
  &.pt-list-item > .pt-list-item-inner {
    display: flex;
    margin: 0;
    padding: 0;
    &:before {
      justify-content: flex-start;
      vertical-align: top;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner:before {
      content: '`,`';
      font-size: 0.4375rem; /* 7px */
      line-height: 1.5rem; /* Same as body text */
      /* Optical alignment */
      position: relative;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner {
    &:before {
      min-width: 1.5rem; /* Make sure space between bullet and text never shrinks */
    }
  }
  &.pt-list-item-number {
    counter-increment: `,`;
    counter-reset: `,`;
  }
  & + :not(.pt-list-item-number) {
    counter-reset: listItemNumber;
  }
  &.pt-list-item-number > .pt-list-item-inner:before {
    content: `,`;
    min-width: 1.5rem; /* Make sure space between number and text never shrinks */
    /* Optical alignment */
    position: relative;
    top: 1px;
  }
`])),e=>dFt(e.listLevel),e=>hFt(e.listLevel,e.listStyle),e=>pFt(e.listLevel),e=>mFt(e.listLevel),e=>gFt(e.listLevel)),uFt=O.div(mQ||(mQ=KT([""])));function dFt(e){switch(Number(e)){case 1:return"1.5em";case 2:return"3em";case 3:return"4.5em";case 4:return"6em";case 5:return"7.5em";case 6:return"9em";case 7:return"10.5em";case 8:return"12em";case 9:return"13.5em";case 10:return"15em";default:return"0em"}}const fFt=["●","○","■"];function hFt(e,t){const n=(e-1)%3;return t==="bullet"?fFt[n]:"*"}function pFt(e){switch(e){case 1:return"listItemNumber";case 2:return"listItemAlpha";case 3:return"listItemRoman";case 4:return"listItemNumberNext";case 5:return"listItemLetterNext";case 6:return"listItemRomanNext";case 7:return"listItemNumberNextNext";case 8:return"listItemAlphaNextNext";case 9:return"listItemRomanNextNext";default:return"listItemNumberNextNextNext"}}function mFt(e){switch(e){case 1:return"listItemAlpha";case 2:return"listItemRoman";case 3:return"listItemNumberNext";case 4:return"listItemLetterNext";case 5:return"listItemRomanNext";case 6:return"listItemNumberNextNext";case 7:return"listItemAlphaNextNext";case 8:return"listItemRomanNextNext";case 9:return"listItemNumberNextNextNext";default:return"listItemNumberNextNextNext"}}function gFt(e){switch(e){case 1:return"counter(listItemNumber) '. '";case 2:return"counter(listItemAlpha, lower-alpha) '. '";case 3:return"counter(listItemRoman, lower-roman) '. '";case 4:return"counter(listItemNumberNext) '. '";case 5:return"counter(listItemLetterNext, lower-alpha) '. '";case 6:return"counter(listItemRomanNext, lower-roman) '. '";case 7:return"counter(listItemNumberNextNext) '. '";case 8:return"counter(listItemAlphaNextNext, lower-alpha) '. '";case 9:return"counter(listItemRomanNextNext, lower-roman) '. '";default:return"counter(listItemNumberNextNextNext) '. '"}}const Gl=Ur("components:DraggableBlock"),gQ=e=>{let{children:t,element:n,readOnly:r,blockRef:o}=e;const i=Vc(),s=h.useRef(),[a,l]=h.useState(!1),u=h.useMemo(()=>R.isVoid(i,n),[i,n]),d=h.useMemo(()=>R.isInline(i,n),[i,n]),[f,p]=h.useState(null);h.useEffect(()=>p(o?o.current:pe.toDOMNode(i,n)),[i,n,o]);const m=h.useCallback(k=>{const T=U1.get(i);if(!T||!f)return;k.preventDefault(),k.dataTransfer.dropEffect="move",W1.set(i,n);const A=f.getBoundingClientRect(),D=A.top,I=A.height,P=k.pageY,M=Math.abs(D-P);let $="bottom";if(n===i.children[0]?$="top":M<I/2?($="top",Y1.set(i,$)):($="bottom",Y1.set(i,$)),T===n){k.dataTransfer.dropEffect="none";return}l(!0)},[f,i,n]),v=h.useCallback(()=>{l(!1)},[]),g=h.useCallback(k=>{const T=W1.get(i);if(T){__.set(i,!1),k.preventDefault(),k.stopPropagation(),W1.delete(i),s.current&&(Gl("Removing drag ghost"),document.body.removeChild(s.current));const A=Y1.get(i);Y1.delete(i);let D=pe.findPath(i,T);const I=pe.findPath(i,n),P=J.isBefore(I,D);if(A==="bottom"&&!P){if(D[0]>=i.children.length-1){Gl("target is already at the bottom, not moving");return}const M=D;D=J.next(D),Gl("Adjusting targetPath from ".concat(JSON.stringify(M)," to ").concat(JSON.stringify(D)))}if(A==="top"&&P&&D[0]!==i.children.length-1){const M=D;D=J.previous(D),Gl("Adjusting targetPath from ".concat(JSON.stringify(M)," to ").concat(JSON.stringify(D)))}if(J.equals(D,I)){k.preventDefault(),Gl("targetPath and myPath is the same, not moving");return}Gl("Moving element ".concat(n._key," from path ").concat(JSON.stringify(I)," to ").concat(JSON.stringify(D)," (").concat(A,")")),se.moveNodes(i,{at:I,to:D}),i.onChange();return}Gl("No target element, not doing anything")},[i,n]),b=h.useCallback(k=>{U1.get(i)&&(Gl("On drop (prevented)",n),k.preventDefault(),k.stopPropagation(),l(!1))},[i,n]),x=h.useCallback(k=>{if(!u){U1.delete(i);return}__.set(i,!0),U1.set(i,n),k.stopPropagation();const T=k.target;T instanceof HTMLElement&&(T.style.opacity="1")},[i,n,u]),y=h.useCallback(k=>{if(!u||d){Gl("Not dragging block"),U1.delete(i),__.set(i,!1);return}if(Gl("Drag start"),__.set(i,!0),k.dataTransfer&&(k.dataTransfer.setData("application/portable-text","something"),k.dataTransfer.effectAllowed="move"),f&&f instanceof HTMLElement){let T=f.cloneNode(!0);const A=T.querySelector("[data-pt-drag-ghost-element]");if(A&&(T=A),T.setAttribute("data-dragged",""),document.body){s.current=T,T.style.position="absolute",T.style.left="-99999px",T.style.boxSizing="border-box",document.body.appendChild(T);const D=f.getBoundingClientRect(),I=k.clientX-D.left,P=k.clientY-D.top;T.style.width="".concat(D.width,"px"),T.style.height="".concat(D.height,"px"),k.dataTransfer.setDragImage(T,I,P)}}x(k)},[f,i,x,d,u]),w=a&&i.children[0]===W1.get(i),C=a&&i.children[i.children.length-1]===W1.get(i),_=Y1.get(i),S=w||a&&!w&&!C&&_==="top",E=C||a&&!w&&!C&&_==="bottom",j=h.useMemo(()=>c.jsx("div",{className:"pt-drop-indicator",style:{position:"absolute",width:"100%",height:1,borderBottom:"1px solid currentColor",zIndex:5}}),[]);return r?c.jsx(c.Fragment,{children:t}):c.jsxs("div",{draggable:u,onDragStart:y,onDrag:x,onDragOver:m,onDragLeave:v,onDragEnd:g,onDrop:b,children:[S&&j,t,E&&j]})};Ur("components:Element");const vFt=[],yFt={display:"inline-block"},bFt=e=>{let{attributes:t,children:n,element:r,schemaTypes:o,readOnly:i,renderBlock:s,renderChild:a,renderListItem:l,renderStyle:u,spellCheck:d}=e;const f=Vc(),p=IEe(),m=h.useRef(null),v=h.useRef(null),g=p&&f.selection&&ue.isCollapsed(f.selection)||!1,b=h.useMemo(()=>vr([r],o.block.name,wa.get(f))[0],[f,r,o.block.name]);let x=n,y;const w=h.useMemo(()=>[{_key:r._key}],[r]);if(typeof r._type!="string")throw new Error("Expected element to have a _type property");if(typeof r._key!="string")throw new Error("Expected element to have a _key property");if(f.isInline(r)){const E=pe.findPath(f,r),[j]=R.node(f,E,{depth:1}),k=o.inlineObjects.find(T=>T.name===r._type);if(!k)throw new Error("Could not find type for inline block element");if(Ie.isElement(j)){const T=[{_key:j._key},"children",{_key:r._key}];return c.jsxs("span",{...t,children:[n,c.jsxs("span",{draggable:!i,className:"pt-inline-object",ref:v,style:yFt,contentEditable:!1,children:[a&&a({annotations:vFt,children:c.jsx(D_,{value:b}),editorElementRef:v,focused:g,path:T,schemaType:k,selected:p,type:k,value:b}),!a&&c.jsx(D_,{value:b})]},r._key)]})}throw new Error("Block not found!")}if(r._type===o.block.name){y="pt-block pt-text-block";const E="listItem"in r,j="style"in r&&r.style||"normal";y="pt-block pt-text-block pt-text-block-style-".concat(j);const k=o.styles.find(I=>I.value===j);u&&k&&(x=u({block:r,children:n,focused:g,selected:p,value:j,path:w,schemaType:k,editorElementRef:m}));let T;if(E&&(typeof r.level=="number"&&(T=r.level),y+=" pt-list-item pt-list-item-".concat(r.listItem," pt-list-item-level-").concat(T||1)),f.isListBlock(b)&&E&&r.listItem){const I=o.lists.find(P=>P.value===r.listItem);l&&I?x=l({block:b,children:x,focused:g,selected:p,value:r.listItem,path:w,schemaType:I,level:b.level||1,editorElementRef:m}):x=c.jsx(cFt,{listStyle:b.listItem||o.lists[0].value,listLevel:b.level||1,children:c.jsx(uFt,{children:x})})}const A=Object.defineProperty({children:x,editorElementRef:m,focused:g,level:T,listItem:E?r.listItem:void 0,path:w,selected:p,style:j,schemaType:o.block,value:b},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),o.block}}),D=s?s(A):n;return c.jsx("div",{...t,className:y,spellCheck:d,children:c.jsx(gQ,{element:r,readOnly:i,blockRef:m,children:c.jsx("div",{ref:m,children:D})})},r._key)}const C=o.blockObjects.find(E=>E.name===r._type);if(!C)throw new Error("Could not find schema type for block element of _type ".concat(r._type));y="pt-block pt-object-block";const _=vr([r],o.block.name,wa.get(f))[0];let S;if(s){const E=Object.defineProperty({children:c.jsx(D_,{value:b}),editorElementRef:m,focused:g,path:w,schemaType:C,selected:p,value:_},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),C}});S=s(E)}return c.jsxs("div",{...t,className:y,children:[n,c.jsxs(gQ,{element:r,readOnly:i,blockRef:m,children:[S&&c.jsx("div",{ref:m,contentEditable:!1,children:S}),!S&&c.jsx(lFt,{selected:p,children:c.jsx(D_,{value:b})})]})]},r._key)},xFt=typeof window>"u"?h.useEffect:h.useLayoutEffect;function wFt(e){const t=h.useRef(null);return xFt(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)}),t}const Kl=Ur("component:Editable"),CFt={opacity:.5,position:"absolute",userSelect:"none",pointerEvents:"none"},_Ft=[],gke=h.forwardRef(function(t,n){const{hotkeys:r,onBlur:o,onFocus:i,onBeforeInput:s,onPaste:a,onCopy:l,renderAnnotation:u,renderBlock:d,renderChild:f,renderDecorator:p,renderListItem:m,renderPlaceholder:v,renderStyle:g,selection:b,scrollSelectionIntoView:x,spellCheck:y,...w}=t,C=mo(),_=K4t(),S=SMt(),E=wFt(n),[j,k]=h.useState(!1),{change$:T,schemaTypes:A}=C,D=WT(),I=A.block.name,P=h.useMemo(()=>H4t(T,A,S),[T,S,A]),M=h.useMemo(()=>V4t(A,S,C,r),[r,S,C,A]);h.useMemo(()=>_?(Kl("Editable is in read only mode"),P(D)):(Kl("Editable is in edit mode"),P(M(D))),[_,D,M,P]);const $=h.useCallback(Q=>c.jsx(bFt,{...Q,readOnly:_,renderBlock:d,renderChild:f,renderListItem:m,renderStyle:g,schemaTypes:A,spellCheck:y}),[A,y,_,d,f,m,g]),V=h.useCallback(Q=>{const X=c.jsx(sFt,{...Q,schemaTypes:A,renderAnnotation:u,renderChild:f,renderDecorator:p,readOnly:_});return v&&Q.leaf.placeholder&&Q.text.text===""?c.jsxs(c.Fragment,{children:[c.jsx("span",{style:CFt,contentEditable:!1,children:v()}),X]}):X},[_,u,f,p,v,A]),L=h.useCallback(()=>{if(b){Kl("Selection from props ".concat(JSON.stringify(b)));const Q=rFt(b,vr(D.children,I));if(Q!==null){Kl("Normalized selection from props ".concat(JSON.stringify(Q)));const X=vS(Q,D);X&&(se.select(D,X),D.operations.some(Z=>Z.type==="set_selection")||T.next({type:"selection",selection:Q}),D.onChange())}}},[b,D,I,T]);h.useEffect(()=>{Kl("Subscribing to editor changes$");const Q=T.subscribe(X=>{switch(X.type){case"ready":L();break;case"invalidValue":k(!0);break;case"value":k(!1);break}});return()=>{Kl("Unsubscribing to changes$"),Q.unsubscribe()}},[T,L]),h.useEffect(()=>{b&&!j&&L()},[j,b,L]);const H=h.useCallback(Q=>{l&&l(Q)!==void 0&&Q.preventDefault()},[l]),U=h.useCallback(Q=>{if(Q.preventDefault(),!!D.selection){if(!a){Kl("Pasting normally"),D.insertData(Q.clipboardData);return}new Promise(X=>{const Z=Ce.getValue(C),oe=up(Z,D.selection,A),le=(oe==null?void 0:oe.focus.path)||[];X(a({event:Q,value:Z,path:le,schemaTypes:A}))}).then(X=>{if(Kl("Custom paste function from client resolved",X),T.next({type:"loading",isLoading:!0}),!X||!X.insert){Kl("No result from custom paste handler, pasting normally"),D.insertData(Q.clipboardData);return}if(X&&X.insert){D.insertFragment(Sc(X.insert,{schemaTypes:A})),T.next({type:"loading",isLoading:!1});return}console.warn("Your onPaste function returned something unexpected:",X)}).catch(X=>(T.next({type:"loading",isLoading:!1}),console.error(X),X))}},[T,a,C,A,D]),z=h.useCallback(Q=>{if(i&&i(Q),!Q.isDefaultPrevented()){const X=Ce.getSelection(C);T.next({type:"focus",event:Q});const Z=Ce.getSelection(C);X===Z&&T.next({type:"selection",selection:X})}},[T,C,i]),Y=h.useCallback(Q=>{o&&o(Q),Q.isPropagationStopped()||T.next({type:"blur",event:Q})},[T,o]),te=h.useCallback(Q=>{s&&s(Q)},[s]),N=h.useCallback(()=>{let Q=null;const X=D.selection;try{Q=D.selection&&pe.toDOMRange(D,D.selection)}catch{YE(!0),se.deselect(D),se.select(D,[0,0]),D.onChange(),Kl("Could not resolve selection (".concat(JSON.stringify(X),"), unselecting"))}},[D]);h.useEffect(()=>{const Q=new MutationObserver(N);return E.current&&Q.observe(E.current,{childList:!0,subtree:!0}),()=>{Q.disconnect()}},[N,E]);const G=h.useCallback(Q=>{t.onKeyDown&&t.onKeyDown(Q),Q.isDefaultPrevented()||D.pteWithHotKeys(Q)},[t,D]),q=h.useMemo(()=>{if(x!==void 0)return x===null?eSe:(Q,X)=>{x(C,X)}},[C,x]),K=h.useCallback(()=>WE(D.children,A)?[{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0},placeholder:!0}]:_Ft,[A,D]);return h.useEffect(()=>{E.current=pe.toDOMNode(D,D)},[D,E]),C?j?null:c.jsx(Z$t,{...w,autoFocus:!1,className:w.className||"pt-editable",decorate:K,onBlur:Y,onCopy:H,onDOMBeforeInput:te,onFocus:z,onKeyDown:G,onPaste:U,readOnly:_,renderPlaceholder:void 0,renderElement:$,renderLeaf:V,scrollSelectionIntoView:q}):null});var SFt=qCe,EFt=F0,vQ=yT;function kFt(e,t,n){var r=e.length;if(r<2)return r?vQ(e[0]):[];for(var o=-1,i=Array(r);++o<r;)for(var s=e[o],a=-1;++a<r;)a!=o&&(i[o]=SFt(i[o]||s,e[a],t,n));return vQ(EFt(i,1),t,n)}var jFt=kFt,TFt=sCe,AFt=B0,DFt=jFt,IFt=uT,PFt=AFt(function(e){return DFt(TFt(e,IFt))}),OFt=PFt;const $Ft=De(OFt);function vke(e){return e.reduce((t,n,r)=>{if(Array.isArray(n))return"".concat(t,"[").concat(n.join(":"),"]");if(RFt(n))return"".concat(t,'[_key=="').concat(n._key,'"]');if(typeof n=="number")return"".concat(t,"[").concat(n,"]");if(typeof n=="string"&&/^\d+$/.test(n))return"".concat(t,'["').concat(n,'"]');if(typeof n=="string"){const o=r===0?"":".";return"".concat(t).concat(o).concat(n)}throw new Error('Unsupported path segment "'.concat(n,'"'))},"")}function RFt(e){return typeof e=="object"&&typeof e._key=="string"}class Dy extends Error{constructor(t,n,r){const o=vke(n);super("".concat(t," (at '").concat(o,"')")),this.path=n,this.serializedPath=o,this.value=r}}const MFt=/^[a-z0-9][a-z0-9_.-]+$/i,FFt=/^[a-zA-Z_][a-zA-Z0-9_]*$/,LFt=/^[a-z_]/i;function yQ(e,t,n){if(!LFt.test(e))throw new Dy("Keys must start with a letter (a-z)",n.concat(e),t);if(!FFt.test(e))throw new Dy("Keys can only contain letters, numbers and underscores",n.concat(e),t);if(e==="_key"||e==="_ref"||e==="_type"){if(typeof t!="string")throw new Dy("Keys must be strings",n.concat(e),t);if(!MFt.test(t))throw new Dy("Invalid key - use less exotic characters",n.concat(e),t)}return e}const BFt=["_id","_type","_createdAt","_updatedAt","_rev"],_M={hideWarnings:!1,diffMatchPatch:{enabled:!0,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function NFt(e){return{..._M,...e,diffMatchPatch:{..._M.diffMatchPatch,...e.diffMatchPatch||{}}}}function ZT(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_M,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[];if(e===t)return o;const i=Array.isArray(e)?"array":typeof e,s=Array.isArray(t)?"array":typeof t,a=i==="undefined",l=s==="undefined";if(a&&!l)return o.push({op:"set",path:r,value:t}),o;if(!a&&l)return o.push({op:"unset",path:r}),o;const u=NFt(n),d=a?s:i;return d==="object"||d==="array"?i!==s?(o.push({op:"set",path:r,value:t}),o):d==="array"?VFt(e,t,u,r,o):zFt(e,t,u,r,o):WFt(e,t,u,r,o)}function zFt(e,t,n,r,o){const i=r.length===0,s=Object.keys(e).filter(i?bQ:wQ).map(d=>yQ(d,e[d],r)),a=s.length,l=Object.keys(t).filter(i?bQ:wQ).map(d=>yQ(d,t[d],r)),u=l.length;for(let d=0;d<a;d++){const f=s[d];f in t||o.push({op:"unset",path:r.concat(f)})}for(let d=0;d<u;d++){const f=l[d];ZT(e[f],t[f],n,r.concat([f]),o)}return o}function VFt(e,t,n,r,o){if(t.length>e.length&&o.push({op:"insert",after:r.concat([-1]),items:t.slice(e.length).map((l,u)=>c7(l,r,u,n))}),t.length<e.length){const l=e.length-t.length===1,u=e.slice(t.length);GFt(n)||!BP(u)?o.push({op:"unset",path:r.concat([l?t.length:[t.length,""]])}):o.push(...u.map(d=>({op:"unset",path:r.concat({_key:d._key})})))}for(let l=0;l<t.length;l++)if(Array.isArray(t[l]))throw new Dy("Multi-dimensional arrays not supported",r.concat(l),t[l]);const i=Math.min(e.length,t.length),s=e.slice(0,i),a=t.slice(0,i);return BP(s)&&BP(a)?HFt(s,a,n,r,o):yke(s,a,n,r,o)}function yke(e,t,n,r,o){for(let i=0;i<e.length;i++)ZT(e[i],c7(t[i],r,i,n),n,r.concat(i),o);return o}function HFt(e,t,n,r,o){const i=xQ(e),s=xQ(t);if(!qFt(i.keys,s.keys))return yke(e,t,n,r,o);for(let a=0;a<s.keys.length;a++){const l=s.keys[a],u=i.index[l],d=c7(s.index[l],r,a,n);ZT(u,d,n,r.concat({_key:l}),o)}return o}function UFt(e,t,n,r){const{enabled:o,lengthThresholdRelative:i,lengthThresholdAbsolute:s}=n.diffMatchPatch,a=r[r.length-1];if(!o||typeof e!="string"||typeof t!="string"||typeof a=="string"&&a[0]==="_"||t.length<s)return;let l="";try{const u=Lw(e,t),d=u9(u);l=u5e(l5e(d))}catch{return}return l.length>t.length*i?void 0:{op:"diffMatchPatch",path:r,value:l}}function WFt(e,t,n,r,o){const i=UFt(e,t,n,r);return o.push(i||{op:"set",path:r,value:t}),o}function bQ(e){return BFt.indexOf(e)===-1}function BP(e){const t=[];for(let n=0;n<e.length;n++){const r=YFt(e[n]);if(!r||t.indexOf(r)!==-1)return!1;t.push(r)}return!0}function YFt(e){return typeof e=="object"&&e!==null&&e._key}function xQ(e){return e.reduce((t,n)=>(t.keys.push(n._key),t.index[n._key]=n,t),{keys:[],index:{}})}function qFt(e,t){return e.length===t.length&&e.every((n,r)=>t[r]===n)}function c7(e,t,n,r){if(typeof e<"u")return e;if(!r.hideWarnings){const o=vke(t.concat(n));console.warn("undefined value in array converted to null (at '".concat(o,"')"))}return null}function GFt(e){return!!e.ifRevisionID}function wQ(e){return!0}var KFt=dT,ZFt=W8,XFt=Object.prototype,QFt=XFt.hasOwnProperty,JFt=ZFt(function(e,t,n){QFt.call(e,n)?e[n].push(t):KFt(e,n,[t])}),e6t=JFt;const u7=De(e6t),CQ=e=>typeof e=="object"&&e!=null&&e.nodeType===1,_Q=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",NP=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return _Q(n.overflowY,t)||_Q(n.overflowX,t)||(r=>{const o=(i=>{if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!o&&(o.clientHeight<r.scrollHeight||o.clientWidth<r.scrollWidth)})(e)}return!1},I_=(e,t,n,r,o,i,s,a)=>i<e&&s>t||i>e&&s<t?0:i<=e&&a<=n||s>=t&&a>=n?i-e-r:s>t&&a<n||i<e&&a>n?s-t+o:0,t6t=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},SQ=(e,t)=>{var n,r,o,i;if(typeof document>"u")return[];const{scrollMode:s,block:a,inline:l,boundary:u,skipOverflowHiddenElements:d}=t,f=typeof u=="function"?u:$=>$!==u;if(!CQ(e))throw new TypeError("Invalid target");const p=document.scrollingElement||document.documentElement,m=[];let v=e;for(;CQ(v)&&f(v);){if(v=t6t(v),v===p){m.push(v);break}v!=null&&v===document.body&&NP(v)&&!NP(document.documentElement)||v!=null&&NP(v,d)&&m.push(v)}const g=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,b=(i=(o=window.visualViewport)==null?void 0:o.height)!=null?i:innerHeight,{scrollX:x,scrollY:y}=window,{height:w,width:C,top:_,right:S,bottom:E,left:j}=e.getBoundingClientRect(),{top:k,right:T,bottom:A,left:D}=($=>{const V=window.getComputedStyle($);return{top:parseFloat(V.scrollMarginTop)||0,right:parseFloat(V.scrollMarginRight)||0,bottom:parseFloat(V.scrollMarginBottom)||0,left:parseFloat(V.scrollMarginLeft)||0}})(e);let I=a==="start"||a==="nearest"?_-k:a==="end"?E+A:_+w/2-k+A,P=l==="center"?j+C/2-D+T:l==="end"?S+T:j-D;const M=[];for(let $=0;$<m.length;$++){const V=m[$],{height:L,width:H,top:U,right:z,bottom:Y,left:te}=V.getBoundingClientRect();if(s==="if-needed"&&_>=0&&j>=0&&E<=b&&S<=g&&_>=U&&E<=Y&&j>=te&&S<=z)return M;const N=getComputedStyle(V),G=parseInt(N.borderLeftWidth,10),q=parseInt(N.borderTopWidth,10),K=parseInt(N.borderRightWidth,10),Q=parseInt(N.borderBottomWidth,10);let X=0,Z=0;const oe="offsetWidth"in V?V.offsetWidth-V.clientWidth-G-K:0,le="offsetHeight"in V?V.offsetHeight-V.clientHeight-q-Q:0,he="offsetWidth"in V?V.offsetWidth===0?0:H/V.offsetWidth:0,ie="offsetHeight"in V?V.offsetHeight===0?0:L/V.offsetHeight:0;if(p===V)X=a==="start"?I:a==="end"?I-b:a==="nearest"?I_(y,y+b,b,q,Q,y+I,y+I+w,w):I-b/2,Z=l==="start"?P:l==="center"?P-g/2:l==="end"?P-g:I_(x,x+g,g,G,K,x+P,x+P+C,C),X=Math.max(0,X+y),Z=Math.max(0,Z+x);else{X=a==="start"?I-U-q:a==="end"?I-Y+Q+le:a==="nearest"?I_(U,Y,L,q,Q+le,I,I+w,w):I-(U+L/2)+le/2,Z=l==="start"?P-te-G:l==="center"?P-(te+H/2)+oe/2:l==="end"?P-z+K+oe:I_(te,z,H,G,K+oe,P,P+C,C);const{scrollLeft:ye,scrollTop:_e}=V;X=ie===0?0:Math.max(0,Math.min(_e+X/ie,V.scrollHeight-L/ie+le)),Z=he===0?0:Math.max(0,Math.min(ye+Z/he,V.scrollWidth-H/he+oe)),I+=_e-X,P+=ye-Z}M.push({el:V,top:X,left:Z})}return M},n6t=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function Cx(e,t){if(!e.isConnected||!(o=>{let i=o;for(;i&&i.parentNode;){if(i.parentNode===document)return!0;i=i.parentNode instanceof ShadowRoot?i.parentNode.host:i.parentNode}return!1})(e))return;const n=(o=>{const i=window.getComputedStyle(o);return{top:parseFloat(i.scrollMarginTop)||0,right:parseFloat(i.scrollMarginRight)||0,bottom:parseFloat(i.scrollMarginBottom)||0,left:parseFloat(i.scrollMarginLeft)||0}})(e);if((o=>typeof o=="object"&&typeof o.behavior=="function")(t))return t.behavior(SQ(e,t));const r=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:o,top:i,left:s}of SQ(e,n6t(t))){const a=i-n.top+n.bottom,l=s-n.left+n.right;o.scroll({top:a,left:l,behavior:r})}}function r6t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const XT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function K0(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function d7(e){return"nodeType"in e}function Is(e){var t,n;return e?K0(e)?e:d7(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function f7(e){const{Document:t}=Is(e);return e instanceof t}function Ww(e){return K0(e)?!1:e instanceof Is(e).HTMLElement}function bke(e){return e instanceof Is(e).SVGElement}function Z0(e){return e?K0(e)?e.document:d7(e)?f7(e)?e:Ww(e)||bke(e)?e.ownerDocument:document:document:document}const Il=XT?h.useLayoutEffect:h.useEffect;function h7(e){const t=h.useRef(e);return Il(()=>{t.current=e}),h.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function o6t(){const e=h.useRef(null),t=h.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=h.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function _x(e,t){t===void 0&&(t=[e]);const n=h.useRef(e);return Il(()=>{n.current!==e&&(n.current=e)},t),n}function Yw(e,t){const n=h.useRef();return h.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function ZE(e){const t=h7(e),n=h.useRef(null),r=h.useCallback(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}function SM(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}let zP={};function qw(e,t){return h.useMemo(()=>{if(t)return t;const n=zP[e]==null?0:zP[e]+1;return zP[e]=n,e+"-"+n},[e,t])}function xke(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((i,s)=>{const a=Object.entries(s);for(const[l,u]of a){const d=i[l];d!=null&&(i[l]=d+e*u)}return i},{...t})}}const vv=xke(1),Sx=xke(-1);function i6t(e){return"clientX"in e&&"clientY"in e}function p7(e){if(!e)return!1;const{KeyboardEvent:t}=Is(e.target);return t&&e instanceof t}function s6t(e){if(!e)return!1;const{TouchEvent:t}=Is(e.target);return t&&e instanceof t}function EM(e){if(s6t(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return i6t(e)?{x:e.clientX,y:e.clientY}:null}const Ex=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Ex.Translate.toString(e),Ex.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),EQ="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function a6t(e){return e.matches(EQ)?e:e.querySelector(EQ)}const l6t={display:"none"};function c6t(e){let{id:t,value:n}=e;return re.createElement("div",{id:t,style:l6t},n)}function u6t(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return re.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function d6t(){const[e,t]=h.useState("");return{announce:h.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const wke=h.createContext(null);function f6t(e){const t=h.useContext(wke);h.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function h6t(){const[e]=h.useState(()=>new Set),t=h.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[h.useCallback(r=>{let{type:o,event:i}=r;e.forEach(s=>{var a;return(a=s[o])==null?void 0:a.call(s,i)})},[e]),t]}const p6t={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},m6t={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function g6t(e){let{announcements:t=m6t,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=p6t}=e;const{announce:i,announcement:s}=d6t(),a=qw("DndLiveRegion"),[l,u]=h.useState(!1);if(h.useEffect(()=>{u(!0)},[]),f6t(h.useMemo(()=>({onDragStart(f){let{active:p}=f;i(t.onDragStart({active:p}))},onDragMove(f){let{active:p,over:m}=f;t.onDragMove&&i(t.onDragMove({active:p,over:m}))},onDragOver(f){let{active:p,over:m}=f;i(t.onDragOver({active:p,over:m}))},onDragEnd(f){let{active:p,over:m}=f;i(t.onDragEnd({active:p,over:m}))},onDragCancel(f){let{active:p,over:m}=f;i(t.onDragCancel({active:p,over:m}))}}),[i,t])),!l)return null;const d=re.createElement(re.Fragment,null,re.createElement(c6t,{id:r,value:o.draggable}),re.createElement(u6t,{id:a,announcement:s}));return n?uc.createPortal(d,n):d}var wo;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(wo||(wo={}));function XE(){}function kQ(e,t){return h.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function v6t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Pl=Object.freeze({x:0,y:0});function Cke(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function _ke(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function y6t(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function jQ(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function Ske(e,t){if(!e||e.length===0)return null;const[n]=e;return t?n[t]:n}function TQ(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const b6t=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=TQ(t,t.left,t.top),i=[];for(const s of r){const{id:a}=s,l=n.get(a);if(l){const u=Cke(TQ(l),o);i.push({id:a,data:{droppableContainer:s,value:u}})}}return i.sort(_ke)},x6t=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=jQ(t),i=[];for(const s of r){const{id:a}=s,l=n.get(a);if(l){const u=jQ(l),d=o.reduce((p,m,v)=>p+Cke(u[v],m),0),f=Number((d/4).toFixed(4));i.push({id:a,data:{droppableContainer:s,value:f}})}}return i.sort(_ke)};function w6t(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),s=o-r,a=i-n;if(r<o&&n<i){const l=t.width*t.height,u=e.width*e.height,d=s*a,f=d/(l+u-d);return Number(f.toFixed(4))}return 0}const C6t=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const i of r){const{id:s}=i,a=n.get(s);if(a){const l=w6t(a,t);l>0&&o.push({id:s,data:{droppableContainer:i,value:l}})}}return o.sort(y6t)};function _6t(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Eke(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Pl}function S6t(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.reduce((s,a)=>({...s,top:s.top+e*a.y,bottom:s.bottom+e*a.y,left:s.left+e*a.x,right:s.right+e*a.x}),{...n})}}const E6t=S6t(1);function k6t(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function j6t(e,t,n){const r=k6t(t);if(!r)return e;const{scaleX:o,scaleY:i,x:s,y:a}=r,l=e.left-s-(1-o)*parseFloat(n),u=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=o?e.width/o:e.width,f=i?e.height/i:e.height;return{width:d,height:f,top:u,right:l+d,bottom:u+f,left:l}}const T6t={ignoreTransform:!1};function X0(e,t){t===void 0&&(t=T6t);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=Is(e).getComputedStyle(e);u&&(n=j6t(n,u,d))}const{top:r,left:o,width:i,height:s,bottom:a,right:l}=n;return{top:r,left:o,width:i,height:s,bottom:a,right:l}}function AQ(e){return X0(e,{ignoreTransform:!0})}function A6t(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function D6t(e,t){return t===void 0&&(t=Is(e).getComputedStyle(e)),t.position==="fixed"}function I6t(e,t){t===void 0&&(t=Is(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const i=t[o];return typeof i=="string"?n.test(i):!1})}function QT(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(f7(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Ww(o)||bke(o)||n.includes(o))return n;const i=Is(e).getComputedStyle(o);return o!==e&&I6t(o,i)&&n.push(o),D6t(o,i)?n:r(o.parentNode)}return e?r(e):n}function kke(e){const[t]=QT(e,1);return t??null}function VP(e){return!XT||!e?null:K0(e)?e:d7(e)?f7(e)||e===Z0(e).scrollingElement?window:Ww(e)?e:null:null}function jke(e){return K0(e)?e.scrollX:e.scrollLeft}function Tke(e){return K0(e)?e.scrollY:e.scrollTop}function kM(e){return{x:jke(e),y:Tke(e)}}var Fo;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Fo||(Fo={}));function Ake(e){return!XT||!e?!1:e===document.scrollingElement}function Dke(e){const t={x:0,y:0},n=Ake(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,s=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:o,isLeft:i,isBottom:s,isRight:a,maxScroll:r,minScroll:t}}const P6t={x:.2,y:.2};function O6t(e,t,n,r,o){let{top:i,left:s,right:a,bottom:l}=n;r===void 0&&(r=10),o===void 0&&(o=P6t);const{isTop:u,isBottom:d,isLeft:f,isRight:p}=Dke(e),m={x:0,y:0},v={x:0,y:0},g={height:t.height*o.y,width:t.width*o.x};return!u&&i<=t.top+g.height?(m.y=Fo.Backward,v.y=r*Math.abs((t.top+g.height-i)/g.height)):!d&&l>=t.bottom-g.height&&(m.y=Fo.Forward,v.y=r*Math.abs((t.bottom-g.height-l)/g.height)),!p&&a>=t.right-g.width?(m.x=Fo.Forward,v.x=r*Math.abs((t.right-g.width-a)/g.width)):!f&&s<=t.left+g.width&&(m.x=Fo.Backward,v.x=r*Math.abs((t.left+g.width-s)/g.width)),{direction:m,speed:v}}function $6t(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:s}=window;return{top:0,left:0,right:i,bottom:s,width:i,height:s}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function Ike(e){return e.reduce((t,n)=>vv(t,kM(n)),Pl)}function R6t(e){return e.reduce((t,n)=>t+jke(n),0)}function M6t(e){return e.reduce((t,n)=>t+Tke(n),0)}function F6t(e,t){if(t===void 0&&(t=X0),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);kke(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const L6t=[["x",["left","right"],R6t],["y",["top","bottom"],M6t]];let m7=class{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=QT(n),o=Ike(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,s,a]of L6t)for(const l of s)Object.defineProperty(this,l,{get:()=>{const u=a(r),d=o[i]-u;return this.rect[l]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}};class xb{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function B6t(e){const{EventTarget:t}=Is(e);return e instanceof t?e:Z0(e)}function HP(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var _a;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(_a||(_a={}));function DQ(e){e.preventDefault()}function N6t(e){e.stopPropagation()}var Xt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(Xt||(Xt={}));const Pke={start:[Xt.Space,Xt.Enter],cancel:[Xt.Esc],end:[Xt.Space,Xt.Enter]},z6t=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Xt.Right:return{...n,x:n.x+25};case Xt.Left:return{...n,x:n.x-25};case Xt.Down:return{...n,y:n.y+25};case Xt.Up:return{...n,y:n.y-25}}};class g7{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new xb(Z0(n)),this.windowListeners=new xb(Is(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(_a.Resize,this.handleCancel),this.windowListeners.add(_a.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(_a.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&F6t(r),n(Pl)}handleKeyDown(t){if(p7(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:i=Pke,coordinateGetter:s=z6t,scrollBehavior:a="smooth"}=o,{code:l}=t;if(i.end.includes(l)){this.handleEnd(t);return}if(i.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:Pl;this.referenceCoordinates||(this.referenceCoordinates=d);const f=s(t,{active:n,context:r.current,currentCoordinates:d});if(f){const p=Sx(f,d),m={x:0,y:0},{scrollableAncestors:v}=r.current;for(const g of v){const b=t.code,{isTop:x,isRight:y,isLeft:w,isBottom:C,maxScroll:_,minScroll:S}=Dke(g),E=$6t(g),j={x:Math.min(b===Xt.Right?E.right-E.width/2:E.right,Math.max(b===Xt.Right?E.left:E.left+E.width/2,f.x)),y:Math.min(b===Xt.Down?E.bottom-E.height/2:E.bottom,Math.max(b===Xt.Down?E.top:E.top+E.height/2,f.y))},k=b===Xt.Right&&!y||b===Xt.Left&&!w,T=b===Xt.Down&&!C||b===Xt.Up&&!x;if(k&&j.x!==f.x){const A=g.scrollLeft+p.x,D=b===Xt.Right&&A<=_.x||b===Xt.Left&&A>=S.x;if(D&&!p.y){g.scrollTo({left:A,behavior:a});return}D?m.x=g.scrollLeft-A:m.x=b===Xt.Right?g.scrollLeft-_.x:g.scrollLeft-S.x,m.x&&g.scrollBy({left:-m.x,behavior:a});break}else if(T&&j.y!==f.y){const A=g.scrollTop+p.y,D=b===Xt.Down&&A<=_.y||b===Xt.Up&&A>=S.y;if(D&&!p.x){g.scrollTo({top:A,behavior:a});return}D?m.y=g.scrollTop-A:m.y=b===Xt.Down?g.scrollTop-_.y:g.scrollTop-S.y,m.y&&g.scrollBy({top:-m.y,behavior:a});break}}this.handleMove(t,vv(Sx(f,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}g7.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Pke,onActivation:o}=t,{active:i}=n;const{code:s}=e.nativeEvent;if(r.start.includes(s)){const a=i.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function IQ(e){return!!(e&&"distance"in e)}function PQ(e){return!!(e&&"delay"in e)}class v7{constructor(t,n,r){var o;r===void 0&&(r=B6t(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:s}=i;this.props=t,this.events=n,this.document=Z0(s),this.documentListeners=new xb(this.document),this.listeners=new xb(r),this.windowListeners=new xb(Is(s)),this.initialCoordinates=(o=EM(i))!=null?o:Pl,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(_a.Resize,this.handleCancel),this.windowListeners.add(_a.DragStart,DQ),this.windowListeners.add(_a.VisibilityChange,this.handleCancel),this.windowListeners.add(_a.ContextMenu,DQ),this.documentListeners.add(_a.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(PQ(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}if(IQ(n))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(_a.Click,N6t,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(_a.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:i}=this,{onMove:s,options:{activationConstraint:a}}=i;if(!o)return;const l=(n=EM(t))!=null?n:Pl,u=Sx(o,l);if(!r&&a){if(IQ(a)){if(a.tolerance!=null&&HP(u,a.tolerance))return this.handleCancel();if(HP(u,a.distance))return this.handleStart()}return PQ(a)&&HP(u,a.tolerance)?this.handleCancel():void 0}t.cancelable&&t.preventDefault(),s(l)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===Xt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const V6t={move:{name:"pointermove"},end:{name:"pointerup"}};class y7 extends v7{constructor(t){const{event:n}=t,r=Z0(n.target);super(t,V6t,r)}}y7.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const H6t={move:{name:"mousemove"},end:{name:"mouseup"}};var jM;(function(e){e[e.RightClick=2]="RightClick"})(jM||(jM={}));class U6t extends v7{constructor(t){super(t,H6t,Z0(t.event.target))}}U6t.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===jM.RightClick?!1:(r==null||r({event:n}),!0)}}];const UP={move:{name:"touchmove"},end:{name:"touchend"}};class W6t extends v7{constructor(t){super(t,UP)}static setup(){return window.addEventListener(UP.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(UP.move.name,t)};function t(){}}}W6t.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var wb;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(wb||(wb={}));var QE;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(QE||(QE={}));function Y6t(e){let{acceleration:t,activator:n=wb.Pointer,canScroll:r,draggingRect:o,enabled:i,interval:s=5,order:a=QE.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:p}=e;const m=G6t({delta:f,disabled:!i}),[v,g]=o6t(),b=h.useRef({x:0,y:0}),x=h.useRef({x:0,y:0}),y=h.useMemo(()=>{switch(n){case wb.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case wb.DraggableRect:return o}},[n,o,l]),w=h.useRef(null),C=h.useCallback(()=>{const S=w.current;if(!S)return;const E=b.current.x*x.current.x,j=b.current.y*x.current.y;S.scrollBy(E,j)},[]),_=h.useMemo(()=>a===QE.TreeOrder?[...u].reverse():u,[a,u]);h.useEffect(()=>{if(!i||!u.length||!y){g();return}for(const S of _){if((r==null?void 0:r(S))===!1)continue;const E=u.indexOf(S),j=d[E];if(!j)continue;const{direction:k,speed:T}=O6t(S,j,y,t,p);for(const A of["x","y"])m[A][k[A]]||(T[A]=0,k[A]=0);if(T.x>0||T.y>0){g(),w.current=S,v(C,s),b.current=T,x.current=k;return}}b.current={x:0,y:0},x.current={x:0,y:0},g()},[t,C,r,g,i,s,JSON.stringify(y),JSON.stringify(m),v,u,_,d,JSON.stringify(p)])}const q6t={x:{[Fo.Backward]:!1,[Fo.Forward]:!1},y:{[Fo.Backward]:!1,[Fo.Forward]:!1}};function G6t(e){let{delta:t,disabled:n}=e;const r=SM(t);return Yw(o=>{if(n||!r||!o)return q6t;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Fo.Backward]:o.x[Fo.Backward]||i.x===-1,[Fo.Forward]:o.x[Fo.Forward]||i.x===1},y:{[Fo.Backward]:o.y[Fo.Backward]||i.y===-1,[Fo.Forward]:o.y[Fo.Forward]||i.y===1}}},[n,t,r])}function K6t(e,t){const n=t!==null?e.get(t):void 0,r=n?n.node.current:null;return Yw(o=>{var i;return t===null?null:(i=r??o)!=null?i:null},[r,t])}function Z6t(e,t){return h.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,i=o.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,r)}));return[...n,...i]},[]),[e,t])}var kx;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(kx||(kx={}));var TM;(function(e){e.Optimized="optimized"})(TM||(TM={}));const OQ=new Map;function X6t(e,t){let{dragging:n,dependencies:r,config:o}=t;const[i,s]=h.useState(null),{frequency:a,measure:l,strategy:u}=o,d=h.useRef(e),f=b(),p=_x(f),m=h.useCallback(function(x){x===void 0&&(x=[]),!p.current&&s(y=>y===null?x:y.concat(x.filter(w=>!y.includes(w))))},[p]),v=h.useRef(null),g=Yw(x=>{if(f&&!n)return OQ;if(!x||x===OQ||d.current!==e||i!=null){const y=new Map;for(let w of e){if(!w)continue;if(i&&i.length>0&&!i.includes(w.id)&&w.rect.current){y.set(w.id,w.rect.current);continue}const C=w.node.current,_=C?new m7(l(C),C):null;w.rect.current=_,_&&y.set(w.id,_)}return y}return x},[e,i,n,f,l]);return h.useEffect(()=>{d.current=e},[e]),h.useEffect(()=>{f||m()},[n,f]),h.useEffect(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),h.useEffect(()=>{f||typeof a!="number"||v.current!==null||(v.current=setTimeout(()=>{m(),v.current=null},a))},[a,f,m,...r]),{droppableRects:g,measureDroppableContainers:m,measuringScheduled:i!=null};function b(){switch(u){case kx.Always:return!1;case kx.BeforeDragging:return n;default:return!n}}}function Oke(e,t){return Yw(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Q6t(e,t){return Oke(e,t)}function J6t(e){let{callback:t,disabled:n}=e;const r=h7(t),o=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return h.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function JT(e){let{callback:t,disabled:n}=e;const r=h7(t),o=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return h.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function eLt(e){return new m7(X0(e),e)}function $Q(e,t,n){t===void 0&&(t=eLt);const[r,o]=h.useReducer(a,null),i=J6t({callback(l){if(e)for(const u of l){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){o();break}}}}),s=JT({callback:o});return Il(()=>{o(),e?(s==null||s.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),i==null||i.disconnect())},[e]),r;function a(l){if(!e)return null;if(e.isConnected===!1){var u;return(u=l??n)!=null?u:null}const d=t(e);return JSON.stringify(l)===JSON.stringify(d)?l:d}}function tLt(e){const t=Oke(e);return Eke(e,t)}const RQ=[];function nLt(e){const t=h.useRef(e),n=Yw(r=>e?r&&r!==RQ&&e&&t.current&&e.parentNode===t.current.parentNode?r:QT(e):RQ,[e]);return h.useEffect(()=>{t.current=e},[e]),n}function rLt(e){const[t,n]=h.useState(null),r=h.useRef(e),o=h.useCallback(i=>{const s=VP(i.target);s&&n(a=>a?(a.set(s,kM(s)),new Map(a)):null)},[]);return h.useEffect(()=>{const i=r.current;if(e!==i){s(i);const a=e.map(l=>{const u=VP(l);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,kM(u)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=e}return()=>{s(e),s(i)};function s(a){a.forEach(l=>{const u=VP(l);u==null||u.removeEventListener("scroll",o)})}},[o,e]),h.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,s)=>vv(i,s),Pl):Ike(e):Pl,[e,t])}function MQ(e,t){t===void 0&&(t=[]);const n=h.useRef(null);return h.useEffect(()=>{n.current=null},t),h.useEffect(()=>{const r=e!==Pl;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Sx(e,n.current):Pl}function oLt(e){h.useEffect(()=>{if(!XT)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function iLt(e,t){return h.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:i}=r;return n[o]=s=>{i(s,t)},n},{}),[e,t])}function $ke(e){return h.useMemo(()=>e?A6t(e):null,[e])}const WP=[];function sLt(e,t){t===void 0&&(t=X0);const[n]=e,r=$ke(n?Is(n):null),[o,i]=h.useReducer(a,WP),s=JT({callback:i});return e.length>0&&o===WP&&i(),Il(()=>{e.length?e.forEach(l=>s==null?void 0:s.observe(l)):(s==null||s.disconnect(),i())},[e]),o;function a(){return e.length?e.map(l=>Ake(l)?r:new m7(t(l),l)):WP}}function aLt(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Ww(t)?t:e}function lLt(e){let{measure:t}=e;const[n,r]=h.useState(null),o=h.useCallback(u=>{for(const{target:d}of u)if(Ww(d)){r(f=>{const p=t(d);return f?{...f,width:p.width,height:p.height}:p});break}},[t]),i=JT({callback:o}),s=h.useCallback(u=>{const d=aLt(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),r(d?t(d):null)},[t,i]),[a,l]=ZE(s);return h.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const cLt=[{sensor:y7,options:{}},{sensor:g7,options:{}}],uLt={current:{}},yS={draggable:{measure:AQ},droppable:{measure:AQ,strategy:kx.WhileDragging,frequency:TM.Optimized},dragOverlay:{measure:X0}};class Cb extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const dLt={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Cb,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:XE},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:yS,measureDroppableContainers:XE,windowRect:null,measuringScheduled:!1},fLt={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:XE,draggableNodes:new Map,over:null,measureDroppableContainers:XE},eA=h.createContext(fLt),Rke=h.createContext(dLt);function hLt(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Cb}}}function pLt(e,t){switch(t.type){case wo.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case wo.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case wo.DragEnd:case wo.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case wo.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new Cb(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case wo.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new Cb(e.droppable.containers);return s.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:s}}}case wo.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new Cb(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function mLt(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=h.useContext(eA),i=SM(r),s=SM(n==null?void 0:n.id);return h.useEffect(()=>{if(!t&&!r&&i&&s!=null){if(!p7(i)||document.activeElement===i.target)return;const a=o.get(s);if(!a)return;const{activatorNode:l,node:u}=a;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[l.current,u.current]){if(!d)continue;const f=a6t(d);if(f){f.focus();break}}})}},[r,t,o,s,i]),null}function gLt(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,i)=>i({transform:o,...r}),n):n}function vLt(e){return h.useMemo(()=>({draggable:{...yS.draggable,...e==null?void 0:e.draggable},droppable:{...yS.droppable,...e==null?void 0:e.droppable},dragOverlay:{...yS.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function yLt(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const i=h.useRef(!1),{x:s,y:a}=typeof o=="boolean"?{x:o,y:o}:o;Il(()=>{if(!s&&!a||!t){i.current=!1;return}if(i.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=Eke(d,r);if(s||(f.x=0),a||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const p=kke(u);p&&p.scrollBy({top:f.y,left:f.x})}},[t,s,a,r,n])}const Mke=h.createContext({...Pl,scaleX:1,scaleY:1});var Rd;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Rd||(Rd={}));const bLt=h.memo(function(t){var n,r,o,i;let{id:s,accessibility:a,autoScroll:l=!0,children:u,sensors:d=cLt,collisionDetection:f=C6t,measuring:p,modifiers:m,...v}=t;const g=h.useReducer(pLt,void 0,hLt),[b,x]=g,[y,w]=h6t(),[C,_]=h.useState(Rd.Uninitialized),S=C===Rd.Initialized,{draggable:{active:E,nodes:j,translate:k},droppable:{containers:T}}=b,A=E?j.get(E):null,D=h.useRef({initial:null,translated:null}),I=h.useMemo(()=>{var Rn;return E!=null?{id:E,data:(Rn=A==null?void 0:A.data)!=null?Rn:uLt,rect:D}:null},[E,A]),P=h.useRef(null),[M,$]=h.useState(null),[V,L]=h.useState(null),H=_x(v,Object.values(v)),U=qw("DndDescribedBy",s),z=h.useMemo(()=>T.getEnabled(),[T]),Y=vLt(p),{droppableRects:te,measureDroppableContainers:N,measuringScheduled:G}=X6t(z,{dragging:S,dependencies:[k.x,k.y],config:Y.droppable}),q=K6t(j,E),K=h.useMemo(()=>V?EM(V):null,[V]),Q=si(),X=Q6t(q,Y.draggable.measure);yLt({activeNode:E?j.get(E):null,config:Q.layoutShiftCompensation,initialRect:X,measure:Y.draggable.measure});const Z=$Q(q,Y.draggable.measure,X),oe=$Q(q?q.parentElement:null),le=h.useRef({activatorEvent:null,active:null,activeNode:q,collisionRect:null,collisions:null,droppableRects:te,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),he=T.getNodeFor((n=le.current.over)==null?void 0:n.id),ie=lLt({measure:Y.dragOverlay.measure}),ye=(r=ie.nodeRef.current)!=null?r:q,_e=S?(o=ie.rect)!=null?o:Z:null,Ae=!!(ie.nodeRef.current&&ie.rect),xe=tLt(Ae?null:Z),Ze=$ke(ye?Is(ye):null),rt=nLt(S?he??q:null),at=sLt(rt),nt=gLt(m,{transform:{x:k.x-xe.x,y:k.y-xe.y,scaleX:1,scaleY:1},activatorEvent:V,active:I,activeNodeRect:Z,containerNodeRect:oe,draggingNodeRect:_e,over:le.current.over,overlayNodeRect:ie.rect,scrollableAncestors:rt,scrollableAncestorRects:at,windowRect:Ze}),Kt=K?vv(K,k):null,Ye=rLt(rt),me=MQ(Ye),Ue=MQ(Ye,[Z]),qe=vv(nt,me),Ne=_e?E6t(_e,nt):null,bt=I&&Ne?f({active:I,collisionRect:Ne,droppableRects:te,droppableContainers:z,pointerCoordinates:Kt}):null,Tt=Ske(bt,"id"),[St,Zt]=h.useState(null),Oi=Ae?nt:vv(nt,Ue),is=_6t(Oi,(i=St==null?void 0:St.rect)!=null?i:null,Z),Os=h.useCallback((Rn,Mr)=>{let{sensor:eo,options:ze}=Mr;if(P.current==null)return;const mt=j.get(P.current);if(!mt)return;const Qn=Rn.nativeEvent,vn=new eo({active:P.current,activeNode:mt,event:Qn,options:ze,context:le,onStart(go){const ss=P.current;if(ss==null)return;const $s=j.get(ss);if(!$s)return;const{onDragStart:Ul}=H.current,qc={active:{id:ss,data:$s.data,rect:D}};uc.unstable_batchedUpdates(()=>{Ul==null||Ul(qc),_(Rd.Initializing),x({type:wo.DragStart,initialCoordinates:go,active:ss}),y({type:"onDragStart",event:qc})})},onMove(go){x({type:wo.DragMove,coordinates:go})},onEnd:ai(wo.DragEnd),onCancel:ai(wo.DragCancel)});uc.unstable_batchedUpdates(()=>{$(vn),L(Rn.nativeEvent)});function ai(go){return async function(){const{active:$s,collisions:Ul,over:qc,scrollAdjustedTranslate:zm}=le.current;let mh=null;if($s&&zm){const{cancelDrop:gh}=H.current;mh={activatorEvent:Qn,active:$s,collisions:Ul,delta:zm,over:qc},go===wo.DragEnd&&typeof gh=="function"&&await Promise.resolve(gh(mh))&&(go=wo.DragCancel)}P.current=null,uc.unstable_batchedUpdates(()=>{x({type:go}),_(Rd.Uninitialized),Zt(null),$(null),L(null);const gh=go===wo.DragEnd?"onDragEnd":"onDragCancel";if(mh){const b1=H.current[gh];b1==null||b1(mh),y({type:gh,event:mh})}})}}},[j]),Ut=h.useCallback((Rn,Mr)=>(eo,ze)=>{const mt=eo.nativeEvent,Qn=j.get(ze);if(P.current!==null||!Qn||mt.dndKit||mt.defaultPrevented)return;const vn={active:Qn};Rn(eo,Mr.options,vn)===!0&&(mt.dndKit={capturedBy:Mr.sensor},P.current=ze,Os(eo,Mr))},[j,Os]),Wr=Z6t(d,Ut);oLt(d),Il(()=>{Z&&C===Rd.Initializing&&_(Rd.Initialized)},[Z,C]),h.useEffect(()=>{const{onDragMove:Rn}=H.current,{active:Mr,activatorEvent:eo,collisions:ze,over:mt}=le.current;if(!Mr||!eo)return;const Qn={active:Mr,activatorEvent:eo,collisions:ze,delta:{x:qe.x,y:qe.y},over:mt};uc.unstable_batchedUpdates(()=>{Rn==null||Rn(Qn),y({type:"onDragMove",event:Qn})})},[qe.x,qe.y]),h.useEffect(()=>{const{active:Rn,activatorEvent:Mr,collisions:eo,droppableContainers:ze,scrollAdjustedTranslate:mt}=le.current;if(!Rn||P.current==null||!Mr||!mt)return;const{onDragOver:Qn}=H.current,vn=ze.get(Tt),ai=vn&&vn.rect.current?{id:vn.id,rect:vn.rect.current,data:vn.data,disabled:vn.disabled}:null,go={active:Rn,activatorEvent:Mr,collisions:eo,delta:{x:mt.x,y:mt.y},over:ai};uc.unstable_batchedUpdates(()=>{Zt(ai),Qn==null||Qn(go),y({type:"onDragOver",event:go})})},[Tt]),Il(()=>{le.current={activatorEvent:V,active:I,activeNode:q,collisionRect:Ne,collisions:bt,droppableRects:te,draggableNodes:j,draggingNode:ye,draggingNodeRect:_e,droppableContainers:T,over:St,scrollableAncestors:rt,scrollAdjustedTranslate:qe},D.current={initial:_e,translated:Ne}},[I,q,bt,Ne,j,ye,_e,te,T,St,rt,qe]),Y6t({...Q,delta:k,draggingRect:Ne,pointerCoordinates:Kt,scrollableAncestors:rt,scrollableAncestorRects:at});const Hl=h.useMemo(()=>({active:I,activeNode:q,activeNodeRect:Z,activatorEvent:V,collisions:bt,containerNodeRect:oe,dragOverlay:ie,draggableNodes:j,droppableContainers:T,droppableRects:te,over:St,measureDroppableContainers:N,scrollableAncestors:rt,scrollableAncestorRects:at,measuringConfiguration:Y,measuringScheduled:G,windowRect:Ze}),[I,q,Z,V,bt,oe,ie,j,T,te,St,N,rt,at,Y,G,Ze]),nl=h.useMemo(()=>({activatorEvent:V,activators:Wr,active:I,activeNodeRect:Z,ariaDescribedById:{draggable:U},dispatch:x,draggableNodes:j,over:St,measureDroppableContainers:N}),[V,Wr,I,Z,x,U,j,St,N]);return re.createElement(wke.Provider,{value:w},re.createElement(eA.Provider,{value:nl},re.createElement(Rke.Provider,{value:Hl},re.createElement(Mke.Provider,{value:is},u)),re.createElement(mLt,{disabled:(a==null?void 0:a.restoreFocus)===!1})),re.createElement(g6t,{...a,hiddenTextDescribedById:U}));function si(){const Rn=(M==null?void 0:M.autoScrollEnabled)===!1,Mr=typeof l=="object"?l.enabled===!1:l===!1,eo=S&&!Rn&&!Mr;return typeof l=="object"?{...l,enabled:eo}:{enabled:eo}}}),xLt=h.createContext(null),FQ="button",wLt="Droppable";function CLt(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const i=qw(wLt),{activators:s,activatorEvent:a,active:l,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:p}=h.useContext(eA),{role:m=FQ,roleDescription:v="draggable",tabIndex:g=0}=o??{},b=(l==null?void 0:l.id)===t,x=h.useContext(b?Mke:xLt),[y,w]=ZE(),[C,_]=ZE(),S=iLt(s,t),E=_x(n);Il(()=>(f.set(t,{id:t,key:i,node:y,activatorNode:C,data:E}),()=>{const k=f.get(t);k&&k.key===i&&f.delete(t)}),[f,t]);const j=h.useMemo(()=>({role:m,tabIndex:g,"aria-disabled":r,"aria-pressed":b&&m===FQ?!0:void 0,"aria-roledescription":v,"aria-describedby":d.draggable}),[r,m,g,b,v,d.draggable]);return{active:l,activatorEvent:a,activeNodeRect:u,attributes:j,isDragging:b,listeners:r?void 0:S,node:y,over:p,setNodeRef:w,setActivatorNodeRef:_,transform:x}}function _Lt(){return h.useContext(Rke)}const SLt="Droppable",ELt={timeout:25};function kLt(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const i=qw(SLt),{active:s,dispatch:a,over:l,measureDroppableContainers:u}=h.useContext(eA),d=h.useRef({disabled:n}),f=h.useRef(!1),p=h.useRef(null),m=h.useRef(null),{disabled:v,updateMeasurementsFor:g,timeout:b}={...ELt,...o},x=_x(g??r),y=h.useCallback(()=>{if(!f.current){f.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),m.current=null},b)},[b]),w=JT({callback:y,disabled:v||!s}),C=h.useCallback((j,k)=>{w&&(k&&(w.unobserve(k),f.current=!1),j&&w.observe(j))},[w]),[_,S]=ZE(C),E=_x(t);return h.useEffect(()=>{!w||!_.current||(w.disconnect(),f.current=!1,w.observe(_.current))},[_,w]),Il(()=>(a({type:wo.RegisterDroppable,element:{id:r,key:i,disabled:n,node:_,rect:p,data:E}}),()=>a({type:wo.UnregisterDroppable,key:i,id:r})),[r]),h.useEffect(()=>{n!==d.current.disabled&&(a({type:wo.SetDroppableDisabled,id:r,key:i,disabled:n}),d.current.disabled=n)},[r,i,n,a]),{active:s,rect:p,isOver:(l==null?void 0:l.id)===r,node:_,over:l,setNodeRef:S}}function Fke(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function jLt(e,t){return e.reduce((n,r,o)=>{const i=t.get(r);return i&&(n[o]=i),n},Array(e.length))}function P_(e){return e!==null&&e>=0}function TLt(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function ALt(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const O_={scaleX:1,scaleY:1},DLt=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:o,overIndex:i,index:s}=e;const a=(t=n[o])!=null?t:r;if(!a)return null;const l=ILt(n,s,o);if(s===o){const u=n[i];return u?{x:o<i?u.left+u.width-(a.left+a.width):u.left-a.left,y:0,...O_}:null}return s>o&&s<=i?{x:-a.width-l,y:0,...O_}:s<o&&s>=i?{x:a.width+l,y:0,...O_}:{x:0,y:0,...O_}};function ILt(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return!r||!o&&!i?0:n<t?o?r.left-(o.left+o.width):i.left-(r.left+r.width):i?i.left-(r.left+r.width):r.left-(o.left+o.width)}const Lke=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const i=Fke(t,r,n),s=t[o],a=i[o];return!a||!s?null:{x:a.left-s.left,y:a.top-s.top,scaleX:a.width/s.width,scaleY:a.height/s.height}},$_={scaleX:1,scaleY:1},PLt=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:s}=e;const a=(t=i[n])!=null?t:r;if(!a)return null;if(o===n){const u=i[s];return u?{x:0,y:n<s?u.top+u.height-(a.top+a.height):u.top-a.top,...$_}:null}const l=OLt(i,o,n);return o>n&&o<=s?{x:0,y:-a.height-l,...$_}:o<n&&o>=s?{x:0,y:a.height+l,...$_}:{x:0,y:0,...$_}};function OLt(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const Bke="Sortable",Nke=re.createContext({activeIndex:-1,containerId:Bke,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Lke,disabled:{draggable:!1,droppable:!1}});function $Lt(e){let{children:t,id:n,items:r,strategy:o=Lke,disabled:i=!1}=e;const{active:s,dragOverlay:a,droppableRects:l,over:u,measureDroppableContainers:d}=_Lt(),f=qw(Bke,n),p=a.rect!==null,m=h.useMemo(()=>r.map(S=>typeof S=="object"&&"id"in S?S.id:S),[r]),v=s!=null,g=s?m.indexOf(s.id):-1,b=u?m.indexOf(u.id):-1,x=h.useRef(m),y=!TLt(m,x.current),w=b!==-1&&g===-1||y,C=ALt(i);Il(()=>{y&&v&&d(m)},[y,m,v,d]),h.useEffect(()=>{x.current=m},[m]);const _=h.useMemo(()=>({activeIndex:g,containerId:f,disabled:C,disableTransforms:w,items:m,overIndex:b,useDragOverlay:p,sortedRects:jLt(m,l),strategy:o}),[g,f,C.draggable,C.droppable,w,m,b,l,p,o]);return re.createElement(Nke.Provider,{value:_},t)}const RLt=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return Fke(n,r,o).indexOf(t)},MLt=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:s,previousItems:a,previousContainerId:l,transition:u}=e;return!u||!r||a!==i&&o===s?!1:n?!0:s!==o&&t===l},FLt={duration:200,easing:"ease"},zke="transform",LLt=Ex.Transition.toString({property:zke,duration:0,easing:"linear"}),BLt={roleDescription:"sortable"};function NLt(e){let{disabled:t,index:n,node:r,rect:o}=e;const[i,s]=h.useState(null),a=h.useRef(n);return Il(()=>{if(!t&&n!==a.current&&r.current){const l=o.current;if(l){const u=X0(r.current,{ignoreTransform:!0}),d={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(d.x||d.y)&&s(d)}}n!==a.current&&(a.current=n)},[t,n,r,o]),h.useEffect(()=>{i&&s(null)},[i]),i}function Vke(e){let{animateLayoutChanges:t=MLt,attributes:n,disabled:r,data:o,getNewIndex:i=RLt,id:s,strategy:a,resizeObserverConfig:l,transition:u=FLt}=e;const{items:d,containerId:f,activeIndex:p,disabled:m,disableTransforms:v,sortedRects:g,overIndex:b,useDragOverlay:x,strategy:y}=h.useContext(Nke),w=zLt(r,m),C=d.indexOf(s),_=h.useMemo(()=>({sortable:{containerId:f,index:C,items:d},...o}),[f,o,C,d]),S=h.useMemo(()=>d.slice(d.indexOf(s)),[d,s]),{rect:E,node:j,isOver:k,setNodeRef:T}=kLt({id:s,data:_,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...l}}),{active:A,activatorEvent:D,activeNodeRect:I,attributes:P,setNodeRef:M,listeners:$,isDragging:V,over:L,setActivatorNodeRef:H,transform:U}=CLt({id:s,data:_,attributes:{...BLt,...n},disabled:w.draggable}),z=r6t(T,M),Y=!!A,te=Y&&!v&&P_(p)&&P_(b),N=!x&&V,G=N&&te?U:null,K=te?G??(a??y)({rects:g,activeNodeRect:I,activeIndex:p,overIndex:b,index:C}):null,Q=P_(p)&&P_(b)?i({id:s,items:d,activeIndex:p,overIndex:b}):C,X=A==null?void 0:A.id,Z=h.useRef({activeId:X,items:d,newIndex:Q,containerId:f}),oe=d!==Z.current.items,le=t({active:A,containerId:f,isDragging:V,isSorting:Y,id:s,index:C,items:d,newIndex:Z.current.newIndex,previousItems:Z.current.items,previousContainerId:Z.current.containerId,transition:u,wasDragging:Z.current.activeId!=null}),he=NLt({disabled:!le,index:C,node:j,rect:E});return h.useEffect(()=>{Y&&Z.current.newIndex!==Q&&(Z.current.newIndex=Q),f!==Z.current.containerId&&(Z.current.containerId=f),d!==Z.current.items&&(Z.current.items=d)},[Y,Q,f,d]),h.useEffect(()=>{if(X===Z.current.activeId)return;if(X&&!Z.current.activeId){Z.current.activeId=X;return}const ye=setTimeout(()=>{Z.current.activeId=X},50);return()=>clearTimeout(ye)},[X]),{active:A,activeIndex:p,attributes:P,data:_,rect:E,index:C,newIndex:Q,items:d,isOver:k,isSorting:Y,isDragging:V,listeners:$,node:j,overIndex:b,over:L,setNodeRef:z,setActivatorNodeRef:H,setDroppableNodeRef:T,setDraggableNodeRef:M,transform:he??K,transition:ie()};function ie(){if(he||oe&&Z.current.newIndex===C)return LLt;if(!(N&&!p7(D)||!u)&&(Y||le))return Ex.Transition.toString({...u,property:zke})}}function zLt(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function JE(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const VLt=[Xt.Down,Xt.Right,Xt.Up,Xt.Left],HLt=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:i,over:s,scrollableAncestors:a}}=t;if(VLt.includes(e.code)){if(e.preventDefault(),!n||!r)return;const l=[];i.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const p=o.get(f.id);if(p)switch(e.code){case Xt.Down:r.top<p.top&&l.push(f);break;case Xt.Up:r.top>p.top&&l.push(f);break;case Xt.Left:r.left>p.left&&l.push(f);break;case Xt.Right:r.left<p.left&&l.push(f);break}});const u=x6t({active:n,collisionRect:r,droppableRects:o,droppableContainers:l,pointerCoordinates:null});let d=Ske(u,"id");if(d===(s==null?void 0:s.id)&&u.length>1&&(d=u[1].id),d!=null){const f=i.get(n.id),p=i.get(d),m=p?o.get(p.id):null,v=p==null?void 0:p.node.current;if(v&&m&&f&&p){const b=QT(v).some((S,E)=>a[E]!==S),x=Hke(f,p),y=ULt(f,p),w=b||!x?{x:0,y:0}:{x:y?r.width-m.width:0,y:y?r.height-m.height:0},C={x:m.left,y:m.top};return w.x&&w.y?C:Sx(C,w)}}}};function Hke(e,t){return!JE(e)||!JE(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function ULt(e,t){return!JE(e)||!JE(t)||!Hke(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const WLt=e=>{let{transform:t}=e;return{...t,y:0}},YLt=e=>{let{transform:t}=e;return{...t,x:0}};var qLt=lm;function GLt(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],s=t(i);if(s!=null&&(a===void 0?s===s&&!qLt(s):n(s,a)))var a=s,l=i}return l}var Uke=GLt;function KLt(e,t){return e<t}var ZLt=KLt,XLt=Uke,QLt=ZLt,JLt=wm;function e8t(e){return e&&e.length?XLt(e,JLt,QLt):void 0}var t8t=e8t;const n8t=De(t8t);function r8t(e,t){return e>t}var o8t=r8t,i8t=Uke,s8t=o8t,a8t=wm;function l8t(e){return e&&e.length?i8t(e,a8t,s8t):void 0}var c8t=l8t;const u8t=De(c8t);var AM={exports:{}},YP,LQ;function d8t(){if(LQ)return YP;LQ=1;var e=1e3,t=e*60,n=t*60,r=n*24,o=r*7,i=r*365.25;YP=function(d,f){f=f||{};var p=typeof d;if(p==="string"&&d.length>0)return s(d);if(p==="number"&&isFinite(d))return f.long?l(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function s(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var p=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(d){var f=Math.abs(d);return f>=r?Math.round(d/r)+"d":f>=n?Math.round(d/n)+"h":f>=t?Math.round(d/t)+"m":f>=e?Math.round(d/e)+"s":d+"ms"}function l(d){var f=Math.abs(d);return f>=r?u(d,f,r,"day"):f>=n?u(d,f,n,"hour"):f>=t?u(d,f,t,"minute"):f>=e?u(d,f,e,"second"):d+" ms"}function u(d,f,p,m){var v=f>=p*1.5;return Math.round(d/p)+" "+m+(v?"s":"")}return YP}function f8t(e){n.debug=n,n.default=n,n.coerce=l,n.disable=s,n.enable=i,n.enabled=a,n.humanize=d8t(),Object.keys(e).forEach(function(u){n[u]=e[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function t(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){var d;function f(){if(f.enabled){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];var g=f,b=Number(new Date),x=b-(d||b);g.diff=x,g.prev=d,g.curr=b,d=b,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var y=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(C,_){if(C==="%%")return C;y++;var S=n.formatters[_];if(typeof S=="function"){var E=m[y];C=S.call(g,E),m.splice(y,1),y--}return C}),n.formatArgs.call(g,m);var w=g.log||n.log;w.apply(g,m)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=t(u),f.destroy=r,f.extend=o,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function o(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function i(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var m=n.instances[d];m.enabled=n.enabled(m.namespace)}}function s(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var h8t=f8t;(function(e,t){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(p){return typeof p}:n=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n(d)}t.log=i,t.formatArgs=o,t.save=s,t.load=a,t.useColors=r,t.storage=l(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var p=0,m=0;d[0].replace(/%[a-zA-Z%]/g,function(v){v!=="%%"&&(p++,v==="%c"&&(m=p))}),d.splice(m,0,f)}}function i(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function s(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function a(){var d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function l(){try{return localStorage}catch{}}e.exports=h8t(t);var u=e.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(AM,AM.exports);var p8t=AM.exports;const m8t=De(p8t);var g8t=Object.defineProperty,v8t=(e,t,n)=>t in e?g8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,R_=(e,t,n)=>(v8t(e,typeof t!="symbol"?t+"":t,n),n);const y8t=/[0-9]/,b8t=/^[a-zA-Z0-9_]$/,x8t=/^[a-zA-Z_]$/,Wke={operator:["..",".",",",":","?"],comparator:[">=","<=","<",">","==","!="],keyword:["$","@"],boolean:["true","false"],paren:["[","]"]},w8t=Object.keys(Wke);class C8t{constructor(t){R_(this,"source"),R_(this,"i"),R_(this,"length"),R_(this,"tokenizers"),this.source=t,this.length=t.length,this.i=0,this.tokenizers=[this.tokenizeSymbol,this.tokenizeIdentifier,this.tokenizeNumber,this.tokenizeQuoted].map(n=>n.bind(this))}tokenize(){const t=[];for(;!this.EOF();){this.chompWhitespace();let n=null;if(!this.tokenizers.some(o=>(n=o(),!!n))||!n)throw new Error("Invalid tokens in jsonpath '".concat(this.source,"' @ ").concat(this.i));t.push(n)}return t}takeWhile(t){const n=this.i;let r="";for(;!this.EOF();){const o=t(this.source[this.i]);if(o===null)break;r+=o,this.i++}return this.i===n?null:r}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.source[this.i]}consume(t){if(this.i+t.length>this.length)throw new Error("Expected ".concat(t," at end of jsonpath"));if(t===this.source.slice(this.i,this.i+t.length))this.i+=t.length;else throw new Error('Expected "'.concat(t,'", but source contained "').concat(this.source.slice()))}tryConsume(t){return this.i+t.length>this.length?null:t===this.source.slice(this.i,this.i+t.length)?(this.i+=t.length,t):null}chompWhitespace(){this.takeWhile(t=>t===" "?"":null)}tokenizeQuoted(){const t=this.peek();if(t==="'"||t==='"'){this.consume(t);let n=!1;const r=this.takeWhile(o=>n?(n=!1,o):o==="\\"?(n=!0,""):o!=t?o:null);return this.consume(t),{type:"quoted",value:r,quote:t==='"'?"double":"single"}}return null}tokenizeIdentifier(){let t=!0;const n=this.takeWhile(r=>t?(t=!1,r.match(x8t)?r:null):r.match(b8t)?r:null);return n!==null?{type:"identifier",name:n}:null}tokenizeNumber(){const t=this.i;let n=!1,r=!1,o=!1;this.peek()==="-"&&(o=!0,this.consume("-"));const i=this.takeWhile(s=>s==="."&&!n&&r?(n=!0,s):(r=!0,s.match(y8t)?s:null));return i!==null?{type:"number",value:o?-i:+i,raw:o?"-".concat(i):i}:(this.i=t,null)}tokenizeSymbol(){for(const t of w8t){const r=Wke[t].find(o=>this.tryConsume(o));if(r)return{type:t,symbol:r}}return null}}function _8t(e){return new C8t(e).tokenize()}var S8t=Object.defineProperty,E8t=(e,t,n)=>t in e?S8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qP=(e,t,n)=>(E8t(e,typeof t!="symbol"?t+"":t,n),n);class k8t{constructor(t){qP(this,"tokens"),qP(this,"length"),qP(this,"i"),this.tokens=_8t(t),this.length=this.tokens.length,this.i=0}parse(){return this.parsePath()}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.tokens[this.i]}consume(){const t=this.peek();return this.i+=1,t}probe(t){const n=this.peek();if(!n)return null;const r=n;return Object.keys(t).every(i=>i in n&&t[i]===r[i])?n:null}match(t){return this.probe(t)?this.consume():null}parseAttribute(){const t=this.match({type:"identifier"});if(t&&t.type==="identifier")return{type:"attribute",name:t.name};const n=this.match({type:"quoted",quote:"single"});return n&&n.type==="quoted"?{type:"attribute",name:n.value||""}:null}parseAlias(){return this.match({type:"keyword",symbol:"@"})||this.match({type:"keyword",symbol:"$"})?{type:"alias",target:"self"}:null}parseNumber(){const t=this.match({type:"number"});return t&&t.type==="number"?{type:"number",value:t.value}:null}parseNumberValue(){const t=this.parseNumber();return t?t.value:null}parseSliceSelector(){const t=this.i,n=this.parseNumberValue();if(!this.match({type:"operator",symbol:":"}))return n===null?(this.i=t,null):{type:"index",value:n};const o={type:"range",start:n,end:this.parseNumberValue()};return this.match({type:"operator",symbol:":"})&&(o.step=this.parseNumberValue()),o.start===null&&o.end===null?(this.i=t,null):o}parseValueReference(){return this.parseAttribute()||this.parseSliceSelector()}parseLiteralValue(){const t=this.match({type:"quoted",quote:"double"});if(t&&t.type==="quoted")return{type:"string",value:t.value||""};const n=this.match({type:"boolean"});return n&&n.type==="boolean"?{type:"boolean",value:n.symbol==="true"}:this.parseNumber()}parseFilterExpression(){const t=this.i,n=this.parseAttribute()||this.parseAlias();if(!n)return null;if(this.match({type:"operator",symbol:"?"}))return{type:"constraint",operator:"?",lhs:n};const r=this.match({type:"comparator"});if(!r||r.type!=="comparator")return this.i=t,null;const o=n,i=this.parseLiteralValue();if(!i)throw new Error("Operator ".concat(r.symbol," needs a literal value at the right hand side"));return{type:"constraint",operator:r.symbol,lhs:o,rhs:i}}parseExpression(){return this.parseFilterExpression()||this.parseValueReference()}parseUnion(){if(!this.match({type:"paren",symbol:"["}))return null;const t=[];let n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference();for(;n&&(t.push(n),!this.match({type:"paren",symbol:"]"}));){if(!this.match({type:"operator",symbol:","}))throw new Error("Expected ]");if(n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference(),!n)throw new Error("Expected expression following ','")}return{type:"union",nodes:t}}parseRecursive(){if(!this.match({type:"operator",symbol:".."}))return null;const t=this.parsePath();if(!t)throw new Error("Expected path following '..' operator");return{type:"recursive",term:t}}parsePath(){const t=[],n=this.parseAttribute()||this.parseUnion()||this.parseRecursive();if(!n)return null;for(t.push(n);!this.EOF();)if(this.match({type:"operator",symbol:"."})){const r=this.parseAttribute();if(!r)throw new Error("Expected attribute name following '.");t.push(r);continue}else if(this.probe({type:"paren",symbol:"["})){const r=this.parseUnion();if(!r)throw new Error("Expected union following '['");t.push(r)}else{const r=this.parseRecursive();r&&t.push(r);break}return t.length===1?t[0]:{type:"path",nodes:t}}}function Yke(e){const t=new k8t(e).parse();if(!t)throw new Error('Failed to parse JSON path "'.concat(e,'"'));return t}function j8t(e){const[t,n]=qke(e);if(!t)throw new Error("Head cannot be null");return A8t(t,n)}function qke(e){if(e.type!=="path")return[e,null];const t=e.nodes;return t.length===0?[null,null]:t.length===1?[t[0],null]:[t[0],{type:"path",nodes:t.slice(1)}]}function T8t(e,t){if(!e&&!t)return null;const n=e?e.nodes:[],r=t?t.nodes:[];return{type:"path",nodes:n.concat(r)}}function A8t(e,t){return e.type!=="union"?[[e,t]]:e.nodes.map(n=>{if(n.type==="path"){const[r,o]=qke(n);return[r,T8t(o,t)]}return[n,t]})}function Gke(e){return yg(e,!1)}function yg(e,t){switch(e.type){case"attribute":return e.name;case"alias":return e.target==="self"?"@":"$";case"number":return"".concat(e.value);case"range":{const n=[];return t||n.push("["),e.start&&n.push("".concat(e.start)),n.push(":"),e.end&&n.push("".concat(e.end)),e.step&&n.push(":".concat(e.step)),t||n.push("]"),n.join("")}case"index":return t?"".concat(e.value):"[".concat(e.value,"]");case"constraint":{const n=e.rhs?" ".concat(yg(e.rhs,!1)):"",r="".concat(yg(e.lhs,!1)," ").concat(e.operator).concat(n);return t?r:"[".concat(r,"]")}case"string":return JSON.stringify(e.value);case"path":{const n=[],r=e.nodes.slice();for(;r.length>0;){const o=r.shift();o&&n.push(Gke(o));const i=r[0];i&&yg(i,!1)[0]!=="["&&n.push(".")}return n.join("")}case"union":return"[".concat(e.nodes.map(n=>yg(n,!0)).join(","),"]");default:throw new Error("Unknown node type ".concat(e.type));case"recursive":return"..".concat(yg(e.term,!1))}}var D8t=Object.defineProperty,I8t=(e,t,n)=>t in e?D8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,P8t=(e,t,n)=>(I8t(e,typeof t!="symbol"?t+"":t,n),n);class qs{constructor(t){if(P8t(this,"expr"),!t)throw new Error("Attempted to create Expression from null-value");if("expr"in t?this.expr=t.expr:this.expr=t,!("type"in this.expr))throw new Error("Attempt to create Expression for expression with no type")}isPath(){return this.expr.type==="path"}isUnion(){return this.expr.type==="union"}isCollection(){return this.isPath()||this.isUnion()}isConstraint(){return this.expr.type==="constraint"}isRecursive(){return this.expr.type==="recursive"}isExistenceConstraint(){return this.expr.type==="constraint"&&this.expr.operator==="?"}isIndex(){return this.expr.type==="index"}isRange(){return this.expr.type==="range"}expandRange(t){const n=()=>{if(!t)throw new Error("expandRange() required a probe that was not passed");return t.length()};let r="start"in this.expr&&this.expr.start||0;r=GP(r,t);let o="end"in this.expr&&this.expr.end||n();o=GP(o,t);const i="step"in this.expr&&this.expr.step||1;return{start:r,end:o,step:i}}isAttributeReference(){return this.expr.type==="attribute"}isIndexReference(){return this.isIndex()||this.isRange()}name(){return"name"in this.expr?this.expr.name:""}isSelfReference(){return this.expr.type==="alias"&&this.expr.target==="self"}constraintTargetIsSelf(){return this.expr.type==="constraint"&&this.expr.lhs.type==="alias"&&this.expr.lhs.target==="self"}constraintTargetIsAttribute(){return this.expr.type==="constraint"&&this.expr.lhs.type==="attribute"}testConstraint(t){const n=this.expr;if(n.type==="constraint"&&n.lhs.type==="alias"&&n.lhs.target==="self"){if(t.containerType()!=="primitive")return!1;if(n.type==="constraint"&&n.operator==="?")return!0;const s=t.get(),a=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return BQ(s,n.operator,a)}if(n.type!=="constraint")return!1;const r=n.lhs;if(!r)throw new Error("No LHS of expression");if(r.type!=="attribute")throw new Error("Constraint target ".concat(r.type," not supported"));if(t.containerType()!=="object")return!1;const o=t.getAttribute(r.name);if(o==null||o.containerType()!=="primitive")return!1;if(this.isExistenceConstraint())return!0;const i=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return BQ(o.get(),n.operator,i)}pathNodes(){return this.expr.type==="path"?this.expr.nodes:[this.expr]}prepend(t){return t?new qs({type:"path",nodes:t.pathNodes().concat(this.pathNodes())}):this}concat(t){return t?t.prepend(this):this}descend(){return j8t(this.expr).map(t=>{const[n,r]=t;return{head:n?new qs(n):null,tail:r?new qs(r):null}})}unwrapRecursive(){if(this.expr.type!=="recursive")throw new Error("Attempt to unwrap recursive on type ".concat(this.expr.type));return new qs(this.expr.term)}toIndicies(t){if(this.expr.type!=="index"&&this.expr.type!=="range")throw new Error("Node cannot be converted to indexes");if(this.expr.type==="index")return[GP(this.expr.value,t)];const n=[],r=this.expandRange(t);let{start:o,end:i}=r;r.step<0&&([o,i]=[i,o]);for(let s=o;s<i;s++)n.push(s);return n}toFieldReferences(){if(this.isIndexReference())return this.toIndicies();if(this.expr.type==="attribute")return[this.expr.name];throw new Error("Can't convert ".concat(this.expr.type," to field references"))}toString(){return Gke(this.expr)}static fromPath(t){const n=Yke(t);if(!n)throw new Error('Failed to parse path "'.concat(t,'"'));return new qs(n)}static attributeReference(t){return new qs({type:"attribute",name:t})}static indexReference(t){return new qs({type:"index",value:t})}}function BQ(e,t,n){switch(t){case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n;case"==":return e===n;case"!=":return e!==n;default:throw new Error("Unsupported binary operator ".concat(t))}}function GP(e,t){if(e>=0)return e;if(!t)throw new Error("interpretNegativeIndex() must have a probe when < 0");return e+t.length()}var O8t=Object.defineProperty,$8t=(e,t,n)=>t in e?O8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NQ=(e,t,n)=>($8t(e,typeof t!="symbol"?t+"":t,n),n);class Yg{constructor(t,n){NQ(this,"head"),NQ(this,"tail"),this.head=t,this.tail=n}iterate(t){let n=[this];if(this.head&&this.head.isConstraint()){let r=!0;for(;r;)n=En(n.map(o=>o.iterateConstraints(t))),r=n.some(o=>o.head&&o.head.isConstraint())}return n}isRecursive(){return!!(this.head&&this.head.isRecursive())}hasArrived(){return this.head===null&&this.tail===null}extractRecursives(){if(this.head&&this.head.isRecursive()){const t=this.head.unwrapRecursive();return new Yg(null,t.concat(this.tail)).descend()}return[]}iterateConstraints(t){const n=this.head;if(n===null||!n.isConstraint())return[this];const r=[];if(t.containerType()==="primitive"&&n.constraintTargetIsSelf())return n.testConstraint(t)&&r.push(...this.descend()),r;if(t.containerType()==="array"){const o=t.length();for(let i=0;i<o;i++){const s=t.getIndex(i);s&&n.testConstraint(s)&&r.push(new Yg(new qs({type:"index",value:i}),this.tail))}return r}return t.containerType()==="object"?n.constraintTargetIsSelf()?[]:n.testConstraint(t)?this.descend():r:r}descend(){return this.tail?this.tail.descend().map(t=>new Yg(t.head,t.tail)):[new Yg(null,null)]}toString(){const t=["<"];return this.head&&t.push(this.head.toString()),t.push("|"),this.tail&&t.push(this.tail.toString()),t.push(">"),t.join("")}}var R8t=Object.defineProperty,M8t=(e,t,n)=>t in e?R8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KP=(e,t,n)=>(M8t(e,typeof t!="symbol"?t+"":t,n),n);class dp{constructor(t,n){KP(this,"active"),KP(this,"recursives"),KP(this,"payload"),this.active=t||[],n?(this.recursives=n.recursives,this.payload=n.payload):this.recursives=[],this.extractRecursives()}setPayload(t){return this.payload=t,this}extractRecursives(){this.active=this.active.filter(t=>t.isRecursive()?(this.recursives.push(...t.extractRecursives()),!1):!0)}activeRecursives(t){return this.recursives.filter(n=>{const r=n.head;return r?r.isConstraint()||t.containerType()==="array"&&r.isIndexReference()?!0:t.containerType()==="object"?r.isAttributeReference()&&t.hasAttribute(r.name()):!1:!1})}match(t){return this.iterate(t).extractMatches(t)}iterate(t){const n=[];return this.active.concat(this.activeRecursives(t)).forEach(r=>{n.push(...r.iterate(t))}),new dp(n,this)}isDestination(){return this.active.some(t=>t.hasArrived())}hasRecursives(){return this.recursives.length>0}extractMatches(t){const n=[],r=[];if(this.active.forEach(o=>{if(o.hasArrived()){r.push(new qs({type:"alias",target:"self"}));return}const i=o.head;if(i&&!(t.containerType()==="array"&&!i.isIndexReference())&&!(t.containerType()==="object"&&!i.isAttributeReference()))if(o.tail){const s=new dp(o.descend(),this);i.toFieldReferences().forEach(()=>{n.push({target:i,matcher:s})})}else r.push(i)}),this.hasRecursives()){const o=new dp([],this);if(t.containerType()==="array"){const i=t.length();for(let s=0;s<i;s++)n.push({target:qs.indexReference(s),matcher:o})}else t.containerType()==="object"&&t.attributeKeys().forEach(i=>{n.push({target:qs.attributeReference(i),matcher:o})})}return r.length>0?{leads:n,delivery:{targets:r,payload:this.payload}}:{leads:n}}static fromPath(t){const n=Yke(t);if(!n)throw new Error('Failed to parse path from "'.concat(t,'"'));const r=new Yg(null,new qs(n));return new dp(r.descend())}}function bS(e){return e!==null&&typeof e=="object"}var F8t=Object.defineProperty,L8t=(e,t,n)=>t in e?F8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zQ=(e,t,n)=>(L8t(e,typeof t!="symbol"?t+"":t,n),n);class ek{constructor(t,n){zQ(this,"_value"),zQ(this,"path"),this._value=t,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(t){return Array.isArray(this._value)?t>=this.length()?null:new ek(this._value[t],this.path.concat(t)):!1}hasAttribute(t){return bS(this._value)?this._value.hasOwnProperty(t):!1}attributeKeys(){return bS(this._value)?Object.keys(this._value):[]}getAttribute(t){if(!bS(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(t)?new ek(this._value[t],this.path.concat(t)):null}get(){return this._value}}function B8t(e,t){const n=[],r=dp.fromPath(e).setPayload(function(s){n.push(...s)}),o=new ek(t);return Kke(r,o),n}function Kke(e,t){const{leads:n,delivery:r}=e.match(t);n.forEach(o=>{VQ(o.target,t).forEach(i=>{Kke(o.matcher,i)})}),r&&r.targets.forEach(o=>{typeof r.payload=="function"&&r.payload(VQ(o,t))})}function VQ(e,t){const n=[];if(e.isIndexReference())e.toIndicies(t).forEach(r=>{n.push(t.getIndex(r))});else if(e.isAttributeReference())n.push(t.getAttribute(e.name()));else if(e.isSelfReference())n.push(t);else throw new Error("Unable to derive accessor for target ".concat(e.toString()));return kT(n)}function N8t(e,t){return B8t(e,t).map(r=>({path:r.path,value:r.get()}))}const z8t=/^[a-z_$]+/;function Zke(e){let t="";return e.forEach((n,r)=>{t+=V8t(n,r===0)}),t}function V8t(e,t){if(typeof e=="number")return"[".concat(e,"]");if(bS(e)){const n=e;return Object.keys(e).map(r=>H8t(n[r])?"[".concat(r,'=="').concat(n[r],'"]'):"").join("")}return typeof e=="string"&&z8t.test(e)?t?e:".".concat(e):"['".concat(e,"']")}function H8t(e){switch(typeof e){case"number":case"string":case"boolean":return!0;default:return!1}}var U8t=Object.defineProperty,W8t=(e,t,n)=>t in e?U8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZP=(e,t,n)=>(W8t(e,typeof t!="symbol"?t+"":t,n),n);class Xke{constructor(t,n,r){ZP(this,"id"),ZP(this,"path"),ZP(this,"value"),this.id=t,this.path=n,this.value=r}apply(t,n){let r=n;return t.forEach(o=>{if(o.isSelfReference())r=r.set(this.value);else if(o.isIndexReference())o.toIndicies(n).forEach(i=>{r=r.setIndex(i,this.value)});else if(o.isAttributeReference())r.containerType()==="primitive"?r=r.set({[o.name()]:this.value}):r=r.setAttribute(o.name(),this.value);else throw new Error("Unable to apply to target ".concat(o.toString()))}),r}}var Y8t=Object.defineProperty,q8t=(e,t,n)=>t in e?Y8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,XP=(e,t,n)=>(q8t(e,typeof t!="symbol"?t+"":t,n),n);function HQ(e,t){return typeof e!="number"||!Number.isFinite(e)?e:e+t}class UQ{constructor(t,n,r){XP(this,"path"),XP(this,"value"),XP(this,"id"),this.path=n,this.value=r,this.id=t}apply(t,n){let r=n;if(r.containerType()==="primitive")return r;for(const o of t){if(o.isIndexReference()){for(const i of o.toIndicies(n)){const s=r.getIndex(i);if(!s)continue;const a=s.get();r=r.setIndex(i,HQ(a,this.value))}continue}if(o.isAttributeReference()){const i=r.getAttribute(o.name());if(!i)continue;const s=i.get();r=r.setAttribute(o.name(),HQ(s,this.value));continue}throw new Error("Unable to apply to target ".concat(o.toString()))}return r}}function tA(e,t){const n=[];return e.forEach(r=>{r.isIndexReference()&&n.push(...r.toIndicies(t))}),n.sort()}var G8t=Object.defineProperty,K8t=(e,t,n)=>t in e?G8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,M_=(e,t,n)=>(K8t(e,typeof t!="symbol"?t+"":t,n),n);class Z8t{constructor(t,n,r,o){M_(this,"location"),M_(this,"path"),M_(this,"items"),M_(this,"id"),this.id=t,this.location=n,this.path=r,this.items=o}apply(t,n){let r=n;if(n.containerType()!=="array")throw new Error("Attempt to apply insert patch to non-array value");switch(this.location){case"before":{const o=X8t(t,n);r=r.insertItemsAt(o,this.items);break}case"after":{const o=Q8t(t,n);r=r.insertItemsAt(o+1,this.items);break}case"replace":{const o=tA(t,n);r=r.unsetIndices(o),r=r.insertItemsAt(o[0],this.items);break}default:throw new Error("Unsupported location atm: ".concat(this.location))}return r}}function X8t(e,t){let n=n8t(tA(e,t))||0;return e.forEach(r=>{if(r.isRange()){const{start:o}=r.expandRange();o<n&&(n=o)}}),n}function Q8t(e,t){let n=u8t(tA(e,t))||0;return e.forEach(r=>{if(r.isRange()){const{end:o}=r.expandRange();o>n&&(n=o)}}),n}var J8t=Object.defineProperty,e9t=(e,t,n)=>t in e?J8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QP=(e,t,n)=>(e9t(e,typeof t!="symbol"?t+"":t,n),n);class Qke{constructor(t,n,r){QP(this,"id"),QP(this,"path"),QP(this,"value"),this.id=t,this.path=n,this.value=r}apply(t,n){let r=n;return t.forEach(o=>{if(!o.isIndexReference())if(o.isAttributeReference())r.containerType()==="primitive"?r=r.set({[o.name()]:this.value}):r.hasAttribute(o.name())||(r=n.setAttribute(o.name(),this.value));else throw new Error("Unable to apply to target ".concat(o.toString()))}),r}}var t9t=Object.defineProperty,n9t=(e,t,n)=>t in e?t9t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JP=(e,t,n)=>(n9t(e,typeof t!="symbol"?t+"":t,n),n);class r9t{constructor(t,n){JP(this,"id"),JP(this,"path"),JP(this,"value"),this.id=t,this.path=n}apply(t,n){let r=n;switch(n.containerType()){case"array":r=r.unsetIndices(tA(t,n));break;case"object":t.forEach(o=>{r=r.unsetAttribute(o.name())});break;default:throw new Error("Target value is neither indexable or an object. This error should potentially just be silently ignored?")}return r}}var o9t=Object.defineProperty,i9t=(e,t,n)=>t in e?o9t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eO=(e,t,n)=>(i9t(e,typeof t!="symbol"?t+"":t,n),n);function WQ(e,t){if(typeof t!="string")return t;const[n]=c5e(e,t,{allowExceedingIndices:!0});return n}class s9t{constructor(t,n,r){eO(this,"path"),eO(this,"dmpPatch"),eO(this,"id"),this.id=t,this.path=n,this.dmpPatch=d5e(r)}apply(t,n){let r=n;if(r.containerType()==="primitive")return r;for(const o of t){if(o.isIndexReference()){for(const i of o.toIndicies(n)){const s=r.getIndex(i);if(!s)continue;const a=s.get(),l=WQ(this.dmpPatch,a);r=r.setIndex(i,l)}continue}if(o.isAttributeReference()&&r.hasAttribute(o.name())){const i=r.getAttribute(o.name());if(!i)continue;const s=i.get(),a=WQ(this.dmpPatch,s);r=r.setAttribute(o.name(),a);continue}throw new Error("Unable to apply diffMatchPatch to target ".concat(o.toString()))}return r}}function Jke(e){const t=[];if(Array.isArray(e))return e.reduce((u,d)=>u.concat(Jke(d)),t);const{set:n,setIfMissing:r,unset:o,diffMatchPatch:i,inc:s,dec:a,insert:l}=e;if(r&&Object.keys(r).forEach(u=>{t.push(new Qke(e.id,u,r[u]))}),n&&Object.keys(n).forEach(u=>{t.push(new Xke(e.id,u,n[u]))}),o&&o.forEach(u=>{t.push(new r9t(e.id,u))}),i&&Object.keys(i).forEach(u=>{t.push(new s9t(e.id,u,i[u]))}),s&&Object.keys(s).forEach(u=>{t.push(new UQ(e.id,u,s[u]))}),a&&Object.keys(a).forEach(u=>{t.push(new UQ(e.id,u,-a[u]))}),l){let u,d;const f=l;if("before"in f)u="before",d=f.before;else if("after"in f)u="after",d=f.after;else if("replace"in f)u="replace",d=f.replace;else throw new Error("Invalid insert patch");t.push(new Z8t(e.id,u,d,f.items))}return t}var a9t=Object.defineProperty,l9t=(e,t,n)=>t in e?a9t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YQ=(e,t,n)=>(l9t(e,typeof t!="symbol"?t+"":t,n),n);class rc{constructor(t,n){YQ(this,"_value"),YQ(this,"path"),this._value=t,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}get(){return this._value}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(t){return Array.isArray(this._value)?t>=this.length()?null:new rc(this._value[t],this.path.concat(t)):!1}hasAttribute(t){return q1(this._value)?this._value.hasOwnProperty(t):!1}attributeKeys(){return q1(this._value)?Object.keys(this._value):[]}getAttribute(t){if(!q1(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(t)?new rc(this._value[t],this.path.concat(t)):null}set(t){return t===this._value?this:new rc(t,this.path)}setIndex(t,n){if(!Array.isArray(this._value))throw new Error("setIndex only applies to arrays");if(Object.is(n,this._value[t]))return this;const r=this._value.slice();return r[t]=n,new rc(r,this.path)}setIndexAccessor(t,n){return this.setIndex(t,n.get())}unsetIndices(t){if(!Array.isArray(this._value))throw new Error("unsetIndices only applies to arrays");const n=this._value.length,r=[];for(let o=0;o<n;o++)t.indexOf(o)===-1&&r.push(this._value[o]);return new rc(r,this.path)}insertItemsAt(t,n){if(!Array.isArray(this._value))throw new Error("insertItemsAt only applies to arrays");let r;return this._value.length===0&&t===0?r=n:r=this._value.slice(0,t).concat(n).concat(this._value.slice(t)),new rc(r,this.path)}setAttribute(t,n){if(!q1(this._value))throw new Error("Unable to set attribute of non-object container");if(Object.is(n,this._value[t]))return this;const r=Object.assign({},this._value,{[t]:n});return new rc(r,this.path)}setAttributeAccessor(t,n){return this.setAttribute(t,n.get())}unsetAttribute(t){if(!q1(this._value))throw new Error("Unable to unset attribute of non-object container");const n=Object.assign({},this._value);return delete n[t],new rc(n,this.path)}}function q1(e){return e!==null&&typeof e=="object"}var c9t=Object.defineProperty,u9t=(e,t,n)=>t in e?c9t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d9t=(e,t,n)=>(u9t(e,typeof t!="symbol"?t+"":t,n),n);let f9t=class{constructor(t){d9t(this,"patches"),this.patches=Jke(t)}apply(t){const n=new rc(t);return this.applyViaAccessor(n).get()}applyViaAccessor(t){let n=t;const r=t.getAttribute("_id");if(!r)throw new Error("Cannot apply patch to document with no _id");const o=r.get();for(const i of this.patches){if(i.id!==o)continue;const s=dp.fromPath(i.path).setPayload(i);n=DM(s,n)}return n}};function DM(e,t){const n=e.payload instanceof Xke||e.payload instanceof Qke;let r=t;const{leads:o,delivery:i}=e.match(t);return o.forEach(s=>{if(s.target.isIndexReference())s.target.toIndicies().forEach(a=>{const l=r.getIndex(a);if(!l)throw new Error("Index out of bounds");r=r.setIndexAccessor(a,DM(s.matcher,l))});else if(s.target.isAttributeReference()){n&&r.containerType()==="primitive"&&(r=r.set({}));let a=r.getAttribute(s.target.name());if(!a&&n&&(r=r.setAttribute(s.target.name(),{}),a=r.getAttribute(s.target.name())),!a)return;const l=DM(s.matcher,a);a!==l&&(r=r.setAttributeAccessor(s.target.name(),l))}else throw new Error("Unable to handle target ".concat(s.target.toString()))}),i&&h9t(i.payload)&&(r=i.payload.apply(i.targets,r)),r}function h9t(e){return!!(e&&typeof e=="object"&&e!==null&&"apply"in e&&typeof e.apply=="function")}const p9t=sd,Lt=m8t("mutator-document");var m9t=Object.defineProperty,g9t=(e,t,n)=>t in e?m9t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tO=(e,t,n)=>(g9t(e,typeof t!="symbol"?t+"":t,n),n);class Ec{constructor(t){tO(this,"params"),tO(this,"compiled"),tO(this,"_appliesToMissingDocument"),this.params=t}get transactionId(){return this.params.transactionId}get transition(){return this.params.transition}get identity(){return this.params.identity}get previousRev(){return this.params.previousRev}get resultRev(){return this.params.resultRev}get mutations(){return this.params.mutations}get timestamp(){if(typeof this.params.timestamp=="string")return new Date(this.params.timestamp)}get effects(){return this.params.effects}assignRandomTransactionId(){this.params.transactionId=p9t(),this.params.resultRev=this.params.transactionId}appliesToMissingDocument(){if(typeof this._appliesToMissingDocument<"u")return this._appliesToMissingDocument;const t=this.mutations[0];return t?this._appliesToMissingDocument=!!(t.create||t.createIfNotExists||t.createOrReplace):this._appliesToMissingDocument=!0,this._appliesToMissingDocument}compile(){const t=[];this.mutations.forEach(o=>{if(o.create){const i=o.create||{};t.push(s=>s||Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}));return}if(o.createIfNotExists){const i=o.createIfNotExists||{};t.push(s=>s===null?Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}):s);return}if(o.createOrReplace){const i=o.createOrReplace||{};t.push(()=>Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}));return}if(o.delete){t.push(()=>null);return}if(o.patch){if("query"in o.patch)return;const i=new f9t(o.patch);t.push(s=>i.apply(s));return}throw new Error("Unsupported mutation ".concat(JSON.stringify(o,null,2)))}),typeof this.params.timestamp=="string"&&t.push(o=>o?Object.assign(o,{_updatedAt:this.params.timestamp}):null);const n=this.previousRev,r=this.resultRev||this.transactionId;this.compiled=o=>{if(n&&o&&n!==o._rev)throw new Error("Previous revision for this mutation was ".concat(n,", but the document revision is ").concat(o._rev));let i=o;for(const s of t)i=s(i);return i&&r&&(i===o&&(i=Object.assign({},o)),i._rev=r),i}}apply(t){Lt("Applying mutation %O to document %O",this.mutations,t),this.compiled||this.compile();const n=this.compiled(t);return Lt("  => %O",n),n}static applyAll(t,n){return n.reduce((r,o)=>o.apply(r),t)}static squash(t,n){const r=n.reduce((o,i)=>o.concat(...i.mutations),[]);return new Ec({mutations:r})}}var v9t=Object.defineProperty,y9t=(e,t,n)=>t in e?v9t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ol=(e,t,n)=>(y9t(e,typeof t!="symbol"?t+"":t,n),n);let b9t=class{constructor(t){ol(this,"incoming",[]),ol(this,"submitted",[]),ol(this,"pending",[]),ol(this,"HEAD"),ol(this,"EDGE"),ol(this,"onRebase"),ol(this,"onMutation"),ol(this,"onConsistencyChanged"),ol(this,"onRemoteMutation"),ol(this,"inconsistentAt",null),ol(this,"lastStagedAt",null),this.reset(t),this.HEAD=t,this.EDGE=t}reset(t){this.incoming=[],this.submitted=[],this.pending=[],this.inconsistentAt=null,this.HEAD=t,this.EDGE=t,this.considerIncoming(),this.updateConsistencyFlag()}arrive(t){this.incoming.push(t),this.considerIncoming(),this.updateConsistencyFlag()}stage(t,n){if(!t.transactionId)throw new Error("Mutations _must_ have transactionId when submitted");this.lastStagedAt=new Date,Lt("Staging mutation %s (pushed to pending)",t.transactionId),this.pending.push(t),this.EDGE=t.apply(this.EDGE),this.onMutation&&!n&&this.onMutation({mutation:t,document:this.EDGE,remote:!1});const r=t.transactionId;return this.updateConsistencyFlag(),{success:()=>{this.pendingSuccessfullySubmitted(r),this.updateConsistencyFlag()},failure:()=>{this.pendingFailed(r),this.updateConsistencyFlag()}}}isConsistent(){return!this.inconsistentAt}considerIncoming(){let t=!1,n;const r=[];if(this.HEAD&&this.HEAD._updatedAt){const i=new Date(this.HEAD._updatedAt);this.incoming.find(s=>s.timestamp&&s.timestamp<i)&&(this.incoming=this.incoming.filter(s=>s.timestamp&&s.timestamp<i))}let o=0;do{if(this.HEAD){const i=this.HEAD;n=i._rev?this.incoming.find(s=>s.previousRev===i._rev):void 0}else n=this.incoming.find(i=>i.appliesToMissingDocument());if(n){const i=this.applyIncoming(n);if(t=t||i,t&&r.push(n),o++>10)throw new Error("Mutator stuck flushing incoming mutations. Probably stuck here: ".concat(JSON.stringify(n)))}}while(n);this.incoming.length>0&&Lt.enabled&&Lt("Unable to apply mutations %s",this.incoming.map(i=>i.transactionId).join(", ")),t&&this.rebase(r)}updateConsistencyFlag(){const t=this.isConsistent(),n=this.pending.length===0&&this.submitted.length===0&&this.incoming.length===0;n?this.inconsistentAt=null:this.inconsistentAt||(this.inconsistentAt=new Date),t!=n&&this.onConsistencyChanged&&(Lt(n?"Buffered document is inconsistent":"Buffered document is consistent"),this.onConsistencyChanged(n))}applyIncoming(t){if(!t)return!1;if(!t.transactionId)throw new Error("Received incoming mutation without a transaction ID");if(Lt("Applying mutation %s -> %s to rev %s",t.previousRev,t.resultRev,this.HEAD&&this.HEAD._rev),this.HEAD=t.apply(this.HEAD),this.onRemoteMutation&&this.onRemoteMutation(t),this.incoming=this.incoming.filter(n=>n.transactionId!==t.transactionId),this.hasUnresolvedMutations()){const n=this.consumeUnresolved(t.transactionId);return Lt.enabled&&(Lt("Incoming mutation ".concat(t.transactionId," appeared while there were pending or submitted local mutations")),Lt("Submitted txnIds: ".concat(this.submitted.map(r=>r.transactionId).join(", "))),Lt("Pending txnIds: ".concat(this.pending.map(r=>r.transactionId).join(", "))),Lt("needRebase === %s",n)),n}return Lt("Remote mutation %s arrived w/o any pending or submitted local mutations",t.transactionId),this.EDGE=this.HEAD,this.onMutation&&this.onMutation({mutation:t,document:this.EDGE,remote:!0}),!1}hasUnresolvedMutations(){return this.submitted.length>0||this.pending.length>0}consumeUnresolved(t){if(this.submitted.length===0&&this.pending.length===0)return!1;if(this.submitted.length!==0){if(this.submitted[0].transactionId===t)return Lt("Remote mutation %s matches upcoming submitted mutation, consumed from 'submitted' buffer",t),this.submitted.shift(),!1}else if(this.pending.length>0&&this.pending[0].transactionId===t)return Lt("Remote mutation %s matches upcoming pending mutation, consumed from 'pending' buffer",t),this.pending.shift(),!1;return Lt("The mutation was not the upcoming mutation, scrubbing. Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),this.submitted=this.submitted.filter(n=>n.transactionId!==t),this.pending=this.pending.filter(n=>n.transactionId!==t),Lt("After scrubbing: Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),!0}pendingSuccessfullySubmitted(t){if(this.pending.length===0)return;const n=this.pending[0];if(n.transactionId===t){this.pending.shift(),this.submitted.push(n);return}let r;const o=[];this.pending.forEach(i=>{if(i.transactionId===t){r=i;return}o.push(i)}),r&&this.submitted.push(r),this.pending=o,this.rebase([])}pendingFailed(t){this.pending=this.pending.filter(n=>n.transactionId!==t),this.rebase([])}rebase(t){const n=this.EDGE;this.EDGE=Ec.applyAll(this.HEAD,this.submitted.concat(this.pending)),n!==null&&this.EDGE!==null&&(n._rev=this.EDGE._rev),!Yt(this.EDGE,n)&&this.onRebase&&this.onRebase(this.EDGE,t,this.pending)}};var x9t=Object.defineProperty,w9t=(e,t,n)=>t in e?x9t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jm=(e,t,n)=>(w9t(e,typeof t!="symbol"?t+"":t,n),n);class F_{constructor(t){Jm(this,"BASIS"),Jm(this,"PRESTAGE"),Jm(this,"setOperations"),Jm(this,"documentPresent"),Jm(this,"out",[]),Jm(this,"staged"),t?Lt("Reset mutation buffer to rev %s",t._rev):Lt("Reset mutation buffer state to document being deleted"),this.staged=[],this.setOperations={},this.documentPresent=!1,this.BASIS=t,this.PRESTAGE=t}add(t){t.mutations.forEach(n=>this.addOperation(n))}hasChanges(){return this.out.length>0||Object.keys(this.setOperations).length>0}purge(t){this.stashStagedOperations();let n=null;return this.out.length>0&&(Lt("Purged mutation buffer"),n=new Ec({mutations:this.out,resultRev:t,transactionId:t})),this.out=[],this.documentPresent=!1,n}addOperation(t){var n;if(t.patch&&t.patch.set&&"id"in t.patch&&t.patch.id===((n=this.PRESTAGE)==null?void 0:n._id)&&Object.keys(t.patch).length===2){const r=t.patch.set,o={};for(const i of Object.keys(r))r.hasOwnProperty(i)&&(this.optimiseSetOperation(i,r[i])||(o[i]=r[i]));Object.keys(o).length>0&&(Lt("Unoptimizable set-operation detected, purging optimization buffer"),this.staged.push({patch:{id:this.PRESTAGE._id,set:o}}),this.stashStagedOperations());return}if(t.createIfNotExists&&this.PRESTAGE&&t.createIfNotExists._id===this.PRESTAGE._id){this.documentPresent||(this.staged.push(t),this.documentPresent=!0,this.stashStagedOperations());return}Lt("Unoptimizable mutation detected, purging optimization buffer"),this.staged.push(t),this.stashStagedOperations()}optimiseSetOperation(t,n){if(typeof n=="object")return!1;const r=N8t(t,this.PRESTAGE);if(r.length!==1)return!1;const o=r[0];if(typeof o.value=="object"||!this.PRESTAGE)return!1;let i=null;if(o.value===n)i=null;else if(typeof o.value=="string"&&typeof n=="string")try{const a=u5e(l5e(o.value,n));i={patch:{id:this.PRESTAGE._id,diffMatchPatch:{[t]:a}}}}catch{return!1}else i={patch:{id:this.PRESTAGE._id,set:{[t]:n}}};const s=Zke(o.path);return i?this.setOperations[s]=i:delete this.setOperations[s],!0}stashStagedOperations(){const t=[];Object.keys(this.setOperations).forEach(n=>{const r=this.setOperations[n];r&&t.push(r)}),t.push(...this.staged),t.length>0&&(this.PRESTAGE=new Ec({mutations:t}).apply(this.PRESTAGE),this.staged=[],this.setOperations={}),this.out.push(...t)}rebase(t){return this.stashStagedOperations(),t===null?(this.out=[],this.BASIS=t,this.PRESTAGE=t,this.documentPresent=!1):(this.BASIS=t,this.out?this.PRESTAGE=new Ec({mutations:this.out}).apply(this.BASIS):this.PRESTAGE=this.BASIS),this.PRESTAGE}}var C9t=Object.defineProperty,_9t=(e,t,n)=>t in e?C9t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hi=(e,t,n)=>(_9t(e,typeof t!="symbol"?t+"":t,n),n);const S9t=1e3*60;class E9t{constructor(t,n){let{resolve:r,reject:o}=n;hi(this,"mutations"),hi(this,"tries"),hi(this,"resolve"),hi(this,"reject"),this.mutations=t,this.tries=0,this.resolve=r,this.reject=o}apply(t){return Ec.applyAll(t,this.mutations)}squash(t){const n=Ec.squash(t,this.mutations);return n.assignRandomTransactionId(),n}}const qQ=(e,t)=>e.concat(t.mutations);class k9t{constructor(t){hi(this,"mutations"),hi(this,"document"),hi(this,"LOCAL"),hi(this,"commits"),hi(this,"buffer"),hi(this,"onMutation"),hi(this,"onRemoteMutation"),hi(this,"onRebase"),hi(this,"onDelete"),hi(this,"onConsistencyChanged"),hi(this,"commitHandler"),hi(this,"committerRunning",!1),this.buffer=new F_(t),this.document=new b9t(t),this.document.onMutation=n=>this.handleDocMutation(n),this.document.onRemoteMutation=n=>this.onRemoteMutation&&this.onRemoteMutation(n),this.document.onRebase=(n,r,o)=>this.handleDocRebase(n,r,o),this.document.onConsistencyChanged=n=>this.handleDocConsistencyChanged(n),this.LOCAL=t,this.mutations=[],this.commits=[]}reset(t){t?Lt("Document state reset to revision %s",t._rev):Lt("Document state reset to being deleted"),this.document.reset(t),this.rebase([],[]),this.handleDocConsistencyChanged(this.document.isConsistent())}add(t){this.onConsistencyChanged&&this.onConsistencyChanged(!1),Lt("Staged local mutation"),this.buffer.add(t);const n=this.LOCAL;this.LOCAL=t.apply(this.LOCAL),this.onMutation&&n!==this.LOCAL&&(Lt("onMutation fired"),this.onMutation({mutation:t,document:this.LOCAL,remote:!1}),this.LOCAL===null&&this.onDelete&&this.onDelete(this.LOCAL))}arrive(t){if(Lt("Remote mutation arrived %s -> %s",t.previousRev,t.resultRev),t.previousRev===t.resultRev)throw new Error("Mutation ".concat(t.transactionId," has previousRev === resultRev (").concat(t.previousRev,")"));return this.document.arrive(t)}commit(){return new Promise((t,n)=>{if(!this.buffer.hasChanges()){t();return}Lt("Committing local changes");const r=this.buffer.purge();this.commits.push(new E9t(r?[r]:[],{resolve:t,reject:n})),this.buffer=new F_(this.LOCAL),this.performCommits()})}performCommits(){if(!this.commitHandler)throw new Error("No commitHandler configured for this BufferedDocument");this.committerRunning||this._cycleCommitter()}_cycleCommitter(){const t=this.commits.shift();if(!t){this.committerRunning=!1;return}this.committerRunning=!0;const n=t.squash(this.LOCAL),r=this.document.stage(n,!0),o={success:()=>{Lt("Commit succeeded"),r.success(),t.resolve(),this._cycleCommitter()},failure:()=>{Lt("Commit failed"),t.tries+=1,this.LOCAL!==null&&this.commits.unshift(t),r.failure(),t.tries<200&&setTimeout(()=>this._cycleCommitter(),Math.min(t.tries*1e3,S9t))},cancel:i=>{this.commits.forEach(s=>s.reject(i)),this.commits=[],this.reset(this.document.HEAD),this.buffer=new F_(this.LOCAL),this.committerRunning=!1}};Lt("Posting commit"),this.commitHandler&&this.commitHandler({mutation:n,success:o.success,failure:o.failure,cancel:o.cancel})}handleDocRebase(t,n,r){this.rebase(n,r)}handleDocumentDeleted(){Lt("Document deleted"),this.LOCAL!==null&&this.onDelete&&this.onDelete(this.LOCAL),this.commits=[],this.mutations=[]}handleDocMutation(t){if(this.commits.length===0&&!this.buffer.hasChanges()){Lt("Document mutated from remote with no local changes"),this.LOCAL=this.document.EDGE,this.buffer=new F_(this.LOCAL),this.onMutation&&this.onMutation(t);return}Lt("Document mutated from remote with local changes"),this.document.EDGE===null&&this.handleDocumentDeleted(),this.rebase([t.mutation],[])}rebase(t,n){Lt("Rebasing document"),this.document.EDGE===null&&this.handleDocumentDeleted();const r=this.LOCAL;this.LOCAL=this.commits.reduce((i,s)=>s.apply(i),this.document.EDGE),this.LOCAL=this.buffer.rebase(this.LOCAL),r!==null&&this.LOCAL!==null&&(r._rev=this.LOCAL._rev),!Yt(this.LOCAL,r)&&this.onRebase&&this.onRebase(this.LOCAL,t.reduce(qQ,[]),n.reduce(qQ,[]))}handleDocConsistencyChanged(t){if(!this.onConsistencyChanged)return;const n=this.commits.length>0||this.buffer.hasChanges();t&&!n&&this.onConsistencyChanged(!0),t||this.onConsistencyChanged(!1)}}var eje={};(function(e){(function(){(e!==null?e:this).ExifReader=function(){t.prototype._MIN_DATA_BUFFER_LENGTH=2,t.prototype._JPEG_ID_SIZE=2,t.prototype._JPEG_ID=65496,t.prototype._APP_MARKER_SIZE=2,t.prototype._APP0_MARKER=65504,t.prototype._APP1_MARKER=65505,t.prototype._APP15_MARKER=65519,t.prototype._APP_ID_OFFSET=4,t.prototype._BYTES_Exif=1165519206,t.prototype._TIFF_HEADER_OFFSET=10,t.prototype._BYTE_ORDER_BIG_ENDIAN=18761,t.prototype._BYTE_ORDER_LITTLE_ENDIAN=19789;function t(){var n=this;this._getTagValueAt={1:function(r){return n._getByteAt(r)},2:function(r){return n._getAsciiAt(r)},3:function(r){return n._getShortAt(r)},4:function(r){return n._getLongAt(r)},5:function(r){return n._getRationalAt(r)},7:function(r){return n._getUndefinedAt(r)},9:function(r){return n._getSlongAt(r)},10:function(r){return n._getSrationalAt(r)}},this._tiffHeaderOffset=0}return t.prototype.load=function(n){return this.loadView(new DataView(n))},t.prototype.loadView=function(n){return this._dataView=n,this._tags={},this._checkImageHeader(),this._readTags()},t.prototype._checkImageHeader=function(){var n;if(n=this._dataView,n.byteLength<this._MIN_DATA_BUFFER_LENGTH||n.getUint16(0,!1)!==this._JPEG_ID)throw new Error("Invalid image format");if(this._parseAppMarkers(n),!this._hasExifData())throw new Error("No Exif data")},t.prototype._parseAppMarkers=function(n){var r,o,i;for(r=this._JPEG_ID_SIZE,i=[];!(n.byteLength<r+this._APP_ID_OFFSET+5);){if(this._isApp1ExifMarker(n,r))o=n.getUint16(r+this._APP_MARKER_SIZE,!1),this._tiffHeaderOffset=r+this._TIFF_HEADER_OFFSET;else if(this._isAppMarker(n,r))o=n.getUint16(r+this._APP_MARKER_SIZE,!1);else break;i.push(r+=this._APP_MARKER_SIZE+o)}return i},t.prototype._isApp1ExifMarker=function(n,r){return n.getUint16(r,!1)===this._APP1_MARKER&&n.getUint32(r+this._APP_ID_OFFSET,!1)===this._BYTES_Exif&&n.getUint8(r+this._APP_ID_OFFSET+4,!1)===0},t.prototype._isAppMarker=function(n,r){var o;return o=n.getUint16(r,!1),o>=this._APP0_MARKER&&o<=this._APP15_MARKER},t.prototype._hasExifData=function(){return this._tiffHeaderOffset!==0},t.prototype._readTags=function(){return this._setByteOrder(),this._read0thIfd(),this._readExifIfd(),this._readGpsIfd(),this._readInteroperabilityIfd()},t.prototype._setByteOrder=function(){if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_BIG_ENDIAN)return this._littleEndian=!0;if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_LITTLE_ENDIAN)return this._littleEndian=!1;throw new Error("Illegal byte order value. Faulty image.")},t.prototype._read0thIfd=function(){var n;return n=this._getIfdOffset(),this._readIfd("0th",n)},t.prototype._getIfdOffset=function(){return this._tiffHeaderOffset+this._getLongAt(this._tiffHeaderOffset+4)},t.prototype._readExifIfd=function(){var n;if(this._tags["Exif IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Exif IFD Pointer"].value,this._readIfd("exif",n)},t.prototype._readGpsIfd=function(){var n;if(this._tags["GPS Info IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["GPS Info IFD Pointer"].value,this._readIfd("gps",n)},t.prototype._readInteroperabilityIfd=function(){var n;if(this._tags["Interoperability IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Interoperability IFD Pointer"].value,this._readIfd("interoperability",n)},t.prototype._readIfd=function(n,r){var o,i,s,a;for(o=this._getShortAt(r),r+=2,a=[],s=0;0<=o?s<o:s>o;0<=o?++s:--s)i=this._readTag(n,r),this._tags[i.name]={value:i.value,description:i.description},a.push(r+=12);return a},t.prototype._readTag=function(n,r){var o,i,s,a,l,u,d;return o=this._getShortAt(r),l=this._getShortAt(r+2),i=this._getLongAt(r+4),this._typeSizes[l]*i<=4?u=this._getTagValue(r+8,l,i):(d=this._getLongAt(r+8),u=this._getTagValue(this._tiffHeaderOffset+d,l,i)),l===this._tagTypes.ASCII&&(u=this._splitNullSeparatedAsciiString(u)),this._tagNames[n][o]!=null?(this._tagNames[n][o].name!=null&&this._tagNames[n][o].description!=null?(a=this._tagNames[n][o].name,s=this._tagNames[n][o].description(u)):(a=this._tagNames[n][o],u instanceof Array?s=u.join(", "):s=u),{name:a,value:u,description:s}):{name:"undefined-"+o,value:u,description:u}},t.prototype._getTagValue=function(n,r,o){var i,s;return s=(function(){var a,l;for(l=[],a=0;0<=o?a<o:a>o;0<=o?++a:--a)i=this._getTagValueAt[r](n),n+=this._typeSizes[r],l.push(i);return l}).call(this),s.length===1?s=s[0]:r===this._tagTypes.ASCII&&(s=this._getAsciiValue(s)),s},t.prototype._getAsciiValue=function(n){var r;return function(){var o,i,s;for(s=[],o=0,i=n.length;o<i;o++)r=n[o],s.push(String.fromCharCode(r));return s}()},t.prototype._getByteAt=function(n){return this._dataView.getUint8(n)},t.prototype._getAsciiAt=function(n){return this._dataView.getUint8(n)},t.prototype._getShortAt=function(n){return this._dataView.getUint16(n,this._littleEndian)},t.prototype._getLongAt=function(n){return this._dataView.getUint32(n,this._littleEndian)},t.prototype._getRationalAt=function(n){return this._getLongAt(n)/this._getLongAt(n+4)},t.prototype._getUndefinedAt=function(n){return this._getByteAt(n)},t.prototype._getSlongAt=function(n){return this._dataView.getInt32(n,this._littleEndian)},t.prototype._getSrationalAt=function(n){return this._getSlongAt(n)/this._getSlongAt(n+4)},t.prototype._splitNullSeparatedAsciiString=function(n){var r,o,i,s,a;for(i=[],o=0,s=0,a=n.length;s<a;s++){if(r=n[s],r==="\0"){o++;continue}i[o]==null&&(i[o]=""),i[o]+=r}return i},t.prototype._typeSizes={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8},t.prototype._tagTypes={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10},t.prototype._tagNames={"0th":{256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:function(n){switch(n){case 1:return"top-left";case 2:return"top-right";case 3:return"bottom-right";case 4:return"bottom-left";case 5:return"left-top";case 6:return"right-top";case 7:return"right-bottom";case 8:return"left-bottom";default:return"Undefined"}}},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:{name:"ResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",318:"WhitePoint",319:"PrimaryChromaticities",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:function(n){switch(n){case 1:return"centered";case 2:return"co-sited";default:return"undefied "+n}}},532:"ReferenceBlackWhite",33432:{name:"Copyright",description:function(n){return n.join("; ")}},34665:"Exif IFD Pointer",34853:"GPS Info IFD Pointer"},exif:{33434:"ExposureTime",33437:"FNumber",34850:{name:"ExposureProgram",description:function(n){switch(n){case 0:return"Undefined";case 1:return"Manual";case 2:return"Normal program";case 3:return"Aperture priority";case 4:return"Shutter priority";case 5:return"Creative program";case 6:return"Action program";case 7:return"Portrait mode";case 8:return"Landscape mode";default:return"Unknown"}}},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:function(n){return"[Raw OECF table data]"}},36864:{name:"ExifVersion",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)r=n[i],o+=String.fromCharCode(r);return o}},36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:{name:"ComponentsConfiguration",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)switch(r=n[i],r){case 49:o+="Y";break;case 50:o+="Cb";break;case 51:o+="Cr";break;case 52:o+="R";break;case 53:o+="G";break;case 54:o+="B"}return o}},37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:{name:"MeteringMode",description:function(n){switch(n){case 1:return"Average";case 2:return"CenterWeightedAverage";case 3:return"Spot";case 4:return"MultiSpot";case 5:return"Pattern";case 6:return"Partial";case 255:return"Other";default:return"Unknown"}}},37384:{name:"LightSource",description:function(n){switch(n){case 1:return"Daylight";case 2:return"Fluorescent";case 3:return"Tungsten (incandescent light)";case 4:return"Flash";case 9:return"Fine weather";case 10:return"Cloudy weather";case 11:return"Shade";case 12:return"Daylight fluorescent (D 5700 – 7100K)";case 13:return"Day white fluorescent (N 4600 – 5400K)";case 14:return"Cool white fluorescent (W 3900 – 4500K)";case 15:return"White fluorescent (WW 3200 – 3700K)";case 17:return"Standard light A";case 18:return"Standard light B";case 19:return"Standard light C";case 20:return"D55";case 21:return"D65";case 22:return"D75";case 23:return"D50";case 24:return"ISO studio tungsten";case 255:return"Other light source";default:return"Unknown"}}},37385:{name:"Flash",description:function(n){switch(n){case 0:return"Flash did not fire";case 1:return"Flash fired";case 5:return"Strobe return light not detected";case 7:return"Strobe return light detected";case 9:return"Flash fired, compulsory flash mode";case 13:return"Flash fired, compulsory flash mode, return light not detected";case 15:return"Flash fired, compulsory flash mode, return light detected";case 16:return"Flash did not fire, compulsory flash mode";case 24:return"Flash did not fire, auto mode";case 25:return"Flash fired, auto mode";case 29:return"Flash fired, auto mode, return light not detected";case 31:return"Flash fired, auto mode, return light detected";case 32:return"No flash function";case 65:return"Flash fired, red-eye reduction mode";case 69:return"Flash fired, red-eye reduction mode, return light not detected";case 71:return"Flash fired, red-eye reduction mode, return light detected";case 73:return"Flash fired, compulsory flash mode, red-eye reduction mode";case 77:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected";case 79:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected";case 89:return"Flash fired, auto mode, red-eye reduction mode";case 93:return"Flash fired, auto mode, return light not detected, red-eye reduction mode";case 95:return"Flash fired, auto mode, return light detected, red-eye reduction mode";default:return"Unknown"}}},37386:"FocalLength",37396:{name:"SubjectArea",description:function(n){switch(n.length){case 2:return"Location; X: "+n[0]+", Y: "+n[1];case 3:return"Circle; X: "+n[0]+", Y: "+n[1]+", diameter: "+n[2];case 4:return"Rectangle; X: "+n[0]+", Y: "+n[1]+", width: "+n[2]+", height: "+n[3];default:return"Unknown"}}},37500:{name:"MakerNote",description:function(n){return"[Raw maker note data]"}},37510:{name:"UserComment",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",40960:{name:"FlashpixVersion",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)r=n[i],o+=String.fromCharCode(r);return o}},40961:{name:"ColorSpace",description:function(n){switch(n){case 1:return"sRGB";case 65535:return"Uncalibrated";default:return"Unknown"}}},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:function(n){return"[Raw SFR table data]"}},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},41492:{name:"SubjectLocation",description:function(n){return"X: "+n[0]+", Y: "+n[1]}},41493:"ExposureIndex",41495:{name:"SensingMethod",description:function(n){switch(n){case 1:return"Undefined";case 2:return"One-chip color area sensor";case 3:return"Two-chip color area sensor";case 4:return"Three-chip color area sensor";case 5:return"Color sequential area sensor";case 7:return"Trilinear sensor";case 8:return"Color sequential linear sensor";default:return"Unknown"}}},41728:{name:"FileSource",description:function(n){switch(n){case 3:return"DSC";default:return"Unknown"}}},41729:{name:"SceneType",description:function(n){switch(n){case 1:return"A directly photographed image";default:return"Unknown"}}},41730:{name:"CFAPattern",description:function(n){return"[Raw CFA pattern table data]"}},41985:{name:"CustomRendered",description:function(n){switch(n){case 0:return"Normal process";case 1:return"Custom process";default:return"Unknown"}}},41986:{name:"ExposureMode",description:function(n){switch(n){case 0:return"Auto exposure";case 1:return"Manual exposure";case 2:return"Auto bracket";default:return"Unknown"}}},41987:{name:"WhiteBalance",description:function(n){switch(n){case 0:return"Auto white balance";case 1:return"Manual white balance";default:return"Unknown"}}},41988:{name:"DigitalZoomRatio",description:function(n){switch(n){case 0:return"Digital zoom was not used";default:return n}}},41989:{name:"FocalLengthIn35mmFilm",description:function(n){switch(n){case 0:return"Unknown";default:return n}}},41990:{name:"SceneCaptureType",description:function(n){switch(n){case 0:return"Standard";case 1:return"Landscape";case 2:return"Portrait";case 3:return"Night scene";default:return"Unknown"}}},41991:{name:"GainControl",description:function(n){switch(n){case 0:return"None";case 1:return"Low gain up";case 2:return"High gain up";case 3:return"Low gain down";case 4:return"High gain down";default:return"Unknown"}}},41992:{name:"Contrast",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41993:{name:"Saturation",description:function(n){switch(n){case 0:return"Normal";case 1:return"Low saturation";case 2:return"High saturation";default:return"Unknown"}}},41994:{name:"Sharpness",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41995:{name:"DeviceSettingDescription",description:function(n){return"[Raw device settings table data]"}},41996:{name:"SubjectDistanceRange",description:function(n){switch(n){case 1:return"Macro";case 2:return"Close view";case 3:return"Distant view";default:return"Unknown"}}},42016:"ImageUniqueID"},gps:{0:{name:"GPSVersionID",description:function(n){var r,o;return n[0]===(r=n[1])&&r===2&&n[2]===(o=n[3])&&o===0?"Version 2.2":"Unknown"}},1:{name:"GPSLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},2:{name:"GPSLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},3:{name:"GPSLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},4:{name:"GPSLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},5:{name:"GPSAltitudeRef",description:function(n){switch(n){case 0:return"Sea level";case 1:return"Sea level reference (negative value)";default:return"Unknown"}}},6:{name:"GPSAltitude",description:function(n){return n+" m"}},7:{name:"GPSTimeStamp",description:function(n){var r;return r=function(o){return function(){var i,s,a;for(a=[],i=0,s=2-(""+Math.floor(o)).length;0<=s?i<s:i>s;0<=s?++i:--i)a.push("0");return a}()+o},n.map(r).join(":")}},8:"GPSSatellites",9:{name:"GPSStatus",description:function(n){switch(n.join("")){case"A":return"Measurement in progress";case"V":return"Measurement Interoperability";default:return"Unknown"}}},10:{name:"GPSMeasureMode",description:function(n){switch(n.join("")){case"2":return"2-dimensional measurement";case"3":return"3-dimensional measurement";default:return"Unknown"}}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:function(n){switch(n.join("")){case"K":return"Kilometers per hour";case"M":return"Miles per hour";case"N":return"Knots";default:return"Unknown"}}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},20:{name:"GPSDestLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},21:{name:"GPSDestLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},22:{name:"GPSDestLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},23:{name:"GPSDestBearingRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:function(n){switch(n.join("")){case"K":return"Kilometers";case"M":return"Miles";case"N":return"Knots";default:return"Unknown"}}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},28:{name:"GPSAreaInformation",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},29:"GPSDateStamp",30:{name:"GPSDifferential",description:function(n){switch(n){case 0:return"Measurement without differential correction";case 1:return"Differential correction applied";default:return"Unknown"}}}},interoperability:{1:"InteroperabilityIndex",2:"UnknownInteroperabilityTag0x0002",4097:"UnknownInteroperabilityTag0x1001",4098:"UnknownInteroperabilityTag0x1002"}},t.prototype.getTagValue=function(n){if(this._tags[n]!=null)return this._tags[n].value},t.prototype.getTagDescription=function(n){if(this._tags[n]!=null)return this._tags[n].description},t.prototype.getAllTags=function(){return this._tags},t}()}).call(xs)})(eje);var j9t=eje.ExifReader,T9t=function(e){var t=new j9t;t.load(e);var n=t.getAllTags(),r={};for(var o in n)r[A9t(o)]=n[o].description;return r};function A9t(e){return e.replace(/([A-Z][a-z])|([a-z][A-Z])|([A-Z])/g,function(t){return t.length==1?t.toLowerCase():t[0]==t[0].toUpperCase()?" "+t.toLowerCase():t[0]+" "+t[1].toLowerCase()}).replace(/^\s+|\s+$/g,"")}const D9t=De(T9t);var I9t=rh,P9t=th,O9t=nh;function $9t(e){return function(t,n,r){var o=Object(t);if(!P9t(t)){var i=I9t(n);t=O9t(t),n=function(a){return i(o[a],a,o)}}var s=e(t,n,r);return s>-1?o[i?t[s]:s]:void 0}}var R9t=$9t,M9t=R9t,F9t=FEe,L9t=M9t(F9t),B9t=L9t;const tje=De(B9t);var N9t=Math.ceil,z9t=Math.max;function V9t(e,t,n,r){for(var o=-1,i=z9t(N9t((t-e)/(n||1)),0),s=Array(i);i--;)s[r?i:++o]=e,e+=n;return s}var H9t=V9t,U9t=H9t,W9t=l8,nO=MEe;function Y9t(e){return function(t,n,r){return r&&typeof r!="number"&&W9t(t,n,r)&&(n=r=void 0),t=nO(t),n===void 0?(n=t,t=0):n=nO(n),r=r===void 0?t<n?1:-1:nO(r),U9t(t,n,r,e)}}var q9t=Y9t,G9t=q9t,K9t=G9t(),Z9t=K9t;const b7=De(Z9t);var nje={exports:{}};(function(e){(function(t){var n={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"Ae",Å:"A",Æ:"AE",Ç:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"Oe",Ő:"O",Ø:"O",Ù:"U",Ú:"U",Û:"U",Ü:"Ue",Ű:"U",Ý:"Y",Þ:"TH",ß:"ss",à:"a",á:"a",â:"a",ã:"a",ä:"ae",å:"a",æ:"ae",ç:"c",è:"e",é:"e",ê:"e",ë:"e",ì:"i",í:"i",î:"i",ï:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"oe",ő:"o",ø:"o",ù:"u",ú:"u",û:"u",ü:"ue",ű:"u",ý:"y",þ:"th",ÿ:"y","ẞ":"SS",ا:"a",أ:"a",إ:"i",آ:"aa",ؤ:"u",ئ:"e",ء:"a",ب:"b",ت:"t",ث:"th",ج:"j",ح:"h",خ:"kh",د:"d",ذ:"th",ر:"r",ز:"z",س:"s",ش:"sh",ص:"s",ض:"dh",ط:"t",ظ:"z",ع:"a",غ:"gh",ف:"f",ق:"q",ك:"k",ل:"l",م:"m",ن:"n",ه:"h",و:"w",ي:"y",ى:"a",ة:"h",ﻻ:"la",ﻷ:"laa",ﻹ:"lai",ﻵ:"laa",گ:"g",چ:"ch",پ:"p",ژ:"zh",ک:"k",ی:"y","َ":"a","ً":"an","ِ":"e","ٍ":"en","ُ":"u","ٌ":"on","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9",က:"k",ခ:"kh",ဂ:"g",ဃ:"ga",င:"ng",စ:"s",ဆ:"sa",ဇ:"z","စျ":"za",ည:"ny",ဋ:"t",ဌ:"ta",ဍ:"d",ဎ:"da",ဏ:"na",တ:"t",ထ:"ta",ဒ:"d",ဓ:"da",န:"n",ပ:"p",ဖ:"pa",ဗ:"b",ဘ:"ba",မ:"m",ယ:"y",ရ:"ya",လ:"l",ဝ:"w",သ:"th",ဟ:"h",ဠ:"la",အ:"a","ြ":"y","ျ":"ya","ွ":"w","ြွ":"yw","ျွ":"ywa","ှ":"h",ဧ:"e","၏":"-e",ဣ:"i",ဤ:"-i",ဉ:"u",ဦ:"-u",ဩ:"aw","သြော":"aw",ဪ:"aw","၀":"0","၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","္":"","့":"","း":"",č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z",ހ:"h",ށ:"sh",ނ:"n",ރ:"r",ބ:"b",ޅ:"lh",ކ:"k",އ:"a",ވ:"v",މ:"m",ފ:"f",ދ:"dh",ތ:"th",ލ:"l",ގ:"g",ޏ:"gn",ސ:"s",ޑ:"d",ޒ:"z",ޓ:"t",ޔ:"y",ޕ:"p",ޖ:"j",ޗ:"ch",ޘ:"tt",ޙ:"hh",ޚ:"kh",ޛ:"th",ޜ:"z",ޝ:"sh",ޞ:"s",ޟ:"d",ޠ:"t",ޡ:"z",ޢ:"a",ޣ:"gh",ޤ:"q",ޥ:"w","ަ":"a","ާ":"aa","ި":"i","ީ":"ee","ު":"u","ޫ":"oo","ެ":"e","ޭ":"ey","ޮ":"o","ޯ":"oa","ް":"",ა:"a",ბ:"b",გ:"g",დ:"d",ე:"e",ვ:"v",ზ:"z",თ:"t",ი:"i",კ:"k",ლ:"l",მ:"m",ნ:"n",ო:"o",პ:"p",ჟ:"zh",რ:"r",ს:"s",ტ:"t",უ:"u",ფ:"p",ქ:"k",ღ:"gh",ყ:"q",შ:"sh",ჩ:"ch",ც:"ts",ძ:"dz",წ:"ts",ჭ:"ch",ხ:"kh",ჯ:"j",ჰ:"h",α:"a",β:"v",γ:"g",δ:"d",ε:"e",ζ:"z",η:"i",θ:"th",ι:"i",κ:"k",λ:"l",μ:"m",ν:"n",ξ:"ks",ο:"o",π:"p",ρ:"r",σ:"s",τ:"t",υ:"y",φ:"f",χ:"x",ψ:"ps",ω:"o",ά:"a",έ:"e",ί:"i",ό:"o",ύ:"y",ή:"i",ώ:"o",ς:"s",ϊ:"i",ΰ:"y",ϋ:"y",ΐ:"i",Α:"A",Β:"B",Γ:"G",Δ:"D",Ε:"E",Ζ:"Z",Η:"I",Θ:"TH",Ι:"I",Κ:"K",Λ:"L",Μ:"M",Ν:"N",Ξ:"KS",Ο:"O",Π:"P",Ρ:"R",Σ:"S",Τ:"T",Υ:"Y",Φ:"F",Χ:"X",Ψ:"PS",Ω:"O",Ά:"A",Έ:"E",Ί:"I",Ό:"O",Ύ:"Y",Ή:"I",Ώ:"O",Ϊ:"I",Ϋ:"Y",ā:"a",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",ū:"u",Ā:"A",Ē:"E",Ģ:"G",Ī:"I",Ķ:"k",Ļ:"L",Ņ:"N",Ū:"U",Ќ:"Kj",ќ:"kj",Љ:"Lj",љ:"lj",Њ:"Nj",њ:"nj",Тс:"Ts",тс:"ts",ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"E",Ł:"L",Ń:"N",Ś:"S",Ź:"Z",Ż:"Z",Є:"Ye",І:"I",Ї:"Yi",Ґ:"G",є:"ye",і:"i",ї:"yi",ґ:"g",ă:"a",Ă:"A",ș:"s",Ș:"S",ț:"t",Ț:"T",ţ:"t",Ţ:"T",а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"yo",ж:"zh",з:"z",и:"i",й:"i",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"kh",ц:"c",ч:"ch",ш:"sh",щ:"sh",ъ:"",ы:"y",ь:"",э:"e",ю:"yu",я:"ya",А:"A",Б:"B",В:"V",Г:"G",Д:"D",Е:"E",Ё:"Yo",Ж:"Zh",З:"Z",И:"I",Й:"I",К:"K",Л:"L",М:"M",Н:"N",О:"O",П:"P",Р:"R",С:"S",Т:"T",У:"U",Ф:"F",Х:"Kh",Ц:"C",Ч:"Ch",Ш:"Sh",Щ:"Sh",Ъ:"",Ы:"Y",Ь:"",Э:"E",Ю:"Yu",Я:"Ya",ђ:"dj",ј:"j",ћ:"c",џ:"dz",Ђ:"Dj",Ј:"j",Ћ:"C",Џ:"Dz",ľ:"l",ĺ:"l",ŕ:"r",Ľ:"L",Ĺ:"L",Ŕ:"R",ş:"s",Ş:"S",ı:"i",İ:"I",ğ:"g",Ğ:"G",ả:"a",Ả:"A",ẳ:"a",Ẳ:"A",ẩ:"a",Ẩ:"A",đ:"d",Đ:"D",ẹ:"e",Ẹ:"E",ẽ:"e",Ẽ:"E",ẻ:"e",Ẻ:"E",ế:"e",Ế:"E",ề:"e",Ề:"E",ệ:"e",Ệ:"E",ễ:"e",Ễ:"E",ể:"e",Ể:"E",ỏ:"o",ọ:"o",Ọ:"o",ố:"o",Ố:"O",ồ:"o",Ồ:"O",ổ:"o",Ổ:"O",ộ:"o",Ộ:"O",ỗ:"o",Ỗ:"O",ơ:"o",Ơ:"O",ớ:"o",Ớ:"O",ờ:"o",Ờ:"O",ợ:"o",Ợ:"O",ỡ:"o",Ỡ:"O",Ở:"o",ở:"o",ị:"i",Ị:"I",ĩ:"i",Ĩ:"I",ỉ:"i",Ỉ:"i",ủ:"u",Ủ:"U",ụ:"u",Ụ:"U",ũ:"u",Ũ:"U",ư:"u",Ư:"U",ứ:"u",Ứ:"U",ừ:"u",Ừ:"U",ự:"u",Ự:"U",ữ:"u",Ữ:"U",ử:"u",Ử:"ư",ỷ:"y",Ỷ:"y",ỳ:"y",Ỳ:"Y",ỵ:"y",Ỵ:"Y",ỹ:"y",Ỹ:"Y",ạ:"a",Ạ:"A",ấ:"a",Ấ:"A",ầ:"a",Ầ:"A",ậ:"a",Ậ:"A",ẫ:"a",Ẫ:"A",ắ:"a",Ắ:"A",ằ:"a",Ằ:"A",ặ:"a",Ặ:"A",ẵ:"a",Ẵ:"A","⓪":"0","①":"1","②":"2","③":"3","④":"4","⑤":"5","⑥":"6","⑦":"7","⑧":"8","⑨":"9","⑩":"10","⑪":"11","⑫":"12","⑬":"13","⑭":"14","⑮":"15","⑯":"16","⑰":"17","⑱":"18","⑲":"18","⑳":"18","⓵":"1","⓶":"2","⓷":"3","⓸":"4","⓹":"5","⓺":"6","⓻":"7","⓼":"8","⓽":"9","⓾":"10","⓿":"0","⓫":"11","⓬":"12","⓭":"13","⓮":"14","⓯":"15","⓰":"16","⓱":"17","⓲":"18","⓳":"19","⓴":"20","Ⓐ":"A","Ⓑ":"B","Ⓒ":"C","Ⓓ":"D","Ⓔ":"E","Ⓕ":"F","Ⓖ":"G","Ⓗ":"H","Ⓘ":"I","Ⓙ":"J","Ⓚ":"K","Ⓛ":"L","Ⓜ":"M","Ⓝ":"N","Ⓞ":"O","Ⓟ":"P","Ⓠ":"Q","Ⓡ":"R","Ⓢ":"S","Ⓣ":"T","Ⓤ":"U","Ⓥ":"V","Ⓦ":"W","Ⓧ":"X","Ⓨ":"Y","Ⓩ":"Z","ⓐ":"a","ⓑ":"b","ⓒ":"c","ⓓ":"d","ⓔ":"e","ⓕ":"f","ⓖ":"g","ⓗ":"h","ⓘ":"i","ⓙ":"j","ⓚ":"k","ⓛ":"l","ⓜ":"m","ⓝ":"n","ⓞ":"o","ⓟ":"p","ⓠ":"q","ⓡ":"r","ⓢ":"s","ⓣ":"t","ⓤ":"u","ⓦ":"v","ⓥ":"w","ⓧ":"x","ⓨ":"y","ⓩ":"z","“":'"',"”":'"',"‘":"'","’":"'","∂":"d",ƒ:"f","™":"(TM)","©":"(C)",œ:"oe",Œ:"OE","®":"(R)","†":"+","℠":"(SM)","…":"...","˚":"o",º:"o",ª:"a","•":"*","၊":",","။":".",$:"USD","€":"EUR","₢":"BRN","₣":"FRF","£":"GBP","₤":"ITL","₦":"NGN","₧":"ESP","₩":"KRW","₪":"ILS","₫":"VND","₭":"LAK","₮":"MNT","₯":"GRD","₱":"ARS","₲":"PYG","₳":"ARA","₴":"UAH","₵":"GHS","¢":"cent","¥":"CNY",元:"CNY",円:"YEN","﷼":"IRR","₠":"EWE","฿":"THB","₨":"INR","₹":"INR","₰":"PF","₺":"TRY","؋":"AFN","₼":"AZN",лв:"BGN","៛":"KHR","₡":"CRC","₸":"KZT",ден:"MKD",zł:"PLN","₽":"RUB","₾":"GEL"},r=["်","ް"],o={"ာ":"a","ါ":"a","ေ":"e","ဲ":"e","ိ":"i","ီ":"i","ို":"o","ု":"u","ူ":"u","ေါင်":"aung","ော":"aw","ော်":"aw","ေါ":"aw","ေါ်":"aw","်":"်","က်":"et","ိုက်":"aik","ောက်":"auk","င်":"in","ိုင်":"aing","ောင်":"aung","စ်":"it","ည်":"i","တ်":"at","ိတ်":"eik","ုတ်":"ok","ွတ်":"ut","ေတ်":"it","ဒ်":"d","ိုဒ်":"ok","ုဒ်":"ait","န်":"an","ာန်":"an","ိန်":"ein","ုန်":"on","ွန်":"un","ပ်":"at","ိပ်":"eik","ုပ်":"ok","ွပ်":"ut","န်ုပ်":"nub","မ်":"an","ိမ်":"ein","ုမ်":"on","ွမ်":"un","ယ်":"e","ိုလ်":"ol","ဉ်":"in","ံ":"an","ိံ":"ein","ုံ":"on","ައް":"ah","ަށް":"ah"},i={en:{},az:{ç:"c",ə:"e",ğ:"g",ı:"i",ö:"o",ş:"s",ü:"u",Ç:"C",Ə:"E",Ğ:"G",İ:"I",Ö:"O",Ş:"S",Ü:"U"},cs:{č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z"},fi:{ä:"a",Ä:"A",ö:"o",Ö:"O"},hu:{ä:"a",Ä:"A",ö:"o",Ö:"O",ü:"u",Ü:"U",ű:"u",Ű:"U"},lt:{ą:"a",č:"c",ę:"e",ė:"e",į:"i",š:"s",ų:"u",ū:"u",ž:"z",Ą:"A",Č:"C",Ę:"E",Ė:"E",Į:"I",Š:"S",Ų:"U",Ū:"U"},lv:{ā:"a",č:"c",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",š:"s",ū:"u",ž:"z",Ā:"A",Č:"C",Ē:"E",Ģ:"G",Ī:"i",Ķ:"k",Ļ:"L",Ņ:"N",Š:"S",Ū:"u",Ž:"Z"},pl:{ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ó:"o",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"e",Ł:"L",Ń:"N",Ó:"O",Ś:"S",Ź:"Z",Ż:"Z"},sv:{ä:"a",Ä:"A",ö:"o",Ö:"O"},sk:{ä:"a",Ä:"A"},sr:{љ:"lj",њ:"nj",Љ:"Lj",Њ:"Nj",đ:"dj",Đ:"Dj"},tr:{Ü:"U",Ö:"O",ü:"u",ö:"o"}},s={ar:{"∆":"delta","∞":"la-nihaya","♥":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","∑":"majmou","¤":"omla"},az:{},ca:{"∆":"delta","∞":"infinit","♥":"amor","&":"i","|":"o","<":"menys que",">":"mes que","∑":"suma dels","¤":"moneda"},cs:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","∑":"soucet","¤":"mena"},de:{"∆":"delta","∞":"unendlich","♥":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","∑":"Summe von","¤":"Waehrung"},dv:{"∆":"delta","∞":"kolunulaa","♥":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","∑":"jumula","¤":"faisaa"},en:{"∆":"delta","∞":"infinity","♥":"love","&":"and","|":"or","<":"less than",">":"greater than","∑":"sum","¤":"currency"},es:{"∆":"delta","∞":"infinito","♥":"amor","&":"y","|":"u","<":"menos que",">":"mas que","∑":"suma de los","¤":"moneda"},fa:{"∆":"delta","∞":"bi-nahayat","♥":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","∑":"majmooe","¤":"vahed"},fi:{"∆":"delta","∞":"aarettomyys","♥":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","∑":"summa","¤":"valuutta"},fr:{"∆":"delta","∞":"infiniment","♥":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","∑":"somme des","¤":"monnaie"},ge:{"∆":"delta","∞":"usasruloba","♥":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","∑":"jami","¤":"valuta"},gr:{},hu:{"∆":"delta","∞":"vegtelen","♥":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","∑":"szumma","¤":"penznem"},it:{"∆":"delta","∞":"infinito","♥":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","∑":"somma","¤":"moneta"},lt:{"∆":"delta","∞":"begalybe","♥":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","∑":"suma","¤":"valiuta"},lv:{"∆":"delta","∞":"bezgaliba","♥":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","∑":"summa","¤":"valuta"},my:{"∆":"kwahkhyaet","∞":"asaonasme","♥":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","∑":"paungld","¤":"ngwekye"},mk:{},nl:{"∆":"delta","∞":"oneindig","♥":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","∑":"som","¤":"valuta"},pl:{"∆":"delta","∞":"nieskonczonosc","♥":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","∑":"suma","¤":"waluta"},pt:{"∆":"delta","∞":"infinito","♥":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","∑":"soma","¤":"moeda"},ro:{"∆":"delta","∞":"infinit","♥":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","∑":"suma","¤":"valuta"},ru:{"∆":"delta","∞":"beskonechno","♥":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","∑":"summa","¤":"valjuta"},sk:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","∑":"sucet","¤":"mena"},sr:{},tr:{"∆":"delta","∞":"sonsuzluk","♥":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","∑":"toplam","¤":"para birimi"},uk:{"∆":"delta","∞":"bezkinechnist","♥":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","∑":"suma","¤":"valjuta"},vn:{"∆":"delta","∞":"vo cuc","♥":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","∑":"tong","¤":"tien te"}},a=[";","?",":","@","&","=","+","$",",","/"].join(""),l=[";","?",":","@","&","=","+","$",","].join(""),u=[".","!","~","*","'","(",")"].join(""),d=function(g,b){var x="-",y="",w="",C=!0,_={},S,E,j,k,T,A,D,I,P,M,$,V,L,H,U="";if(typeof g!="string")return"";if(typeof b=="string"&&(x=b),D=s.en,I=i.en,typeof b=="object"){S=b.maintainCase||!1,_=b.custom&&typeof b.custom=="object"?b.custom:_,j=+b.truncate>1&&b.truncate||!1,k=b.uric||!1,T=b.uricNoSlash||!1,A=b.mark||!1,C=!(b.symbols===!1||b.lang===!1),x=b.separator||x,k&&(U+=a),T&&(U+=l),A&&(U+=u),D=b.lang&&s[b.lang]&&C?s[b.lang]:C?s.en:{},I=b.lang&&i[b.lang]?i[b.lang]:b.lang===!1||b.lang===!0?{}:i.en,b.titleCase&&typeof b.titleCase.length=="number"&&Array.prototype.toString.call(b.titleCase)?(b.titleCase.forEach(function(z){_[z+""]=z+""}),E=!0):E=!!b.titleCase,b.custom&&typeof b.custom.length=="number"&&Array.prototype.toString.call(b.custom)&&b.custom.forEach(function(z){_[z+""]=z+""}),Object.keys(_).forEach(function(z){var Y;z.length>1?Y=new RegExp("\\b"+p(z)+"\\b","gi"):Y=new RegExp(p(z),"gi"),g=g.replace(Y,_[z])});for($ in _)U+=$}for(U+=x,U=p(U),g=g.replace(/(^\s+|\s+$)/g,""),L=!1,H=!1,M=0,V=g.length;M<V;M++)$=g[M],m($,_)?L=!1:I[$]?($=L&&I[$].match(/[A-Za-z0-9]/)?" "+I[$]:I[$],L=!1):$ in n?(M+1<V&&r.indexOf(g[M+1])>=0?(w+=$,$=""):H===!0?($=o[w]+n[$],w=""):$=L&&n[$].match(/[A-Za-z0-9]/)?" "+n[$]:n[$],L=!1,H=!1):$ in o?(w+=$,$="",M===V-1&&($=o[w]),H=!0):D[$]&&!(k&&a.indexOf($)!==-1)&&!(T&&l.indexOf($)!==-1)?($=L||y.substr(-1).match(/[A-Za-z0-9]/)?x+D[$]:D[$],$+=g[M+1]!==void 0&&g[M+1].match(/[A-Za-z0-9]/)?x:"",L=!0):(H===!0?($=o[w]+$,w="",H=!1):L&&(/[A-Za-z0-9]/.test($)||y.substr(-1).match(/A-Za-z0-9]/))&&($=" "+$),L=!1),y+=$.replace(new RegExp("[^\\w\\s"+U+"_-]","g"),x);return E&&(y=y.replace(/(\w)(\S*)/g,function(z,Y,te){var N=Y.toUpperCase()+(te!==null?te:"");return Object.keys(_).indexOf(N.toLowerCase())<0?N:N.toLowerCase()})),y=y.replace(/\s+/g,x).replace(new RegExp("\\"+x+"+","g"),x).replace(new RegExp("(^\\"+x+"+|\\"+x+"+$)","g"),""),j&&y.length>j&&(P=y.charAt(j)===x,y=y.slice(0,j),P||(y=y.slice(0,y.lastIndexOf(x)))),!S&&!E&&(y=y.toLowerCase()),y},f=function(g){return function(x){return d(x,g)}},p=function(g){return g.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},m=function(v,g){for(var b in g)if(g[b]===v)return!0};if(e.exports)e.exports=d,e.exports.createSlug=f;else try{if(t.getSlug||t.createSlug)throw"speakingurl: globals exists /(getSlug|createSlug)/";t.getSlug=d,t.createSlug=f}catch{}})(xs)})(nje);var X9t=nje.exports,Q9t=X9t;const rje=De(Q9t);var J9t=B0,e7t=l8;function t7t(e){return J9t(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(o--,i):void 0,s&&e7t(n[0],n[1],s)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var a=n[r];a&&e(t,a,r,i)}return t})}var n7t=t7t,r7t=z0,o7t=n7t,i7t=nh,s7t=o7t(function(e,t,n,r){r7t(t,i7t(t),e,r)}),a7t=s7t;const l7t=De(a7t);var c7t=Fc;function u7t(e,t){return c7t(t,function(n){return e[n]})}var d7t=u7t,f7t=d7t,h7t=nh;function p7t(e){return e==null?[]:f7t(e,h7t(e))}var oje=p7t;const m7t=De(oje);var Qp={};Object.defineProperty(Qp,"__esModule",{value:!0});Qp.SKIP=sje;var ije=Qp.reduce=aje;Qp.withCustomPathSegment=Qp.SKIP_MARKER=void 0;function x7(e,t){return y7t(e)||v7t(e,t)||g7t()}function g7t(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function v7t(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s=e[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(t&&n.length===t));r=!0);}catch(l){o=!0,i=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(o)throw i}}return n}function y7t(e){if(Array.isArray(e))return e}function xS(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xS=function(n){return typeof n}:xS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},xS(e)}function nA(e,t,n){return t}function b7t(e){return Array.isArray(e)?"array":e===null?"null":xS(e)}var w7={_:"SKIP_MARKER"};Qp.SKIP_MARKER=w7;function sje(e){return[w7,e]}function C7(e,t,n,r){var o=t(e,n,r);return o===sje?[!0,e]:Array.isArray(o)&&o[0]===w7?[!0,o[1]]:[!1,o]}function x7t(e,t,n,r){var o=C7(e,t,n,r),i=x7(o,2),s=i[1];return s}function w7t(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:nA,i=C7(e,t,n,r),s=x7(i,2),a=s[0],l=s[1];return a?l:Object.keys(n).reduce(function(u,d){return _7(u,t,n[d],r.concat(o(n[d],d,n)),o)},l)}function C7t(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:nA,i=C7(e,t,n,r),s=x7(i,2),a=s[0],l=s[1];return a?l:n.reduce(function(u,d,f){return _7(u,t,d,r.concat(o(d,f,n)),o)},l)}function _7(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:nA,i=b7t(n);return i==="object"?w7t(e,t,n,r,o):i==="array"?C7t(e,t,n,r,o):x7t(e,t,n,r)}function aje(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:nA;return _7(n,t,e,[],r)}var _7t=function(t){return function(n,r,o){return aje(n,r,o,t)}};Qp.withCustomPathSegment=_7t;function lje(e){return t=>jo(()=>{const n=new Ar;return t.pipe(Xwe(()=>n,{leading:!0,trailing:!0}),Ywe((r,o)=>$we(e(r,o),Dc).pipe(qwe(()=>{n.next()}))))})}var S7t=Object.defineProperty,E7t=(e,t,n)=>t in e?S7t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GQ=(e,t,n)=>(E7t(e,typeof t!="symbol"?t+"":t,n),n);function k7t(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function j7t(e){const t=[];for(const n of e.split("."))n==="*"?t.push("[^.]+"):n==="**"?t.push(".*"):t.push(k7t(n));return new RegExp("^".concat(t.join("."),"$"))}class cje{constructor(t){GQ(this,"pattern"),GQ(this,"patternRe"),this.pattern=t,this.patternRe=j7t(t)}matches(t){return this.patternRe.test(t)}toJSON(){return this.pattern}}var T7t=Object.defineProperty,A7t=(e,t,n)=>t in e?T7t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,G1=(e,t,n)=>(A7t(e,typeof t!="symbol"?t+"":t,n),n);class Xd{constructor(t){G1(this,"type","stream"),G1(this,"generator"),G1(this,"ticker"),G1(this,"isDone"),G1(this,"data"),this.generator=t,this.ticker=null,this.isDone=!1,this.data=[]}isArray(){return!0}async get(){const t=[];for await(const n of this)t.push(await n.get());return t}async*[Symbol.asyncIterator](){let t=0;for(;;){for(;t<this.data.length;t++)yield this.data[t];if(this.isDone)return;await this._nextTick()}}_nextTick(){if(this.ticker)return this.ticker;let t;const n=()=>{this.ticker=new Promise(i=>{t=i})},r=()=>{t(),n()},o=async()=>{for await(const i of this.generator())this.data.push(i),r();this.isDone=!0,r()};return n(),o(),this.ticker}}const D7t=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|([-+]\d{2}:\d{2}))$/;function I7t(e){return D7t.test(e)?new Date(e):null}function P7t(e){const t=kh(e.getUTCFullYear(),4),n=kh(e.getUTCMonth()+1,2),r=kh(e.getUTCDate(),2),o=kh(e.getUTCHours(),2),i=kh(e.getUTCMinutes(),2),s=kh(e.getUTCSeconds(),2);let a="";const l=e.getMilliseconds();return l!=0&&(a=".".concat(kh(l,3))),"".concat(t,"-").concat(n,"-").concat(r,"T").concat(o,":").concat(i,":").concat(s).concat(a,"Z")}function kh(e,t){let n=e.toString();for(;n.length<t;)n="0".concat(n);return n}var O7t=Object.defineProperty,$7t=(e,t,n)=>t in e?O7t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,IM=(e,t,n)=>($7t(e,typeof t!="symbol"?t+"":t,n),n);class ud{constructor(t,n){IM(this,"data"),IM(this,"type"),this.data=t,this.type=n}isArray(){return this.type==="array"}async get(){return this.data}[Symbol.asyncIterator](){if(Array.isArray(this.data))return function*(t){for(const n of t)yield rr(n)}(this.data);throw new Error("Cannot iterate over: ".concat(this.type))}}const Pe=new ud(null,"null"),$o=new ud(!0,"boolean"),so=new ud(!1,"boolean");class Qv{constructor(t){IM(this,"date"),this.date=t}static parseToValue(t){const n=I7t(t);return n?new ud(new Qv(n),"datetime"):Pe}equals(t){return this.date.getTime()==t.date.getTime()}add(t){const n=new Date(this.date.getTime());return n.setTime(n.getTime()+t*1e3),new Qv(n)}difference(t){return(this.date.getTime()-t.date.getTime())/1e3}compareTo(t){return this.date.getTime()-t.date.getTime()}toString(){return P7t(this.date)}toJSON(){return this.toString()}}function Ma(e){return Number.isFinite(e)?new ud(e,"number"):Pe}function Fa(e){return new ud(e,"string")}function PM(e){return new ud(e,"datetime")}function R7t(e){return new ud(e,"path")}function M7t(e){return e&&typeof e.next=="function"}function rr(e){return M7t(e)?new Xd(async function*(){for await(const t of e)yield rr(t)}):e==null?Pe:new ud(e,Jv(e))}function Jv(e){return e===null||typeof e>"u"?"null":Array.isArray(e)?"array":e instanceof cje?"path":e instanceof Qv?"datetime":typeof e}function rO(e,t){return e.type==="string"&&t.type==="string"||e.type==="boolean"&&t.type==="boolean"||e.type==="null"&&t.type==="null"||e.type==="number"&&t.type==="number"?e.data===t.data:e.type==="datetime"&&t.type==="datetime"?e.data.equals(t.data):!1}const F7t=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,L7t=/([^!@#$%^&(),\\/?";:{}|[\]+<>\s-])+/g,uje=/(\b\.+|\.+\b)/g,B7t=1024;function N7t(e,t){return e.length===0||t.length===0?!1:t.every(n=>n(e))}function dje(e){return e.replace(uje,"").match(F7t)||[]}function z7t(e){return fje(e).map(n=>r=>r.some(o=>n.test(o)))}function fje(e){return(e.replace(uje,"").match(L7t)||[]).map(n=>new RegExp("^".concat(n.slice(0,B7t).replace(/\*/g,".*"),"$"),"i"))}async function tk(e,t){if(e.type==="string")return t(e.data),!0;if(e.isArray()){let n=!0;for await(const r of e)r.type==="string"?t(r.data):n=!1;return n}return!1}const KQ={datetime:1,number:2,string:3,boolean:4};function fp(e,t){const n=Jv(e),r=Jv(t);if(n!==r)return null;switch(n){case"number":case"boolean":return e-t;case"string":return e<t?-1:e>t?1:0;case"datetime":return e.compareTo(t);default:return null}}function V7t(e,t){const n=Jv(e),r=Jv(t),o=KQ[n]||100,i=KQ[r]||100;if(o!==i)return o-i;let s=fp(e,t);return s===null&&(s=0),s}const H7t={"==":function(t,n){return rO(t,n)?$o:so},"!=":function(t,n){return rO(t,n)?so:$o},">":function(t,n){if(t.type==="stream"||n.type==="stream")return Pe;const r=fp(t.data,n.data);return r===null?Pe:r>0?$o:so},">=":function(t,n){if(t.type==="stream"||n.type==="stream")return Pe;const r=fp(t.data,n.data);return r===null?Pe:r>=0?$o:so},"<":function(t,n){if(t.type==="stream"||n.type==="stream")return Pe;const r=fp(t.data,n.data);return r===null?Pe:r<0?$o:so},"<=":function(t,n){if(t.type==="stream"||n.type==="stream")return Pe;const r=fp(t.data,n.data);return r===null?Pe:r<=0?$o:so},in:async function(t,n){if(n.type==="path")return t.type!=="string"?Pe:n.data.matches(t.data)?$o:so;if(n.isArray()){for await(const r of n)if(rO(t,r))return $o;return so}return Pe},match:async function(t,n){let r=[],o=[];return await tk(t,a=>{r=r.concat(dje(a))}),await tk(n,a=>{o=o.concat(z7t(a))})&&N7t(r,o)?$o:so},"+":function(t,n){return t.type==="datetime"&&n.type==="number"?PM(t.data.add(n.data)):t.type==="number"&&n.type==="number"?Ma(t.data+n.data):t.type==="string"&&n.type==="string"?Fa(t.data+n.data):t.type==="object"&&n.type==="object"?rr({...t.data,...n.data}):t.type==="array"&&n.type==="array"?rr(t.data.concat(n.data)):t.isArray()&&n.isArray()?new Xd(async function*(){for await(const r of t)yield r;for await(const r of n)yield r}):Pe},"-":function(t,n){return t.type==="datetime"&&n.type==="number"?PM(t.data.add(-n.data)):t.type==="datetime"&&n.type==="datetime"?Ma(t.data.difference(n.data)):t.type==="number"&&n.type==="number"?Ma(t.data-n.data):Pe},"*":L_((e,t)=>e*t),"/":L_((e,t)=>e/t),"%":L_((e,t)=>e%t),"**":L_((e,t)=>Math.pow(e,t))};function L_(e){return function(t,n){if(t.type==="number"&&n.type==="number"){const r=e(t.data,n.data);return Ma(r)}return Pe}}var U7t=Object.defineProperty,W7t=(e,t,n)=>t in e?U7t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eg=(e,t,n)=>(W7t(e,typeof t!="symbol"?t+"":t,n),n);class jx{constructor(t,n,r,o,i){eg(this,"params"),eg(this,"source"),eg(this,"value"),eg(this,"parent"),eg(this,"context"),eg(this,"isHidden",!1),this.params=t,this.source=n,this.value=r,this.context=o,this.parent=i}createNested(t){return this.isHidden?new jx(this.params,this.source,t,this.context,this.parent):new jx(this.params,this.source,t,this.context,this)}createHidden(t){const n=this.createNested(t);return n.isHidden=!0,n}}function S7(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S7;const r=Y7t[e.type];return r(e,t,n)}function ZQ(e,t){return"then"in e?e.then(t):t(e)}const Y7t={This(e,t){return t.value},Selector(){throw new Error("Selectors can not be evaluated")},Everything(e,t){return t.source},Parameter(e,t){let{name:n}=e;return rr(t.params[n])},Context(e,t){let{key:n}=e;if(n==="before"||n==="after")return t.context[n]||Pe;throw new Error("unknown context key: ".concat(n))},Parent(e,t){let{n}=e,r=t;for(let o=0;o<n;o++){if(!r.parent)return Pe;r=r.parent}return r.value},OpCall(e,t,n){let{op:r,left:o,right:i}=e;const s=H7t[r];if(!s)throw new Error("Unknown operator: ".concat(r));const a=n(o,t),l=n(i,t);return"then"in a||"then"in l?(async()=>s(await a,await l))():s(a,l)},async Select(e,t,n){let{alternatives:r,fallback:o}=e;for(const i of r){const s=await n(i.condition,t);if(s.type==="boolean"&&s.data===!0)return n(i.value,t)}return o?n(o,t):Pe},async InRange(e,t,n){let{base:r,left:o,right:i,isInclusive:s}=e;const a=await n(r,t),l=await n(o,t),u=await n(i,t),d=fp(await a.get(),await l.get());if(d===null)return Pe;const f=fp(await a.get(),await u.get());return f===null?Pe:s?d>=0&&f<=0?$o:so:d>=0&&f<0?$o:so},async Filter(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new Xd(async function*(){for await(const s of i){const a=t.createNested(s),l=await n(o,a);l.type==="boolean"&&l.data===!0&&(yield s)}}):Pe},async Projection(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);if(i.type!=="object")return Pe;const s=t.createNested(i);return n(o,s)},FuncCall(e,t,n){let{func:r,args:o}=e;return r(o,t,n)},async PipeFuncCall(e,t,n){let{func:r,base:o,args:i}=e;const s=await n(o,t);return r(s,i,t,n)},async AccessAttribute(e,t,n){let{base:r,name:o}=e,i=t.value;return r&&(i=await n(r,t)),i.type==="object"&&i.data.hasOwnProperty(o)?rr(i.data[o]):Pe},async AccessElement(e,t,n){let{base:r,index:o}=e;const i=await n(r,t);if(!i.isArray())return Pe;const s=await i.get(),a=o<0?o+s.length:o;return rr(s[a])},async Slice(e,t,n){let{base:r,left:o,right:i,isInclusive:s}=e;const a=await n(r,t);if(!a.isArray())return Pe;const l=await a.get();let u=o,d=i;return u<0&&(u=l.length+u),d<0&&(d=l.length+d),s&&d++,u<0&&(u=0),d<0&&(d=0),rr(l.slice(u,d))},async Deref(e,t,n){let{base:r}=e;const o=await n(r,t);if(!t.source.isArray()||o.type!=="object")return Pe;const i=o.data._ref;if(typeof i!="string")return Pe;if(t.context.dereference)return rr(await t.context.dereference({_ref:i}));for await(const s of t.source)if(s.type==="object"&&i===s.data._id)return s;return Pe},Value(e){let{value:t}=e;return rr(t)},Group(e,t,n){let{base:r}=e;return n(r,t)},async Object(e,t,n){let{attributes:r}=e;const o={};for(const i of r){const s=i.type;switch(i.type){case"ObjectAttributeValue":{const a=await n(i.value,t);o[i.name]=await a.get();break}case"ObjectConditionalSplat":{const a=await n(i.condition,t);if(a.type!=="boolean"||a.data===!1)continue;const l=await n(i.value,t);l.type==="object"&&Object.assign(o,l.data);break}case"ObjectSplat":{const a=await n(i.value,t);a.type==="object"&&Object.assign(o,a.data);break}default:throw new Error("Unknown node type: ".concat(s))}}return rr(o)},Array(e,t,n){let{elements:r}=e;return new Xd(async function*(){for(const o of r){const i=await n(o.value,t);if(o.isSplat){if(i.isArray())for await(const s of i)yield s}else yield i}})},Tuple(){throw new Error("tuples can not be evaluated")},async Or(e,t,n){let{left:r,right:o}=e;const i=await n(r,t),s=await n(o,t);return i.type==="boolean"&&i.data===!0||s.type==="boolean"&&s.data===!0?$o:i.type!=="boolean"||s.type!=="boolean"?Pe:so},async And(e,t,n){let{left:r,right:o}=e;const i=await n(r,t),s=await n(o,t);return i.type==="boolean"&&i.data===!1||s.type==="boolean"&&s.data===!1?so:i.type!=="boolean"||s.type!=="boolean"?Pe:$o},async Not(e,t,n){let{base:r}=e;const o=await n(r,t);return o.type!=="boolean"?Pe:o.data?so:$o},Neg(e,t,n){let{base:r}=e;return ZQ(n(r,t),o=>o.type!=="number"?Pe:Ma(-o.data))},Pos(e,t,n){let{base:r}=e;return ZQ(n(r,t),o=>o.type!=="number"?Pe:Ma(o.data))},Asc(){return Pe},Desc(){return Pe},async ArrayCoerce(e,t,n){let{base:r}=e;const o=await n(r,t);return o.isArray()?o:Pe},async Map(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new Xd(async function*(){for await(const s of i){const a=t.createHidden(s);yield await n(o,a)}}):Pe},async FlatMap(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new Xd(async function*(){for await(const s of i){const a=t.createHidden(s),l=await n(o,a);if(l.isArray())for await(const u of l)yield u;else yield l}}):Pe}};function hje(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=rr(t.root),r=rr(t.dataset),o={...t.params},i=new jx(o,r,n,{timestamp:t.timestamp||new Date,identity:t.identity===void 0?"me":t.identity,sanity:t.sanity,after:t.after?rr(t.after):null,before:t.before?rr(t.before):null,dereference:t.dereference},null);return S7(e,i)}function Iy(e){switch(e.type){case"Group":return Iy(e.base);case"Value":case"Parameter":return!0;case"Pos":case"Neg":return Iy(e.base);case"OpCall":switch(e.op){case"+":case"-":case"*":case"/":case"%":case"**":return Iy(e.left)&&Iy(e.right);default:return!1}default:return!1}}const q7t=new jx({},Pe,Pe,{timestamp:new Date(0),identity:"me",before:null,after:null},null);function oO(e){return Iy(e)?pje(e):null}function pje(e){const t=S7(e,q7t,pje);if("then"in t)throw new Error("BUG: constant evaluate should never return a promise");return t}async function G7t(e){if(e.type==="object")return gje(e.data);if(e.isArray()){const t=await mje(e);if(t.length>0)return t.join(`

`)}return null}async function mje(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];for await(const n of e)if(n.type==="object"){const r=gje(n.data);r!==null&&t.push(r)}else n.isArray()&&await mje(n,t);return t}function gje(e){if(typeof e._type!="string")return null;const t=e.children;if(!Array.isArray(t))return null;let n="";for(const r of t)r&&typeof r=="object"&&typeof r._type=="string"&&r._type==="span"&&typeof r.text=="string"&&(n+=r.text);return n}const XQ=1.2;async function bg(e,t,n){if(e.type==="OpCall"&&e.op==="match")return K7t(e.left,e.right,t,n);if(e.type==="FuncCall"&&e.name==="boost"){const r=await bg(e.args[0],t,n),o=await n(e.args[1],t);return o.type==="number"&&r>0?r+o.data:0}switch(e.type){case"Or":{const r=await bg(e.left,t,n),o=await bg(e.right,t,n);return r+o}case"And":{const r=await bg(e.left,t,n),o=await bg(e.right,t,n);return r===0||o===0?0:r+o}default:{const r=await n(e,t);return r.type==="boolean"&&r.data===!0?1:0}}}async function K7t(e,t,n,r){const o=await r(e,n),i=await r(t,n);let s=[],a=[];if(await tk(o,d=>{s=s.concat(dje(d))}),!await tk(i,d=>{a=a.concat(fje(d))})||s.length===0||a.length===0)return 0;let u=0;for(const d of a){const f=s.reduce((p,m)=>p+(d.test(m)?1:0),0);u+=f*(XQ+1)/(f+XQ)}return u}function OM(e,t){switch(Jv(e)){case"array":for(const n of e)if(OM(n,t))return!0;break;case"object":if(e._ref)return t.has(e._ref);for(const n of Object.values(e))if(OM(n,t))return!0;break}return!1}function Z7t(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r>=55296&&r<=56319||t++}return t}const $n={};$n.anywhere=async function(){throw new Error("not implemented")};$n.anywhere.arity=1;$n.coalesce=async function(t,n,r){for(const o of t){const i=await r(o,n);if(i.type!=="null")return i}return Pe};$n.count=async function(t,n,r){const o=await r(t[0],n);if(!o.isArray())return Pe;let i=0;for await(const s of o)i++;return Ma(i)};$n.count.arity=1;$n.dateTime=async function(t,n,r){const o=await r(t[0],n);return o.type==="datetime"?o:o.type!=="string"?Pe:Qv.parseToValue(o.data)};$n.dateTime.arity=1;$n.defined=async function(t,n,r){return(await r(t[0],n)).type==="null"?so:$o};$n.defined.arity=1;$n.identity=async function(t,n){return Fa(n.context.identity)};$n.identity.arity=0;$n.length=async function(t,n,r){const o=await r(t[0],n);if(o.type==="string")return Ma(Z7t(o.data));if(o.isArray()){let i=0;for await(const s of o)i++;return Ma(i)}return Pe};$n.length.arity=1;$n.path=async function(t,n,r){const o=await r(t[0],n);return o.type!=="string"?Pe:R7t(new cje(o.data))};$n.path.arity=1;$n.string=async function(t,n,r){const o=await r(t[0],n);switch(o.type){case"number":case"string":case"boolean":case"datetime":return Fa("".concat(o.data));default:return Pe}};$n.string.arity=1;$n.references=async function(t,n,r){const o=new Set;for(const s of t){const a=await r(s,n);if(a.type==="string")o.add(a.data);else if(a.isArray())for await(const l of a)l.type==="string"&&o.add(l.data)}if(o.size===0)return so;const i=await n.value.get();return OM(i,o)?$o:so};$n.references.arity=e=>e>=1;$n.round=async function(t,n,r){const o=await r(t[0],n);if(o.type!=="number")return Pe;const i=o.data;let s=0;if(t.length===2){const a=await r(t[1],n);if(a.type!=="number"||a.data<0||!Number.isInteger(a.data))return Pe;s=a.data}return s===0?i<0?Ma(-Math.round(-i)):Ma(Math.round(i)):Ma(Number(i.toFixed(s)))};$n.round.arity=e=>e>=1&&e<=2;$n.now=async function(t,n){return Fa(n.context.timestamp.toISOString())};$n.now.arity=0;$n.boost=async function(){throw new Error("unexpected boost call")};$n.boost.arity=2;const Ll={};Ll.lower=async function(e,t,n){const r=await n(e[0],t);return r.type!=="string"?Pe:Fa(r.data.toLowerCase())};Ll.lower.arity=1;Ll.upper=async function(e,t,n){const r=await n(e[0],t);return r.type!=="string"?Pe:Fa(r.data.toUpperCase())};Ll.upper.arity=1;Ll.split=async function(e,t,n){const r=await n(e[0],t);if(r.type!=="string")return Pe;const o=await n(e[1],t);return o.type!=="string"?Pe:r.data.length===0?rr([]):o.data.length===0?rr(Array.from(r.data)):rr(r.data.split(o.data))};Ll.split.arity=2;$n.lower=Ll.lower;$n.upper=Ll.upper;Ll.startsWith=async function(e,t,n){const r=await n(e[0],t);if(r.type!=="string")return Pe;const o=await n(e[1],t);return o.type!=="string"?Pe:r.data.startsWith(o.data)?$o:so};Ll.startsWith.arity=2;const Tm={};Tm.join=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Pe;const o=await n(e[1],t);if(o.type!=="string")return Pe;let i="",s=!1;for await(const a of r){switch(s&&(i+=o.data),a.type){case"number":case"string":case"boolean":case"datetime":i+="".concat(a.data);break;default:return Pe}s=!0}return rr(i)};Tm.join.arity=2;Tm.compact=async function(e,t,n){const r=await n(e[0],t);return r.isArray()?new Xd(async function*(){for await(const o of r)o.type!=="null"&&(yield o)}):Pe};Tm.compact.arity=1;Tm.unique=async function(e,t,n){const r=await n(e[0],t);return r.isArray()?new Xd(async function*(){const o=new Set;for await(const i of r)switch(i.type){case"number":case"string":case"boolean":case"datetime":o.has(i.data)||(o.add(i.data),yield i);break;default:yield i}}):Pe};Tm.unique.arity=1;const E7={};E7.text=async function(e,t,n){const r=await n(e[0],t),o=await G7t(r);return o===null?Pe:Fa(o)};E7.text.arity=1;const k7={};k7.projectId=async function(e,t){return t.context.sanity?Fa(t.context.sanity.projectId):Pe};k7.dataset=async function(e,t){return t.context.sanity?Fa(t.context.sanity.dataset):Pe};const Gw={};Gw.order=async function(t,n,r,o){if(await!0,!t.isArray())return Pe;const i=[],s=[];let a=0;for(let d of n){let f="asc";d.type==="Desc"?(f="desc",d=d.base):d.type==="Asc"&&(d=d.base),i.push(d),s.push(f),a++}const l=[];let u=0;for await(const d of t){const f=r.createNested(d),p=[await d.get(),u];for(let m=0;m<a;m++){const v=await o(i[m],f);p.push(await v.get())}l.push(p),u++}return l.sort((d,f)=>{for(let p=0;p<a;p++){let m=V7t(d[p+2],f[p+2]);if(s[p]==="desc"&&(m=-m),m!==0)return m}return d[1]-f[1]}),rr(l.map(d=>d[0]))};Gw.order.arity=e=>e>=1;Gw.score=async function(t,n,r,o){if(!t.isArray())return Pe;const i=[],s=[];for await(const a of t){if(a.type!=="object"){i.push(await a.get());continue}const l=r.createNested(a);let u=typeof a.data._score=="number"?a.data._score:0;for(const f of n)u+=await bg(f,l,o);const d=Object.assign({},a.data,{_score:u});s.push(d)}return s.sort((a,l)=>l._score-a._score),rr(s)};Gw.score.arity=e=>e>=1;const ah={};ah.operation=async function(e,t){const n=t.context.before!==null,r=t.context.after!==null;return n&&r?Fa("update"):r?Fa("create"):n?Fa("delete"):Pe};ah.changedAny=()=>{throw new Error("not implemented")};ah.changedAny.arity=1;ah.changedAny.mode="delta";ah.changedOnly=()=>{throw new Error("not implemented")};ah.changedOnly.arity=1;ah.changedOnly.mode="delta";const Kw={};Kw.changedAny=()=>{throw new Error("not implemented")};Kw.changedAny.arity=3;Kw.changedOnly=()=>{throw new Error("not implemented")};Kw.changedOnly.arity=3;const dd={};dd.min=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Pe;let o;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return Pe;(o===void 0||i.data<o)&&(o=i.data)}return rr(o)};dd.min.arity=1;dd.max=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Pe;let o;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return Pe;(o===void 0||i.data>o)&&(o=i.data)}return rr(o)};dd.max.arity=1;dd.sum=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Pe;let o=0;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return Pe;o+=i.data}return rr(o)};dd.sum.arity=1;dd.avg=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Pe;let o=0,i=0;for await(const s of r)if(s.type!=="null"){if(s.type!=="number")return Pe;o+=s.data,i++}return i===0?Pe:rr(o/i)};dd.avg.arity=1;const j7={};j7.now=async function(t,n,r){return PM(new Qv(n.context.timestamp))};j7.now.arity=0;const X7t={global:$n,string:Ll,array:Tm,pt:E7,delta:ah,diff:Kw,sanity:k7,math:dd,dateTime:j7};var Q7t=Object.defineProperty,J7t=(e,t,n)=>t in e?Q7t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,K1=(e,t,n)=>(J7t(e,typeof t!="symbol"?t+"":t,n),n);class eBt{constructor(t,n,r){K1(this,"string"),K1(this,"marks"),K1(this,"index"),K1(this,"parseOptions"),K1(this,"allowBoost",!1),this.string=t,this.marks=n,this.index=0,this.parseOptions=r}hasMark(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.index+t<this.marks.length}getMark(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.marks[this.index+t]}shift(){this.index+=1}process(t){const n=this.marks[this.index];this.shift();const r=t[n.name];if(!r)throw new Error("Unknown handler: ".concat(n.name));return r.call(t,this,n)}processString(){return this.shift(),this.processStringEnd()}processStringEnd(){const t=this.marks[this.index-1],n=this.marks[this.index];return this.shift(),this.string.slice(t.position,n.position)}slice(t){const n=this.marks[this.index].position;return this.string.slice(n,n+t)}}const tBt=/^([\t\n\v\f\r \u0085\u00A0]|(\/\/[^\n]*\n))+/,iO=/^\d+/,hp=/^[a-zA-Z_][a-zA-Z_0-9]*/,B_=1,N_=2,z_=3,to=4,tg=4,V_=6,H_=6,U_=7,W_=7,Y_=7,q_=8,nBt=10,rBt=10,oBt=8;function iBt(e){let t=0;t=Xe(e,t);let n=An(e,t,0);return n.type==="error"?n:(t=Xe(e,n.position),t!==e.length?(n.failPosition&&(t=n.failPosition-1),{type:"error",position:t}):(delete n.position,delete n.failPosition,n))}function An(e,t,n){let r=t,o=e[t],i;switch(o){case"+":{let u=An(e,Xe(e,t+1),nBt);if(u.type==="error")return u;i=[{name:"pos",position:r}].concat(u.marks),t=u.position;break}case"-":{let u=An(e,Xe(e,t+1),oBt);if(u.type==="error")return u;i=[{name:"neg",position:r}].concat(u.marks),t=u.position;break}case"(":{let u=An(e,Xe(e,t+1),0);if(u.type==="error")return u;switch(t=Xe(e,u.position),e[t]){case",":{for(i=[{name:"tuple",position:r}].concat(u.marks),t=Xe(e,t+1);;){if(u=An(e,t,0),u.type==="error")return u;if(t=Xe(e,u.position),e[t]!==",")break;t=Xe(e,t+1)}if(e[t]!==")")return{type:"error",position:t};t++,i.push({name:"tuple_end",position:t});break}case")":{t++,i=[{name:"group",position:r}].concat(u.marks);break}default:return{type:"error",position:t}}break}case"!":{let u=An(e,Xe(e,t+1),rBt);if(u.type==="error")return u;i=[{name:"not",position:r}].concat(u.marks),t=u.position;break}case"{":{let u=$M(e,t);if(u.type==="error")return u;i=u.marks,t=u.position;break}case"[":if(i=[{name:"array",position:t}],t=Xe(e,t+1),e[t]!=="]")for(;;){e.slice(t,t+3)==="..."&&(i.push({name:"array_splat",position:t}),t=Xe(e,t+3));let u=An(e,t,0);if(u.type==="error")return u;if(i=i.concat(u.marks),t=u.position,t=Xe(e,t),e[t]!==","||(t=Xe(e,t+1),e[t]==="]"))break}if(e[t]==="]")t++,i.push({name:"array_end",position:t});else return{type:"error",position:t};break;case"'":case'"':{let u=sBt(e,t);if(u.type==="error")return u;i=u.marks,t=u.position;break}case"^":{for(t++,i=[];e[t]==="."&&e[t+1]==="^";)i.push({name:"dblparent",position:r}),t+=2;i.push({name:"parent",position:r});break}case"@":i=[{name:"this",position:r}],t++;break;case"*":i=[{name:"everything",position:r}],t++;break;case"$":{let u=ac(e,t+1,hp);u&&(t+=1+u,i=[{name:"param",position:r},{name:"ident",position:r+1},{name:"ident_end",position:t}]);break}default:{let u=ac(e,t,iO);if(u){t+=u;let f="integer";if(e[t]==="."){let p=ac(e,t+1,iO);p&&(f="float",t+=1+p)}if(e[t]==="e"||e[t]==="E"){f="sci",t++,(e[t]==="+"||e[t]==="-")&&t++;let p=ac(e,t,iO);if(!p)return{type:"error",position:t};t+=p}i=[{name:f,position:r},{name:f+"_end",position:t}];break}let d=ac(e,t,hp);if(d){switch(t+=d,e[t]){case":":case"(":{let f=JQ(e,r,t);if(f.type==="error")return f;i=f.marks,t=f.position;break}default:i=[{name:"this_attr",position:r},{name:"ident",position:r},{name:"ident_end",position:t}]}break}}}if(!i)return{type:"error",position:t};let s=12,a;e:for(;;){let u=Xe(e,t);if(u===e.length){t=u;break}if(a=QQ(e,u),a.type==="success"){for(i.unshift({name:"traverse",position:r});a.type==="success";)i=i.concat(a.marks),t=a.position,a=QQ(e,Xe(e,t));i.push({name:"traversal_end",position:t});continue}switch(e[u]){case"=":{switch(e[u+1]){case">":{if(n>B_||s<=B_)break e;let p=An(e,Xe(e,u+2),B_);if(p.type==="error")return p;i=i.concat(p.marks),i.unshift({name:"pair",position:r}),t=p.position,s=B_;break}case"=":{if(n>to||s<=to)break e;let p=An(e,Xe(e,u+2),to+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(p.marks),t=p.position,s=to;break}default:break e}break}case"+":{if(n>V_||s<V_)break e;let f=An(e,Xe(e,u+1),V_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"add",position:r}),t=f.position,s=V_;break}case"-":{if(n>H_||s<H_)break e;let f=An(e,Xe(e,u+1),H_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"sub",position:r}),t=f.position,s=H_;break}case"*":{if(e[u+1]==="*"){if(n>q_||s<=q_)break e;let p=An(e,Xe(e,u+2),q_);if(p.type==="error")return p;i=i.concat(p.marks),i.unshift({name:"pow",position:r}),t=p.position,s=q_;break}if(n>U_||s<U_)break e;let f=An(e,Xe(e,u+1),U_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"mul",position:r}),t=f.position,s=U_;break}case"/":{if(n>W_||s<W_)break e;let f=An(e,Xe(e,u+1),W_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"div",position:r}),t=f.position,s=W_;break}case"%":{if(n>Y_||s<Y_)break e;let f=An(e,Xe(e,u+1),Y_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"mod",position:r}),t=f.position,s=Y_;break}case"<":case">":{if(n>to||s<=to)break e;let f=u+1;e[f]==="="&&f++;let p=An(e,Xe(e,f),to+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:f}),i=i.concat(p.marks),t=p.position,s=to;break}case"|":{if(e[u+1]==="|"){if(n>N_||s<N_)break e;let f=An(e,Xe(e,u+2),N_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"or",position:r}),t=f.position,s=N_}else{if(n>11||s<11)break e;let f=Xe(e,u+1),p=ac(e,f,hp);if(!p)return{type:"error",position:f};if(t=f+p,e[t]==="("||e[t]===":"){let m=JQ(e,f,t);if(m.type==="error")return m;i=i.concat(m.marks),i.unshift({name:"pipecall",position:r}),t=m.position,s=11}}break}case"&":{if(e[u+1]!="&"||n>z_||s<z_)break e;let f=An(e,Xe(e,u+2),z_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"and",position:r}),t=f.position,s=z_;break}case"!":{if(e[u+1]!=="="||n>to||s<=to)break e;let f=An(e,Xe(e,u+2),to+1);if(f.type==="error")return f;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(f.marks),t=f.position,s=to;break}case"d":{if(e.slice(u,u+4)!=="desc"||n>tg||s<tg)break e;i.unshift({name:"desc",position:r}),t=u+4,s=tg;break}case"a":{if(e.slice(u,u+3)!=="asc"||n>tg||s<tg)break e;i.unshift({name:"asc",position:r}),t=u+3,s=tg;break}default:switch(aBt(e,u,hp)){case"in":{if(n>to||s<=to)break e;t=Xe(e,u+2);let p=!1;e[t]==="("&&(p=!0,t=Xe(e,t+1));let m=t,v=An(e,t,to+1);if(v.type==="error")return v;if(t=Xe(e,v.position),e[t]==="."&&e[t+1]==="."){let g="inc_range";e[t+2]==="."?(g="exc_range",t=Xe(e,t+3)):t=Xe(e,t+2);let b=An(e,t,to+1);if(b.type==="error")return b;i.unshift({name:"in_range",position:r}),i=i.concat({name:g,position:m},v.marks,b.marks),t=b.position}else i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(v.marks);if(p){if(t=Xe(e,t),e[t]!==")")return{type:"error",position:t};t++}s=to;break}case"match":{if(n>to||s<=to)break e;let p=An(e,Xe(e,u+5),to+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+5}),i=i.concat(p.marks),t=p.position,s=4;break}default:break e}}}let l=(a==null?void 0:a.type)==="error"&&a.position;return{type:"success",marks:i,position:t,failPosition:l}}function QQ(e,t){let n=t;switch(e[t]){case".":{t=Xe(e,t+1);let s=t,a=ac(e,t,hp);return a?(t+=a,{type:"success",marks:[{name:"attr_access",position:n},{name:"ident",position:s},{name:"ident_end",position:t}],position:t}):{type:"error",position:t}}case"-":if(e[t+1]!==">")return{type:"error",position:t};let r=[{name:"deref",position:n}];t+=2;let o=Xe(e,t),i=ac(e,o,hp);return i&&(t=o+i,r.push({name:"deref_attr",position:o},{name:"ident",position:o},{name:"ident_end",position:t})),{type:"success",marks:r,position:t};case"[":{if(t=Xe(e,t+1),e[t]==="]")return{type:"success",marks:[{name:"array_postfix",position:n}],position:t+1};let s=t,a=An(e,t,0);if(a.type==="error")return a;if(t=Xe(e,a.position),e[t]==="."&&e[t+1]==="."){let l="inc_range";e[t+2]==="."?(l="exc_range",t+=3):t+=2,t=Xe(e,t);let u=An(e,t,0);return u.type==="error"?u:(t=Xe(e,u.position),e[t]!=="]"?{type:"error",position:t}:{type:"success",marks:[{name:"slice",position:n},{name:l,position:s}].concat(a.marks,u.marks),position:t+1})}return e[t]!=="]"?{type:"error",position:t}:{type:"success",marks:[{name:"square_bracket",position:n}].concat(a.marks),position:t+1}}case"|":{if(t=Xe(e,t+1),e[t]==="{"){let s=$M(e,t);return s.type==="error"||s.marks.unshift({name:"projection",position:n}),s}break}case"{":{let s=$M(e,t);return s.type==="error"||s.marks.unshift({name:"projection",position:n}),s}}return{type:"error",position:t}}function JQ(e,t,n){let r=[];if(r.push({name:"func_call",position:t}),e[n]===":"&&e[n+1]===":"){r.push({name:"namespace",position:t}),r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=Xe(e,n+2);let i=ac(e,n,hp);if(!i)return{type:"error",position:n};if(r.push({name:"ident",position:n},{name:"ident_end",position:n+i}),n=Xe(e,n+i),e[n]!=="(")return{type:"error",position:n};n++,n=Xe(e,n)}else r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=Xe(e,n+1);let o=n;if(e[n]!==")")for(;;){let i=An(e,n,0);if(i.type==="error")return i;if(r=r.concat(i.marks),o=i.position,n=Xe(e,i.position),e[n]!==","||(n=Xe(e,n+1),e[n]===")"))break}return e[n]!==")"?{type:"error",position:n}:(r.push({name:"func_args_end",position:o}),{type:"success",marks:r,position:n+1})}function $M(e,t){let n=[{name:"object",position:t}];for(t=Xe(e,t+1);e[t]!=="}";){let r=t;if(e.slice(t,t+3)==="...")if(t=Xe(e,t+3),e[t]!=="}"&&e[t]!==","){let o=An(e,t,0);if(o.type==="error")return o;n.push({name:"object_splat",position:r}),n=n.concat(o.marks),t=o.position}else n.push({name:"object_splat_this",position:r});else{let o=An(e,t,0);if(o.type==="error")return o;let i=Xe(e,o.position);if(o.marks[0].name==="str"&&e[i]===":"){let s=An(e,Xe(e,i+1),0);if(s.type==="error")return s;n.push({name:"object_pair",position:r}),n=n.concat(o.marks,s.marks),t=s.position}else n=n.concat({name:"object_expr",position:t},o.marks),t=o.position}if(t=Xe(e,t),e[t]!==",")break;t=Xe(e,t+1)}return e[t]!=="}"?{type:"error",position:t}:(t++,n.push({name:"object_end",position:t}),{type:"success",marks:n,position:t})}function sBt(e,t){let n=e[t];t=t+1;const r=[{name:"str",position:t}];e:for(;;t++){if(t>e.length)return{type:"error",position:t};switch(e[t]){case n:{r.push({name:"str_end",position:t}),t++;break e}case"\\":r.push({name:"str_pause",position:t}),e[t+1]==="u"?e[t+2]==="{"?(r.push({name:"unicode_hex",position:t+3}),t=e.indexOf("}",t+3),r.push({name:"unicode_hex_end",position:t})):(r.push({name:"unicode_hex",position:t+2}),r.push({name:"unicode_hex_end",position:t+6}),t+=5):(r.push({name:"single_escape",position:t+1}),t+=1),r.push({name:"str_start",position:t+1})}}return{type:"success",marks:r,position:t}}function Xe(e,t){return t+ac(e,t,tBt)}function ac(e,t,n){let r=n.exec(e.slice(t));return r?r[0].length:0}function aBt(e,t,n){let r=n.exec(e.slice(t));return r?r[0]:null}function Pa(e,t){return n=>t(e(n))}function RM(e){return t=>({type:"Map",base:t,expr:e({type:"This"})})}function lBt(e){return t=>({type:"FlatMap",base:t,expr:e({type:"This"})})}function wS(e,t){if(!t)return{type:"a-a",build:e};switch(t.type){case"a-a":return{type:"a-a",build:Pa(e,t.build)};case"a-b":return{type:"a-b",build:Pa(e,t.build)};case"b-b":return{type:"a-a",build:Pa(e,RM(t.build))};case"b-a":return{type:"a-a",build:Pa(e,lBt(t.build))};default:throw new Error("unknown type: ".concat(t.type))}}function sO(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"b-a",build:Pa(e,t.build)};case"a-b":case"b-b":return{type:"b-b",build:Pa(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}function cBt(e,t){if(!t)return{type:"a-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"a-a",build:Pa(e,t.build)};case"a-b":case"b-b":return{type:"a-b",build:Pa(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}function uBt(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":return{type:"a-a",build:Pa(RM(e),t.build)};case"a-b":return{type:"a-b",build:Pa(RM(e),t.build)};case"b-a":return{type:"b-a",build:Pa(e,t.build)};case"b-b":return{type:"b-b",build:Pa(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}var dBt=Object.defineProperty,fBt=(e,t,n)=>t in e?dBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,MM=(e,t,n)=>(fBt(e,typeof t!="symbol"?t+"":t,n),n);const hBt={"'":"'",'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function pBt(e){const t=parseInt(e,16);return String.fromCharCode(t)}class Li extends Error{constructor(){super(...arguments),MM(this,"name","GroqQueryError")}}const it={group(e){return{type:"Group",base:e.process(it)}},everything(){return{type:"Everything"}},this(){return{type:"This"}},parent(){return{type:"Parent",n:1}},dblparent(e){return{type:"Parent",n:e.process(it).n+1}},traverse(e){const t=e.process(it),n=[];for(;e.getMark().name!=="traversal_end";)n.push(e.process(vje));e.shift();let r=null;for(let o=n.length-1;o>=0;o--)r=n[o](r);if((t.type==="Everything"||t.type==="Array"||t.type==="PipeFuncCall")&&(r=wS(o=>o,r)),r===null)throw new Error("BUG: unexpected empty traversal");return r.build(t)},this_attr(e){const t=e.processString();return t==="null"?{type:"Value",value:null}:t==="true"?{type:"Value",value:!0}:t==="false"?{type:"Value",value:!1}:{type:"AccessAttribute",name:t}},neg(e){return{type:"Neg",base:e.process(it)}},pos(e){return{type:"Pos",base:e.process(it)}},add(e){const t=e.process(it),n=e.process(it);return{type:"OpCall",op:"+",left:t,right:n}},sub(e){const t=e.process(it),n=e.process(it);return{type:"OpCall",op:"-",left:t,right:n}},mul(e){const t=e.process(it),n=e.process(it);return{type:"OpCall",op:"*",left:t,right:n}},div(e){const t=e.process(it),n=e.process(it);return{type:"OpCall",op:"/",left:t,right:n}},mod(e){const t=e.process(it),n=e.process(it);return{type:"OpCall",op:"%",left:t,right:n}},pow(e){const t=e.process(it),n=e.process(it);return{type:"OpCall",op:"**",left:t,right:n}},comp(e){const t=e.process(it),n=e.processString(),r=e.process(it);return{type:"OpCall",op:n,left:t,right:r}},in_range(e){const t=e.process(it),n=e.getMark().name==="inc_range";e.shift();const r=e.process(it),o=e.process(it);return{type:"InRange",base:t,left:r,right:o,isInclusive:n}},str(e){let t="";e:for(;e.hasMark();){const n=e.getMark();switch(n.name){case"str_end":t+=e.processStringEnd();break e;case"str_pause":t+=e.processStringEnd();break;case"str_start":e.shift();break;case"single_escape":{const r=e.slice(1);e.shift(),t+=hBt[r];break}case"unicode_hex":e.shift(),t+=pBt(e.processStringEnd());break;default:throw new Error("unexpected mark: ".concat(n.name))}}return{type:"Value",value:t}},integer(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},float(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},sci(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},object(e){const t=[];for(;e.getMark().name!=="object_end";)t.push(e.process(mBt));return e.shift(),{type:"Object",attributes:t}},array(e){const t=[];for(;e.getMark().name!=="array_end";){let n=!1;e.getMark().name==="array_splat"&&(n=!0,e.shift());const r=e.process(it);t.push({type:"ArrayElement",value:r,isSplat:n})}return e.shift(),{type:"Array",elements:t}},tuple(e){const t=[];for(;e.getMark().name!=="tuple_end";)t.push(e.process(it));return e.shift(),{type:"Tuple",members:t}},func_call(e){let t="global";e.getMark().name==="namespace"&&(e.shift(),t=e.processString());const n=e.processString();if(t==="global"&&n==="select"){const s={type:"Select",alternatives:[]};for(;e.getMark().name!=="func_args_end";)if(e.getMark().name==="pair"){if(s.fallback)throw new Li("unexpected argument to select()");e.shift();const a=e.process(it),l=e.process(it);s.alternatives.push({type:"SelectAlternative",condition:a,value:l})}else{if(s.fallback)throw new Li("unexpected argument to select()");const a=e.process(it);s.fallback=a}return e.shift(),s}const r=[];for(;e.getMark().name!=="func_args_end";)gBt(t,n,r.length)?(e.process(FM),r.push({type:"Selector"})):r.push(e.process(it));if(e.shift(),t==="global"&&(n==="before"||n==="after")&&e.parseOptions.mode==="delta")return{type:"Context",key:n};if(t==="global"&&n==="boost"&&!e.allowBoost)throw new Li("unexpected boost");const o=X7t[t];if(!o)throw new Li("Undefined namespace: ".concat(t));const i=o[n];if(!i)throw new Li("Undefined function: ".concat(n));if(i.arity!==void 0&&eJ(n,i.arity,r.length),i.mode!==void 0&&i.mode!==e.parseOptions.mode)throw new Li("Undefined function: ".concat(n));return{type:"FuncCall",func:i,namespace:t,name:n,args:r}},pipecall(e){const t=e.process(it);e.shift();let n="global";if(e.getMark().name==="namespace"&&(e.shift(),n=e.processString()),n!=="global")throw new Li("Undefined namespace: ".concat(n));const r=e.processString(),o=[],i=e.allowBoost;for(r==="score"&&(e.allowBoost=!0);;){const a=e.getMark().name;if(a==="func_args_end")break;if(r==="order"){if(a==="asc"){e.shift(),o.push({type:"Asc",base:e.process(it)});continue}else if(a==="desc"){e.shift(),o.push({type:"Desc",base:e.process(it)});continue}}o.push(e.process(it))}e.shift(),e.allowBoost=i;const s=Gw[r];if(!s)throw new Li("Undefined pipe function: ".concat(r));return s.arity&&eJ(r,s.arity,o.length),{type:"PipeFuncCall",func:s,base:t,name:r,args:o}},pair(e){throw new Li("unexpected =>")},and(e){const t=e.process(it),n=e.process(it);return{type:"And",left:t,right:n}},or(e){const t=e.process(it),n=e.process(it);return{type:"Or",left:t,right:n}},not(e){return{type:"Not",base:e.process(it)}},asc(e){throw new Li("unexpected asc")},desc(e){throw new Li("unexpected desc")},param(e){const t=e.processString();return e.parseOptions.params&&e.parseOptions.params.hasOwnProperty(t)?{type:"Value",value:e.parseOptions.params[t]}:{type:"Parameter",name:t}}},mBt={object_expr(e){if(e.getMark().name==="pair"){e.shift();const n=e.process(it),r=e.process(it);return{type:"ObjectConditionalSplat",condition:n,value:r}}const t=e.process(it);return{type:"ObjectAttributeValue",name:yje(t),value:t}},object_pair(e){const t=e.process(it);if(t.type!=="Value")throw new Error("name must be string");const n=e.process(it);return{type:"ObjectAttributeValue",name:t.value,value:n}},object_splat(e){return{type:"ObjectSplat",value:e.process(it)}},object_splat_this(){return{type:"ObjectSplat",value:{type:"This"}}}},vje={square_bracket(e){const t=e.process(it),n=oO(t);return n&&n.type==="number"?r=>cBt(o=>({type:"AccessElement",base:o,index:n.data}),r):n&&n.type==="string"?r=>sO(o=>({type:"AccessAttribute",base:o,name:n.data}),r):r=>wS(o=>({type:"Filter",base:o,expr:t}),r)},slice(e){const t=e.getMark().name==="inc_range";e.shift();const n=e.process(it),r=e.process(it),o=oO(n),i=oO(r);if(!o||!i||o.type!=="number"||i.type!=="number")throw new Li("slicing must use constant numbers");return s=>wS(a=>({type:"Slice",base:a,left:o.data,right:i.data,isInclusive:t}),s)},projection(e){const t=e.process(it);return n=>uBt(r=>({type:"Projection",base:r,expr:t}),n)},attr_access(e){const t=e.processString();return n=>sO(r=>({type:"AccessAttribute",base:r,name:t}),n)},deref(e){let t=null;e.getMark().name==="deref_attr"&&(e.shift(),t=e.processString());const n=r=>t?{type:"AccessAttribute",base:r,name:t}:r;return r=>sO(o=>n({type:"Deref",base:o}),r)},array_postfix(e){return t=>wS(n=>({type:"ArrayCoerce",base:n}),t)}},FM={group(e){return e.process(FM),null},everything(){throw new Error("Invalid selector syntax")},this(){throw new Error("Invalid selector syntax")},parent(){throw new Error("Invalid selector syntax")},dblparent(e){throw new Error("Invalid selector syntax")},traverse(e){for(e.process(FM);e.getMark().name!=="traversal_end";)e.process(vje);return e.shift(),null},this_attr(e){return e.processString(),null},neg(e){throw new Error("Invalid selector syntax")},pos(e){throw new Error("Invalid selector syntax")},add(e){throw new Error("Invalid selector syntax")},sub(e){throw new Error("Invalid selector syntax")},mul(e){throw new Error("Invalid selector syntax")},div(e){throw new Error("Invalid selector syntax")},mod(e){throw new Error("Invalid selector syntax")},pow(e){throw new Error("Invalid selector syntax")},comp(e){throw new Error("Invalid selector syntax")},in_range(e){throw new Error("Invalid selector syntax")},str(e){throw new Error("Invalid selector syntax")},integer(e){throw new Error("Invalid selector syntax")},float(e){throw new Error("Invalid selector syntax")},sci(e){throw new Error("Invalid selector syntax")},object(e){throw new Error("Invalid selector syntax")},array(e){throw new Error("Invalid selector syntax")},tuple(e){throw new Error("Invalid selector syntax")},func_call(e,t){const n=it.func_call(e,t);if(n.name==="anywhere"&&n.args.length===1)return null;throw new Error("Invalid selector syntax")},pipecall(e){throw new Error("Invalid selector syntax")},pair(e){throw new Error("Invalid selector syntax")},and(e){throw new Error("Invalid selector syntax")},or(e){throw new Error("Invalid selector syntax")},not(e){throw new Error("Invalid selector syntax")},asc(e){throw new Error("Invalid selector syntax")},desc(e){throw new Error("Invalid selector syntax")},param(e){throw new Error("Invalid selector syntax")}};function yje(e){if(e.type==="AccessAttribute"&&!e.base)return e.name;if(e.type==="Deref"||e.type==="Map"||e.type==="Projection"||e.type==="Slice"||e.type==="Filter"||e.type==="AccessElement"||e.type==="ArrayCoerce")return yje(e.base);throw new Li("Cannot determine property key for type: ".concat(e.type))}function eJ(e,t,n){if(typeof t=="number"){if(n!==t)throw new Li("Incorrect number of arguments to function ".concat(e,"(). Expected ").concat(t,", got ").concat(n,"."))}else if(t&&!t(n))throw new Li("Incorrect number of arguments to function ".concat(e,"()."))}function gBt(e,t,n){const r=["changedAny","changedOnly"];return e=="diff"&&n==2&&r.includes(t)}class vBt extends Error{constructor(t){super("Syntax error in GROQ query at position ".concat(t)),MM(this,"position"),MM(this,"name","GroqSyntaxError"),this.position=t}}function bje(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=iBt(e);if(n.type==="error")throw new vBt(n.position);return new eBt(e,n.marks,t).process(it)}function yBt(e,t=tet){return n=>{const r=n;let o=null,i=null;const s=new Ar,a=s.pipe(Ua((l,u)=>l+u,0),tt(l=>l===0?Ei(e,t).pipe(Wn(()=>{o&&(o.unsubscribe(),o=null),i&&(i.unsubscribe(),i=null)})):!o&&l>0?Ei(0,t).pipe(Wn(()=>{o||(o=r.connect())})):WL));return Wet(()=>(i||(i=a.subscribe()),s.next(1),{unsubscribe:()=>s.next(-1)}),()=>n)}}var bBt=Object.defineProperty,xBt=(e,t,n)=>t in e?bBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ng=(e,t,n)=>(xBt(e,typeof t!="symbol"?t+"":t,n),n);const wBt=["Value","Copy","Blank","ReturnIntoArray","ReturnIntoObject","ReturnIntoObjectSameKey","PushField","PushElement","PushParent","Pop","PushFieldCopy","PushFieldBlank","PushElementCopy","PushElementBlank","ReturnIntoObjectPop","ReturnIntoObjectSameKeyPop","ReturnIntoArrayPop","ObjectSetFieldValue","ObjectCopyField","ObjectDeleteField","ArrayAppendValue","ArrayAppendSlice","StringAppendString","StringAppendSlice"];class xje{constructor(t,n,r){ng(this,"model"),ng(this,"root"),ng(this,"patch"),ng(this,"i"),ng(this,"inputStack"),ng(this,"outputStack"),this.model=t,this.root=n,this.patch=r,this.i=0,this.inputStack=[],this.outputStack=[]}read(){return this.patch[this.i++]}process(){for(this.inputStack.push({value:this.root}),this.outputStack.push({value:this.root});this.i<this.patch.length;){let n=this.read(),r=wBt[n];if(!r)throw new Error("Unknown opcode: ".concat(n));let o="process".concat(r);this[o].apply(this)}let t=this.outputStack.pop();return this.finalizeOutput(t)}inputEntry(){return this.inputStack[this.inputStack.length-1]}inputKey(t,n){return t.keys||(t.keys=this.model.objectGetKeys(t.value).sort()),t.keys[n]}outputEntry(){return this.outputStack[this.outputStack.length-1]}outputArray(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyArray(t.value)),t.writeValue}outputObject(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyObject(t.value)),t.writeValue}outputString(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyString(t.value)),t.writeValue}finalizeOutput(t){return t.writeValue?this.model.finalize(t.writeValue):t.value}processValue(){let t=this.model.wrap(this.read());this.outputStack.push({value:t})}processCopy(){let t=this.inputEntry();this.outputStack.push({value:t.value})}processBlank(){this.outputStack.push({value:null})}processReturnIntoArray(){let t=this.outputStack.pop(),n=this.finalizeOutput(t),r=this.outputArray();this.model.arrayAppendValue(r,n)}processReturnIntoObject(){let t=this.read(),n=this.outputStack.pop(),r=this.finalizeOutput(n);r=this.model.markChanged(r);let o=this.outputObject();this.model.objectSetField(o,t,r)}processReturnIntoObjectSameKey(){let t=this.inputEntry(),n=this.outputStack.pop(),r=this.finalizeOutput(n),o=this.outputObject();this.model.objectSetField(o,t.key,r)}processPushField(){let t=this.read(),n=this.inputEntry(),r=this.inputKey(n,t),o=this.model.objectGetField(n.value,r);this.inputStack.push({value:o,key:r})}processPushElement(){let t=this.read(),n=this.inputEntry(),r=this.model.arrayGetElement(n.value,t);this.inputStack.push({value:r})}processPop(){this.inputStack.pop()}processPushFieldCopy(){this.processPushField(),this.processCopy()}processPushFieldBlank(){this.processPushField(),this.processBlank()}processPushElementCopy(){this.processPushElement(),this.processCopy()}processPushElementBlank(){this.processPushElement(),this.processBlank()}processReturnIntoObjectPop(){this.processReturnIntoObject(),this.processPop()}processReturnIntoObjectSameKeyPop(){this.processReturnIntoObjectSameKey(),this.processPop()}processReturnIntoArrayPop(){this.processReturnIntoArray(),this.processPop()}processObjectSetFieldValue(){this.processValue(),this.processReturnIntoObject()}processObjectCopyField(){this.processPushField(),this.processCopy(),this.processReturnIntoObjectSameKey(),this.processPop()}processObjectDeleteField(){let t=this.read(),n=this.inputEntry(),r=this.inputKey(n,t),o=this.outputObject();this.model.objectDeleteField(o,r)}processArrayAppendValue(){let t=this.model.wrap(this.read()),n=this.outputArray();this.model.arrayAppendValue(n,t)}processArrayAppendSlice(){let t=this.read(),n=this.read(),r=this.outputArray(),o=this.inputEntry().value;this.model.arrayAppendSlice(r,o,t,n)}processStringAppendString(){let t=this.model.wrap(this.read()),n=this.outputString();this.model.stringAppendValue(n,t)}processStringAppendSlice(){let t=this.read(),n=this.read(),r=this.outputString(),o=this.inputEntry().value;this.model.stringAppendSlice(r,o,t,n)}}function Zw(e){return e>>16?4:e>>11?3:e>>7?2:1}function LM(e){let t=0;for(let n=0;n<e.length;n++){let r=e.codePointAt(n),o=Zw(r);o==4&&n++,t+=o}return t}function tJ(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=n,o=0;for(o=n;r<t;o++){let i=e.codePointAt(o),s=Zw(i);s===4&&o++,r+=s}return o}function CBt(e,t){let n=Math.min(e.length,t.length),r=0;for(let o=0;o<n;){let i=e.codePointAt(o),s=t.codePointAt(o);if(i!==s)return r;let a=Zw(i);r+=a,o+=a===4?2:1}return r}function _Bt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Math.min(e.length,t.length)-n,o=0;for(let i=0;i<r;){let s=e.codePointAt(e.length-1-i),a=t.codePointAt(t.length-1-i);if(s!==a)return o;let l=Zw(s);o+=l,i+=l===4?2:1}return o}var SBt=Object.defineProperty,EBt=(e,t,n)=>t in e?SBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kBt=(e,t,n)=>(EBt(e,typeof t!="symbol"?t+"":t,n),n);class BM{constructor(t){kBt(this,"meta"),this.meta=t}wrap(t){return this.wrapWithMeta(t,this.meta,this.meta)}wrapWithMeta(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.meta;return{data:t,startMeta:n,endMeta:r}}asObject(t){if(!t.content){let n={};for(let[r,o]of Object.entries(t.data))n[r]=this.wrapWithMeta(o,t.startMeta);t.content={type:"object",fields:n}}return t.content}asArray(t){if(!t.content){let n=t.data.map(o=>this.wrapWithMeta(o,t.startMeta)),r=n.map(()=>this.meta);t.content={type:"array",elements:n,metas:r}}return t.content}asString(t){if(!t.content){let n=t.data,r={value:n,utf8size:LM(n),uses:[],startMeta:t.startMeta,endMeta:t.endMeta};t.content=this.stringFromParts([r])}return t.content}stringFromParts(t){let n={type:"string",parts:t};for(let r of t)r.uses.push(n);return n}objectGetKeys(t){return t.content?Object.keys(t.content.fields):Object.keys(t.data)}objectGetField(t,n){return this.asObject(t).fields[n]}arrayGetElement(t,n){return this.asArray(t).elements[n]}finalize(t){return this.updateEndMeta(t),{content:t,startMeta:this.meta,endMeta:this.meta}}markChanged(t){return this.wrap(hu(t))}updateEndMeta(t){if(t.type=="string")for(let n of t.parts)n.endMeta=this.meta;else if(t.type==="array")for(let n of t.elements)n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta;else for(let n of Object.values(t.fields))n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta}copyString(t){if(t){let n=this.asString(t);return this.stringFromParts(n.parts.slice())}else return{type:"string",parts:[]}}copyObject(t){let n={type:"object",fields:{}};if(t){let r=this.asObject(t);Object.assign(n.fields,r.fields)}return n}copyArray(t){let n=t?this.asArray(t):null,r=n?n.elements:[],o=n?n.metas:[];return{type:"array",elements:r,metas:o}}objectSetField(t,n,r){t.fields[n]=r}objectDeleteField(t,n){delete t.fields[n]}arrayAppendValue(t,n){t.elements.push(n),t.metas.push(this.meta)}arrayAppendSlice(t,n,r,o){let i=this.asArray(n),s=i.elements.length===r;if(t.elements.push(...i.elements.slice(r,o)),s)t.metas.push(...i.metas.slice(r,o));else for(let a=r;a<o;a++)t.metas.push(this.meta)}stringAppendValue(t,n){let r=this.asString(n);for(let o of r.parts)this.stringAppendPart(t,o)}stringAppendPart(t,n){t.parts.push(n),n.uses.push(t)}resolveStringPart(t,n,r){if(r===0)return n;for(let o=n;o<t.parts.length;o++){let i=t.parts[o];if(r===i.utf8size)return o+1;if(r<i.utf8size)return this.splitString(i,r),o+1;r-=i.utf8size}throw new Error("splitting string out of bounds")}splitString(t,n){let r,o,i=n,s=t.utf8size-i;if(t.utf8size!==t.value.length){let l=0;for(n=0;l<i;n++){let u=t.value.codePointAt(n),d=Zw(u);d===4&&n++,l+=d}}r=t.value.slice(0,n),o=t.value.slice(n);let a={value:o,utf8size:s,uses:t.uses.slice(),startMeta:t.startMeta,endMeta:t.endMeta};t.value=r,t.utf8size=i;for(let l of t.uses){let u=l.parts.indexOf(t);if(u===-1)throw new Error("bug: mismatch between string parts and use.");l.parts.splice(u+1,0,a)}}stringAppendSlice(t,n,r,o){let i=this.asString(n),s=this.resolveStringPart(i,0,r),a=this.resolveStringPart(i,s,o-r);for(let l=s;l<a;l++){let u=i.parts[l];this.stringAppendPart(t,u)}}}function jBt(e,t){return{data:e,startMeta:t,endMeta:t}}function hu(e){if(typeof e.data<"u")return e.data;let t,n=e.content;switch(n.type){case"string":t=n.parts.map(r=>r.value).join("");break;case"array":t=n.elements.map(r=>hu(r));break;case"object":{t={};for(let[r,o]of Object.entries(n.fields))t[r]=hu(o)}}return e.data=t,t}function NM(e){return e.content?e.content.type:Array.isArray(e.data)?"array":e.data===null?"null":typeof e.data}function zM(e,t){let n=NM(e),r=NM(t);if(n!==r)return t;let o=new BM(e.endMeta),i=new BM(t.endMeta);switch(n){case"object":{let s=o.asObject(e),a=i.asObject(t),l=0,u=Object.keys(s.fields).length,d=Object.keys(a.fields).length;for(let[p,m]of Object.entries(a.fields)){let v=s.fields[p];v&&(a.fields[p]=zM(v,m),a.fields[p]===v&&l++)}return u===d&&u===l?e:t}case"array":{let s=o.asArray(e),a=i.asArray(t);if(s.elements.length!==a.elements.length)break;let l=0;for(let u=0;u<a.elements.length;u++)a.elements[u]=zM(s.elements[u],a.elements[u]),a.elements[u]!==s.elements[u]&&l++;return l===0?e:t}case"null":case"boolean":case"number":{if(hu(e)===hu(t))return e;break}case"string":{let s=hu(e),a=hu(t);if(s===a)return e;let l=i.copyString(null),u=CBt(s,a),d=_Bt(s,a,u),f=LM(a),p=LM(s);0<u&&i.stringAppendSlice(l,e,0,u),u<f-d&&i.stringAppendSlice(l,t,u,f-d),p-d<p&&i.stringAppendSlice(l,e,p-d,p);let m=i.finalize(l);if(hu(m)!==a)throw new Error("incorrect string rebase");return m}}return t}function TBt(e,t,n){let r=new BM(n);return new xje(r,e,t).process()}var il=Object.freeze({__proto__:null,applyPatch:TBt,getType:NM,rebaseValue:zM,unwrap:hu,wrap:jBt});class ABt{wrap(t){return t}finalize(t){return Array.isArray(t)?t:t.data}markChanged(t){return t}objectGetKeys(t){return Object.keys(t)}objectGetField(t,n){return t[n]}arrayGetElement(t,n){return t[n]}copyObject(t){let n={type:"object",data:{}};if(t!==null)for(let[r,o]of Object.entries(t))n.data[r]=o;return n}copyArray(t){return t===null?[]:t.slice()}copyString(t){return{type:"string",data:t===null?"":t}}objectSetField(t,n,r){t.data[n]=r}objectDeleteField(t,n){delete t.data[n]}arrayAppendValue(t,n){t.push(n)}arrayAppendSlice(t,n,r,o){t.push(...n.slice(r,o))}stringAppendSlice(t,n,r,o){const i=n,s=tJ(i,r),a=tJ(i,o,s);t.data+=i.slice(s,a)}stringAppendValue(t,n){t.data+=n}}function VM(e,t){let n=e;return new xje(new ABt,n,t).process()}function lh(e,t,n){return delete e[t],e[t]=n,n}function DBt(e,t){const n=IBt(e,t);return PBt(n,e,t)}function IBt(e,t){const n=e.length,r=t.length;let o=0,i=0;const s=new Array(n+1);for(o=0;o<n+1;o++)for(s[o]=[r+1],i=0;i<r+1;i++)s[o][i]=0;for(o=1;o<n+1;o++)for(i=1;i<r+1;i++)e[o-1]===t[i-1]?s[o][i]=s[o-1][i-1]+1:s[o][i]=Math.max(s[o-1][i],s[o][i-1]);return s}function PBt(e,t,n){let r=t.length,o=n.length;const i={sequence:[],prevIndices:[],nextIndices:[]};for(;r!==0&&o!==0;)if(t[r-1]===n[o-1])i.sequence.unshift(t[r-1]),i.prevIndices.unshift(r-1),i.nextIndices.unshift(o-1),--r,--o;else{const a=e[r][o-1],l=e[r-1][o];a>l?--o:--r}return i}function OBt(e,t,n){if(e===t){const s=e.value,a=t.value;return{type:"array",action:"unchanged",isChanged:!1,fromValue:s,toValue:a,get items(){const l=nJ(e,t);if(!l)throw new Error("invariant broken: equivalent input, but diff detected");return lh(this,"items",l)}}}const r=oJ(e),o=oJ(t);if(r&&o)return RBt(e,r,t,o);const i=nJ(e,t);return i?T7(e,t,i,!1):$Bt(e,t)}function T7(e,t,n,r){const o=e.value,i=t.value;return r?{type:"array",action:"changed",isChanged:!0,fromValue:o,toValue:i,items:n,annotation:t.annotation}:{type:"array",action:"unchanged",isChanged:!1,fromValue:o,toValue:i,items:n}}function nJ(e,t,n){if(e.length!==t.length)return;const r=[];for(let o=0;o<e.length;o++){const i=rA(e.at(o),t.at(o));if(i.isChanged)return;r.push({fromIndex:o,toIndex:o,hasMoved:!1,diff:i,annotation:t.annotationAt(o)})}return r}function $Bt(e,t,n){const r=[];for(let o=0;o<t.length;o++){const i=t.at(o);r.push({fromIndex:void 0,toIndex:o,hasMoved:!1,diff:Dm(i,void 0),annotation:i.annotation})}for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:o,toIndex:void 0,hasMoved:!1,diff:Am(i,void 0),annotation:i.annotation})}return T7(e,t,r,!0)}function RBt(e,t,n,r,o){const i=[];let s=!1;function a(u,d,f,p){rJ(t.index,u,d),rJ(r.index,u,f);const m=e.at(d),v=n.at(f),g=rA(m,v);i.push({fromIndex:d,toIndex:f,hasMoved:p,diff:g,annotation:n.annotationAt(f)}),(g.isChanged||d!==f)&&(s=!0)}const l=DBt(t.keys,r.keys);for(let u=0;u<t.keys.length;u++){const d=t.keys[u],f=l.prevIndices.indexOf(u);if(f!==-1){a(d,u,l.nextIndices[f],!1);continue}const p=r.index.get(d),m=p&&p.find(g=>!l.nextIndices.includes(g));if(m!==void 0){a(d,u,m,!0);continue}const v=e.at(u);i.push({fromIndex:u,toIndex:void 0,hasMoved:!1,diff:Am(v,void 0),annotation:e.annotationAt(u)}),s=!0}for(const u of r.index.values()){for(const d of u){const f=n.at(d);i.push({fromIndex:void 0,toIndex:d,hasMoved:!1,diff:Dm(f,void 0),annotation:n.annotationAt(d)})}s=!0}return i.sort(MBt),T7(e,n,i,s)}function MBt(e,t){if(e.toIndex!==void 0&&t.toIndex!==void 0)return e.toIndex-t.toIndex;if(e.fromIndex!==void 0&&t.fromIndex!==void 0)return e.fromIndex-t.fromIndex;if(e.fromIndex!==void 0&&t.toIndex!==void 0)return-1;if(e.toIndex!==void 0&&t.fromIndex!==void 0)return 1;throw new Error("invalid item diff comparison")}function rJ(e,t,n){const r=e.get(t);FBt(r,n),r.length===0&&e.delete(t)}function FBt(e,t){const n=e.indexOf(t);if(n===-1)throw new Error("value not found");e.splice(n,1)}function oJ(e){const t=new Map,n=[],r=e.length;for(let o=0;o<r;o++){const i=e.at(o);let s=null;switch(i.type){case"string":s="s".concat(i.value);break;case"number":s=i.value;break;case"boolean":s=i.value;break;case"null":s="n";break;case"object":{const l=i.get("_key");if(l&&l.type==="string"&&(s="k".concat(l.value),t.has(s)))return}break}if(s===null)return;n.push(s);let a=t.get(s);a||(a=[],t.set(s,a)),a.push(o)}return{keys:n,index:t}}function LBt(e,t,n){return{type:"array",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get items(){const r=[];for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:o,toIndex:void 0,hasMoved:!1,diff:Am(i,void 0),annotation:e.annotationAt(o)})}return lh(this,"items",r)}}}function BBt(e,t,n){return{type:"array",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get items(){const r=[];for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:void 0,toIndex:o,hasMoved:!1,diff:Dm(i,void 0),annotation:e.annotationAt(o)})}return lh(this,"items",r)}}}function NBt(e,t,n){const r=e.value,o=t.value;return r===o?{type:"string",action:"unchanged",isChanged:!1,fromValue:r,toValue:o,segments:[{type:"stringSegment",action:"unchanged",text:r}]}:{type:"string",action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation,get segments(){const i=zBt(e,t);return lh(this,"segments",i)}}}function zBt(e,t){const n=[],r=c9(Lw(e.value,t.value));let o=0,i=0;for(const[s,a]of r)switch(s){case wt:n.push({type:"stringSegment",action:"unchanged",text:a}),o+=a.length,i+=a.length;break;case Dn:for(const l of e.sliceAnnotation(o,o+a.length))n.push({type:"stringSegment",action:"removed",text:l.text,annotation:l.annotation});o+=a.length;break;case Yn:for(const l of t.sliceAnnotation(i,i+a.length))n.push({type:"stringSegment",action:"added",text:l.text,annotation:l.annotation});i+=a.length;break;default:throw new Error('Unhandled diff-match-patch operation "'.concat(s,'"'))}return n}function VBt(e,t,n){return{type:"string",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get segments(){const r=e.sliceAnnotation(0,e.value.length).map(o=>({type:"stringSegment",action:"removed",...o}));return lh(this,"segments",r)}}}function HBt(e,t,n){return{type:"string",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get segments(){const r=e.sliceAnnotation(0,e.value.length).map(o=>({type:"stringSegment",action:"added",...o}));return lh(this,"segments",r)}}}function UBt(e,t,n){return{type:"typeChange",action:"changed",isChanged:!0,fromType:e.type,fromValue:e.value,fromDiff:Am(e,void 0),toType:t.type,toValue:t.value,toDiff:Dm(t,void 0),annotation:t.annotation}}const iJ=new Set(["_id","_type","_createdAt","_updatedAt","_rev","_weak"]);function WBt(e,t,n){const r={};let o=!1;for(const a of e.keys){if(iJ.has(a))continue;const l=e.get(a),u=t.get(a);if(u){const d=rA(l,u);r[a]=d,d.isChanged&&(o=!0)}else r[a]=Am(l,void 0),o=!0}for(const a of t.keys){if(iJ.has(a)||e.get(a))continue;const l=t.get(a);r[a]=Dm(l,void 0),o=!0}const i=e.value,s=t.value;return o?{type:"object",action:"changed",isChanged:!0,fromValue:i,toValue:s,fields:r,annotation:t.annotation}:{type:"object",action:"unchanged",isChanged:!1,fromValue:i,toValue:s,fields:r}}function YBt(e,t,n){return{type:"object",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get fields(){const r={};for(const o of e.keys){const i=e.get(o);r[o]=Am(i,void 0)}return lh(this,"fields",r)}}}function qBt(e,t,n){return{type:"object",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get fields(){const r={};for(const o of e.keys){const i=e.get(o);r[o]=Dm(i,void 0)}return lh(this,"fields",r)}}}function GBt(e,t,n){const r=e.value,o=t.value,i=e.type;return r===o?{type:i,action:"unchanged",fromValue:r,toValue:o,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation}}function KBt(e,t,n){const r=e.value,o=t.value,i=e.type;return r===o?{type:i,action:"unchanged",fromValue:r,toValue:o,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation}}function rA(e,t){return e.type!==t.type?e.type==="null"?Dm(t,null):t.type==="null"?Am(e,null):UBt(e,t):ZBt(e.type,e,t)}function ZBt(e,t,n,r){switch(e){case"null":return{type:"null",action:"unchanged",isChanged:!1,toValue:null,fromValue:null};case"boolean":return KBt(t,n);case"number":return GBt(t,n);case"string":return NBt(t,n);case"array":return OBt(t,n);case"object":return WBt(t,n);default:throw new Error('Unhandled diff type "'.concat(e,'"'))}}function Am(e,t,n){switch(e.type){case"null":return{type:"null",action:"removed",isChanged:!0,fromValue:null,toValue:t,annotation:e.annotation};case"boolean":return{type:"boolean",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"number":return{type:"number",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"string":return VBt(e,t);case"array":return LBt(e,t);case"object":return YBt(e,t);default:throw new Error("Unhandled diff type")}}function Dm(e,t,n){switch(e.type){case"null":return{type:"null",action:"added",isChanged:!0,fromValue:t,toValue:null,annotation:e.annotation};case"boolean":return{type:"boolean",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"number":return{type:"number",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"string":return HBt(e,t);case"array":return BBt(e,t);case"object":return qBt(e,t);default:throw new Error("Unhandled diff type")}}var XBt=Object.defineProperty,QBt=(e,t,n)=>t in e?XBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Z1=(e,t,n)=>(QBt(e,typeof t!="symbol"?t+"":t,n),n);class JBt{constructor(t,n){Z1(this,"type","array"),Z1(this,"length"),Z1(this,"value"),Z1(this,"annotation"),Z1(this,"elements",[]),this.annotation=n,this.value=t,this.length=t.length}at(t){if(t>=this.length)throw new Error("out of bounds");const n=this.elements[t];return n||(this.elements[t]=A7(this.value[t],this.annotation))}annotationAt(){return this.annotation}}var eNt=Object.defineProperty,tNt=(e,t,n)=>t in e?eNt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,X1=(e,t,n)=>(tNt(e,typeof t!="symbol"?t+"":t,n),n);class nNt{constructor(t,n){X1(this,"type","object"),X1(this,"value"),X1(this,"keys"),X1(this,"annotation"),X1(this,"fields",{}),this.value=t,this.annotation=n,this.keys=Object.keys(t)}get(t){const n=this.fields[t];if(n)return n;if(!this.value.hasOwnProperty(t))return;const r=this.value[t];return this.fields[t]=A7(r,this.annotation)}}var rNt=Object.defineProperty,oNt=(e,t,n)=>t in e?rNt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aO=(e,t,n)=>(oNt(e,typeof t!="symbol"?t+"":t,n),n);let iNt=class{constructor(t,n){aO(this,"type","string"),aO(this,"value"),aO(this,"annotation"),this.value=t,this.annotation=n}sliceAnnotation(t,n){return[{text:this.value.slice(t,n),annotation:this.annotation}]}};var sNt=Object.defineProperty,aNt=(e,t,n)=>t in e?sNt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lO=(e,t,n)=>(aNt(e,typeof t!="symbol"?t+"":t,n),n);class cO{constructor(t,n,r){lO(this,"type"),lO(this,"value"),lO(this,"annotation"),this.type=t,this.value=n,this.annotation=r}}function A7(e,t){if(Array.isArray(e))return new JBt(e,t);if(e===null)return new cO("null",e,t);const n=typeof e;switch(n){case"number":return new cO(n,e,t);case"boolean":return new cO(n,e,t);case"object":return new nNt(e,t);case"string":return new iNt(e,t);default:throw new Error("cannot wrap value of type: ".concat(n))}}var wje={exports:{}},Cje={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xw=h;function lNt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cNt=typeof Object.is=="function"?Object.is:lNt,uNt=Xw.useSyncExternalStore,dNt=Xw.useRef,fNt=Xw.useEffect,hNt=Xw.useMemo,pNt=Xw.useDebugValue;Cje.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=dNt(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=hNt(function(){function l(m){if(!u){if(u=!0,d=m,m=r(m),o!==void 0&&s.hasValue){var v=s.value;if(o(v,m))return f=v}return f=m}if(v=f,cNt(d,m))return v;var g=r(m);return o!==void 0&&o(v,g)?v:(d=m,f=g)}var u=!1,d,f,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,o]);var a=uNt(e,i[0],i[1]);return fNt(function(){s.hasValue=!0,s.value=a},[a]),pNt(a),a};wje.exports=Cje;var D7=wje.exports;let mNt=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");var gNt=Math.floor,vNt=Math.random;function yNt(e,t){return e+gNt(vNt()*(t-e+1))}var bNt=yNt,xNt=bNt;function wNt(e){var t=e.length;return t?e[xNt(0,t-1)]:void 0}var _je=wNt,CNt=_je,_Nt=oje;function SNt(e){return CNt(_Nt(e))}var ENt=SNt,kNt=_je,jNt=ENt,TNt=Jr;function ANt(e){var t=TNt(e)?kNt:jNt;return t(e)}var DNt=ANt;const INt=De(DNt);var PNt=function(){function e(n,r){if(typeof n!="function")throw new TypeError("DataLoader must be constructed with a function which accepts "+("Array<key> and returns Promise<Array<value>>, but got: "+n+"."));this._batchLoadFn=n,this._maxBatchSize=MNt(r),this._batchScheduleFn=FNt(r),this._cacheKeyFn=LNt(r),this._cacheMap=BNt(r),this._batch=null,this.name=NNt(r)}var t=e.prototype;return t.load=function(r){if(r==null)throw new TypeError("The loader.load() function must be called with a value, "+("but got: "+String(r)+"."));var o=$Nt(this),i=this._cacheMap,s=this._cacheKeyFn(r);if(i){var a=i.get(s);if(a){var l=o.cacheHits||(o.cacheHits=[]);return new Promise(function(d){l.push(function(){d(a)})})}}o.keys.push(r);var u=new Promise(function(d,f){o.callbacks.push({resolve:d,reject:f})});return i&&i.set(s,u),u},t.loadMany=function(r){if(!Sje(r))throw new TypeError("The loader.loadMany() function must be called with Array<key> "+("but got: "+r+"."));for(var o=[],i=0;i<r.length;i++)o.push(this.load(r[i]).catch(function(s){return s}));return Promise.all(o)},t.clear=function(r){var o=this._cacheMap;if(o){var i=this._cacheKeyFn(r);o.delete(i)}return this},t.clearAll=function(){var r=this._cacheMap;return r&&r.clear(),this},t.prime=function(r,o){var i=this._cacheMap;if(i){var s=this._cacheKeyFn(r);if(i.get(s)===void 0){var a;o instanceof Error?(a=Promise.reject(o),a.catch(function(){})):a=Promise.resolve(o),i.set(s,a)}}return this},e}(),ONt=typeof process=="object"&&typeof process.nextTick=="function"?function(e){uO||(uO=Promise.resolve()),uO.then(function(){process.nextTick(e)})}:typeof setImmediate=="function"?function(e){setImmediate(e)}:function(e){setTimeout(e)},uO;function $Nt(e){var t=e._batch;if(t!==null&&!t.hasDispatched&&t.keys.length<e._maxBatchSize)return t;var n={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=n,e._batchScheduleFn(function(){RNt(e,n)}),n}function RNt(e,t){if(t.hasDispatched=!0,t.keys.length===0){HM(t);return}var n;try{n=e._batchLoadFn(t.keys)}catch(r){return dO(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function "+("errored synchronously: "+String(r)+".")))}if(!n||typeof n.then!="function")return dO(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise: "+String(n)+".")));n.then(function(r){if(!Sje(r))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise of an Array: "+String(r)+"."));if(r.length!==t.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys."+(`

Keys:
`+String(t.keys))+(`

Values:
`+String(r)));HM(t);for(var o=0;o<t.callbacks.length;o++){var i=r[o];i instanceof Error?t.callbacks[o].reject(i):t.callbacks[o].resolve(i)}}).catch(function(r){dO(e,t,r)})}function dO(e,t,n){HM(t);for(var r=0;r<t.keys.length;r++)e.clear(t.keys[r]),t.callbacks[r].reject(n)}function HM(e){if(e.cacheHits)for(var t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function MNt(e){var t=!e||e.batch!==!1;if(!t)return 1;var n=e&&e.maxBatchSize;if(n===void 0)return 1/0;if(typeof n!="number"||n<1)throw new TypeError("maxBatchSize must be a positive number: "+n);return n}function FNt(e){var t=e&&e.batchScheduleFn;if(t===void 0)return ONt;if(typeof t!="function")throw new TypeError("batchScheduleFn must be a function: "+t);return t}function LNt(e){var t=e&&e.cacheKeyFn;if(t===void 0)return function(n){return n};if(typeof t!="function")throw new TypeError("cacheKeyFn must be a function: "+t);return t}function BNt(e){var t=!e||e.cache!==!1;if(!t)return null;var n=e&&e.cacheMap;if(n===void 0)return new Map;if(n!==null){var r=["get","set","delete","clear"],o=r.filter(function(i){return n&&typeof n[i]!="function"});if(o.length!==0)throw new TypeError("Custom cacheMap missing methods: "+o.join(", "))}return n}function NNt(e){return e&&e.name?e.name:null}function Sje(e){return typeof e=="object"&&e!==null&&typeof e.length=="number"&&(e.length===0||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}var zNt=PNt;const VNt=De(zNt);var oA={exports:{}},Py={exports:{}};(function(){var e,t,n,r,o,i;typeof performance<"u"&&performance!==null&&performance.now?Py.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Py.exports=function(){return(e()-o)/1e6},t=process.hrtime,e=function(){var s;return s=t(),s[0]*1e9+s[1]},r=e(),i=process.uptime()*1e9,o=r-i):Date.now?(Py.exports=function(){return Date.now()-n},n=Date.now()):(Py.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(xs);var HNt=Py.exports,UNt=HNt,ju=typeof window>"u"?xs:window,G_=["moz","webkit"],yv="AnimationFrame",e0=ju["request"+yv],Tx=ju["cancel"+yv]||ju["cancelRequest"+yv];for(var Q1=0;!e0&&Q1<G_.length;Q1++)e0=ju[G_[Q1]+"Request"+yv],Tx=ju[G_[Q1]+"Cancel"+yv]||ju[G_[Q1]+"CancelRequest"+yv];if(!e0||!Tx){var fO=0,sJ=0,jh=[],WNt=1e3/60;e0=function(e){if(jh.length===0){var t=UNt(),n=Math.max(0,WNt-(t-fO));fO=n+t,setTimeout(function(){var r=jh.slice(0);jh.length=0;for(var o=0;o<r.length;o++)if(!r[o].cancelled)try{r[o].callback(fO)}catch(i){setTimeout(function(){throw i},0)}},Math.round(n))}return jh.push({handle:++sJ,callback:e,cancelled:!1}),sJ},Tx=function(e){for(var t=0;t<jh.length;t++)jh[t].handle===e&&(jh[t].cancelled=!0)}}oA.exports=function(e){return e0.call(ju,e)};oA.exports.cancel=function(){Tx.apply(ju,arguments)};oA.exports.polyfill=function(e){e||(e=ju),e.requestAnimationFrame=e0,e.cancelAnimationFrame=Tx};var YNt=oA.exports;const qNt=De(YNt);function _b(e,t,n){return Math.min(Math.max(e,n),t)}class GNt extends Error{constructor(t){super(`Failed to parse color: "${t}"`)}}var Oy=GNt;function Eje(e){if(typeof e!="string")throw new Oy(e);if(e.trim().toLowerCase()==="transparent")return[0,0,0,0];let t=e.trim();t=nzt.test(e)?XNt(e):e;const n=QNt.exec(t);if(n){const s=Array.from(n).slice(1);return[...s.slice(0,3).map(a=>parseInt(Ax(a,2),16)),parseInt(Ax(s[3]||"f",2),16)/255]}const r=JNt.exec(t);if(r){const s=Array.from(r).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,16)),parseInt(s[3]||"ff",16)/255]}const o=ezt.exec(t);if(o){const s=Array.from(o).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,10)),parseFloat(s[3]||"1")]}const i=tzt.exec(t);if(i){const[s,a,l,u]=Array.from(i).slice(1).map(parseFloat);if(_b(0,100,a)!==a)throw new Oy(e);if(_b(0,100,l)!==l)throw new Oy(e);return[...rzt(s,a,l),Number.isNaN(u)?1:u]}throw new Oy(e)}function KNt(e){let t=5381,n=e.length;for(;n;)t=t*33^e.charCodeAt(--n);return(t>>>0)%2341}const aJ=e=>parseInt(e.replace(/_/g,""),36),ZNt="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((e,t)=>{const n=aJ(t.substring(0,3)),r=aJ(t.substring(3)).toString(16);let o="";for(let i=0;i<6-r.length;i++)o+="0";return e[n]=`${o}${r}`,e},{});function XNt(e){const t=e.toLowerCase().trim(),n=ZNt[KNt(t)];if(!n)throw new Oy(e);return`#${n}`}const Ax=(e,t)=>Array.from(Array(t)).map(()=>e).join(""),QNt=new RegExp(`^#${Ax("([a-f0-9])",3)}([a-f0-9])?$`,"i"),JNt=new RegExp(`^#${Ax("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),ezt=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Ax(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),tzt=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,nzt=/^[a-z]+$/i,lJ=e=>Math.round(e*255),rzt=(e,t,n)=>{let r=n/100;if(t===0)return[r,r,r].map(lJ);const o=(e%360+360)%360/60,i=(1-Math.abs(2*r-1))*(t/100),s=i*(1-Math.abs(o%2-1));let a=0,l=0,u=0;o>=0&&o<1?(a=i,l=s):o>=1&&o<2?(a=s,l=i):o>=2&&o<3?(l=i,u=s):o>=3&&o<4?(l=s,u=i):o>=4&&o<5?(a=s,u=i):o>=5&&o<6&&(a=i,u=s);const d=r-i/2,f=a+d,p=l+d,m=u+d;return[f,p,m].map(lJ)};function ozt(e){const[t,n,r,o]=Eje(e).map((f,p)=>p===3?f:f/255),i=Math.max(t,n,r),s=Math.min(t,n,r),a=(i+s)/2;if(i===s)return[0,0,a,o];const l=i-s,u=a>.5?l/(2-i-s):l/(i+s);return[60*(t===i?(n-r)/l+(n<r?6:0):n===i?(r-t)/l+2:(t-n)/l+4),u,a,o]}function izt(e,t,n,r){return`hsla(${(e%360).toFixed()}, ${_b(0,100,t*100).toFixed()}%, ${_b(0,100,n*100).toFixed()}%, ${parseFloat(_b(0,1,r).toFixed(3))})`}function kje(e,t){const[n,r,o,i]=ozt(e);return izt(n,r,o-t,i)}function UM(e){if(e==="transparent")return 0;function t(i){const s=i/255;return s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)}const[n,r,o]=Eje(e);return .2126*t(n)+.7152*t(r)+.0722*t(o)}function szt(e,t){const n=UM(e),r=UM(t);return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)}const azt={decorative:1.5,readable:3,aa:4.5,aaa:7};function cJ(e,t="aa",n="#fff"){return szt(e,n)<azt[t]}function lzt(e,t){return kje(e,-t)}function czt(e){return UM(e)>.179}function uzt(e){return czt(e)?"#000":"#fff"}var dzt=dCe,fzt=Ew,hzt=oT,pzt=Jr,mzt=th,gzt=iT,vzt=aT,yzt=r8,bzt="[object Map]",xzt="[object Set]",wzt=Object.prototype,Czt=wzt.hasOwnProperty;function _zt(e){if(e==null)return!0;if(mzt(e)&&(pzt(e)||typeof e=="string"||typeof e.splice=="function"||gzt(e)||yzt(e)||hzt(e)))return!e.length;var t=fzt(e);if(t==bzt||t==xzt)return!e.size;if(vzt(e))return!dzt(e).length;for(var n in e)if(Czt.call(e,n))return!1;return!0}var Szt=_zt;const Ezt=De(Szt);var kzt=(()=>{try{return typeof import.meta<"u"}catch{return!1}})(),jzt=()=>{try{return!!(kzt&&import.meta.webpackHot)}catch{return!1}};function Tzt(e){if(jzt)return typeof import.meta.webpackHot>"u"?Dzt(e):Azt(e)}function Azt(e){h.useEffect(()=>{if(import.meta.webpackHot){const t=n=>n==="idle"?e():void 0;return import.meta.webpackHot.addStatusHandler(t),()=>{var n;return(n=import.meta.webpackHot)==null?void 0:n.removeStatusHandler(t)}}},[e])}function Dzt(e){h.useEffect(()=>{},[e])}var Izt=I7;I7.displayName="bash";I7.aliases=["shell"];function I7(e){(function(t){var n="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",r={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},o={bash:r,environment:{pattern:RegExp("\\$"+n),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+n),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};t.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+n),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:o},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:r}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:o},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:o.entity}}],environment:{pattern:RegExp("\\$?"+n),alias:"constant"},variable:o.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},r.inside=t.languages.bash;for(var i=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],s=o.variable[1].inside,a=0;a<i.length;a++)s[i[a]]=t.languages.bash[i[a]];t.languages.shell=t.languages.bash})(e)}const Pzt=De(Izt);var Ozt=P7;P7.displayName="json";P7.aliases=["webmanifest"];function P7(e){e.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},e.languages.webmanifest=e.languages.json}const $zt=De(Ozt);var Rzt=O7;O7.displayName="jsx";O7.aliases=[];function O7(e){(function(t){var n=t.util.clone(t.languages.javascript),r=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,o=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,i=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function s(u,d){return u=u.replace(/<S>/g,function(){return r}).replace(/<BRACES>/g,function(){return o}).replace(/<SPREAD>/g,function(){return i}),RegExp(u,d)}i=s(i).source,t.languages.jsx=t.languages.extend("markup",n),t.languages.jsx.tag.pattern=s(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),t.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,t.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,t.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,t.languages.jsx.tag.inside.comment=n.comment,t.languages.insertBefore("inside","attr-name",{spread:{pattern:s(/<SPREAD>/.source),inside:t.languages.jsx}},t.languages.jsx.tag),t.languages.insertBefore("inside","special-attr",{script:{pattern:s(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:t.languages.jsx}}},t.languages.jsx.tag);var a=function(u){return u?typeof u=="string"?u:typeof u.content=="string"?u.content:u.content.map(a).join(""):""},l=function(u){for(var d=[],f=0;f<u.length;f++){var p=u[f],m=!1;if(typeof p!="string"&&(p.type==="tag"&&p.content[0]&&p.content[0].type==="tag"?p.content[0].content[0].content==="</"?d.length>0&&d[d.length-1].tagName===a(p.content[0].content[1])&&d.pop():p.content[p.content.length-1].content==="/>"||d.push({tagName:a(p.content[0].content[1]),openedBraces:0}):d.length>0&&p.type==="punctuation"&&p.content==="{"?d[d.length-1].openedBraces++:d.length>0&&d[d.length-1].openedBraces>0&&p.type==="punctuation"&&p.content==="}"?d[d.length-1].openedBraces--:m=!0),(m||typeof p=="string")&&d.length>0&&d[d.length-1].openedBraces===0){var v=a(p);f<u.length-1&&(typeof u[f+1]=="string"||u[f+1].type==="plain-text")&&(v+=a(u[f+1]),u.splice(f+1,1)),f>0&&(typeof u[f-1]=="string"||u[f-1].type==="plain-text")&&(v=a(u[f-1])+v,u.splice(f-1,1),f--),u[f]=new t.Token("plain-text",v,null,v)}p.content&&typeof p.content!="string"&&l(p.content)}};t.hooks.add("after-tokenize",function(u){u.language!=="jsx"&&u.language!=="tsx"||l(u.tokens)})})(e)}const Mzt=De(Rzt);var Fzt=$7;$7.displayName="typescript";$7.aliases=["ts"];function $7(e){(function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var n=t.languages.extend("typescript",{});delete n["class-name"],t.languages.typescript["class-name"].inside=n,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n}}}}),t.languages.ts=t.languages.typescript})(e)}const Lzt=De(Fzt);var mc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(mc||(mc={}));var nk=function(e){return e},uJ="beforeunload",Bzt="popstate";function Nzt(e){e===void 0&&(e={});var t=e,n=t.window,r=n===void 0?document.defaultView:n,o=r.history;function i(){var E=r.location,j=E.pathname,k=E.search,T=E.hash,A=o.state||{};return[A.idx,nk({pathname:j,search:k,hash:T,state:A.usr||null,key:A.key||"default"})]}var s=null;function a(){if(s)m.call(s),s=null;else{var E=mc.Pop,j=i(),k=j[0],T=j[1];if(m.length){if(k!=null){var A=d-k;A&&(s={action:E,location:T,retry:function(){_(A*-1)}},_(A))}}else y(E)}}r.addEventListener(Bzt,a);var l=mc.Pop,u=i(),d=u[0],f=u[1],p=rk(),m=rk();d==null&&(d=0,o.replaceState(Lu({},o.state,{idx:d}),""));function v(E){return typeof E=="string"?E:jje(E)}function g(E,j){return j===void 0&&(j=null),nk(Lu({pathname:f.pathname,hash:"",search:""},typeof E=="string"?YM(E):E,{state:j,key:WM()}))}function b(E,j){return[{usr:E.state,key:E.key,idx:j},v(E)]}function x(E,j,k){return!m.length||(m.call({action:E,location:j,retry:k}),!1)}function y(E){l=E;var j=i();d=j[0],f=j[1],p.call({action:l,location:f})}function w(E,j){var k=mc.Push,T=g(E,j);function A(){w(E,j)}if(x(k,T,A)){var D=b(T,d+1),I=D[0],P=D[1];try{o.pushState(I,"",P)}catch{r.location.assign(P)}y(k)}}function C(E,j){var k=mc.Replace,T=g(E,j);function A(){C(E,j)}if(x(k,T,A)){var D=b(T,d),I=D[0],P=D[1];o.replaceState(I,"",P),y(k)}}function _(E){o.go(E)}var S={get action(){return l},get location(){return f},createHref:v,push:w,replace:C,go:_,back:function(){_(-1)},forward:function(){_(1)},listen:function(j){return p.push(j)},block:function(j){var k=m.push(j);return m.length===1&&r.addEventListener(uJ,fJ),function(){k(),m.length||r.removeEventListener(uJ,fJ)}}};return S}function zzt(e){e===void 0&&(e={});var t=e,n=t.initialEntries,r=n===void 0?["/"]:n,o=t.initialIndex,i=r.map(function(w){var C=nk(Lu({pathname:"/",search:"",hash:"",state:null,key:WM()},typeof w=="string"?YM(w):w));return C}),s=dJ(o??i.length-1,0,i.length-1),a=mc.Pop,l=i[s],u=rk(),d=rk();function f(w){return typeof w=="string"?w:jje(w)}function p(w,C){return C===void 0&&(C=null),nk(Lu({pathname:l.pathname,search:"",hash:""},typeof w=="string"?YM(w):w,{state:C,key:WM()}))}function m(w,C,_){return!d.length||(d.call({action:w,location:C,retry:_}),!1)}function v(w,C){a=w,l=C,u.call({action:a,location:l})}function g(w,C){var _=mc.Push,S=p(w,C);function E(){g(w,C)}m(_,S,E)&&(s+=1,i.splice(s,i.length,S),v(_,S))}function b(w,C){var _=mc.Replace,S=p(w,C);function E(){b(w,C)}m(_,S,E)&&(i[s]=S,v(_,S))}function x(w){var C=dJ(s+w,0,i.length-1),_=mc.Pop,S=i[C];function E(){x(w)}m(_,S,E)&&(s=C,v(_,S))}var y={get index(){return s},get action(){return a},get location(){return l},createHref:f,push:g,replace:b,go:x,back:function(){x(-1)},forward:function(){x(1)},listen:function(C){return u.push(C)},block:function(C){return d.push(C)}};return y}function dJ(e,t,n){return Math.min(Math.max(e,t),n)}function fJ(e){e.preventDefault(),e.returnValue=""}function rk(){var e=[];return{get length(){return e.length},push:function(n){return e.push(n),function(){e=e.filter(function(r){return r!==n})}},call:function(n){e.forEach(function(r){return r&&r(n)})}}}function WM(){return Math.random().toString(36).substr(2,8)}function jje(e){var t=e.pathname,n=t===void 0?"/":t,r=e.search,o=r===void 0?"":r,i=e.hash,s=i===void 0?"":i;return o&&o!=="?"&&(n+=o.charAt(0)==="?"?o:"?"+o),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function YM(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var Vzt=Lc,Tje=/[\\^$.*+?()[\]{}|]/g,Hzt=RegExp(Tje.source);function Uzt(e){return e=Vzt(e),e&&Hzt.test(e)?e.replace(Tje,"\\$&"):e}var Wzt=Uzt;const R7=De(Wzt);var Aje,hJ=uc;Aje=hJ.createRoot,hJ.hydrateRoot;h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"groq-logo",height:"1em",viewBox:"0 0 304 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,ref:n,children:[c.jsx("path",{d:"M32 0L0 32H32V0Z",fill:fe.magenta[400].hex}),c.jsx("path",{d:"M32 32H0L32 64V32Z",fill:fe.green[300].hex}),c.jsx("path",{d:"M64 32H32V64L64 32Z",fill:fe.purple[300].hex}),c.jsx("path",{d:"M112 0L80 32H112V0Z",fill:fe.green[300].hex}),c.jsx("path",{d:"M112 0H80V32L112 0Z",fill:fe.purple[300].hex}),c.jsx("path",{d:"M112 32H80L112 64V32Z",fill:fe.yellow[200].hex}),c.jsx("path",{d:"M144 64L112 32V64H144Z",fill:fe.blue[300].hex}),c.jsx("path",{d:"M80 32V64H112L80 32Z",fill:fe.orange[400].hex}),c.jsx("path",{d:"M112 0V32H144L112 0Z",fill:fe.magenta[400].hex}),c.jsx("path",{d:"M192 0L160 32H192V0Z",fill:fe.yellow[200].hex}),c.jsx("path",{d:"M192 32H160L192 64V32Z",fill:fe.orange[400].hex}),c.jsx("path",{d:"M224 32H192V64L224 32Z",fill:fe.green[300].hex}),c.jsx("path",{d:"M192 0V32H224L192 0Z",fill:fe.blue[300].hex}),c.jsx("path",{d:"M272 0L240 32H272V0Z",fill:fe.purple[300].hex}),c.jsx("path",{d:"M304 32L272 64H304V32Z",fill:fe.magenta[400].hex}),c.jsx("path",{d:"M272 32H240L272 64V32Z",fill:fe.blue[300].hex}),c.jsx("path",{d:"M304 32H272V64L304 32Z",fill:fe.yellow[200].hex}),c.jsx("path",{d:"M272 0V32H304L272 0Z",fill:fe.green[300].hex})]})});h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"groq-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,ref:n,children:[c.jsx("rect",{width:"128",height:"128",rx:"8",fill:fe.green[950].hex}),c.jsx("rect",{y:"32",width:"64",height:"64",fill:fe.green[800].hex}),c.jsx("path",{d:"M64 32L32 64H64V32Z",fill:fe.magenta[400].hex}),c.jsx("path",{d:"M64 64H32L64 96V64Z",fill:fe.green[300].hex}),c.jsx("path",{d:"M96 64H64V96L96 64Z",fill:fe.purple[300].hex})]})});const Yzt={light:[fe.red[200].hex,fe.red[300].hex,fe.red[500].hex],dark:[fe.gray[500].hex,fe.gray[300].hex,Ca.hex]},qzt=h.forwardRef(function(t,n){const{dark:r,...o}=t,i=Yzt[r?"dark":"light"];return c.jsxs("svg",{"data-sanity-icon":"sanity-logo",height:"1em",viewBox:"0 0 352 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,ref:n,children:[c.jsx("path",{d:"M311.14 57.234V80.0016H298.499V57.234",fill:i[1]}),c.jsx("path",{d:"M298.499 57.2341L319.889 20.0017H333.316L311.14 57.2341H298.499Z",fill:i[2]}),c.jsx("path",{d:"M298.499 57.2341L276.515 20.0017H290.345L305.239 45.5161L298.499 57.2341Z",fill:i[1]}),c.jsx("path",{d:"M253.839 40.9625V80.0017H241.007V47.6275L253.839 40.9625Z",fill:i[1]}),c.jsx("path",{d:"M241.007 47.5944L273.538 30.9469L268.042 21.6519L241.007 34.8633V47.5944Z",fill:i[0]}),c.jsx("path",{d:"M241.007 30.9469H221.404V20.0017H267.064L273.538 30.9469H253.839H241.007Z",fill:i[2]}),c.jsx("path",{d:"M214.047 20.0017H201.311V80.0121H214.047V20.0017Z",fill:i[2]}),c.jsx("path",{d:"M149.39 37.8712V80.0017H137.153V20.0017L149.39 37.8712Z",fill:i[1]}),c.jsx("path",{d:"M151.282 20.0017L178.231 60.9939V80.0017L137.153 20.0017H151.282Z",fill:i[2]}),c.jsx("path",{d:"M178.231 57.9129V20.0017H190.467V80.0017H178.231V57.9129Z",fill:i[1]}),c.jsx("path",{d:"M82.1168 80.9834L112.102 65.3053L108.405 55.7303L88.6644 64.9362L82.1168 80.9834Z",fill:i[0]}),c.jsx("path",{d:"M100.657 35.5422L82.1167 80.9834L72.5807 72.7745L94.6719 20.0017L100.657 35.5422Z",fill:i[1]}),c.jsx("path",{d:"M94.672 20.0017H107.312L130.69 80.0017H117.752L94.672 20.0017Z",fill:i[2]}),c.jsx("path",{d:"M25.1347 26.926C25.1347 35.2811 30.3864 40.2524 40.9004 42.8738L52.0417 45.4117C61.9923 47.6571 68.0519 53.2341 68.0519 62.3203C68.1293 66.2787 66.8194 70.1429 64.3417 73.2654C64.3417 64.2002 59.5684 59.302 48.0551 56.3568L37.1158 53.913C28.3559 51.9495 21.5946 47.3647 21.5946 37.4952C21.5485 33.6839 22.7939 29.9658 25.1347 26.926",fill:i[2]}),c.jsx("path",{d:"M57.4954 60.0957C62.2475 63.0827 64.3311 67.2602 64.3311 73.255C60.3977 78.2054 53.4875 80.9834 45.3655 80.9834C31.6941 80.9834 22.1262 74.3725 20 62.8842H33.1292C34.8196 68.1584 39.2952 70.6022 45.2698 70.6022C52.5626 70.6022 57.4104 66.7798 57.506 60.0748",fill:i[1]}),c.jsx("path",{d:"M31.9598 39.3124C29.7898 38.0455 28.0095 36.225 26.8079 34.0442C25.6062 31.8634 25.028 29.4036 25.1347 26.926C28.93 22.0174 35.5318 19.02 43.5794 19.02C57.506 19.02 65.5643 26.2472 67.5523 36.4195H54.9227C53.53 32.409 50.0431 29.2863 43.6858 29.2863C36.8926 29.2863 32.2575 33.1715 31.9917 39.3124",fill:i[1]})]})}),Gzt={bg1:fe.red[500].hex,bg2:fe.red[200].hex,fg:Ca.hex},Kzt=h.forwardRef(function(t,n){const{color:r=Gzt,...o}=t;return c.jsxs("svg",{"data-sanity-icon":"sanity-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,ref:n,children:[c.jsx("rect",{width:"128",height:"128",rx:"8",fill:r.bg1}),c.jsx("path",{d:"M39.423 33.163C39.423 44.1615 46.3363 50.7056 60.1768 54.1564L74.843 57.4972C87.9418 60.453 95.9186 67.7945 95.9186 79.7554C96.0205 84.9662 94.2961 90.0531 91.0345 94.1635C91.0345 82.2301 84.751 75.7822 69.595 71.9052L55.1948 68.6882C43.6633 66.1035 34.7629 60.0681 34.7629 47.0761C34.7022 42.0589 36.3416 37.1644 39.423 33.163",fill:r.fg}),c.jsx("path",{d:"M82.0221 76.827C88.2776 80.759 91.0206 86.2582 91.0206 94.1497C85.8426 100.666 76.7462 104.323 66.0545 104.323C48.0576 104.323 35.4626 95.6207 32.6637 80.4977H49.9468C52.172 87.4406 58.0636 90.6576 65.9285 90.6576C75.5287 90.6576 81.9102 85.6258 82.0361 76.7995",fill:r.bg2}),c.jsx("path",{d:"M48.4075 49.4682C45.551 47.8004 43.2074 45.404 41.6256 42.5332C40.0437 39.6624 39.2826 36.4244 39.4231 33.1629C44.4191 26.7013 53.1096 22.7556 63.7034 22.7556C82.0362 22.7556 92.6439 32.2693 95.2609 45.66H78.6355C76.8022 40.3807 72.2121 36.27 63.8434 36.27C54.9009 36.27 48.7993 41.3843 48.4495 49.4682",fill:r.bg2})]})});var Q0={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dje=h;function xt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ds=Object.prototype.hasOwnProperty,Zzt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pJ={},mJ={};function Ije(e){return ds.call(mJ,e)?!0:ds.call(pJ,e)?!1:Zzt.test(e)?mJ[e]=!0:(pJ[e]=!0,!1)}function rs(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Jo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Jo[e]=new rs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Jo[t]=new rs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Jo[e]=new rs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Jo[e]=new rs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Jo[e]=new rs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Jo[e]=new rs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Jo[e]=new rs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Jo[e]=new rs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Jo[e]=new rs(e,5,!1,e.toLowerCase(),null,!1,!1)});var M7=/[\-:]([a-z])/g;function F7(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(M7,F7);Jo[t]=new rs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(M7,F7);Jo[t]=new rs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(M7,F7);Jo[t]=new rs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Jo[e]=new rs(e,1,!1,e.toLowerCase(),null,!1,!1)});Jo.xlinkHref=new rs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Jo[e]=new rs(e,1,!1,e.toLowerCase(),null,!0,!0)});var CS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xzt=["Webkit","ms","Moz","O"];Object.keys(CS).forEach(function(e){Xzt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),CS[t]=CS[e]})});var Qzt=/["'&<>]/;function Hi(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=Qzt.exec(e);if(t){var n="",r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var Jzt=/([A-Z])/g,eVt=/^ms-/,qM=Array.isArray;function Qc(e,t){return{insertionMode:e,selectedValue:t}}function tVt(e,t,n){switch(t){case"select":return Qc(1,n.value!=null?n.value:n.defaultValue);case"svg":return Qc(2,null);case"math":return Qc(3,null);case"foreignObject":return Qc(1,null);case"table":return Qc(4,null);case"thead":case"tbody":case"tfoot":return Qc(5,null);case"colgroup":return Qc(7,null);case"tr":return Qc(6,null)}return 4<=e.insertionMode||e.insertionMode===0?Qc(1,null):e}var gJ=new Map;function Pje(e,t,n){if(typeof n!="object")throw Error(xt(62));t=!0;for(var r in n)if(ds.call(n,r)){var o=n[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var i=Hi(r);o=Hi((""+o).trim())}else{i=r;var s=gJ.get(i);s!==void 0||(s=Hi(i.replace(Jzt,"-$1").toLowerCase().replace(eVt,"-ms-")),gJ.set(i,s)),i=s,o=typeof o=="number"?o===0||ds.call(CS,r)?""+o:o+"px":Hi((""+o).trim())}t?(t=!1,e.push(' style="',i,":",o)):e.push(";",i,":",o)}}t||e.push('"')}function Fs(e,t,n,r){switch(n){case"style":Pje(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=Jo.hasOwnProperty(n)?Jo[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:r===!0?e.push(" ",n,'=""'):r!==!1&&e.push(" ",n,'="',Hi(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',Hi(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',Hi(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',Hi(r),'"')}}else if(Ije(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(" ",n,'="',Hi(r),'"')}}}function _S(e,t,n){if(t!=null){if(n!=null)throw Error(xt(60));if(typeof t!="object"||!("__html"in t))throw Error(xt(61));t=t.__html,t!=null&&e.push(""+t)}}function nVt(e){var t="";return Dje.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function hO(e,t,n,r){e.push(Xl(n));var o=n=null,i;for(i in t)if(ds.call(t,i)){var s=t[i];if(s!=null)switch(i){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:Fs(e,r,i,s)}}return e.push(">"),_S(e,o,n),typeof n=="string"?(e.push(Hi(n)),null):n}var rVt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,vJ=new Map;function Xl(e){var t=vJ.get(e);if(t===void 0){if(!rVt.test(e))throw Error(xt(65,e));t="<"+e,vJ.set(e,t)}return t}function oVt(e,t,n,r,o){switch(t){case"select":e.push(Xl("select"));var i=null,s=null;for(d in n)if(ds.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:Fs(e,r,d,a)}}return e.push(">"),_S(e,s,i),i;case"option":s=o.selectedValue,e.push(Xl("option"));var l=a=null,u=null,d=null;for(i in n)if(ds.call(n,i)){var f=n[i];if(f!=null)switch(i){case"children":a=f;break;case"selected":u=f;break;case"dangerouslySetInnerHTML":d=f;break;case"value":l=f;default:Fs(e,r,i,f)}}if(s!=null)if(n=l!==null?""+l:nVt(a),qM(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(' selected=""');break}}else""+s===n&&e.push(' selected=""');else u&&e.push(' selected=""');return e.push(">"),_S(e,d,a),a;case"textarea":e.push(Xl("textarea")),d=s=i=null;for(a in n)if(ds.call(n,a)&&(l=n[a],l!=null))switch(a){case"children":d=l;break;case"value":i=l;break;case"defaultValue":s=l;break;case"dangerouslySetInnerHTML":throw Error(xt(91));default:Fs(e,r,a,l)}if(i===null&&s!==null&&(i=s),e.push(">"),d!=null){if(i!=null)throw Error(xt(92));if(qM(d)&&1<d.length)throw Error(xt(93));i=""+d}return typeof i=="string"&&i[0]===`
`&&e.push(`
`),i!==null&&e.push(Hi(""+i)),null;case"input":e.push(Xl("input")),l=d=a=i=null;for(s in n)if(ds.call(n,s)&&(u=n[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(xt(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":a=u;break;case"checked":d=u;break;case"value":i=u;break;default:Fs(e,r,s,u)}return d!==null?Fs(e,r,"checked",d):l!==null&&Fs(e,r,"checked",l),i!==null?Fs(e,r,"value",i):a!==null&&Fs(e,r,"value",a),e.push("/>"),null;case"menuitem":e.push(Xl("menuitem"));for(var p in n)if(ds.call(n,p)&&(i=n[p],i!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(xt(400));default:Fs(e,r,p,i)}return e.push(">"),null;case"title":e.push(Xl("title")),i=null;for(f in n)if(ds.call(n,f)&&(s=n[f],s!=null))switch(f){case"children":i=s;break;case"dangerouslySetInnerHTML":throw Error(xt(434));default:Fs(e,r,f,s)}return e.push(">"),i;case"listing":case"pre":e.push(Xl(t)),s=i=null;for(l in n)if(ds.call(n,l)&&(a=n[l],a!=null))switch(l){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;default:Fs(e,r,l,a)}if(e.push(">"),s!=null){if(i!=null)throw Error(xt(60));if(typeof s!="object"||!("__html"in s))throw Error(xt(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(`
`,n):e.push(""+n))}return typeof i=="string"&&i[0]===`
`&&e.push(`
`),i;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(Xl(t));for(var m in n)if(ds.call(n,m)&&(i=n[m],i!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(xt(399,t));default:Fs(e,r,m,i)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return hO(e,n,t,r);case"html":return o.insertionMode===0&&e.push("<!DOCTYPE html>"),hO(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return hO(e,n,t,r);e.push(Xl(t)),s=i=null;for(u in n)if(ds.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":Pje(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:Ije(u)&&typeof a!="function"&&typeof a!="symbol"&&e.push(" ",u,'="',Hi(a),'"')}return e.push(">"),_S(e,s,i),i}}function yJ(e,t,n){if(e.push('<!--$?--><template id="'),n===null)throw Error(xt(395));return e.push(n),e.push('"></template>')}function iVt(e,t,n,r){switch(n.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');default:throw Error(xt(397))}}function sVt(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(xt(397))}}var aVt=/[<\u2028\u2029]/g;function pO(e){return JSON.stringify(e).replace(aVt,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function lVt(e,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function bJ(e,t,n,r){return n.generateStaticMarkup?(e.push(Hi(t)),!1):(t===""?e=r:(r&&e.push("<!-- -->"),e.push(Hi(t)),e=!0),e)}var Sb=Object.assign,cVt=Symbol.for("react.element"),Oje=Symbol.for("react.portal"),$je=Symbol.for("react.fragment"),Rje=Symbol.for("react.strict_mode"),Mje=Symbol.for("react.profiler"),Fje=Symbol.for("react.provider"),Lje=Symbol.for("react.context"),Bje=Symbol.for("react.forward_ref"),Nje=Symbol.for("react.suspense"),zje=Symbol.for("react.suspense_list"),Vje=Symbol.for("react.memo"),L7=Symbol.for("react.lazy"),uVt=Symbol.for("react.scope"),dVt=Symbol.for("react.debug_trace_mode"),fVt=Symbol.for("react.legacy_hidden"),hVt=Symbol.for("react.default_value"),xJ=Symbol.iterator;function GM(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $je:return"Fragment";case Oje:return"Portal";case Mje:return"Profiler";case Rje:return"StrictMode";case Nje:return"Suspense";case zje:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Lje:return(e.displayName||"Context")+".Consumer";case Fje:return(e._context.displayName||"Context")+".Provider";case Bje:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vje:return t=e.displayName||null,t!==null?t:GM(e.type)||"Memo";case L7:t=e._payload,e=e._init;try{return GM(e(t))}catch{}}return null}var Hje={};function wJ(e,t){if(e=e.contextTypes,!e)return Hje;var n={},r;for(r in e)n[r]=t[r];return n}var pp=null;function iA(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(xt(401))}else{if(n===null)throw Error(xt(401));iA(e,n)}t.context._currentValue2=t.value}}function Uje(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&Uje(e)}function Wje(e){var t=e.parent;t!==null&&Wje(t),e.context._currentValue2=e.value}function Yje(e,t){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(xt(402));e.depth===t.depth?iA(e,t):Yje(e,t)}function qje(e,t){var n=t.parent;if(n===null)throw Error(xt(402));e.depth===n.depth?iA(e,n):qje(e,n),t.context._currentValue2=t.value}function ok(e){var t=pp;t!==e&&(t===null?Wje(e):e===null?Uje(t):t.depth===e.depth?iA(t,e):t.depth>e.depth?Yje(t,e):qje(t,e),pp=e)}var CJ={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function _J(e,t,n,r){var o=e.state!==void 0?e.state:null;e.updater=CJ,e.props=n,e.state=o;var i={queue:[],replace:!1};e._reactInternals=i;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue2:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,o),o=s==null?o:Sb({},o,s),e.state=o),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&CJ.enqueueReplaceState(e,e.state,null),i.queue!==null&&0<i.queue.length)if(t=i.queue,s=i.replace,i.queue=null,i.replace=!1,s&&t.length===1)e.state=t[0];else{for(i=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var a=t[s];a=typeof a=="function"?a.call(e,i,n,r):a,a!=null&&(o?(o=!1,i=Sb({},i,a)):Sb(i,a))}e.state=i}else i.queue=null}var pVt={id:1,overflow:""};function KM(e,t,n){var r=e.id;e=e.overflow;var o=32-SS(r)-1;r&=~(1<<o),n+=1;var i=32-SS(t)+o;if(30<i){var s=o-o%5;return i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-SS(t)+o|n<<o|r,overflow:i+e}}return{id:1<<i|n<<o|r,overflow:e}}var SS=Math.clz32?Math.clz32:vVt,mVt=Math.log,gVt=Math.LN2;function vVt(e){return e>>>=0,e===0?32:31-(mVt(e)/gVt|0)|0}function yVt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bVt=typeof Object.is=="function"?Object.is:yVt,Hu=null,B7=null,ES=null,Ln=null,$y=!1,ik=!1,Dx=0,Qd=null,sA=0;function Xh(){if(Hu===null)throw Error(xt(321));return Hu}function SJ(){if(0<sA)throw Error(xt(312));return{memoizedState:null,queue:null,next:null}}function N7(){return Ln===null?ES===null?($y=!1,ES=Ln=SJ()):($y=!0,Ln=ES):Ln.next===null?($y=!1,Ln=Ln.next=SJ()):($y=!0,Ln=Ln.next),Ln}function z7(){B7=Hu=null,ik=!1,ES=null,sA=0,Ln=Qd=null}function Gje(e,t){return typeof t=="function"?t(e):t}function EJ(e,t,n){if(Hu=Xh(),Ln=N7(),$y){var r=Ln.queue;if(t=r.dispatch,Qd!==null&&(n=Qd.get(r),n!==void 0)){Qd.delete(r),r=Ln.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return Ln.memoizedState=r,[r,t]}return[Ln.memoizedState,t]}return e=e===Gje?typeof t=="function"?t():t:n!==void 0?n(t):t,Ln.memoizedState=e,e=Ln.queue={last:null,dispatch:null},e=e.dispatch=xVt.bind(null,Hu,e),[Ln.memoizedState,e]}function kJ(e,t){if(Hu=Xh(),Ln=N7(),t=t===void 0?null:t,Ln!==null){var n=Ln.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!bVt(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Ln.memoizedState=[e,t],e}function xVt(e,t,n){if(25<=sA)throw Error(xt(301));if(e===Hu)if(ik=!0,e={action:n,next:null},Qd===null&&(Qd=new Map),n=Qd.get(t),n===void 0)Qd.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function wVt(){throw Error(xt(394))}function K_(){}var jJ={readContext:function(e){return e._currentValue2},useContext:function(e){return Xh(),e._currentValue2},useMemo:kJ,useReducer:EJ,useRef:function(e){Hu=Xh(),Ln=N7();var t=Ln.memoizedState;return t===null?(e={current:e},Ln.memoizedState=e):t},useState:function(e){return EJ(Gje,e)},useInsertionEffect:K_,useLayoutEffect:function(){},useCallback:function(e,t){return kJ(function(){return e},t)},useImperativeHandle:K_,useEffect:K_,useDebugValue:K_,useDeferredValue:function(e){return Xh(),e},useTransition:function(){return Xh(),[!1,wVt]},useId:function(){var e=B7.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-SS(e)-1)).toString(32)+t;var n=kS;if(n===null)throw Error(xt(404));return t=Dx++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Xh(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(xt(407));return n()}},kS=null,mO=Dje.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function CVt(e){return console.error(e),null}function Ry(){}function _Vt(e,t,n,r,o,i,s,a,l){var u=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?CVt:o,onAllReady:i===void 0?Ry:i,onShellReady:s===void 0?Ry:s,onShellError:a===void 0?Ry:a,onFatalError:l===void 0?Ry:l},n=sk(t,0,null,n,!1,!1),n.parentFlushed=!0,e=V7(t,e,null,n,d,Hje,null,pVt),u.push(e),t}function V7(e,t,n,r,o,i,s,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var u=e.pingedTasks;u.push(l),u.length===1&&Xje(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:i,context:s,treeContext:a};return o.add(l),l}function sk(e,t,n,r,o,i){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:i}}function Ix(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function ak(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function TJ(e,t,n,r,o){for(Hu={},B7=t,Dx=0,e=n(r,o);ik;)ik=!1,Dx=0,sA+=1,Ln=null,e=n(r,o);return z7(),e}function AJ(e,t,n,r){var o=n.render(),i=r.childContextTypes;if(i!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var a in n)if(!(a in i))throw Error(xt(108,GM(r)||"Unknown",a));r=Sb({},s,n)}t.legacyContext=r,Vs(e,t,o),t.legacyContext=s}else Vs(e,t,o)}function DJ(e,t){if(e&&e.defaultProps){t=Sb({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ZM(e,t,n,r,o){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){o=wJ(n,t.legacyContext);var i=n.contextType;i=new n(r,typeof i=="object"&&i!==null?i._currentValue2:o),_J(i,n,r,o),AJ(e,t,i,n)}else{i=wJ(n,t.legacyContext),o=TJ(e,t,n,r,i);var s=Dx!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)_J(o,n,r,i),AJ(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=KM(r,1,0);try{Vs(e,t,o)}finally{t.treeContext=r}}else Vs(e,t,o)}else if(typeof n=="string"){switch(o=t.blockedSegment,i=oVt(o.chunks,n,r,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=tVt(s,n,r),XM(e,t,i),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push("</",n,">")}o.lastPushedText=!1}else{switch(n){case fVt:case dVt:case Rje:case Mje:case $je:Vs(e,t,r.children);return;case zje:Vs(e,t,r.children);return;case uVt:throw Error(xt(343));case Nje:e:{n=t.blockedBoundary,o=t.blockedSegment,i=r.fallback,r=r.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},l=sk(e,o.chunks.length,a,o.formatContext,!1,!1);o.children.push(l),o.lastPushedText=!1;var u=sk(e,0,null,o.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=u;try{if(XM(e,t,r),e.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),u.status=1,lk(a,u),a.pendingTasks===0)break e}catch(d){u.status=4,a.forceClientRender=!0,a.errorDigest=Ix(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=V7(e,i,n,l,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Bje:if(r=TJ(e,t,n.render,r,o),Dx!==0){n=t.treeContext,t.treeContext=KM(n,1,0);try{Vs(e,t,r)}finally{t.treeContext=n}}else Vs(e,t,r);return;case Vje:n=n.type,r=DJ(n,r),ZM(e,t,n,r,o);return;case Fje:if(o=r.children,n=n._context,r=r.value,i=n._currentValue2,n._currentValue2=r,s=pp,pp=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:i,value:r},t.context=r,Vs(e,t,o),e=pp,e===null)throw Error(xt(403));r=e.parentValue,e.context._currentValue2=r===hVt?e.context._defaultValue:r,e=pp=e.parent,t.context=e;return;case Lje:r=r.children,r=r(n._currentValue2),Vs(e,t,r);return;case L7:o=n._init,n=o(n._payload),r=DJ(n,r),ZM(e,t,n,r,void 0);return}throw Error(xt(130,n==null?n:typeof n,""))}}function Vs(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case cVt:ZM(e,t,n.type,n.props,n.ref);return;case Oje:throw Error(xt(257));case L7:var r=n._init;n=r(n._payload),Vs(e,t,n);return}if(qM(n)){IJ(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=xJ&&n[xJ]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var o=[];do o.push(n.value),n=r.next();while(!n.done);IJ(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(xt(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=bJ(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=bJ(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function IJ(e,t,n){for(var r=n.length,o=0;o<r;o++){var i=t.treeContext;t.treeContext=KM(i,r,o);try{XM(e,t,n[o])}finally{t.treeContext=i}}}function XM(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,i=t.context;try{return Vs(e,t,n)}catch(l){if(z7(),typeof l=="object"&&l!==null&&typeof l.then=="function"){n=l;var s=t.blockedSegment,a=sk(e,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,e=V7(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,ok(i)}else throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,ok(i),l}}function SVt(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,Zje(this,t,e)}function Kje(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(xt(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(o){return Kje(o,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function lk(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&lk(e,n)}else e.completedSegments.push(t)}function Zje(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(xt(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=Ry,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&lk(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(SVt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(lk(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function Xje(e){if(e.status!==2){var t=pp,n=mO.current;mO.current=jJ;var r=kS;kS=e.responseState;try{var o=e.pingedTasks,i;for(i=0;i<o.length;i++){var s=o[i],a=e,l=s.blockedSegment;if(l.status===0){ok(s.context);try{Vs(a,s,s.node),a.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("<!-- -->"),s.abortSet.delete(s),l.status=1,Zje(a,s.blockedBoundary,l)}catch(v){if(z7(),typeof v=="object"&&v!==null&&typeof v.then=="function"){var u=s.ping;v.then(u,u)}else{s.abortSet.delete(s),l.status=4;var d=s.blockedBoundary,f=v,p=Ix(a,f);if(d===null?ak(a,f):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=p,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var m=a.onAllReady;m()}}}finally{}}}o.splice(0,i),e.destination!==null&&H7(e,e.destination)}catch(v){Ix(e,v),ak(e,v)}finally{kS=r,mO.current=n,n===jJ&&ok(t)}}}function Z_(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=r.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var o=!0;r=n.chunks;var i=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];i<o.index;i++)t.push(r[i]);o=aA(e,t,o)}for(;i<r.length-1;i++)t.push(r[i]);return i<r.length&&(o=t.push(r[i])),o;default:throw Error(xt(390))}}function aA(e,t,n){var r=n.boundary;if(r===null)return Z_(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)return e.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("<!--$!-->"),t.push("<template"),r&&(t.push(' data-dgst="'),r=Hi(r),t.push(r),t.push('"')),t.push("></template>")),Z_(e,t,n),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e;if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,i=o.nextSuspenseID++;return o=o.boundaryPrefix+i.toString(16),r=r.id=o,yJ(t,e.responseState,r),Z_(e,t,n),t.push("<!--/$-->")}if(r.byteSize>e.progressiveChunkSize)return r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),yJ(t,e.responseState,r.id),Z_(e,t,n),t.push("<!--/$-->");if(e.responseState.generateStaticMarkup||t.push("<!--$-->"),n=r.completedSegments,n.length!==1)throw Error(xt(391));return aA(e,t,n[0]),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e}function PJ(e,t,n){return iVt(t,e.responseState,n.formatContext,n.id),aA(e,t,n),sVt(t,n.formatContext)}function OJ(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)Qje(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(xt(395));return n=n.toString(16),t.push(r),t.push('","'),t.push(e.segmentPrefix),t.push(n),t.push('")<\/script>')}function Qje(e,t,n,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=n.rootSegmentID)===-1)throw Error(xt(392));return PJ(e,t,r)}return PJ(e,t,r),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),o=o.toString(16),t.push(o),t.push('","'),t.push(e.placeholderPrefix),t.push(o),t.push('")<\/script>')}function H7(e,t){try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){aA(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)t.push(r[n]);n<r.length&&t.push(r[n])}var o=e.clientRenderedBoundaries,i;for(i=0;i<o.length;i++){var s=o[i];r=t;var a=e.responseState,l=s.id,u=s.errorDigest,d=s.errorMessage,f=s.errorComponentStack;if(r.push(a.startInlineScript),a.sentClientRenderFunction?r.push('$RX("'):(a.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),l===null)throw Error(xt(395));if(r.push(l),r.push('"'),u||d||f){r.push(",");var p=pO(u||"");r.push(p)}if(d||f){r.push(",");var m=pO(d||"");r.push(m)}if(f){r.push(",");var v=pO(f);r.push(v)}if(!r.push(")<\/script>")){e.destination=null,i++,o.splice(0,i);return}}o.splice(0,i);var g=e.completedBoundaries;for(i=0;i<g.length;i++)if(!OJ(e,t,g[i])){e.destination=null,i++,g.splice(0,i);return}g.splice(0,i);var b=e.partialBoundaries;for(i=0;i<b.length;i++){var x=b[i];e:{o=e,s=t;var y=x.completedSegments;for(a=0;a<y.length;a++)if(!Qje(o,s,x,y[a])){a++,y.splice(0,a);var w=!1;break e}y.splice(0,a),w=!0}if(!w){e.destination=null,i++,b.splice(0,i);return}}b.splice(0,i);var C=e.completedBoundaries;for(i=0;i<C.length;i++)if(!OJ(e,t,C[i])){e.destination=null,i++,C.splice(0,i);return}C.splice(0,i)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.push(null)}}function EVt(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return Kje(r,e,t)}),n.clear(),e.destination!==null&&H7(e,e.destination)}catch(r){Ix(e,r),ak(e,r)}}function kVt(){}function Jje(e,t,n,r){var o=!1,i=null,s="",a={push:function(u){return u!==null&&(s+=u),!0},destroy:function(u){o=!0,i=u}},l=!1;if(e=_Vt(e,lVt(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,kVt,void 0,function(){l=!0},void 0,void 0),Xje(e),EVt(e,r),e.status===1)e.status=2,a.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=a;try{H7(e,a)}catch(u){Ix(e,u),ak(e,u)}}if(o)throw i;if(!l)throw Error(xt(426));return s}Q0.renderToNodeStream=function(){throw Error(xt(207))};Q0.renderToStaticMarkup=function(e,t){return Jje(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};Q0.renderToStaticNodeStream=function(){throw Error(xt(208))};Q0.renderToString=function(e,t){return Jje(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};Q0.version="18.2.0";var U7={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eTe=h;function Pt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hs=null,Us=0;function Ge(e,t){if(t.length!==0)if(512<t.length)0<Us&&(e.enqueue(new Uint8Array(Hs.buffer,0,Us)),Hs=new Uint8Array(512),Us=0),e.enqueue(t);else{var n=Hs.length-Us;n<t.length&&(n===0?e.enqueue(Hs):(Hs.set(t.subarray(0,n),Us),e.enqueue(Hs),t=t.subarray(n)),Hs=new Uint8Array(512),Us=0),Hs.set(t,Us),Us+=t.length}}function or(e,t){return Ge(e,t),!0}function $J(e){Hs&&0<Us&&(e.enqueue(new Uint8Array(Hs.buffer,0,Us)),Hs=null,Us=0)}var tTe=new TextEncoder;function Rt(e){return tTe.encode(e)}function Oe(e){return tTe.encode(e)}function nTe(e,t){typeof e.error=="function"?e.error(t):e.close()}var fs=Object.prototype.hasOwnProperty,jVt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,RJ={},MJ={};function rTe(e){return fs.call(MJ,e)?!0:fs.call(RJ,e)?!1:jVt.test(e)?MJ[e]=!0:(RJ[e]=!0,!1)}function os(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var ei={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ei[e]=new os(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ei[t]=new os(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ei[e]=new os(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ei[e]=new os(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ei[e]=new os(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ei[e]=new os(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ei[e]=new os(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ei[e]=new os(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ei[e]=new os(e,5,!1,e.toLowerCase(),null,!1,!1)});var W7=/[\-:]([a-z])/g;function Y7(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(W7,Y7);ei[t]=new os(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(W7,Y7);ei[t]=new os(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(W7,Y7);ei[t]=new os(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ei[e]=new os(e,1,!1,e.toLowerCase(),null,!1,!1)});ei.xlinkHref=new os("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ei[e]=new os(e,1,!1,e.toLowerCase(),null,!0,!0)});var jS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TVt=["Webkit","ms","Moz","O"];Object.keys(jS).forEach(function(e){TVt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jS[t]=jS[e]})});var AVt=/["'&<>]/;function Ko(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=AVt.exec(e);if(t){var n="",r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var DVt=/([A-Z])/g,IVt=/^ms-/,QM=Array.isArray,PVt=Oe("<script>"),OVt=Oe("<\/script>"),$Vt=Oe('<script src="'),RVt=Oe('<script type="module" src="'),FJ=Oe('" async=""><\/script>'),MVt=/(<\/|<)(s)(cript)/gi;function FVt(e,t,n,r){return""+t+(n==="s"?"\\u0073":"\\u0053")+r}function LVt(e,t,n,r,o){e=e===void 0?"":e,t=t===void 0?PVt:Oe('<script nonce="'+Ko(t)+'">');var i=[];if(n!==void 0&&i.push(t,Rt((""+n).replace(MVt,FVt)),OVt),r!==void 0)for(n=0;n<r.length;n++)i.push($Vt,Rt(Ko(r[n])),FJ);if(o!==void 0)for(r=0;r<o.length;r++)i.push(RVt,Rt(Ko(o[r])),FJ);return{bootstrapChunks:i,startInlineScript:t,placeholderPrefix:Oe(e+"P:"),segmentPrefix:Oe(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function Ql(e,t){return{insertionMode:e,selectedValue:t}}function BVt(e){return Ql(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function NVt(e,t,n){switch(t){case"select":return Ql(1,n.value!=null?n.value:n.defaultValue);case"svg":return Ql(2,null);case"math":return Ql(3,null);case"foreignObject":return Ql(1,null);case"table":return Ql(4,null);case"thead":case"tbody":case"tfoot":return Ql(5,null);case"colgroup":return Ql(7,null);case"tr":return Ql(6,null)}return 4<=e.insertionMode||e.insertionMode===0?Ql(1,null):e}var q7=Oe("<!-- -->");function LJ(e,t,n,r){return t===""?r:(r&&e.push(q7),e.push(Rt(Ko(t))),!0)}var BJ=new Map,zVt=Oe(' style="'),NJ=Oe(":"),VVt=Oe(";");function oTe(e,t,n){if(typeof n!="object")throw Error(Pt(62));t=!0;for(var r in n)if(fs.call(n,r)){var o=n[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var i=Rt(Ko(r));o=Rt(Ko((""+o).trim()))}else{i=r;var s=BJ.get(i);s!==void 0||(s=Oe(Ko(i.replace(DVt,"-$1").toLowerCase().replace(IVt,"-ms-"))),BJ.set(i,s)),i=s,o=typeof o=="number"?o===0||fs.call(jS,r)?Rt(""+o):Rt(o+"px"):Rt(Ko((""+o).trim()))}t?(t=!1,e.push(zVt,i,NJ,o)):e.push(VVt,i,NJ,o)}}t||e.push(Qh)}var Ed=Oe(" "),xg=Oe('="'),Qh=Oe('"'),zJ=Oe('=""');function Ls(e,t,n,r){switch(n){case"style":oTe(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=ei.hasOwnProperty(n)?ei[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=Rt(t.attributeName),t.type){case 3:r&&e.push(Ed,n,zJ);break;case 4:r===!0?e.push(Ed,n,zJ):r!==!1&&e.push(Ed,n,xg,Rt(Ko(r)),Qh);break;case 5:isNaN(r)||e.push(Ed,n,xg,Rt(Ko(r)),Qh);break;case 6:!isNaN(r)&&1<=r&&e.push(Ed,n,xg,Rt(Ko(r)),Qh);break;default:t.sanitizeURL&&(r=""+r),e.push(Ed,n,xg,Rt(Ko(r)),Qh)}}else if(rTe(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(Ed,Rt(n),xg,Rt(Ko(r)),Qh)}}}var kd=Oe(">"),VJ=Oe("/>");function TS(e,t,n){if(t!=null){if(n!=null)throw Error(Pt(60));if(typeof t!="object"||!("__html"in t))throw Error(Pt(61));t=t.__html,t!=null&&e.push(Rt(""+t))}}function HVt(e){var t="";return eTe.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}var gO=Oe(' selected=""');function vO(e,t,n,r){e.push(Jl(n));var o=n=null,i;for(i in t)if(fs.call(t,i)){var s=t[i];if(s!=null)switch(i){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:Ls(e,r,i,s)}}return e.push(kd),TS(e,o,n),typeof n=="string"?(e.push(Rt(Ko(n))),null):n}var yO=Oe(`
`),UVt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,HJ=new Map;function Jl(e){var t=HJ.get(e);if(t===void 0){if(!UVt.test(e))throw Error(Pt(65,e));t=Oe("<"+e),HJ.set(e,t)}return t}var WVt=Oe("<!DOCTYPE html>");function YVt(e,t,n,r,o){switch(t){case"select":e.push(Jl("select"));var i=null,s=null;for(d in n)if(fs.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:Ls(e,r,d,a)}}return e.push(kd),TS(e,s,i),i;case"option":s=o.selectedValue,e.push(Jl("option"));var l=a=null,u=null,d=null;for(i in n)if(fs.call(n,i)){var f=n[i];if(f!=null)switch(i){case"children":a=f;break;case"selected":u=f;break;case"dangerouslySetInnerHTML":d=f;break;case"value":l=f;default:Ls(e,r,i,f)}}if(s!=null)if(n=l!==null?""+l:HVt(a),QM(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(gO);break}}else""+s===n&&e.push(gO);else u&&e.push(gO);return e.push(kd),TS(e,d,a),a;case"textarea":e.push(Jl("textarea")),d=s=i=null;for(a in n)if(fs.call(n,a)&&(l=n[a],l!=null))switch(a){case"children":d=l;break;case"value":i=l;break;case"defaultValue":s=l;break;case"dangerouslySetInnerHTML":throw Error(Pt(91));default:Ls(e,r,a,l)}if(i===null&&s!==null&&(i=s),e.push(kd),d!=null){if(i!=null)throw Error(Pt(92));if(QM(d)&&1<d.length)throw Error(Pt(93));i=""+d}return typeof i=="string"&&i[0]===`
`&&e.push(yO),i!==null&&e.push(Rt(Ko(""+i))),null;case"input":e.push(Jl("input")),l=d=a=i=null;for(s in n)if(fs.call(n,s)&&(u=n[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(Pt(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":a=u;break;case"checked":d=u;break;case"value":i=u;break;default:Ls(e,r,s,u)}return d!==null?Ls(e,r,"checked",d):l!==null&&Ls(e,r,"checked",l),i!==null?Ls(e,r,"value",i):a!==null&&Ls(e,r,"value",a),e.push(VJ),null;case"menuitem":e.push(Jl("menuitem"));for(var p in n)if(fs.call(n,p)&&(i=n[p],i!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Pt(400));default:Ls(e,r,p,i)}return e.push(kd),null;case"title":e.push(Jl("title")),i=null;for(f in n)if(fs.call(n,f)&&(s=n[f],s!=null))switch(f){case"children":i=s;break;case"dangerouslySetInnerHTML":throw Error(Pt(434));default:Ls(e,r,f,s)}return e.push(kd),i;case"listing":case"pre":e.push(Jl(t)),s=i=null;for(l in n)if(fs.call(n,l)&&(a=n[l],a!=null))switch(l){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;default:Ls(e,r,l,a)}if(e.push(kd),s!=null){if(i!=null)throw Error(Pt(60));if(typeof s!="object"||!("__html"in s))throw Error(Pt(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(yO,Rt(n)):e.push(Rt(""+n)))}return typeof i=="string"&&i[0]===`
`&&e.push(yO),i;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(Jl(t));for(var m in n)if(fs.call(n,m)&&(i=n[m],i!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(Pt(399,t));default:Ls(e,r,m,i)}return e.push(VJ),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return vO(e,n,t,r);case"html":return o.insertionMode===0&&e.push(WVt),vO(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return vO(e,n,t,r);e.push(Jl(t)),s=i=null;for(u in n)if(fs.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":oTe(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:rTe(u)&&typeof a!="function"&&typeof a!="symbol"&&e.push(Ed,Rt(u),xg,Rt(Ko(a)),Qh)}return e.push(kd),TS(e,s,i),i}}var qVt=Oe("</"),GVt=Oe(">"),KVt=Oe('<template id="'),ZVt=Oe('"></template>'),XVt=Oe("<!--$-->"),QVt=Oe('<!--$?--><template id="'),JVt=Oe('"></template>'),eHt=Oe("<!--$!-->"),tHt=Oe("<!--/$-->"),nHt=Oe("<template"),rHt=Oe('"'),oHt=Oe(' data-dgst="');Oe(' data-msg="');Oe(' data-stck="');var iHt=Oe("></template>");function UJ(e,t,n){if(Ge(e,QVt),n===null)throw Error(Pt(395));return Ge(e,n),or(e,JVt)}var sHt=Oe('<div hidden id="'),aHt=Oe('">'),lHt=Oe("</div>"),cHt=Oe('<svg aria-hidden="true" style="display:none" id="'),uHt=Oe('">'),dHt=Oe("</svg>"),fHt=Oe('<math aria-hidden="true" style="display:none" id="'),hHt=Oe('">'),pHt=Oe("</math>"),mHt=Oe('<table hidden id="'),gHt=Oe('">'),vHt=Oe("</table>"),yHt=Oe('<table hidden><tbody id="'),bHt=Oe('">'),xHt=Oe("</tbody></table>"),wHt=Oe('<table hidden><tr id="'),CHt=Oe('">'),_Ht=Oe("</tr></table>"),SHt=Oe('<table hidden><colgroup id="'),EHt=Oe('">'),kHt=Oe("</colgroup></table>");function jHt(e,t,n,r){switch(n.insertionMode){case 0:case 1:return Ge(e,sHt),Ge(e,t.segmentPrefix),Ge(e,Rt(r.toString(16))),or(e,aHt);case 2:return Ge(e,cHt),Ge(e,t.segmentPrefix),Ge(e,Rt(r.toString(16))),or(e,uHt);case 3:return Ge(e,fHt),Ge(e,t.segmentPrefix),Ge(e,Rt(r.toString(16))),or(e,hHt);case 4:return Ge(e,mHt),Ge(e,t.segmentPrefix),Ge(e,Rt(r.toString(16))),or(e,gHt);case 5:return Ge(e,yHt),Ge(e,t.segmentPrefix),Ge(e,Rt(r.toString(16))),or(e,bHt);case 6:return Ge(e,wHt),Ge(e,t.segmentPrefix),Ge(e,Rt(r.toString(16))),or(e,CHt);case 7:return Ge(e,SHt),Ge(e,t.segmentPrefix),Ge(e,Rt(r.toString(16))),or(e,EHt);default:throw Error(Pt(397))}}function THt(e,t){switch(t.insertionMode){case 0:case 1:return or(e,lHt);case 2:return or(e,dHt);case 3:return or(e,pHt);case 4:return or(e,vHt);case 5:return or(e,xHt);case 6:return or(e,_Ht);case 7:return or(e,kHt);default:throw Error(Pt(397))}}var AHt=Oe('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),DHt=Oe('$RS("'),IHt=Oe('","'),PHt=Oe('")<\/script>'),OHt=Oe('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),$Ht=Oe('$RC("'),RHt=Oe('","'),MHt=Oe('")<\/script>'),FHt=Oe('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),LHt=Oe('$RX("'),BHt=Oe('"'),NHt=Oe(")<\/script>"),bO=Oe(","),zHt=/[<\u2028\u2029]/g;function xO(e){return JSON.stringify(e).replace(zHt,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Eb=Object.assign,VHt=Symbol.for("react.element"),iTe=Symbol.for("react.portal"),sTe=Symbol.for("react.fragment"),aTe=Symbol.for("react.strict_mode"),lTe=Symbol.for("react.profiler"),cTe=Symbol.for("react.provider"),uTe=Symbol.for("react.context"),dTe=Symbol.for("react.forward_ref"),fTe=Symbol.for("react.suspense"),hTe=Symbol.for("react.suspense_list"),pTe=Symbol.for("react.memo"),G7=Symbol.for("react.lazy"),HHt=Symbol.for("react.scope"),UHt=Symbol.for("react.debug_trace_mode"),WHt=Symbol.for("react.legacy_hidden"),YHt=Symbol.for("react.default_value"),WJ=Symbol.iterator;function JM(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case sTe:return"Fragment";case iTe:return"Portal";case lTe:return"Profiler";case aTe:return"StrictMode";case fTe:return"Suspense";case hTe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case uTe:return(e.displayName||"Context")+".Consumer";case cTe:return(e._context.displayName||"Context")+".Provider";case dTe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pTe:return t=e.displayName||null,t!==null?t:JM(e.type)||"Memo";case G7:t=e._payload,e=e._init;try{return JM(e(t))}catch{}}return null}var mTe={};function YJ(e,t){if(e=e.contextTypes,!e)return mTe;var n={},r;for(r in e)n[r]=t[r];return n}var mp=null;function lA(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(Pt(401))}else{if(n===null)throw Error(Pt(401));lA(e,n)}t.context._currentValue=t.value}}function gTe(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&gTe(e)}function vTe(e){var t=e.parent;t!==null&&vTe(t),e.context._currentValue=e.value}function yTe(e,t){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(Pt(402));e.depth===t.depth?lA(e,t):yTe(e,t)}function bTe(e,t){var n=t.parent;if(n===null)throw Error(Pt(402));e.depth===n.depth?lA(e,n):bTe(e,n),t.context._currentValue=t.value}function ck(e){var t=mp;t!==e&&(t===null?vTe(e):e===null?gTe(t):t.depth===e.depth?lA(t,e):t.depth>e.depth?yTe(t,e):bTe(t,e),mp=e)}var qJ={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function GJ(e,t,n,r){var o=e.state!==void 0?e.state:null;e.updater=qJ,e.props=n,e.state=o;var i={queue:[],replace:!1};e._reactInternals=i;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,o),o=s==null?o:Eb({},o,s),e.state=o),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&qJ.enqueueReplaceState(e,e.state,null),i.queue!==null&&0<i.queue.length)if(t=i.queue,s=i.replace,i.queue=null,i.replace=!1,s&&t.length===1)e.state=t[0];else{for(i=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var a=t[s];a=typeof a=="function"?a.call(e,i,n,r):a,a!=null&&(o?(o=!1,i=Eb({},i,a)):Eb(i,a))}e.state=i}else i.queue=null}var qHt={id:1,overflow:""};function e4(e,t,n){var r=e.id;e=e.overflow;var o=32-AS(r)-1;r&=~(1<<o),n+=1;var i=32-AS(t)+o;if(30<i){var s=o-o%5;return i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-AS(t)+o|n<<o|r,overflow:i+e}}return{id:1<<i|n<<o|r,overflow:e}}var AS=Math.clz32?Math.clz32:ZHt,GHt=Math.log,KHt=Math.LN2;function ZHt(e){return e>>>=0,e===0?32:31-(GHt(e)/KHt|0)|0}function XHt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var QHt=typeof Object.is=="function"?Object.is:XHt,Uu=null,K7=null,DS=null,Bn=null,My=!1,uk=!1,Px=0,Jd=null,cA=0;function Jh(){if(Uu===null)throw Error(Pt(321));return Uu}function KJ(){if(0<cA)throw Error(Pt(312));return{memoizedState:null,queue:null,next:null}}function Z7(){return Bn===null?DS===null?(My=!1,DS=Bn=KJ()):(My=!0,Bn=DS):Bn.next===null?(My=!1,Bn=Bn.next=KJ()):(My=!0,Bn=Bn.next),Bn}function X7(){K7=Uu=null,uk=!1,DS=null,cA=0,Bn=Jd=null}function xTe(e,t){return typeof t=="function"?t(e):t}function ZJ(e,t,n){if(Uu=Jh(),Bn=Z7(),My){var r=Bn.queue;if(t=r.dispatch,Jd!==null&&(n=Jd.get(r),n!==void 0)){Jd.delete(r),r=Bn.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return Bn.memoizedState=r,[r,t]}return[Bn.memoizedState,t]}return e=e===xTe?typeof t=="function"?t():t:n!==void 0?n(t):t,Bn.memoizedState=e,e=Bn.queue={last:null,dispatch:null},e=e.dispatch=JHt.bind(null,Uu,e),[Bn.memoizedState,e]}function XJ(e,t){if(Uu=Jh(),Bn=Z7(),t=t===void 0?null:t,Bn!==null){var n=Bn.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!QHt(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Bn.memoizedState=[e,t],e}function JHt(e,t,n){if(25<=cA)throw Error(Pt(301));if(e===Uu)if(uk=!0,e={action:n,next:null},Jd===null&&(Jd=new Map),n=Jd.get(t),n===void 0)Jd.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function eUt(){throw Error(Pt(394))}function X_(){}var QJ={readContext:function(e){return e._currentValue},useContext:function(e){return Jh(),e._currentValue},useMemo:XJ,useReducer:ZJ,useRef:function(e){Uu=Jh(),Bn=Z7();var t=Bn.memoizedState;return t===null?(e={current:e},Bn.memoizedState=e):t},useState:function(e){return ZJ(xTe,e)},useInsertionEffect:X_,useLayoutEffect:function(){},useCallback:function(e,t){return XJ(function(){return e},t)},useImperativeHandle:X_,useEffect:X_,useDebugValue:X_,useDeferredValue:function(e){return Jh(),e},useTransition:function(){return Jh(),[!1,eUt]},useId:function(){var e=K7.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-AS(e)-1)).toString(32)+t;var n=IS;if(n===null)throw Error(Pt(404));return t=Px++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Jh(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(Pt(407));return n()}},IS=null,wO=eTe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function tUt(e){return console.error(e),null}function Fy(){}function nUt(e,t,n,r,o,i,s,a,l){var u=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?tUt:o,onAllReady:i===void 0?Fy:i,onShellReady:s===void 0?Fy:s,onShellError:a===void 0?Fy:a,onFatalError:l===void 0?Fy:l},n=dk(t,0,null,n,!1,!1),n.parentFlushed=!0,e=Q7(t,e,null,n,d,mTe,null,qHt),u.push(e),t}function Q7(e,t,n,r,o,i,s,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var u=e.pingedTasks;u.push(l),u.length===1&&_Te(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:i,context:s,treeContext:a};return o.add(l),l}function dk(e,t,n,r,o,i){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:i}}function Ox(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function fk(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,nTe(e.destination,t)):(e.status=1,e.fatalError=t)}function JJ(e,t,n,r,o){for(Uu={},K7=t,Px=0,e=n(r,o);uk;)uk=!1,Px=0,cA+=1,Bn=null,e=n(r,o);return X7(),e}function eee(e,t,n,r){var o=n.render(),i=r.childContextTypes;if(i!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var a in n)if(!(a in i))throw Error(Pt(108,JM(r)||"Unknown",a));r=Eb({},s,n)}t.legacyContext=r,Ws(e,t,o),t.legacyContext=s}else Ws(e,t,o)}function tee(e,t){if(e&&e.defaultProps){t=Eb({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function t4(e,t,n,r,o){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){o=YJ(n,t.legacyContext);var i=n.contextType;i=new n(r,typeof i=="object"&&i!==null?i._currentValue:o),GJ(i,n,r,o),eee(e,t,i,n)}else{i=YJ(n,t.legacyContext),o=JJ(e,t,n,r,i);var s=Px!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)GJ(o,n,r,i),eee(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=e4(r,1,0);try{Ws(e,t,o)}finally{t.treeContext=r}}else Ws(e,t,o)}else if(typeof n=="string"){switch(o=t.blockedSegment,i=YVt(o.chunks,n,r,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=NVt(s,n,r),n4(e,t,i),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push(qVt,Rt(n),GVt)}o.lastPushedText=!1}else{switch(n){case WHt:case UHt:case aTe:case lTe:case sTe:Ws(e,t,r.children);return;case hTe:Ws(e,t,r.children);return;case HHt:throw Error(Pt(343));case fTe:e:{n=t.blockedBoundary,o=t.blockedSegment,i=r.fallback,r=r.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},l=dk(e,o.chunks.length,a,o.formatContext,!1,!1);o.children.push(l),o.lastPushedText=!1;var u=dk(e,0,null,o.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=u;try{if(n4(e,t,r),u.lastPushedText&&u.textEmbedded&&u.chunks.push(q7),u.status=1,hk(a,u),a.pendingTasks===0)break e}catch(d){u.status=4,a.forceClientRender=!0,a.errorDigest=Ox(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=Q7(e,i,n,l,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case dTe:if(r=JJ(e,t,n.render,r,o),Px!==0){n=t.treeContext,t.treeContext=e4(n,1,0);try{Ws(e,t,r)}finally{t.treeContext=n}}else Ws(e,t,r);return;case pTe:n=n.type,r=tee(n,r),t4(e,t,n,r,o);return;case cTe:if(o=r.children,n=n._context,r=r.value,i=n._currentValue,n._currentValue=r,s=mp,mp=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:i,value:r},t.context=r,Ws(e,t,o),e=mp,e===null)throw Error(Pt(403));r=e.parentValue,e.context._currentValue=r===YHt?e.context._defaultValue:r,e=mp=e.parent,t.context=e;return;case uTe:r=r.children,r=r(n._currentValue),Ws(e,t,r);return;case G7:o=n._init,n=o(n._payload),r=tee(n,r),t4(e,t,n,r,void 0);return}throw Error(Pt(130,n==null?n:typeof n,""))}}function Ws(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case VHt:t4(e,t,n.type,n.props,n.ref);return;case iTe:throw Error(Pt(257));case G7:var r=n._init;n=r(n._payload),Ws(e,t,n);return}if(QM(n)){nee(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=WJ&&n[WJ]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var o=[];do o.push(n.value),n=r.next();while(!n.done);nee(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(Pt(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=LJ(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=LJ(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function nee(e,t,n){for(var r=n.length,o=0;o<r;o++){var i=t.treeContext;t.treeContext=e4(i,r,o);try{n4(e,t,n[o])}finally{t.treeContext=i}}}function n4(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,i=t.context;try{return Ws(e,t,n)}catch(l){if(X7(),typeof l=="object"&&l!==null&&typeof l.then=="function"){n=l;var s=t.blockedSegment,a=dk(e,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,e=Q7(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,ck(i)}else throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,ck(i),l}}function rUt(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,CTe(this,t,e)}function wTe(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(Pt(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(o){return wTe(o,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function hk(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&hk(e,n)}else e.completedSegments.push(t)}function CTe(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(Pt(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=Fy,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&hk(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(rUt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(hk(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function _Te(e){if(e.status!==2){var t=mp,n=wO.current;wO.current=QJ;var r=IS;IS=e.responseState;try{var o=e.pingedTasks,i;for(i=0;i<o.length;i++){var s=o[i],a=e,l=s.blockedSegment;if(l.status===0){ck(s.context);try{Ws(a,s,s.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(q7),s.abortSet.delete(s),l.status=1,CTe(a,s.blockedBoundary,l)}catch(v){if(X7(),typeof v=="object"&&v!==null&&typeof v.then=="function"){var u=s.ping;v.then(u,u)}else{s.abortSet.delete(s),l.status=4;var d=s.blockedBoundary,f=v,p=Ox(a,f);if(d===null?fk(a,f):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=p,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var m=a.onAllReady;m()}}}finally{}}}o.splice(0,i),e.destination!==null&&J7(e,e.destination)}catch(v){Ox(e,v),fk(e,v)}finally{IS=r,wO.current=n,n===QJ&&ck(t)}}}function Q_(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,Ge(t,KVt),Ge(t,e.placeholderPrefix),e=Rt(r.toString(16)),Ge(t,e),or(t,ZVt);case 1:n.status=2;var o=!0;r=n.chunks;var i=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];i<o.index;i++)Ge(t,r[i]);o=uA(e,t,o)}for(;i<r.length-1;i++)Ge(t,r[i]);return i<r.length&&(o=or(t,r[i])),o;default:throw Error(Pt(390))}}function uA(e,t,n){var r=n.boundary;if(r===null)return Q_(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,or(t,eHt),Ge(t,nHt),r&&(Ge(t,oHt),Ge(t,Rt(Ko(r))),Ge(t,rHt)),or(t,iHt),Q_(e,t,n);else if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,i=o.nextSuspenseID++;o=Oe(o.boundaryPrefix+i.toString(16)),r=r.id=o,UJ(t,e.responseState,r),Q_(e,t,n)}else if(r.byteSize>e.progressiveChunkSize)r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),UJ(t,e.responseState,r.id),Q_(e,t,n);else{if(or(t,XVt),n=r.completedSegments,n.length!==1)throw Error(Pt(391));uA(e,t,n[0])}return or(t,tHt)}function ree(e,t,n){return jHt(t,e.responseState,n.formatContext,n.id),uA(e,t,n),THt(t,n.formatContext)}function oee(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)STe(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,Ge(t,e.startInlineScript),e.sentCompleteBoundaryFunction?Ge(t,$Ht):(e.sentCompleteBoundaryFunction=!0,Ge(t,OHt)),r===null)throw Error(Pt(395));return n=Rt(n.toString(16)),Ge(t,r),Ge(t,RHt),Ge(t,e.segmentPrefix),Ge(t,n),or(t,MHt)}function STe(e,t,n,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=n.rootSegmentID)===-1)throw Error(Pt(392));return ree(e,t,r)}return ree(e,t,r),e=e.responseState,Ge(t,e.startInlineScript),e.sentCompleteSegmentFunction?Ge(t,DHt):(e.sentCompleteSegmentFunction=!0,Ge(t,AHt)),Ge(t,e.segmentPrefix),o=Rt(o.toString(16)),Ge(t,o),Ge(t,IHt),Ge(t,e.placeholderPrefix),Ge(t,o),or(t,PHt)}function J7(e,t){Hs=new Uint8Array(512),Us=0;try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){uA(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)Ge(t,r[n]);n<r.length&&or(t,r[n])}var o=e.clientRenderedBoundaries,i;for(i=0;i<o.length;i++){var s=o[i];r=t;var a=e.responseState,l=s.id,u=s.errorDigest,d=s.errorMessage,f=s.errorComponentStack;if(Ge(r,a.startInlineScript),a.sentClientRenderFunction?Ge(r,LHt):(a.sentClientRenderFunction=!0,Ge(r,FHt)),l===null)throw Error(Pt(395));Ge(r,l),Ge(r,BHt),(u||d||f)&&(Ge(r,bO),Ge(r,Rt(xO(u||"")))),(d||f)&&(Ge(r,bO),Ge(r,Rt(xO(d||"")))),f&&(Ge(r,bO),Ge(r,Rt(xO(f)))),or(r,NHt)}o.splice(0,i);var p=e.completedBoundaries;for(i=0;i<p.length;i++)oee(e,t,p[i]);p.splice(0,i),$J(t),Hs=new Uint8Array(512),Us=0;var m=e.partialBoundaries;for(i=0;i<m.length;i++){var v=m[i];e:{o=e,s=t;var g=v.completedSegments;for(a=0;a<g.length;a++)if(!STe(o,s,v,g[a])){a++,g.splice(0,a);var b=!1;break e}g.splice(0,a),b=!0}if(!b){e.destination=null,i++,m.splice(0,i);return}}m.splice(0,i);var x=e.completedBoundaries;for(i=0;i<x.length;i++)oee(e,t,x[i]);x.splice(0,i)}finally{$J(t),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.close()}}function iee(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return wTe(r,e,t)}),n.clear(),e.destination!==null&&J7(e,e.destination)}catch(r){Ox(e,r),fk(e,r)}}U7.renderToReadableStream=function(e,t){return new Promise(function(n,r){var o,i,s=new Promise(function(d,f){i=d,o=f}),a=nUt(e,LVt(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),BVt(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,i,function(){var d=new ReadableStream({type:"bytes",pull:function(f){if(a.status===1)a.status=2,nTe(f,a.fatalError);else if(a.status!==2&&a.destination===null){a.destination=f;try{J7(a,f)}catch(p){Ox(a,p),fk(a,p)}}},cancel:function(){iee(a)}},{highWaterMark:0});d.allReady=s,n(d)},function(d){s.catch(function(){}),r(d)},o);if(t&&t.signal){var l=t.signal,u=function(){iee(a,l.reason),l.removeEventListener("abort",u)};l.addEventListener("abort",u)}_Te(a)})};U7.version="18.2.0";var J0,ETe;J0=Q0,ETe=U7;J0.version;var oUt=J0.renderToString;J0.renderToStaticMarkup;J0.renderToNodeStream;J0.renderToStaticNodeStream;ETe.renderToReadableStream;function iUt(e){return typeof e=="function"}function see(e){return iUt(e)?e():e}const sUt=()=>{};function aUt(e){return function(n,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Object.is;const{add:i,update:s,remove:a}=re.useContext(e),l=re.useRef();re.useLayoutEffect(()=>{if(n===null)return sUt;const u=see(r);return i(n,u),l.current=u,()=>{a(n)}},[i,n,a,r]),re.useLayoutEffect(()=>{const u=see(r);typeof l.current<"u"&&!o(l.current,u)&&n!==null&&s(n,u),l.current=u})}}function lUt(){const e=new Map,{publish:t,subscribe:n}=_F(),r=nw(t,10,{trailing:!0}),o=()=>Array.from(e.entries());function i(l,u){e.has(l),e.set(l,u),r(o())}function s(l,u){e.has(l),e.set(l,u),r(o())}function a(l){e.has(l),e.delete(l),r(o())}return{add:i,remove:a,update:s,read:o,subscribe:n}}let t0=!1;const CO=e=>{t0||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReporter('.concat(e,', ...)", is wrapped in a <Tracker> element'))),t0=!0};function cUt(){return t0||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReportedValues()", is wrapped inside a <Tracker> element')),t0=!0,[]}const uUt=()=>(t0||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReportedValues()", is wrapped inside a <Tracker> element')),t0=!0,()=>{}),dUt={add:CO,update:CO,remove:CO,subscribe:uUt,read:cUt};let fUt=0;const hUt=()=>++fUt;function kTe(){const e=re.createContext(dUt);function t(){const o=re.useContext(e),[i,s]=re.useState(o.read());return re.useLayoutEffect(()=>(s(o.read()),o.subscribe(s)),[o]),i}function n(o){const i=re.useMemo(()=>lUt(),[]);return c.jsx(e.Provider,{value:i,children:o.children})}const r=aUt(e);return{Tracker:n,useReportedValues:t,useReporter:r,useAutoIdReporter:function(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object.is;return r("element-".concat(re.useRef(hUt()).current),o,i)}}}const Ms=4,pUt=16,aee=8,lt=8,ja=2,J_=4,bi=12,rg=2,mUt=!1,gUt=!1,eB=kTe(),vUt=eB.Tracker,tB=eB.useReportedValues,jTe=eB.useReporter,Im=h.createContext({isReviewChangesOpen:!1,onOpenReviewChanges:()=>{},onSetFocus:()=>{}}),yUt=e=>{const t=re.useRef(null),{onSetFocus:n}=re.useContext(Im),[r,o]=re.useState(!1),i=re.useCallback(()=>{o(!0)},[]),s=re.useCallback(()=>{o(!1)},[]);jTe("change-".concat(yr(e.path)),()=>({element:t.current,path:e.path,isChanged:!0,hasFocus:!1,hasHover:r,hasRevertHover:e.hasHover}),CF);const a=h.useCallback(l=>{bUt(l,n,e.path)},[n,e.path]);return c.jsx("div",{ref:t,onClick:a,onMouseLeave:s,onMouseEnter:i,children:e.children})};function bUt(e,t,n){e.stopPropagation(),t(n)}function Go(e){const t=h.useRef(e);return Yt(t.current,e)||(t.current=e),t.current}function ch(e,t){const n=[t,!0],r={type:"tuple",tuple:n};return function(i){const s=Go(i),a=Ao(()=>be(s).pipe(tt(l=>ho(be({type:"loading"}),e(l).pipe(ce(u=>({type:"value",value:u}))))),Ua((l,u)=>{let[d]=l;return u.type==="loading"?[d,!0]:[u.value,!1]},n),Kn((l,u)=>{let[d,f]=l,[p,m]=u;return!(d!==p||f!==m)}),ce(l=>({type:"tuple",tuple:l})),Xn(l=>be({type:"error",error:l}))),[s],r);if(a.type==="error")throw a.error;return a.tuple}}function po(e){return e!=null}const xUt="drafts",nB="".concat(xUt,".");function rB(e){return e.startsWith(nB)}function TTe(e){return{draftId:ti(e),publishedId:Zn(e)}}function ti(e){return rB(e)?e:nB+e}function Zn(e){return rB(e)?e.slice(nB.length):e}function oB(e){const t=e.reduce((n,r)=>{const o=Zn(r._id);let i=n.get(o);return i||(i={id:o,type:r._type,published:void 0,draft:void 0},n.set(o,i)),i[o===r._id?"published":"draft"]=r,n},new Map);return Array.from(t.values())}function wUt(e){return oB(e).map(t=>t.draft||t.published).filter(po)}const CUt=Object.freeze({}),Vn=Object.freeze([]);function _Ut(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const SUt=_Ut();function lee(e){return Array.isArray(e)}function Ct(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function PS(e){return typeof e=="string"}const EUt=typeof document=="object"&&typeof window=="object"&&window.ResizeObserver?window.ResizeObserver:_Ce,kUt=()=>{const e=_F(),t=new EUt(n=>e.publish(n));return{observe:(n,r,o)=>{const i=e.subscribe(s=>{const a=s.find(l=>l.target===n);a&&r(a)});return t.observe(n,o),()=>{i(),t.unobserve(n)}}}},jUt=kUt(),TUt=["sanity.imageAsset","sanity.fileAsset"];function AUt(e){return e.type==="document"&&TUt.includes(e.name)}function POn(e){return e.type==="document"&&!AUt(e)}const DUt=["match","in","asc","desc","true","false","null"],IUt=/^[a-zA-Z_][a-zA-Z0-9_]*$/,ATe=e=>!IUt.test(e)||DUt.includes(e),iB=e=>'["'.concat(e,'"]'),PUt=e=>"@".concat(iB(e)),OUt=e=>Array.isArray(e)&&e.length===0,$Ut=e=>{let t="";for(let n=0;n<e.length;n++){const r=e[n];if(OUt(r)){t+="[]";continue}if(typeof r=="number"){t+="[".concat(r,"]");continue}const o=n===0;ATe(r)?t=o?PUt(r):"".concat(t).concat(iB(r)):t=o?r:"".concat(t,".").concat(r)}return t},Jp=RUt();function RUt(){return typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}const MUt={isLoading:!0,value:void 0,error:null};function DTe(e,t){return Ao(()=>e.pipe(FUt()),[e],typeof t>"u"?MUt:{isLoading:!1,value:t,error:null})}function FUt(){return e=>e.pipe(ce(t=>({isLoading:!1,value:t,error:null})),Xn(t=>be({isLoading:!1,value:void 0,error:t})))}function LUt(e,t,n){return h.useMemo(()=>lT(e,t,n),[e,n,t])}function ITe(e,t){return e!==null&&e.roles.some(n=>n.name===t)}var cee=Object.freeze,BUt=Object.defineProperty,xu=(e,t)=>cee(BUt(e,"raw",{value:cee(t||e.slice())})),uee,dee,fee,hee,pee,mee,gee,vee,yee;const NUt=250,zUt=O.div(e=>{let{$changed:t,$disabled:n,$isReviewChangeOpen:r}=e;return n?de(uee||(uee=xu([`
        `,` {
          display: none;
        }
      `])),r4):de(hee||(hee=xu([`
      --change-bar-offset: 2px;

      display: flex;
      position: relative;

      @media (hover: hover) {
        &:hover {
          z-index: 10;
        }
      }

      /* hide when field is not changed */
      `,`

      /* hide hover effect when review changes is open */
      `,`
    `])),!t&&de(dee||(dee=xu([`
        `,` {
          opacity: 0;
          pointer-events: none;
        }
      `])),r4),r&&de(fee||(fee=xu([`
        `,` {
          opacity: 0;
        }
      `])),PTe))}),VUt=O.div(pee||(pee=xu([`
  flex-grow: 1;
  min-width: 0;
`]))),r4=O.div(mee||(mee=xu([`
  position: relative;
  opacity: 1;
  transition: opacity 100ms;
  z-index: `,`;
`])),e=>{let{$zIndex:t}=e;return t}),HUt=O.div(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow,r=t.sanity.media[0];return de(gee||(gee=xu([`
    position: absolute;
    top: 0;
    left: var(--change-bar-offset);
    width: 2px;
    bottom: 0;
    background-color: `,`;
    border-radius: 1px;

    @media (min-width: `,`px) {
      display: unset;
    }
  `])),n,r)}),PTe=O.button(e=>{let{theme:t,$withHoverEffect:n}=e;const r=t.sanity.color.spot.yellow;return de(yee||(yee=xu([`
      appearance: none;
      border: 0;
      outline: 0;
      display: block;
      padding: 0;
      background: transparent;
      opacity: 0;
      position: absolute;
      height: 100%;
      cursor: pointer;
      pointer-events: all;
      left: calc(-0.25rem + var(--change-bar-offset));
      width: 1rem;
      transition: opacity `,`ms;

      &:focus {
        border: 0;
        outline: 0;
      }

      &:after {
        content: '';
        width: 16px;
        height: calc(100% + 14px);
        display: block;
        position: absolute;
        top: -7px;
        left: -3px;
        border-radius: 8px;
        background: `,`;
      }

      &:focus {
        border: 0;
        outline: 0;
      }

      `,`
    `])),NUt,r,n&&de(vee||(vee=xu([`
        @media (hover: hover) {
          &:hover {
            opacity: 0.2;
          }
        }
      `]))))});function UUt(e){const{children:t,disabled:n,isChanged:r,withHoverEffect:o=!0}=e,{onOpenReviewChanges:i,isReviewChangesOpen:s}=re.useContext(Im),{zIndex:a}=Rc(),l=h.useMemo(()=>n||!r?null:c.jsxs(r4,{"data-testid":"change-bar",$zIndex:a,children:[c.jsx(HUt,{"data-testid":"change-bar__marker"}),c.jsx(PTe,{"aria-label":"Review changes","data-testid":"change-bar__button",onClick:s?void 0:i,tabIndex:-1,type:"button",$withHoverEffect:o})]}),[n,r,a,s,i,o]);return c.jsxs(zUt,{"data-testid":"change-bar-wrapper",$changed:r,$disabled:n,$isReviewChangeOpen:s,children:[c.jsx(VUt,{"data-testid":"change-bar__field-wrapper",children:t}),l]})}const WUt=h.memo(function(t){const{children:n,disabled:r,hasFocus:o,isChanged:i,onMouseEnter:s,onMouseLeave:a,path:l=Vn,withHoverEffect:u,...d}=t,f=Rc(),[p,m]=h.useState(!1),v=h.useCallback(x=>{s==null||s(x),m(!0)},[s]),g=h.useCallback(x=>{a==null||a(x),m(!1)},[a]),b=h.useRef(null);return jTe(r?null:"field-".concat(yr(l)),()=>({element:b.current,path:l,isChanged:i,hasFocus:o,hasHover:p,zIndex:f.zIndex}),CF),c.jsx("div",{...d,ref:b,onMouseEnter:v,onMouseLeave:g,children:c.jsx(UUt,{isChanged:i,disabled:r,withHoverEffect:u,children:n})})});function ni(e){const{children:t,hasFocus:n,isChanged:r,path:o,withHoverEffect:i,...s}=e;return c.jsx(WUt,{...s,path:o,hasFocus:n,isChanged:r,withHoverEffect:i,children:t})}re.createContext({path:[],fullPath:[],focusPath:[],isChanged:!1});const o4=re.createContext(null);function YUt(e){const t=re.useContext(o4);re.useEffect(()=>t==null?void 0:t.subscribe(e),[e,t])}const bee=()=>{},sB=re.forwardRef(function(t,n){const{as:r="div",onScroll:o,...i}=t,s=lr(n),a=h.useContext(o4),l=h.useMemo(()=>_F(),[]);return h.useEffect(()=>o?l.subscribe(o):bee,[l,o]),h.useEffect(()=>a?l.subscribe(a.publish):bee,[a,l]),h.useEffect(()=>{const u=f=>{l.publish(f)},d=s.current;if(d)return d.addEventListener("scroll",u,{passive:!0,capture:!0}),()=>{d.removeEventListener("scroll",u)}},[l,s]),c.jsx(o4.Provider,{value:l,children:re.createElement(r,{ref:s,"data-testid":"scroll-container",...i})})});function qUt(e){let{onScroll:t,children:n}=e;return YUt(t),c.jsx(c.Fragment,{children:n})}function xee(e,t,n){const r=t.slice(t.indexOf("-")+1)||"[]",o=Sf(r),i="".concat(e,"-").concat(yr(o));if(n.has(i))return n.get(i);let s;for(const[a,l]of n){if(!("path"in l)||!a.startsWith(e))continue;const u=ORe(o,l.path),d=l.path[l.path.length-1],f=u===l.path.length-1&&_l(d);if(u!==0&&!(u!==l.path.length&&!f)&&(s=l,u===o.length))break}return s}function GUt(e){return e[0]!=="changePanel"}function OTe(e){const t=getComputedStyle(e).overflow;return t.includes("auto")||t.includes("scroll")}function KUt(e){return(e.scrollHeight!==e.offsetHeight||e.scrollWidth!==e.offsetWidth)&&OTe(e)}const ZUt=-15;function wee(e){let n=e.element;for(;!KUt(n);)if(n=n.parentElement,!n)return;n.scroll({top:n.scrollTop+e.rect.top-e.bounds.top+ZUt,left:0,behavior:"smooth"})}const Cee=(e,t)=>{const n={top:0,left:0,height:t.offsetHeight,width:t.offsetWidth},r={top:0,left:0,height:e.offsetHeight,width:e.offsetWidth};let o=!1,i=e;for(;i&&i!==t&&t.contains(i);)o&&(n.top+=i.offsetTop,n.left+=i.offsetLeft),OTe(i)&&(n.top=i.offsetTop,n.height=i.offsetHeight,n.left=i.offsetLeft,n.width=i.offsetWidth,o=!0),r.top+=i.offsetTop-i.scrollTop,r.left+=i.offsetLeft-i.scrollLeft,i=i.offsetParent;return{rect:r,bounds:n}};function e2(e,t,n){return["M ".concat(e-J_," ").concat(t-J_*n," "),"L ".concat(e," ").concat(t),"L ".concat(e+J_," ").concat(t-J_*n)].join("")}function _O(e,t){return"M".concat(e," ").concat(t)}function no(e,t){return"L".concat(e," ").concat(t)}function XUt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return e.join(t)}function ls(e,t,n,r){return"Q".concat(e," ").concat(t," ").concat(n," ").concat(r)}function QUt(e){const{from:t,to:n}=e,{left:r,top:o}=t,{left:i,top:s}=n,a=[],l=Math.min(Ms,Math.abs(o-s)/2);return t.isAbove?a.push(_O(r+lt,o-bi+ja),no(r+lt,o-Ms),ls(r+lt,o,r+lt+Ms,o)):t.isBelow?a.push(_O(r+lt,o+bi-ja),no(r+lt,o+Ms),ls(r+lt,o,r+lt+Ms,o)):a.push(_O(r,o)),n.isAbove?o<n.bounds.top?a.push(no(n.bounds.left-8-l,o),ls(n.bounds.left-8,o,n.bounds.left-8,o+l),no(n.bounds.left-8,s-l),ls(n.bounds.left-8,s,n.bounds.left-8+l,s),no(n.bounds.left+lt-Ms,s),ls(n.bounds.left+lt,s,n.bounds.left+lt,s-Ms),no(n.bounds.left+lt,s-bi+ja)):a.push(no(n.bounds.left+lt-Ms,o),ls(n.bounds.left+lt,o,n.bounds.left+lt,o-Ms),no(n.bounds.left+lt,s-bi+ja)):n.isBelow?o>n.bounds.top+n.bounds.height?a.push(no(n.bounds.left-lt-l,o),ls(n.bounds.left-lt,o,n.bounds.left-lt,o-l),no(n.bounds.left-lt,s+l),ls(n.bounds.left-lt,s,n.bounds.left-lt+l,s),no(n.bounds.left+lt-Ms,s),ls(n.bounds.left+lt,s,n.bounds.left+lt,s+Ms),no(n.bounds.left+lt,s+bi-ja)):a.push(no(n.bounds.left+lt-Ms,o),ls(n.bounds.left+lt,o,n.bounds.left+lt,o+Ms),no(n.bounds.left+lt,s+bi-ja)):o<s?a.push(no(n.bounds.left+lt-l,o),ls(n.bounds.left+lt,o,n.bounds.left+lt,o+l),no(n.bounds.left+lt,s-l),ls(n.bounds.left+lt,s,n.bounds.left+lt+l,s),no(i,s)):a.push(no(n.bounds.left+lt-l,o),ls(n.bounds.left+lt,o,n.bounds.left+lt,o-l),no(n.bounds.left+lt,s+l),ls(n.bounds.left+lt,s,n.bounds.left+lt+l,s),no(i,s)),XUt(a)}function _ee(e,t){const n=e.top+e.height/2,r=e.top+e.height<t.top+ja,o=e.top>t.top+t.height-ja;return{bounds:t,left:e.left,top:n,centerY:n,startY:e.top+aee,endY:e.top+e.height-aee,isAbove:r,isBelow:o,outOfBounds:r||o}}function JUt(e){const t={top:e.from.bounds.top+bi,bottom:e.from.bounds.top+e.from.bounds.height-bi,left:e.from.bounds.left,right:e.from.bounds.left+e.from.bounds.width,width:e.from.bounds.width,height:e.from.bounds.height-bi*2},n=_ee(e.from.rect,t);n.left=e.from.rect.left+e.from.rect.width+1;const r={top:e.to.bounds.top+bi,bottom:e.to.bounds.top+e.to.bounds.height-bi,left:e.to.bounds.left,right:e.to.bounds.left+e.to.bounds.width,width:e.to.bounds.width,height:e.to.bounds.height-bi*2},o=_ee(e.to.rect,r),i=Math.max(o.startY,n.startY);return n.top=Math.min(i,n.endY),n.top<r.top?n.top=Math.min(r.top,n.endY):n.top>r.bottom&&(n.top=Math.max(r.bottom,n.startY)),o.top=Math.min(i,o.endY),o.top<t.top?o.top=Math.min(t.top,o.endY):o.top>t.bottom&&(o.top=Math.max(t.bottom,o.startY)),n.top=Math.min(Math.max(n.top,t.top),t.bottom),o.top=Math.min(Math.max(o.top,r.top),r.bottom),{from:n,to:o}}function eWt(e){const{bounds:t,...n}=e,r=Math.max(t.left,e.left),o=Math.max(e.top,t.top),i=Math.max(0,e.height-(o-e.top)),s=Math.max(0,e.width-(r-e.left));return c.jsx("rect",{...n,x:r,y:o,height:i,width:s})}var See=Object.freeze,tWt=Object.defineProperty,dA=(e,t)=>See(tWt(e,"raw",{value:See(t||e.slice())})),Eee,kee,jee,Tee;O.rect(Eee||(Eee=dA([`
  stroke: #ccc;
  fill: none;
  pointer-events: none;
  stroke-linecap: round;
`])));const J1=O.path(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return de(kee||(kee=dA([`
    fill: none;
    pointer-events: none;
    stroke-linecap: round;
    stroke-linejoin: round;
    stroke: `,`;
  `])),n)}),nWt=O.path(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return de(jee||(jee=dA([`
    fill: none;
    pointer-events: stroke;
    stroke: `,`;
    cursor: pointer;
    stroke-linecap: round;
    stroke-linejoin: round;
    opacity: 0;

    &:hover {
      opacity: 0.2;
    }
  `])),n)}),rWt=O(eWt)(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return de(Tee||(Tee=dA([`
    stroke: none;
    pointer-events: none;
    fill: `,`;
  `])),n)}),oWt=h.memo(function(t){let{from:n,to:r}=t;const o=JUt({from:n,to:r});if(o.from.outOfBounds&&o.to.outOfBounds)return null;const i=QUt(o);return c.jsxs(c.Fragment,{children:[c.jsx(nWt,{d:i,strokeWidth:pUt}),c.jsx(J1,{d:i,strokeWidth:rg}),c.jsx(rWt,{top:r.rect.top,left:r.rect.left,height:r.rect.height,width:rg,bounds:r.bounds}),o.from.isAbove&&c.jsx(J1,{d:e2(o.from.left+lt,o.from.bounds.top-bi+ja,-1),strokeWidth:rg}),o.from.isBelow&&c.jsx(J1,{d:e2(o.from.left+lt,o.from.bounds.top+o.from.bounds.height+bi-ja,1),strokeWidth:rg}),o.to.isAbove&&c.jsx(J1,{d:e2(o.to.bounds.left+lt,o.to.bounds.top-bi+ja,-1),strokeWidth:rg}),o.to.isBelow&&c.jsx(J1,{d:e2(o.to.bounds.left+lt,o.to.bounds.top+o.to.bounds.height+bi-ja,1),strokeWidth:rg}),mUt]})});function iWt(e,t){h.useEffect(()=>jUt.observe(e,t),[e,t])}var Aee=Object.freeze,sWt=Object.defineProperty,aWt=(e,t)=>Aee(sWt(e,"raw",{value:Aee(t||e.slice())})),Dee;const lWt=O.svg(Dee||(Dee=aWt([`
  pointer-events: none;
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
`])));function Iee(e,t,n,r){const o=[],i=[];for(const u of e){if(!GUt(u)||!u[1].isChanged)continue;const[d,f]=u;if(d===t){o.push(u);continue}if(f.hasHover){o.push(u);continue}if(f.hasFocus){i.push(u);continue}}const s=o.length>0;return{connectors:(s?o:i).map(u=>{let[d]=u;const f=xee("field",d,n),p=xee("change",d,n);return!f||!p?null:{field:{id:d,...f},change:{id:d,...p}}}).filter(po).map(u=>{let{field:d,change:f}=u;return{hasHover:d.hasHover||f.hasHover,hasFocus:d.hasFocus,hasRevertHover:f.hasRevertHover,field:{...d,...Cee(d.element,r)},change:{...f,...Cee(f.element,r)}}}),isHoverConnector:s}}function cWt(e){const{rootElement:t,onSetFocus:n}=e,[r,o]=re.useState(null),i=tB(),s=h.useMemo(()=>new Map(i),[i]),[{connectors:a},l]=h.useState(()=>Iee(i,r,s,t)),u=h.useMemo(()=>Cm(a,f=>0-f.field.path.length).slice(0,1),[a]),d=h.useCallback(()=>{l(Iee(i,r,s,t))},[s,i,r,t]);return iWt(t,d),c.jsx(qUt,{onScroll:d,children:c.jsx(lWt,{style:{zIndex:u[0]&&u[0].field.zIndex},children:u.map(f=>{let{field:p,change:m}=f;return m?c.jsx(uWt,{field:p,change:m,onSetFocus:n,setHovered:o},p.id):null})})})}function uWt(e){const{change:t,field:n,onSetFocus:r,setHovered:o}=e,i=h.useCallback(()=>{wee(n),wee(t),r(n.path)},[n,t,r]),s=h.useCallback(()=>o(n.id),[n,o]),a=h.useCallback(()=>o(null),[o]),l=h.useMemo(()=>({rect:{left:n.rect.left+2,top:n.rect.top,height:n.rect.height,width:n.rect.width},bounds:n.bounds}),[n.bounds,n.rect]),u=h.useMemo(()=>({rect:t.rect,bounds:t.bounds}),[t.bounds,t.rect]);return c.jsxs(c.Fragment,{children:[c.jsx("g",{onClick:i,onMouseEnter:s,onMouseLeave:a,children:c.jsx(oWt,{from:l,to:u})}),gUt]})}function dWt(e){let{children:t,className:n,isReviewChangesOpen:r,onOpenReviewChanges:o,onSetFocus:i,...s}=e;const[a,l]=re.useState(),u=h.useMemo(()=>({isReviewChangesOpen:r,onOpenReviewChanges:o,onSetFocus:i}),[r,o,i]);return c.jsx(Im.Provider,{value:u,children:c.jsx(vUt,{children:c.jsxs(sB,{...s,ref:l,className:n,children:[t,a&&c.jsx(cWt,{rootElement:a,onSetFocus:i})]})})})}const OOn=dWt;function fWt(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function aB(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&fWt(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var Pee=Object.freeze,hWt=Object.defineProperty,fA=(e,t)=>Pee(hWt(e,"raw",{value:Pee(t||e.slice())})),Oee,$ee,Ree,Mee;const pWt="data-active",SO="a,button",mWt=O.div(e=>{let{theme:t,offset:n}=e;return de(Oee||(Oee=fA([`
    bottom: `,`px;
    border-radius: `,`;
    left: `,`px;
    pointer-events: none;
    position: absolute;
    right: `,`px;
    top: `,`px;
    z-index: 2;

    `,`:focus-visible & {
      box-shadow: `,`;
    }
  `])),-n,ge(t.sanity.radius[1]),-n,-n,-n,$Te,aB({base:t.sanity.color.base,focusRing:t.sanity.focusRing}))}),gWt=O.div($ee||($ee=fA([`
  bottom: 0;
  display: none;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
  z-index: 1;

  @media (hover: hover) {
    &[data-enabled='true'] {
      display: block;
    }
  }
`]))),$Te=O(F)(Ree||(Ree=fA([`
  height: 100%;
  outline: none;
  overflow-x: hidden;
  overflow-y: auto;
  overscroll-behavior: contain;
  width: 100%;
`]))),vWt=O(F).attrs(e=>{let{$height:t}=e;return{style:{height:"".concat(t,"px")}}})(Mee||(Mee=fA([`
  position: relative;
  width: 100%;
`]))),Pm=h.forwardRef(function(t,n){let{activeItemDataAttr:r=pWt,ariaLabel:o,ariaMultiselectable:i=!1,autoFocus:s,canReceiveFocus:a,fixedHeight:l,focusRingOffset:u=0,getItemDisabled:d,getItemKey:f,getItemSelected:p,initialIndex:m,initialScrollAlign:v="start",inputElement:g,itemHeight:b,items:x,onEndReached:y,onEndReachedIndexOffset:w=0,onlyShowSelectionWhenActive:C,overscan:_,renderItem:S,wrapAround:E=!0,...j}=t;const k=h.useRef(!1),T=h.useRef(h.useId()),A=h.useRef(m??0),[D,I]=h.useState(null),[P,M]=h.useState(!1),[$,V]=h.useState(null),[L,H]=h.useState(null),U=h.useCallback(me=>{if(!y)return;const[Ue]=[...me.getVirtualItems()].reverse();if(!Ue)return;Ue.index>=x.length-w-1&&k.current&&y()},[y,x.length,w]),z=UCe({count:x.length,getItemKey:f,getScrollElement:()=>L,estimateSize:()=>b,onChange:U,overscan:_}),Y=h.useMemo(()=>{let me=-1;return x.reduce((Ue,qe,Ne)=>{var bt,Tt;const St=(bt=d==null?void 0:d(Ne))!=null?bt:!1,Zt=(Tt=p==null?void 0:p(Ne))!=null?Tt:!1;return St||(me+=1),Ue[Ne]={activeIndex:St?null:me,disabled:St,selected:Zt},Ue},[])},[d,p,x]),te=h.useMemo(()=>Y.filter(me=>!me.disabled).length,[Y]),N=h.useCallback(me=>$==null?void 0:$.setAttribute("data-enabled",(!me).toString()),[$]),G=h.useCallback(me=>"".concat(T.current,"-item-").concat(me),[]),q=h.useCallback(()=>"".concat(T.current,"-children"),[]),K=h.useCallback(()=>{const me=[g,L].some(qe=>document.activeElement===qe);if(C&&!me&&!P)return;const Ue=Array.from((D==null?void 0:D.children)||[]);Ue==null||Ue.forEach(qe=>{var Ne,bt,Tt;const St=Number((Ne=qe.dataset)==null?void 0:Ne.index),Zt=(bt=Y[St])==null?void 0:bt.activeIndex;(Tt=qe.querySelector(SO))==null||Tt.toggleAttribute(r,Zt===A.current)})},[r,D==null?void 0:D.children,P,g,Y,C,L]),Q=h.useCallback(()=>{const me=Array.from((D==null?void 0:D.children)||[]);me==null||me.forEach(Ue=>{var qe;(qe=Ue.querySelector(SO))==null||qe.toggleAttribute(r,!1)})},[r,D==null?void 0:D.children]),X=h.useMemo(()=>lT(K,200),[K]),Z=h.useCallback(()=>{const me=A==null?void 0:A.current;x.length>0?(g==null||g.setAttribute("aria-activedescendant",G(me)),L==null||L.setAttribute("aria-activedescendant",G(me))):(g==null||g.removeAttribute("aria-activedescendant"),L==null||L.removeAttribute("aria-activedescendant"))},[G,g,x.length,L]),oe=h.useCallback(()=>{var me,Ue;const qe=D==null?void 0:D.parentElement;if(D&&qe){const Ne=qe.getBoundingClientRect().top-D.getBoundingClientRect().top;return(Ue=(me=z.getVirtualItemForOffset(Ne))==null?void 0:me.index)!=null?Ue:-1}return-1},[D,z]),le=h.useCallback(me=>{let{index:Ue,scrollAlign:qe,scrollIntoView:Ne=!0}=me;if(A.current=Ue,Z(),K(),Ne){const bt=Y.findIndex(Tt=>Tt.activeIndex===Ue);bt>-1&&z.scrollToIndex(bt,qe?{align:qe}:{})}},[Z,Y,K,z]),he=h.useCallback(me=>{let Ue=-1;const qe=te-1;if(me==="next"){const Ne=E?0:qe;Ue=A.current<te-1?A.current+1:Ne}if(me==="previous"){const Ne=E?qe:0;Ue=A.current>0?A.current-1:Ne}le({index:Ue,scrollIntoView:!0}),N(!1)},[te,N,le,E]),ie=h.useCallback(me=>{switch(me){case"input":g==null||g.focus();break;case"list":L==null||L.focus();break}},[g,L]),ye=h.useCallback(()=>{g==null||g.focus()},[g]),_e=h.useCallback(()=>{L==null||L.focus()},[L]),Ae=h.useCallback(me=>()=>{le({index:me,scrollIntoView:!1})},[le]),xe=h.useCallback(()=>{K()},[K]),Ze=h.useCallback(me=>Ue=>{const qe=Array.from((D==null?void 0:D.children)||[]);if(qe.length&&(Ue.key==="ArrowDown"&&(Ue.preventDefault(),ie(me),he("next")),Ue.key==="ArrowUp"&&(Ue.preventDefault(),ie(me),he("previous")),Ue.key==="Enter")){Ue.preventDefault(),ie(me);const Ne=qe.find(bt=>Number(bt.dataset.index)===Y.findIndex(Tt=>Tt.activeIndex===A.current));if(Ne){const bt=Ne==null?void 0:Ne.querySelector(SO);bt==null||bt.click()}}},[D==null?void 0:D.children,ie,Y,he]),rt=h.useCallback(me=>Ze("input")(me),[Ze]),at=h.useCallback(me=>Ze("list")(me),[Ze]),nt=h.useCallback(()=>{C&&(K(),M(!0))},[C,K]),Kt=h.useCallback(()=>{C&&(Q(),M(!1))},[Q,C]);h.useImperativeHandle(n,()=>({focusInputElement(){ye()},focusListElement(){_e()},getTopIndex(){return oe()},scrollToIndex(me){le({index:me}),N(!0)}}),[N,ye,_e,oe,le]),h.useEffect(()=>{typeof m<"u"&&!k.current&&le({index:m,scrollAlign:v,scrollIntoView:!0}),k.current=!0},[m,v,C,le]),h.useEffect(()=>{function me(){N(!0)}return L==null||L.addEventListener("mousemove",me),L==null||L.addEventListener("wheel",me,{passive:!0}),()=>{L==null||L.removeEventListener("mousemove",me),L==null||L.removeEventListener("wheel",me)}},[N,L]),h.useEffect(()=>(g==null||g.addEventListener("focus",xe),g==null||g.addEventListener("keydown",rt),L==null||L.addEventListener("focus",xe),L==null||L.addEventListener("keydown",at),()=>{g==null||g.removeEventListener("focus",xe),g==null||g.removeEventListener("keydown",rt),L==null||L.removeEventListener("focus",xe),L==null||L.removeEventListener("keydown",at)}),[a,xe,Ze,rt,at,Q,g,K,L]),h.useEffect(()=>{Z()},[Z,x]),h.useEffect(()=>{const me=new MutationObserver(X);return D&&me.observe(D,{childList:!0,subtree:!0}),()=>{me.disconnect()}},[D,X]),h.useEffect(()=>{g==null||g.setAttribute("aria-autocomplete","list"),g==null||g.setAttribute("aria-expanded","true"),g==null||g.setAttribute("aria-controls",q()),g==null||g.setAttribute("role","combobox")},[q,g]),h.useEffect(()=>{s&&ie(s)},[s,a,_e,ye,ie]);const Ye=a?0:-1;return c.jsxs($Te,{id:q(),onMouseEnter:nt,onMouseLeave:Kt,ref:H,sizing:"border",tabIndex:Ye,...j,children:[a&&c.jsx(mWt,{offset:u}),c.jsx(gWt,{"aria-hidden":"true","data-enabled":!0,ref:V}),z&&c.jsx(vWt,{forwardedAs:"ul",$height:z.getTotalSize(),"aria-label":o,"aria-multiselectable":i,flex:1,ref:I,role:"listbox",children:z.getVirtualItems().map(me=>{const Ue=me.index,{activeIndex:qe,disabled:Ne,selected:bt}=Y[Ue],Tt=S(x[Ue],{activeIndex:qe,disabled:Ne,selected:bt,virtualIndex:Ue}),St=h.cloneElement(Tt,{tabIndex:-1}),Zt=typeof qe=="number"&&!Ne?{"aria-posinset":qe+1,...i?{"aria-selected":bt.toString()}:{},"aria-setsize":te,id:G(qe),role:"option",onMouseEnter:Ae(qe)}:{};return c.jsx(ne,{as:"li","data-index":Ue,ref:l?void 0:z.measureElement,style:{flex:1,...l?{height:"".concat(me.size,"px")}:{},left:0,position:"absolute",top:0,transform:"translateY(".concat(me.start,"px)"),width:"100%"},tabIndex:-1,...Zt,children:St},me.key)})})]})}),Fee=new WeakMap;let yWt=0;function Lee(e){const t=Fee.get(e);if(t)return t;const n="".concat(e.name||e.displayName||"<anonymous>","-").concat(yWt++);return Fee.set(e,n),n}function bWt(e){const t=h.useRef(void 0);return Nf(e,t.current)||(t.current=e),[t.current]}function xWt(e,t){h.useEffect(e,bWt(t))}const wWt=h.memo(function(t){const{hook:n,args:r,id:o,onNext:i,onReset:s,onRequestUpdate:a}=t,l=n({...r,onComplete:()=>{s(o)}});return xWt(()=>(i(o,l),a(),()=>{i(o,null),a()}),l),null},(e,t)=>e.args===t.args),CWt=e=>{const t=Date.now();return setTimeout(()=>{e({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-t)}})},1)},_Wt=e=>clearTimeout(e),SWt=typeof requestIdleCallback>"u"?CWt:requestIdleCallback,EWt=typeof cancelIdleCallback>"u"?_Wt:cancelIdleCallback,kWt={trailing:!0};function $On(e){const{hooks:t,args:n,children:r,onReset:o}=e,i=h.useRef({}),[s,a]=h.useState(0),[l,u]=h.useState({}),d=h.useRef(null),f=h.useCallback(()=>{d.current&&EWt(d.current),d.current=SWt(()=>{d.current=null,a(x=>x+1)})},[]),p=LUt(f,60,kWt),m=h.useCallback((x,y)=>{if(y===null)delete i.current[x];else{const w=i.current[x];i.current[x]={...w,value:y}}},[]),v=h.useCallback(x=>{u(y=>({...y,[x]:(y[x]||0)+1})),o&&o()},[o]),g=h.useMemo(()=>t.map(x=>Lee(x)),[t]),b=h.useMemo(()=>g.map(x=>{var y;return(y=i.current[x])==null?void 0:y.value}).filter(po),[g,s]);return c.jsxs(c.Fragment,{children:[t.map(x=>{const y=Lee(x),w=l[y]||0;return c.jsx(wWt,{hook:x,id:y,args:n,onNext:m,onRequestUpdate:p,onReset:v},"".concat(y,"-").concat(w))}),r({states:b})]})}function jWt(e){let{makePlatformAware:t=!0,keys:n=[],...r}=e;const o=t?n.map(TWt):n;return c.jsx(OL,{...r,keys:o})}const Bee=typeof navigator>"u"||typeof navigator.platform!="string"?!1:/Mac|iPod|iPhone|iPad/.test(navigator.platform||"");function TWt(e){const t=e.toLowerCase();return t==="alt"&&Bee?Nee(e,"option"):t==="option"&&!Bee?Nee(e,"alt"):e}function Nee(e,t){const n=e.length;return t.replace(/./g,(r,o)=>o<n&&e[o]===e[o].toUpperCase()?r.toUpperCase():r)}function Pc(e){const{currentUser:t,title:n="Insufficient permissions",operationLabel:r="access this feature"}=e,o=(t==null?void 0:t.roles)||[],i=o.length!==1;return c.jsxs(F,{padding:2,children:[c.jsxs(Jt,{space:2,children:[c.jsx(B,{size:1,children:c.jsx(kf,{})}),c.jsx(B,{weight:"semibold",children:n})]}),c.jsx(Jt,{marginTop:4,children:c.jsx(B,{size:1,children:o.length===0?c.jsxs(c.Fragment,{children:["You have no role that grants you permission to ",r]}):c.jsxs(c.Fragment,{children:["Your role",i&&"s"," ",AWt(o.map(s=>c.jsx("code",{children:s.title},s.name)),c.jsx(c.Fragment,{children:", "}))," ","do",i||"es"," not have permissions to ",r]})})})]})}function AWt(e,t){return e.reduce((n,r)=>n===null?[r]:[...n,t,r],null)}const DWt=O(ia)(e=>{const{theme:t}=e,{container:n,media:r}=t.sanity;return dt(r,e.$width,o=>({width:o==="auto"?"none":ge(n[o]),maxWidth:"100%"}))}),IWt=re.forwardRef(function(t,n){const{width:r,...o}=t,i=ve(r);return c.jsx(DWt,{...o,"data-ui":"PopoverContainer",$width:i,ref:n})});var zee=Object.freeze,PWt=Object.defineProperty,RTe=(e,t)=>zee(PWt(e,"raw",{value:zee(t||e.slice())})),Vee,Hee;const OWt=O(hn)(()=>de(Vee||(Vee=RTe([`
    // Make the popover scrollable if it overflows the viewport
    [data-ui='Popover__wrapper'] {
      overflow: auto;
    }
  `])))),$Wt=O(es)(e=>{const t=e.theme.sanity.radius[3];return de(Hee||(Hee=RTe([`
    position: sticky;
    top: 0;
    width: 100%;
    background: var(--card-bg-color);
    border-bottom: 1px solid var(--card-border-color);
    border-top-left-radius: `,`px;
    border-top-right-radius: `,`px;
  `])),t,t)});function RWt(e){const{children:t,header:n,onClose:r,referenceElement:o,containerRef:i,width:s}=e,a=h.useCallback(()=>{r(),o==null||o.focus()},[r,o]),l=c.jsx(IWt,{width:s,children:c.jsx(od,{autoFocus:!0,children:c.jsxs(ne,{ref:i,children:[c.jsx($Wt,{children:c.jsx(F,{padding:2,paddingLeft:3,children:c.jsxs(W,{align:"center",gap:2,children:[c.jsx(F,{flex:1,children:c.jsx(B,{textOverflow:"ellipsis",weight:"semibold",children:n})}),c.jsx(ae,{icon:la,mode:"bleed",onClick:a})]})})}),t]})})});return c.jsx(OWt,{portal:!0,constrainSize:!0,content:l,open:!0,referenceElement:o})}var Uee=Object.freeze,MWt=Object.defineProperty,FWt=(e,t)=>Uee(MWt(e,"raw",{value:Uee(t||e.slice())})),Wee;const LWt=O(ee)(()=>de(Wee||(Wee=FWt([`
    /* this is a hack to avoid layout jumps while previews are loading
    there's probably better ways of solving this */
    min-height: 35px;

    /* TextWithTone uses its own logic to set color, and we therefore need */
    /* to override this logic in order to set the correct color in different states */
    &[data-selected],
    &[data-pressed],
    &:active {
      [data-ui='TextWithTone'] {
        color: inherit;
      }
    }
  `])))),MTe=h.createContext({selected:!1});function BWt(){const e=h.useContext(MTe);if(!e)throw new Error("PreviewCard: missing context value");return e}const bv=h.forwardRef(function(t,n){const{children:r,selected:o,as:i,...s}=t;return c.jsx(LWt,{"data-ui":"PreviewCard",...s,forwardedAs:i,ref:n,selected:o,children:c.jsx(MTe.Provider,{value:{selected:o},children:r})})}),Xi={block:{width:33,height:33},blockImage:{width:600,height:400},default:{width:35,height:35},detail:{width:75,height:75},inline:{width:15,height:15},media:{width:160,height:160}},NWt={block:31,blockImage:45,default:33,detail:45,inline:15,media:45};var Yee=Object.freeze,zWt=Object.defineProperty,VWt=(e,t)=>Yee(zWt(e,"raw",{value:Yee(t||e.slice())})),qee;const FTe=O.span(e=>{const{$dimensions:t,$layout:n,$radius:r,$responsive:o}=e,i=t.width||0,s=t.width||0,a=NWt[n];return de(qee||(qee=VWt([`
    position: relative;
    width: `,`;
    height: `,`;
    min-width: `,`;
    border-radius: `,`;
    display: flex;
    overflow: hidden;
    overflow: clip;
    align-items: center;
    justify-content: center;

    & img {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: inherit;
    }

    & svg {
      display: block;
      flex: 1;
      font-size: calc(21 / 16 * 1em);
    }

    & [data-sanity-icon] {
      display: block;
      font-size: calc(`,` / 16 * 1em);
    }

    /*
      NOTE on why we can’t use the ":after" pseudo-element:
      The thing is we only want the shadow when then <MediaWrapper> contains
      something else than <svg> – icons should not have the shadow.
      This is why we use the "*:not(svg) + span" selector to target only that
      situation to render the shadow.
    */
    & *:not(svg) + span {
      display: block;
      position: absolute;
      left: 0;
      top: 0;
      right: 0;
      bottom: 0;
      box-shadow: inset 0 0 0 1px var(--card-fg-color);
      opacity: 0.2;
      border-radius: inherit;
    }
  `])),o?"100%":ge(i),o?"100%":ge(s),o?void 0:ge(i),l=>{let{theme:u}=l;return ge(u.sanity.radius[r])},a)});FTe.displayName="MediaWrapper";function Qw(e){const{border:t=!0,dimensions:n,layout:r,media:o,radius:i=1,responsive:s=!1,styles:a}=e;return c.jsxs(FTe,{$dimensions:n,$layout:r,$radius:i,$responsive:s,className:a==null?void 0:a.media,"data-testid":"Media",children:[HWt({dimensions:n,layout:r,media:o}),t&&c.jsx("span",{})]})}function HWt(e){const{dimensions:t,layout:n,media:r,styles:o}=e;return $r.isValidElementType(r)?h.createElement(r,{dimensions:t,layout:n}):typeof r=="string"?c.jsx(B,{as:"span",className:o==null?void 0:o.mediaString,children:r}):h.isValidElement(r)?r:null}function UWt(e,t,n){return $r.isValidElementType(e)?h.createElement(e,{layout:t,dimensions:n}):typeof e=="string"?c.jsx("div",{children:e}):e}function No(e,t,n){return typeof e=="string"?e:$r.isValidElementType(e)?h.createElement(e,{layout:t}):e||n}var Gee=Object.freeze,WWt=Object.defineProperty,lB=(e,t)=>Gee(WWt(e,"raw",{value:Gee(t||e.slice())})),Kee,Zee,Xee;const YWt={...Xi.default,aspect:1,fit:"crop",dpr:Sm()},Qee=O(W)(Kee||(Kee=lB([`
  height: `,`;
`])),ge(Xi.default.height)),qWt=O(Si).attrs({animated:!0,radius:1})(Zee||(Zee=lB([`
  max-width: `,`;
  width: 80%;
`])),ge(160)),GWt=O(Si).attrs({animated:!0,radius:1,size:1})(Xee||(Xee=lB([`
  max-width: `,`;
  width: 60%;
`])),ge(120));function LTe(e){const{title:t,subtitle:n,media:r,status:o,isPlaceholder:i,children:s,styles:a}=e,l=tpt(a==null?void 0:a.root,!!n&&(a==null?void 0:a.hasSubtitle)),u=o&&c.jsx(F,{className:a==null?void 0:a.status,"data-testid":"default-preview__status",paddingLeft:3,paddingRight:1,children:No(o,"default")});return i?c.jsxs(Qee,{align:"center",className:a==null?void 0:a.placeholder,"data-testid":"default-preview",children:[r!==!1&&c.jsx(A0,{animated:!0,marginRight:2,radius:2,style:Xi.default}),c.jsxs(ne,{"data-testid":"default-preview__heading",flex:1,paddingLeft:r===!1?1:2,paddingRight:o?0:1,space:2,children:[c.jsx(qWt,{}),c.jsx(GWt,{})]}),u]}):c.jsxs(Qee,{align:"center",className:l,"data-testid":"default-preview",children:[r!==!1&&r!==void 0&&c.jsx(Qw,{dimensions:YWt,layout:"default",media:r,styles:a}),c.jsxs(ne,{className:a==null?void 0:a.heading,"data-testid":"default-preview__header",flex:1,paddingLeft:r?2:1,paddingRight:o?0:1,space:2,children:[c.jsxs(B,{className:a==null?void 0:a.title,style:{color:"inherit"},textOverflow:"ellipsis",children:[t&&No(t,"default"),!t&&c.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})]}),n&&c.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",className:a==null?void 0:a.subtitle,children:No(n,"default")}),s&&c.jsx("div",{className:a==null?void 0:a.children,children:s})]}),u]})}var Jee=Object.freeze,KWt=Object.defineProperty,Om=(e,t)=>Jee(KWt(e,"raw",{value:Jee(t||e.slice())})),ete,tte,nte,rte,ote,ite,ste;const ate=O(W).attrs({align:"center"})(ete||(ete=Om([`
  height: `,`;
`])),ge(Xi.detail.height)),ZWt=O(F)(tte||(tte=Om([`
  white-space: nowrap;
`]))),XWt=O(A0).attrs({animated:!0,radius:2})(nte||(nte=Om([`
  width: `,`;
  height: `,`;
`])),ge(Xi.detail.width),ge(Xi.detail.height)),QWt=O(Si).attrs({animated:!0,radius:1})(rte||(rte=Om([`
  max-width: `,`; /* 80% of 200px */
  width: 80%;
`])),ge(160)),JWt=O(Si).attrs({animated:!0,radius:1,size:1})(ote||(ote=Om([`
  max-width: `,`; /* 60% of 200px */
  width: 60%;
`])),ge(120)),eYt=O(Si).attrs({animated:!0,radius:1,size:1})(ite||(ite=Om([`
  max-width: `,`; /* 90% of 200px */
  width: 90%;
`])),ge(180)),tYt=O(B)(e=>{let{theme:t}=e;const{fonts:n}=t.sanity,r=n.text.sizes[1],o=2,i=r.lineHeight*o;return de(ste||(ste=Om([`
    & > span {
      max-height: `,`;

      /* Multi-line text overflow */
      display: -webkit-box;
      overflow: hidden;
      overflow: clip;
      text-overflow: ellipsis;
      -webkit-line-clamp: `,`;
      -webkit-box-orient: vertical;
    }
  `])),ge(i),o)}),nYt={...Xi.detail,fit:"crop",aspect:1,dpr:Sm()};function rYt(e){const{title:t,subtitle:n,description:r,mediaDimensions:o=nYt,media:i,status:s,children:a,isPlaceholder:l}=e,u=s&&c.jsx(ZWt,{marginLeft:3,paddingRight:1,children:No(s,"detail")});return l?c.jsxs(ate,{"data-testid":"detail-preview",children:[i!==!1&&c.jsx(XWt,{"data-testid":"detail-preview__media"}),c.jsxs(F,{flex:1,paddingLeft:i===!1?1:2,children:[c.jsxs(W,{align:"center","data-testid":"detail-preview__header",children:[c.jsxs(ne,{flex:1,space:2,children:[c.jsx(QWt,{}),c.jsx(JWt,{})]}),u]}),r&&c.jsx(F,{marginTop:3,children:c.jsx(eYt,{})})]})]}):c.jsxs(ate,{"data-testid":"detail-preview",children:[i!==!1&&c.jsx(Qw,{dimensions:o,layout:"detail",media:i}),c.jsxs(F,{flex:1,paddingLeft:i===!1?1:2,children:[c.jsxs(W,{align:"center","data-testid":"detail-preview__header",children:[c.jsxs(ne,{flex:1,space:2,children:[c.jsxs(B,{textOverflow:"ellipsis",style:{color:"inherit"},children:[t&&No(t,"detail"),!t&&c.jsx(c.Fragment,{children:"Untitled"})]}),n&&c.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",children:No(n,"detail")})]}),u]}),r&&c.jsx(F,{marginTop:3,children:c.jsx(tYt,{muted:!0,size:1,children:No(r,"detail")})})]}),a]})}var lte=Object.freeze,oYt=Object.defineProperty,cB=(e,t)=>lte(oYt(e,"raw",{value:lte(t||e.slice())})),cte,ute,dte;const sl=43,uB=3,iYt=O.svg(cte||(cte=cB([`
  width: `,`px;
  height: `,`px;
  transform: rotate(-90deg);
`])),sl,sl),sYt=O.circle(e=>{let{theme:t}=e;const{color:n}=t.sanity;return de(ute||(ute=cB([`
    fill: none;
    stroke: `,`;
    stroke-width: `,`px;
  `])),fe.gray[n.dark?900:100].hex,uB)}),aYt=O.circle(e=>{let{theme:t}=e;const{color:n}=t.sanity;return de(dte||(dte=cB([`
    fill: none;
    stroke: `,`;
    stroke-width: `,`px;
    transition: stroke-dashoffset 75ms;
  `])),fe.blue[n.dark?400:500].hex,uB)});function lYt(e){const{value:t}=e,n=Math.min(Math.max(t,0),100),r=sl/2-uB/2,o=2*Math.PI*r,i=(100-n)/100*o,s="".concat(sl/2," ").concat(sl/2," ").concat(sl," ").concat(sl);return c.jsxs(iYt,{viewBox:s,children:[c.jsx(sYt,{cx:sl,cy:sl,r}),c.jsx(aYt,{cx:sl,cy:sl,r,style:{strokeDasharray:o,strokeDashoffset:"".concat(i,"px")}})]})}var fte=Object.freeze,cYt=Object.defineProperty,BTe=(e,t)=>fte(cYt(e,"raw",{value:fte(t||e.slice())})),hte,pte;const uYt=.5,dYt=O(ee)(hte||(hte=BTe([`
  overflow: hidden;
  overflow: clip;
`]))),fYt=O(ee)(e=>{let{theme:t}=e;const{color:n}=t.sanity;return de(pte||(pte=BTe([`
    height: `,`rem;
    background: `,`;
    transition: transform 75ms;
  `])),uYt,fe.blue[n.dark?400:500].hex)});function hYt(e){const{value:t}=e;return c.jsx(dYt,{radius:5,children:c.jsx(fYt,{radius:5,style:{transform:"translate3d(".concat(t-100,"%, 0, 0)")}})})}var mte=Object.freeze,pYt=Object.defineProperty,Jw=(e,t)=>mte(pYt(e,"raw",{value:mte(t||e.slice())})),gte,vte,yte,bte,xte;const mYt=O(F)(gte||(gte=Jw([`
  position: relative;
`]))),gYt=O(W).attrs({align:"center",justify:"center"})(vte||(vte=Jw([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
`]))),vYt=O(A0).attrs({animated:!0,radius:2})(yte||(yte=Jw([`
  width: 100%;
  height: 100%;
`]))),yYt=O(W).attrs({align:"center",justify:"center"})(bte||(bte=Jw([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;

  &:before {
    background-color: var(--card-bg-color);
    opacity: 0.75;
    content: '';
    display: block;
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
  }

  > svg {
    position: relative;
    z-index: 2;
  }
`]))),bYt=O(ne).attrs({padding:2,space:2})(xte||(xte=Jw([`
  max-width: `,`;
`])),ge(200)),xYt={...Xi.media,aspect:1,fit:"crop",dpr:Sm()};function wYt(e){const{media:t,mediaDimensions:n=xYt,children:r,isPlaceholder:o,progress:i=-1,subtitle:s,title:a,withBorder:l=!0,withRadius:u=!0}=e,d=n.aspect||1,f=h.useMemo(()=>({paddingBottom:"".concat(100/d,"%")}),[d]),p=h.useMemo(()=>!a||!s?null:c.jsxs(bYt,{children:[a&&c.jsx(B,{align:"center",size:1,weight:"semibold",children:No(a,"media")}),s&&c.jsx(B,{align:"center",muted:!0,size:1,children:No(s,"media")})]}),[s,a]);return c.jsxs(mYt,{"data-testid":"media-preview",overflow:"hidden",flex:1,children:[c.jsx("div",{style:f}),c.jsx(yt,{content:p,disabled:!p,placement:"top",portal:!0,children:c.jsxs(gYt,{children:[o?c.jsx(vYt,{}):c.jsx(Qw,{border:l,dimensions:n,layout:"media",media:t,radius:u?1:0,responsive:!0}),typeof i=="number"&&i>-1&&c.jsx(yYt,{children:c.jsx(lYt,{value:i})})]})}),r]})}var wte=Object.freeze,CYt=Object.defineProperty,dB=(e,t)=>wte(CYt(e,"raw",{value:wte(t||e.slice())})),Cte,_te,Ste;const _Yt=O(W).attrs({align:"center"})(Cte||(Cte=dB([`
  box-shadow: 0 0 0 1px var(--card-border-color);
  height: `,`;
  white-space: nowrap;
  position: relative;
  z-index: 1;
`])),ge(Xi.block.height)),SYt=O(ee)(_te||(_te=dB([`
  position: relative;
  padding-bottom: `,`%;

  & > span {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }
`])),e=>{let{$ratio:t}=e;return t}),EYt=O(F).attrs({overflow:"hidden"})(Ste||(Ste=dB([`
  border-radius: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.radius[1]}),kYt={...Xi.blockImage,fit:"fillmax",dpr:Sm()},jYt=e=>{const{height:t,width:n}=e;return!t||!n?1:t/n*100};function TYt(e){const{actions:t,title:n,subtitle:r,description:o,fallbackTitle:i="Untitled",mediaDimensions:s=kYt,media:a,children:l,status:u}=e;return c.jsxs(EYt,{children:[c.jsxs(ne,{children:[c.jsxs(_Yt,{paddingLeft:2,paddingRight:1,paddingY:1,children:[c.jsxs(ne,{flex:1,space:2,children:[(n||i)&&c.jsx(B,{size:1,textOverflow:"ellipsis",weight:"semibold",children:n?No(n,"block"):i}),r&&c.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",children:No(r,"block")})]}),c.jsxs(W,{gap:1,paddingLeft:1,children:[u&&c.jsx(F,{paddingX:2,paddingY:3,children:No(u,"block")}),t]})]}),c.jsx(SYt,{$ratio:jYt(s),__unstable_checkered:!0,display:"flex",sizing:"border",tone:"inherit",children:c.jsx(Qw,{border:!1,dimensions:s,layout:"blockImage",media:a,radius:0,responsive:!0})})]}),o&&c.jsx(F,{paddingX:2,paddingY:3,children:c.jsx(B,{muted:!0,size:1,children:No(o,"block")})}),l&&c.jsx("div",{children:l})]})}var Ete=Object.freeze,AYt=Object.defineProperty,DYt=(e,t)=>Ete(AYt(e,"raw",{value:Ete(t||e.slice())})),kte;const IYt={...Xi.block,aspect:1,fit:"crop",dpr:Sm()},PYt=O(W).attrs({align:"center"})(kte||(kte=DYt([`
  min-height: `,`;
`])),ge(Xi.block.height));function OYt(e){const{actions:t,title:n,subtitle:r,description:o,mediaDimensions:i=IYt,media:s,status:a,children:l}=e;return c.jsxs(ne,{"data-testid":"block-preview",space:1,children:[c.jsxs(PYt,{"data-testid":"block-preview__header",children:[s&&c.jsx(Qw,{dimensions:i,layout:"block",media:s}),c.jsxs(F,{flex:1,paddingLeft:s?2:1,children:[c.jsx(B,{size:1,textOverflow:"ellipsis",weight:"semibold",children:n?No(n,"block"):"Untitled"}),r&&c.jsx(F,{marginTop:2,children:c.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",children:No(r,"block")})}),o&&c.jsx(F,{marginTop:3,children:c.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",children:No(o,"block")})})]}),c.jsxs(W,{gap:1,paddingLeft:1,children:[a&&c.jsx(F,{paddingX:2,paddingY:3,children:No(a,"block")}),t]})]}),l&&c.jsx("div",{"data-testid":"block-preview__children",children:l})]})}var jte=Object.freeze,$Yt=Object.defineProperty,fB=(e,t)=>jte($Yt(e,"raw",{value:jte(t||e.slice())})),Tte,Ate,Dte;const RYt=O.span(Tte||(Tte=fB([`
  display: inline-flex;
  align-items: center;
  vertical-align: top;
  height: calc(1em - 1px);
  max-width: 100%;
`]))),MYt=O.span(Ate||(Ate=fB([`
  position: relative;
  display: inline-block;
  width: calc(1em - 1px);
  height: calc(1em - 1px);
  min-width: calc(1em - 1px);

  & img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: `,`;
  }

  & img + span {
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-fg-color);
    opacity: 0.2;
    border-radius: `,`;
  }

  & svg {
    display: block;
    font-size: calc(14 / 16 * 1em);
    margin: 1px 0;

    &[data-sanity-icon] {
      font-size: calc(18 / 16 * 1em);
      margin: calc(1px + (2 / 18 * -1em)) 0;
    }
  }
`])),e=>{let{theme:t}=e;return ge(t.sanity.radius[1])},e=>{let{theme:t}=e;return ge(t.sanity.radius[1])}),FYt=O(B).attrs({forwardedAs:"span"})(e=>{let{theme:t}=e;const n=t.sanity.fonts.text,r=n.sizes[1];return de(Dte||(Dte=fB([`
    font-size: calc(`,` / 16 * 1em);
    font-weight: `,`;
    box-sizing: border-box;
    display: inline-block;
    vertical-align: top;
    line-height: `,`;
    padding-left: 0.5em;
    padding-right: calc(0.5em - 2px);
    min-width: 0;

    & > span {
      display: block;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      overflow: clip;
    }
  `])),r.fontSize,n.weights.medium,r.lineHeight/r.fontSize)}),LYt={...Xi.inline,fit:"crop",aspect:1,dpr:Sm()};function BYt(e){const{title:t,fallbackTitle:n="Untitled",media:r,mediaDimensions:o=LYt}=e;return c.jsxs(RYt,{"data-testid":"inline-preview",children:[r&&c.jsxs(MYt,{"data-testid":"inline-preview-media",children:[UWt(r,"inline",o),c.jsx("span",{})]}),c.jsx(FYt,{"data-testid":"inline-preview-title",size:1,children:No(t,"inline",n)})]})}var Ite=Object.freeze,NYt=Object.defineProperty,hA=(e,t)=>Ite(NYt(e,"raw",{value:Ite(t||e.slice())})),Pte,Ote,$te,Rte;({...Xi.default,dpr:Sm()});O(F)(Pte||(Pte=hA([`
  height: 100%;

  a {
    color: currentColor;
    text-decoration: none;
  }

  svg[data-sanity-icon] {
    margin: 0;
  }
`])));O(W).attrs({align:"center"})(Ote||(Ote=hA([`
  height: `,`;
`])),ge(Xi.default.height));O(Si).attrs({animated:!0,radius:1})($te||($te=hA([`
  max-width: `,`;
  width: 80%;
`])),ge(160));O(Si).attrs({animated:!0,radius:1,size:1})(Rte||(Rte=hA([`
  max-width: `,`;
  width: 60%;
`])),ge(120));const zYt=["aria-hidden","disabled","href"],VYt='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';function HYt(e){return[...e.querySelectorAll(VYt)].filter(t=>!t.hasAttribute("disabled")&&t.getAttribute("aria-hidden")!=="true")}function NTe(e){const{direction:t="horizontal",initialFocus:n,loop:r=!0,navigation:o=["arrows"],pause:i=!1,rootElement:s}=e,[a,l]=h.useState(-1),[u,d]=h.useState([]),f=u.length,p=f-1,m=t==="horizontal"?"ArrowRight":"ArrowDown",v=t==="horizontal"?"ArrowLeft":"ArrowUp",g=h.useCallback(()=>{if(s){const y=HYt(s);d(y)}},[s]),b=h.useCallback(y=>{l(y)},[]),x=h.useCallback(y=>{if(i)return;const w=()=>{y.preventDefault(),l(_=>{const S=(_+p)%f;return!r&&S===p?_:S})},C=()=>{y.preventDefault(),l(_=>{const S=(_+1)%f;return!r&&S===0?_:S})};y.key==="Tab"&&o.includes("tab")&&(y.shiftKey?w():C()),o.includes("arrows")&&(y.key===v&&w(),y.key===m&&C())},[i,v,o,m,p,f,r]);h.useEffect(()=>{g()},[g,n,t]),h.useEffect(()=>{const y=new MutationObserver(g);return s&&y.observe(s,{childList:!0,subtree:!0,attributeFilter:zYt}),()=>{y.disconnect()}},[u,g,s]),h.useEffect(()=>{var y;u.forEach((w,C)=>{C===a?(w.setAttribute("tabIndex","0"),w.setAttribute("aria-selected","true"),w.focus(),w.onfocus=()=>b(C),w.onblur=()=>b(-1)):(w.setAttribute("tabIndex","-1"),w.setAttribute("aria-selected","false"),w.onfocus=()=>b(C))}),a===-1&&u&&((y=u[n==="last"?p:0])==null||y.setAttribute("tabIndex","0"))},[u,a,b,n,p]),h.useEffect(()=>(s==null||s.addEventListener("keydown",x),()=>{s==null||s.removeEventListener("keydown",x)}),[x,s])}const UYt=O(F)({position:"relative"}),WYt=O.div({position:"absolute",top:-4,right:-4,width:6,height:6,borderRadius:3,boxShadow:"0 0 0 1px var(--card-bg-color)"}),uh=h.forwardRef(function(t,n){const{disabled:r,fontSize:o,hotkey:i,icon:s,label:a,mode:l="bleed",space:u=3,text:d,tone:f,tooltip:p,...m}=t,v=Ds(),g=f&&v.sanity.color.solid[f],b=h.useMemo(()=>({backgroundColor:g==null?void 0:g.enabled.bg}),[g]),x=!!r,y=typeof r=="object"?c.jsx(B,{size:1,children:r.reason}):c.jsxs(W,{align:"center",gap:2,style:{lineHeight:0},children:[c.jsx(B,{size:1,children:a}),i&&c.jsx(jWt,{fontSize:0,keys:i,style:{margin:-4}})]});return c.jsx(yt,{padding:2,placement:"bottom",...p,content:y,disabled:!a,portal:!0,children:c.jsx("div",{children:c.jsx(ae,{"data-ui":"StatusButton",...m,"aria-label":a,disabled:x,mode:l,ref:n,children:c.jsxs(W,{gap:u,children:[c.jsxs(UYt,{children:[c.jsxs(B,{size:o,children:[h.isValidElement(s)&&s,$r.isValidElementType(s)&&h.createElement(s)]}),f&&c.jsx(WYt,{style:b})]}),d&&c.jsx(F,{flex:1,children:c.jsx(B,{size:o,children:d})})]})})})})});var Mte=Object.freeze,YYt=Object.defineProperty,qYt=(e,t)=>Mte(YYt(e,"raw",{value:Mte(t||e.slice())})),Fte;const GYt=O(B)(e=>{let{$tone:t,theme:n}=e;const r=n.sanity.color.muted[t];return de(Fte||(Fte=qYt([`
    &:not([data-muted]) {
      --card-fg-color: `,`;
    }

    &[data-dimmed] {
      opacity: 0.3;
    }
  `])),r?r.enabled.fg:void 0)}),sr=re.forwardRef(function(t,n){const{tone:r,dimmed:o,muted:i,...s}=t;return c.jsx(GYt,{"data-ui":"TextWithTone","data-dimmed":o?"":void 0,"data-muted":i?"":void 0,$tone:r,muted:i,ref:n,...s})}),eC=h.forwardRef(function(t,n){const{children:r,content:o,disabled:i,...s}=t;return c.jsx(yt,{...s,content:o,disabled:i||!o,padding:2,ref:n,children:c.jsx("div",{children:r})})}),hB=h.forwardRef((e,t)=>{const{push:n}=Ai();return h.useImperativeHandle(t,()=>({push:n})),null});hB.displayName="ImperativeToast";const KYt={navbar:200,navbarPopover:5e5,navbarDialog:500001,pane:100,paneHeader:[110,15e3],paneFooter:[120,2e4],paneResizer:[130,25e3],popover:200,modal:200,movingItem:1e4,drawershade:1e6,drawer:1000001,fullscreen:12e5,toast:[100,11e3],portal:200,dropdown:200,navbarFixed:1010,fullscreenEdit:1050,popoverBackground:1060,tooltip:200,modalBackground:2e3,spinner:3e3},ZYt=h.createContext(KYt);function XYt(){return h.useContext(ZYt)}function n0(e){let{children:t,zOffset:n}=e;const o=XYt()[n];return c.jsx(Ff,{zOffset:o,children:t})}function QYt(){const e=new WeakMap,t=new WeakMap;function n(){return Array.from({length:10}).map(()=>Math.floor(Math.random()*255).toString(16).padStart(2,"0")).join("")}function r(u){const d=t.get(u);if(d)return d;const f=n();return t.set(u,f),f}function o(u){return Array.from(new Set(u)).map(d=>[r(d),d]).sort((d,f)=>{let[p]=d,[m]=f;return p.localeCompare(m,"en")}).map(d=>{let[,f]=d;return f})}function i(u,d){if(!u.length)return;const[f,...p]=u,m=d.get(f);if(m)return p.length?i(p,m.next):m.value}function s(u,d,f){if(!u.length)return;const[p,...m]=u,v=d.get(p)||{type:"multi-key-weak-map-node",value:void 0,next:new WeakMap};if(d.set(p,v),!m.length){v.value=f;return}s(m,v.next,f)}function a(u){return i(o(u),e)}function l(u,d){s(o(u),e,d)}return{get:a,set:l}}const zTe=h.createContext(null);function JYt(e){let{children:t}=e;const n=h.useMemo(()=>{const r=new Map,o={};return{get:i=>{let{namespace:s,dependencies:a}=i;const l=a.map(d=>d===null?o:d),u=r.get(s);return u==null?void 0:u.get(l)},set:i=>{let{namespace:s,dependencies:a,value:l}=i;const u=r.get(s)||QYt(),d=a.map(f=>f===null?o:f);r.set(s,u),u.set(d,l)}}},[]);return c.jsx(zTe.Provider,{value:n,children:t})}function fd(){const e=h.useContext(zTe);if(!e)throw new Error("Could not find `cache` context");return e}var eqt=Object.defineProperty,tqt=(e,t,n)=>t in e?eqt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nqt=(e,t,n)=>(tqt(e,typeof t!="symbol"?t+"":t,n),n);class pB extends Error{constructor(t){let{projectId:n}=t;super("CorsOriginError"),nqt(this,"projectId"),this.projectId=n}}const mB=(()=>{const e="__tmp_supports_local_storage";try{return typeof localStorage>"u"?!1:(localStorage.setItem(e,"---"),localStorage.removeItem(e),!0)}catch{return!1}})(),gB={};function VTe(e,t){mB?localStorage[e]=t:gB[e]=t}function rqt(e){return mB?localStorage[e]:gB[e]}function HTe(e){mB?localStorage.removeItem(e):delete gB[e]}function oqt(e){const t=typeof window>"u"?be():Zi(window,"storage"),n="__studio_local_storage_messaging_".concat(e),r=new Ar,o=xn(r,t.pipe(ct(s=>s.key===n),ce(s=>s.newValue),ct(po),ce(s=>JSON.parse(s)))).pipe(To(1));function i(s){try{VTe(n,JSON.stringify(s)),HTe(n),r.next(s)}catch{}}return{messages:o,broadcast:i}}const Lte=/sid=([^&]{20,})&?/;function iqt(){if(typeof window>"u"||typeof window.location!="object")return null;const e=window.location.hash,[,t]=e.match(Lte)||[];if(!t)return null;const n=e.replace(Lte,""),r=new URL(window.location.href);return r.hash=n.length>1?n:"",history.replaceState(null,"",r),t}let Bte=iqt();const sqt=()=>{const e=Bte;return e&&(Bte=null),e};var Nte=Object.freeze,aqt=Object.defineProperty,UTe=(e,t)=>Nte(aqt(e,"raw",{value:Nte(t||e.slice())})),zte,Vte;const lqt=O.svg(e=>{let{theme:t}=e;const{fg:n}=t.sanity.color.base;return de(zte||(zte=UTe([`
    fill: `,`;
  `])),n)}),cqt=O.img(Vte||(Vte=UTe([`
  height: 19px;
  width: 19px;
  object-fit: contain;
`]))),uqt=()=>c.jsx(lqt,{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 438.55 438.55",children:c.jsx("path",{d:"M409.13 114.57a218.32 218.32 0 0 0-79.8-79.8Q278.94 5.36 219.27 5.36T109.21 34.77a218.29 218.29 0 0 0-79.8 79.8Q0 165 0 224.63q0 71.67 41.83 128.91t108.06 79.23q7.71 1.43 11.42-2a11.17 11.17 0 0 0 3.69-8.57q0-.86-.14-15.42t-.14-25.41l-6.57 1.14a83.77 83.77 0 0 1-15.85 1 120.73 120.73 0 0 1-19.84-2 44.34 44.34 0 0 1-19.11-8.51 36.23 36.23 0 0 1-12.56-17.6l-2.86-6.57a71.34 71.34 0 0 0-9-14.56q-6.14-8-12.42-10.85l-2-1.43a21 21 0 0 1-3.71-3.43 15.66 15.66 0 0 1-2.57-4q-.86-2 1.43-3.29C61.2 310.42 64 310 68 310l5.71.85q5.71 1.14 14.13 6.85a46.08 46.08 0 0 1 13.85 14.84q6.57 11.71 15.85 17.85t18.7 6.14a81.19 81.19 0 0 0 16.27-1.42 56.78 56.78 0 0 0 12.85-4.29q2.57-19.14 14-29.41a195.49 195.49 0 0 1-29.36-5.13 116.52 116.52 0 0 1-26.83-11.14 76.86 76.86 0 0 1-23-19.13q-9.14-11.42-15-30t-5.8-42.81q0-34.55 22.56-58.82-10.57-26 2-58.24 8.28-2.57 24.55 3.85t23.84 11q7.57 4.56 12.13 7.71a206.2 206.2 0 0 1 109.64 0l10.85-6.85a153.65 153.65 0 0 1 26.26-12.56q15.13-5.71 23.13-3.14 12.84 32.26 2.28 58.24 22.55 24.27 22.56 58.82 0 24.27-5.85 43t-15.12 30a79.82 79.82 0 0 1-23.13 19 116.74 116.74 0 0 1-26.84 11.14 195.29 195.29 0 0 1-29.23 5.07q14.8 12.84 14.81 40.58v60.2a11.37 11.37 0 0 0 3.57 8.56q3.57 3.42 11.28 2 66.24-22 108.07-79.23t41.83-128.91q-.03-59.62-29.43-110.05z"})}),dqt=()=>c.jsxs("svg",{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[c.jsx("path",{d:"M11 24a13 13 0 0 1 .66-4.08l-7.4-5.66a22.18 22.18 0 0 0 0 19.49l7.4-5.67A13 13 0 0 1 11 24z",fill:"#fbbc05"}),c.jsx("path",{d:"M24 11a12.72 12.72 0 0 1 8.1 2.9l6.4-6.4a22 22 0 0 0-34.24 6.75l7.4 5.66A13 13 0 0 1 24 11z",fill:"#ea4335"}),c.jsx("path",{d:"M24 37a13 13 0 0 1-12.34-8.92l-7.4 5.66A21.93 21.93 0 0 0 24 46a21 21 0 0 0 14.33-5.48l-7-5.44A13.59 13.59 0 0 1 24 37zm-12.35-8.93l-7.4 5.67 7.4-5.66z",fill:"#34a853"}),c.jsx("path",{d:"M44.5 20H24v8.5h11.8a9.91 9.91 0 0 1-4.49 6.58l7 5.44C42.37 36.76 45 31.17 45 24a18.25 18.25 0 0 0-.5-4z",fill:"#4285f4"})]});function fqt(e){const{provider:t}=e;return t.logo?c.jsx(cqt,{src:t.logo,alt:"Logo for ".concat(t.name)}):void 0}const hqt={google:dqt,github:uqt};async function pqt(e){let{client:t,mode:n,providers:r=[]}=e;if(n==="replace"&&Array.isArray(r))return r;const{providers:o}=await t.request({uri:"/auth/providers"});return typeof r=="function"?r(o):r.length===0?o:n==="replace"?r:o.filter(i=>r.some(s=>s.url!==i.url)).concat(r)}function Hte(e){let{loginMethod:t="dual",projectId:n,url:r,basePath:o}=e;const i=new URLSearchParams;return i.set("origin","".concat(window.location.origin).concat(o)),i.set("projectId",n),t==="token"?i.set("withSid","true"):i.set("type",t),"".concat(r,"?").concat(i)}function mqt(e){let{getClient:t,loginMethod:n,redirectOnSingle:r,...o}=e;const i=ch(t);function s(a){let{projectId:l,basePath:u}=a;const[d,f]=h.useState(null),[p,m]=h.useState(null);if(p)throw p;const[v]=i();h.useEffect(()=>{v&&pqt({client:v,...o}).then(f).catch(m)},[v]);const g=r&&(d==null?void 0:d.length)===1&&(d==null?void 0:d[0])&&Hte({loginMethod:n,projectId:l,url:d[0].url,basePath:u}),b=!d||g;return h.useEffect(()=>{g&&(window.location.href=g)},[g]),b?c.jsxs(W,{align:"center",direction:"column",gap:4,justify:"center",padding:6,sizing:"border",children:[c.jsx(B,{muted:!0,children:"Loading…"}),c.jsx(Hr,{muted:!0})]}):c.jsxs(ne,{space:4,children:[c.jsx(oi,{align:"center",size:1,children:"Choose login provider"}),c.jsx(ne,{space:2,children:d.map((x,y)=>c.jsx(ae,{as:"a",icon:hqt[x.name]||c.jsx(fqt,{provider:x}),href:Hte({loginMethod:n,projectId:l,url:x.url,basePath:u}),mode:"ghost",text:x.title},"".concat(x.url,"_").concat(y)))})]})}return s}const vB=e=>{if(!e)throw new Error("Invalid project id");return"__studio_auth_token_".concat(e)},Ute=e=>{try{const t=rqt(vB(e));if(t){const{token:n}=JSON.parse(t);if(n&&typeof n=="string")return n}}catch(t){console.error(t)}return null},WTe=e=>{try{HTe(vB(e))}catch(t){console.error(t)}},gqt=e=>{let{token:t,projectId:n}=e;try{VTe(vB(n),JSON.stringify({token:t,time:new Date().toISOString()}))}catch(r){console.error(r)}},Wte=async(e,t)=>{var n;try{const r=await e.request({uri:"/users/me",withCredentials:!0,tag:"users.get-current"});return typeof(r==null?void 0:r.id)=="string"?r:null}catch(r){if(r.statusCode===401)return WTe(e.config().projectId||""),t(null),null;if(await e.request({uri:"/ping",withCredentials:!1,tag:"cors-check"}).then(()=>!0,()=>!1))throw new pB({projectId:(n=e.config())==null?void 0:n.projectId});if(r.isNetworkError&&!r.message&&r.request&&r.request.url){const i=new URL(r.request.url).host;throw new Error("Unknown network error attempting to reach ".concat(i))}throw r}};function vqt(e){let{clientFactory:t,projectId:n,dataset:r,apiHost:o,loginMethod:i="dual",...s}=e;const{broadcast:a,messages:l}=oqt("dual_mode_auth_".concat(n)),u=t??y2e,d=l.pipe(ki(i==="dual"?Ute(n):null)),f={};o&&(f.apiHost=o);const p=d.pipe(ce(x=>u({projectId:n,dataset:r,apiVersion:"2021-06-07",useCdn:!1,...x&&{token:x},withCredentials:!0,requestTagPrefix:"sanity.studio",ignoreBrowserTokenWarning:!0,allowReconfigure:!1,...f})),tt(x=>jo(async()=>{const y=await Wte(x,a);return{currentUser:y,client:x,authenticated:!!y}})),Kn((x,y)=>Yt(x.currentUser,y.currentUser)),To(1));async function m(){const x=sqt();if(!x){a(i==="cookie"?null:Ute(n));return}const y=u({projectId:n,dataset:r,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...f});let w;if((i==="dual"||i==="cookie")&&(w=await Wte(y,a)),w||i==="cookie"){a(null);return}const C=await v(y,x);a(C??null)}async function v(x,y){const{token:w}=await x.request({method:"GET",uri:"/auth/fetch",query:{sid:y},tag:"auth.fetch-token"});return gqt({token:w,projectId:n}),w}async function g(){const x=u({projectId:n,dataset:r,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...f});WTe(n),await x.request({uri:"/auth/logout",method:"POST"}),a(null)}const b=mqt({...s,getClient:()=>p.pipe(ce(x=>x.client)),loginMethod:i});return{handleCallbackUrl:m,token:d,state:p,LoginComponent:b,logout:g}}function YTe(e){return typeof e!="object"||e===null?"".concat(e):JSON.stringify(Object.fromEntries(Object.entries(e).sort((t,n)=>{let[r]=t,[o]=n;return r.localeCompare(o,"en")}).map(t=>{let[n,r]=t;return[n,YTe(r)]})))}const yqt=cT(vqt,YTe);function bqt(e){return Ct(e)&&"state"in e&&Ct(e.state)&&"subscribe"in e.state&&typeof e.state.subscribe=="function"}function qTe(e){if(e==="google")return"Google";if(e==="github")return"GitHub";if(e==="sanity")return"Sanity";if(e!=null&&e.startsWith("saml-"))return"SAML/SSO"}function xqt(e){return t=>{let n=[];const r=Xn((o,i)=>(n.push(o),e(o,n.length,i).pipe(r)));return t.pipe(Wn(()=>{n=[]}),r)}}const Yte=typeof window>"u"?be({}):Zi(window,"online"),wqt=typeof window>"u"?be({}):Zi(window,"offline"),Cqt=e=>Math.pow(2,e)*100,_qt={type:"connecting"},GTe=eCe(),Sqt=GTe[0];GTe[1];const Eqt=e=>{let{error:t,isOffline:n,attemptNo:r,retryAt:o}=e;return{type:"error",error:t,attemptNo:r,isOffline:n,retryAt:o}};function kqt(e){let{bifur:t}=e;return{connectionStatus$:xn(t.heartbeats,wqt.pipe(Wp(D0(new Error("The browser went offline"))))).pipe(ce(r=>({type:"connected",lastHeartbeat:r})),xqt((r,o,i)=>{const s=Math.min(24e4,Cqt(o)),a=new Date(new Date().getTime()+s),l=Ei(a),u=!navigator.onLine,d=Eqt({error:r,retryAt:a,isOffline:u,attemptNo:o}),f=WL.pipe(qL(u?Yte:xn(l,Yte,Sqt)));return ho(be(d),f.pipe(ys(1)),i)}),ki(_qt))}}const jqt=yve(e=>{let{theme:t}=e;const{color:n,fonts:r}=t.sanity;return{html:{backgroundColor:n.base.bg},"#sanity":{fontFamily:r.text.family}}});function qte(e){const t=["projectId"in e&&"`projectId` not allowed in plugin configuration","dataset"in e&&"`dataset` not allowed in plugin configuration"].filter(vT);if(t.length)throw new Error(`Invalid plugin configuration:
`.concat(t.map(n=>"	".concat(n)).join(`
`)))}function yB(e){if(typeof e=="function"){const t=e;return n=>{const r=t(n);return qte(r),r}}return qte(e),()=>e}const Tqt=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.unstable_fieldActions;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.unstable_fieldActions` to be an array or a function, but received ".concat(typeof o))},Aqt=[];var Dqt=Object.defineProperty,Iqt=(e,t,n)=>t in e?Dqt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,t2=(e,t,n)=>(Iqt(e,typeof t!="symbol"?t+"":t,n),n);const vf=class KTe{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t2(this,"message"),t2(this,"paths"),t2(this,"children"),t2(this,"operation"),this.message=t,this.paths=n.paths||[],this.children=n.children,this.operation=n.operation}cloneWithMessage(t){return new KTe(t,{paths:this.paths,children:this.children,operation:this.operation})}};function Pqt(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}function bB(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(_l(n))return"".concat(t,'[_key=="').concat(n._key,'"]');throw new Error('Unsupported path segment "'.concat(n,'"'))},"")}function Oqt(e){return e!==null||e!==void 0}function kb(e,t,n){var r;if(!n)throw new Error("missing context");if(e===!0)return[];if(Array.isArray(e))return e.flatMap(i=>kb(i,t,n)).filter(Oqt);if(typeof e=="string")return kb(new vf(e),t,n);if(!(e instanceof vf)){if(typeof(e==null?void 0:e.message)!="string")throw new Error("".concat(bB(n.path),": Validator must return 'true' if valid or an error message as a string on errors"));return kb(new vf(e.message,e),t,n)}const o=[];return(r=e.paths)!=null&&r.length?o.concat(e.paths.map(i=>({path:(n.path||[]).concat(i),level:t||"error",item:e}))):[{level:t||"error",item:e,path:n.path||[]}]}const $qt={}.toString,Gte=[Object,Function,Array,String,Boolean,Number,Date,RegExp,Error];function Rqt(e){for(let t=0;t<Gte.length;t++)if(Gte[t]===e)return!0;return!1}function ZTe(e){const t=$qt.call(e).slice(8,-1);if(e==null)return t.toLowerCase();const n=e.constructor;return n&&!Rqt(n)?n.name:t}function $x(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!$x(e[n],t[n]))return!1;return!0}if(Array.isArray(e)!=Array.isArray(t))return!1;if(e&&t&&typeof e=="object"&&typeof t=="object"){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof Date!=t instanceof Date)return!1;if(e instanceof RegExp&&t instanceof RegExp)return e.toString()==t.toString();if(e instanceof RegExp!=t instanceof RegExp)return!1;for(let r=0;r<n.length;r++)if(n[r]!=="_key"&&!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;for(let r=0;r<n.length;r++){const o=n[r];if(o!=="_key"&&!$x(e[o],t[o]))return!1}return!0}return!1}const Kte=5e3,Zte=e=>{var t;let n;return e.message?n=e.message:e.results.length===1?n=(t=e.results[0])==null?void 0:t.item.message:n="[".concat(e.results.map(r=>r.item.message).join(" - ".concat(e.operation," - ")),"]"),new vf(n,{children:e.results.length>1?e.results:void 0,operation:e.operation})},$m={type:(e,t,n)=>{const r=ZTe(t);return r!==e&&r!=="undefined"?n||'Expected type "'.concat(e,'", got "').concat(r,'"'):!0},presence:(e,t,n)=>t===void 0&&e==="required"?n||"Value is required":!0,all:async(e,t,n,r)=>{const i=(await Promise.all(e.map(s=>s.validate(t,r)))).flat();return i.length?Zte({message:n,results:i,operation:"AND"}):!0},either:async(e,t,n,r)=>{const i=(await Promise.all(e.map(s=>s.validate(t,r)))).flat();return i.length<e.length?!0:Zte({message:n,results:i,operation:"OR"})},valid:(e,t,n)=>{const r=typeof t;if(r==="undefined")return!0;const o=(r==="number"||r==="string")&&"".concat(t),i=o&&o.length>30?"".concat(o.slice(0,30),"…"):o,s=o?'Value "'.concat(i,'" did not match any allowed values'):"Value did not match any allowed values";return e.some(a=>$x(a,t))?!0:n||s},custom:async(e,t,n,r)=>{const o=setTimeout(()=>{console.warn("Custom validator at ".concat(bB(r.path)," has taken more than ").concat(Kte,"ms to respond"))},Kte);let i;try{i=await e(t,r)}finally{clearTimeout(o)}return typeof i=="string"&&n||i}},Mqt={...$m,presence:(e,t,n)=>e==="required"&&typeof t!="boolean"?n||"Required":!0},Fqt=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,Lqt={...$m,integer:(e,t,n)=>Number.isInteger(t)?!0:n||"Must be an integer",precision:(e,t,n)=>{if(t===void 0)return!0;const r=t.toString().match(Fqt);return Math.max((r[1]?r[1].length:0)-(r[2]?parseInt(r[2],10):0),0)>e?n||"Max precision is ".concat(e):!0},min:(e,t,n)=>t>=e?!0:n||"Must be greater than or equal ".concat(e),max:(e,t,n)=>t<=e?!0:n||"Must be less than or equal ".concat(e),greaterThan:(e,t,n)=>t>e?!0:n||"Must be greater than ".concat(e),lessThan:(e,t,n)=>t<e?!0:n||"Must be less than ".concat(e)},EO="http://sanity",Bqt=e=>/^\.*\//.test(e),Nqt=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,zqt={...$m,min:(e,t,n)=>!t||t.length>=e?!0:n||"Must be at least ".concat(e," characters long"),max:(e,t,n)=>!t||t.length<=e?!0:n||"Must be at most ".concat(e," characters long"),length:(e,t,n)=>(t||"").length===e?!0:n||"Must be exactly ".concat(e," characters long"),uri:(e,t,n)=>{const r=t||"",{options:o}=e,{allowCredentials:i,relativeOnly:s}=o,a=o.allowRelative||s;let l;try{l=a?new URL(r,EO):new URL(r)}catch{return n||"Not a valid URL"}if(s&&l.origin!==EO)return n||"Only relative URLs are allowed";if(!a&&l.origin===EO&&Bqt(r))return n||"Relative URLs are not allowed";if(!i&&(l.username||l.password))return n||"Username/password not allowed";const u=l.protocol.replace(/:$/,"");return o.scheme.some(f=>f.test(u))?!0:n||"Does not match allowed protocols/schemes"},stringCasing:(e,t,n)=>{const r=t||"";return e==="uppercase"&&r!==r.toLocaleUpperCase()?n||"Must be all uppercase letters":e==="lowercase"&&r!==r.toLocaleLowerCase()?n||"Must be all lowercase letters":!0},presence:(e,t,n)=>e==="required"&&!t?n||"Required":!0,regex:(e,t,n)=>{const{pattern:r,name:o,invert:i}=e,s=o||'"'.concat(r.toString(),'"'),a=t||"";r.lastIndex=0;const l=r.test(a);if(!i&&!l||i&&l){const u=i?"Should not match ".concat(s,"-pattern"):"Does not match ".concat(s,"-pattern");return n||u}return!0},email:(e,t,n)=>{const r="".concat(t||"").trim();return!r||Nqt.test(r)?!0:n||"Must be a valid email address"}},Vqt={...$m,min:(e,t,n)=>!t||t.length>=e?!0:n||"Must have at least ".concat(e," items"),max:(e,t,n)=>!t||t.length<=e?!0:n||"Must have at most ".concat(e," items"),length:(e,t,n)=>!t||t.length===e?!0:n||"Must have exactly ".concat(e," items"),presence:(e,t,n)=>e==="required"&&!t?n||"Required":!0,valid:(e,t,n)=>{if(typeof t==="undefined")return!0;const o=[];for(let i=0;i<t.length;i++){const s=t[i];if(e.some(l=>$x(l,s)))continue;const a=s&&s._key?{_key:s._key}:i;o.push([a])}return o.length===0?!0:new vf(n||"Value did not match any allowed values",{paths:o})},unique:(e,t,n)=>{const r=[];if(!t)return!0;for(let i=0;i<t.length;i++)for(let s=i+1;s<t.length;s++){const a=t[i],l=t[s];$x(a,l)&&(r.indexOf(i)===-1&&r.push(i),r.indexOf(s)===-1&&r.push(s))}const o=r.map(i=>{const s=t[i];return[s&&s._key?{_key:s._key}:i]});return r.length>0?new vf(n||"Can't be a duplicate",{paths:o}):!0}},Hqt=["_key","_type","_weak"],Uqt={...$m,presence:(e,t,n)=>{if(e!=="required")return!0;const r=t&&Object.keys(t).filter(o=>!Hqt.includes(o));return t===void 0||r&&r.length===0?n||"Required":!0},reference:async(e,t,n,r)=>{if(!t)return!0;if(!Zu(t))return n||"Must be a reference to a document";const{type:o,getDocumentExists:i}=r;if(!o)throw new Error("`type` was not provided in validation context");if("weak"in o&&o.weak)return!0;if(!i)throw new Error("`getDocumentExists` was not provided in validation context");return await i({id:t._ref})?!0:"This reference must be published"},assetRequired:(e,t,n)=>{if(!t||!t.asset||!t.asset._ref){const r=e.assetType||"Asset";return n||"".concat(r," required")}return!0}};function Xte(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const Wqt=/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/,Qte=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r="yyyy-MM-dd";return n&&n.dateFormat&&(r=n.dateFormat),e==="date"?Zo(new Date(t),r):(n&&n.timeFormat?r+=" ".concat(n.timeFormat):r+=" HH:mm",Zo(new Date(t),r))};function n2(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!e)return null;if(e==="now")return new Date;const n=new Date(e),r=isNaN(n.getTime());if(r&&t)throw new Error('Unable to parse "'.concat(e,'" to a date'));return r?null:n}const Yqt={...$m,type:(e,t,n)=>!"".concat(t)||Wqt.test(t)?!0:n||"Must be a valid ISO-8601 formatted date string",min:(e,t,n,r)=>{const o=n2(t);if(!o||!t||o>=n2(e,!0))return!0;if(!r.type)throw new Error("`type` was not provided in validation context.");const i=Xte(r.type.options)?r.type.options:{},s=Qte(r.type.name,e,i);return n||"Must be at or after ".concat(s)},max:(e,t,n,r)=>{const o=n2(t);if(!o||!t||o<=n2(e,!0))return!0;if(!r.type)throw new Error("`type` was not provided in validation context.");const i=Xte(r.type.options)?r.type.options:{},s=Qte(r.type.name,e,i);return n||"Must be at or before ".concat(s)}};var qqt=Object.defineProperty,Gqt=(e,t,n)=>t in e?qqt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,di=(e,t,n)=>(Gqt(e,typeof t!="symbol"?t+"":t,n),n),vo;const Kqt={Boolean:Mqt,Number:Lqt,String:zqt,Array:Vqt,Object:Uqt,Date:Yqt},XTe=e=>e&&e.type?XTe(e.type):e,Zqt=e=>typeof e!="object"||!e?!1:e.type===i4.FIELD_REF,Xqt=[],Jte=Symbol("FIELD_REF"),Qqt=["Array","Boolean","Date","Number","Object","String"],i4=(vo=class{constructor(e){di(this,"_type"),di(this,"_level"),di(this,"_required"),di(this,"_typeDef"),di(this,"_message"),di(this,"_rules",[]),di(this,"_fieldRules"),di(this,"valueOfField",vo.valueOfField.bind(vo)),this._typeDef=e,this.reset()}_mergeRequired(e){if(this._required==="required"||e._required==="required")return"required";if(this._required==="optional"||e._required==="optional")return"optional"}error(e){const t=this.clone();return t._level="error",t._message=e||void 0,t}warning(e){const t=this.clone();return t._level="warning",t._message=e||void 0,t}info(e){const t=this.clone();return t._level="info",t._message=e||void 0,t}reset(){return this._type=this._type||void 0,this._rules=(this._rules||[]).filter(e=>e.flag==="type"),this._message=void 0,this._required=void 0,this._level="error",this._fieldRules=void 0,this}isRequired(){return this._required==="required"}clone(){const e=new vo;return e._type=this._type,e._message=this._message,e._required=this._required,e._rules=x2t(this._rules),e._level=this._level,e._fieldRules=this._fieldRules,e._typeDef=this._typeDef,e}cloneWithRules(e){const t=this.clone(),n=new Set;return e.forEach(r=>{r.flag==="type"&&(t._type=r.constraint),n.add(r.flag)}),t._rules=t._rules.filter(r=>{const o=["type","uri","email"].includes(r.flag),i=n.has(r.flag);return!(o&&i)}).concat(e),t}merge(e){if(this._type&&e._type&&this._type!==e._type)throw new Error("merge() failed: conflicting types");const t=this.cloneWithRules(e._rules);return t._type=this._type||e._type,t._message=this._message||e._message,t._required=this._mergeRequired(e),t._level=this._level==="error"?e._level:this._level,t}type(e){const t="".concat(e.slice(0,1).toUpperCase()).concat(e.slice(1));if(!Qqt.includes(t))throw new Error('Unknown type "'.concat(e,'"'));const n=this.cloneWithRules([{flag:"type",constraint:t}]);return n._type=t,n}all(e){return this.cloneWithRules([{flag:"all",constraint:e}])}either(e){return this.cloneWithRules([{flag:"either",constraint:e}])}optional(){const e=this.cloneWithRules([{flag:"presence",constraint:"optional"}]);return e._required="optional",e}required(){const e=this.cloneWithRules([{flag:"presence",constraint:"required"}]);return e._required="required",e}custom(e){return this.cloneWithRules([{flag:"custom",constraint:e}])}min(e){return this.cloneWithRules([{flag:"min",constraint:e}])}max(e){return this.cloneWithRules([{flag:"max",constraint:e}])}length(e){return this.cloneWithRules([{flag:"length",constraint:e}])}valid(e){const t=Array.isArray(e)?e:[e];return this.cloneWithRules([{flag:"valid",constraint:t}])}integer(){return this.cloneWithRules([{flag:"integer"}])}precision(e){return this.cloneWithRules([{flag:"precision",constraint:e}])}positive(){return this.cloneWithRules([{flag:"min",constraint:0}])}negative(){return this.cloneWithRules([{flag:"lessThan",constraint:0}])}greaterThan(e){return this.cloneWithRules([{flag:"greaterThan",constraint:e}])}lessThan(e){return this.cloneWithRules([{flag:"lessThan",constraint:e}])}uppercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"uppercase"}])}lowercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"lowercase"}])}regex(e,t,n){var r,o;const i=typeof t=="string"?t:(r=t==null?void 0:t.name)!=null?r:n==null?void 0:n.name,s=typeof t=="string"?!1:(o=t==null?void 0:t.invert)!=null?o:n==null?void 0:n.invert,a={pattern:e,name:i,invert:s||!1};return this.cloneWithRules([{flag:"regex",constraint:a}])}email(){return this.cloneWithRules([{flag:"email"}])}uri(e){const t=(e==null?void 0:e.scheme)||["http","https"],n=Array.isArray(t)?t:[t];if(!n.length)throw new Error("scheme must have at least 1 scheme specified");const r={options:{scheme:n.map(o=>{if(!(o instanceof RegExp)&&typeof o!="string")throw new Error("scheme must be a RegExp or a String");return typeof o=="string"?new RegExp("^".concat(Pqt(o),"$")):o}),allowRelative:(e==null?void 0:e.allowRelative)||!1,relativeOnly:(e==null?void 0:e.relativeOnly)||!1,allowCredentials:(e==null?void 0:e.allowCredentials)||!1}};return this.cloneWithRules([{flag:"uri",constraint:r}])}unique(){return this.cloneWithRules([{flag:"unique"}])}reference(){return this.cloneWithRules([{flag:"reference"}])}fields(e){if(this._type!=="Object")throw new Error("fields() can only be called on an object type");const t=this.cloneWithRules([]);return t._fieldRules=e,t}assetRequired(){const e=XTe(this._typeDef);let t;return e&&["image","file"].includes(e.name)?t=e.name==="image"?"Image":"File":t="Asset",this.cloneWithRules([{flag:"assetRequired",constraint:{assetType:t}}])}async validate(e,t){if(!t)throw new Error("missing context");const n=e==null;if(n&&this._required==="optional")return Xqt;const r=this._required===void 0&&n?this._rules.filter(s=>s.flag==="custom"):this._rules,o=this._type&&Kqt[this._type]||$m;return(await Promise.all(r.map(async s=>{if(s.flag===void 0)throw new Error('Invalid rule, did not contain "flag"-property');const a=o[s.flag];if(!a){const d=this._type?'type "'.concat(this._type,'"'):"rule without declared type";throw new Error('Validator for flag "'.concat(s.flag,'" not found for ').concat(d))}let l="constraint"in s?s.constraint:null;Zqt(l)&&(l=Nn(t.parent,l.path));let u;try{u=await a(l,e,this._message,t)}catch(d){const f=new vf("".concat(bB(t.path),": Exception occurred while validating value: ").concat(d.message));return kb(f,"error",t)}return kb(u,this._level,t)}))).flat()}},di(vo,"FIELD_REF",Jte),di(vo,"array",e=>new vo(e).type("Array")),di(vo,"object",e=>new vo(e).type("Object")),di(vo,"string",e=>new vo(e).type("String")),di(vo,"number",e=>new vo(e).type("Number")),di(vo,"boolean",e=>new vo(e).type("Boolean")),di(vo,"dateTime",e=>new vo(e).type("Date")),di(vo,"valueOfField",e=>({type:Jte,path:e})),vo),Jqt=function(t,n){const r=Date.now();return window.setTimeout(()=>{t({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-r)}})},0)},eGt=function(t){return window.clearTimeout(t)},pk=typeof window>"u"?void 0:window,tGt=(pk==null?void 0:pk.requestIdleCallback)||Jqt,nGt=(pk==null?void 0:pk.cancelIdleCallback)||eGt,rGt=cT(iGt);function oGt(e){const t=e.indexOf("drafts.")===0;return{published:t?e.slice(7):e,draft:t?e:"drafts.".concat(e)}}function ene(e){return e.reduce((t,n,r)=>{const o=typeof n=="number",i=_l(n),s=r===0?"":".",a=o||i?"[]":"".concat(s).concat(n);return"".concat(t).concat(a)},"")}const tne=(e,t)=>{const{getClient:n,document:r,path:o,type:i}=t,s=i==null?void 0:i.options;if(!r)throw new Error("`document` was not provided in validation context.");if(!o)throw new Error("`path` was not provided in validation context.");const a=(s==null?void 0:s.disableArrayWarning)||!1,{published:l,draft:u}=oGt(r._id),d=r._type,f=ene(o.concat("current"));!a&&f.includes("[]")&&rGt(ene(o));const p=["_type == $docType","!(_id in [$draft, $published])","".concat(f," == $slug")].join(" && ");return n({apiVersion:"2022-09-09"}).fetch("!defined(*[".concat(p,"][0]._id)"),{docType:d,draft:u,published:l,slug:e},{tag:"validation.slug-is-unique"})};function iGt(e){console.warn(["Slug field at path ".concat(e," is within an array and cannot be automatically checked for uniqueness"),'If you need to check for uniqueness, provide your own "isUnique" method',"To disable this message, set `disableArrayWarning: true` on the slug `options` field"].join(`
`))}const sGt=async(e,t)=>{var n;if(!e)return!0;if(typeof e!="object")return"Slug must be an object";const r=e.current;if(!r)return"Slug must have a value";const o=(n=t==null?void 0:t.type)==null?void 0:n.options,i=(o==null?void 0:o.isUnique)||tne,s={...t,parent:t.parent,type:t.type,defaultIsUnique:tne};return await i(r,s)?!0:"Slug is already in use"},aGt={array:!0,boolean:!0,date:!0,number:!0,object:!0,string:!0},lGt=e=>e in aGt;function QTe(e,t){return e?t.has(e)?[]:(t.add(e),[...e.type?QTe(e.type,t):[],e]):[]}function cGt(e,t){let n=e;lGt(t.jsonType)&&(n=n.type(t.jsonType));const r=(t==null?void 0:t.options)&&typeof t.options=="object"&&"list"in t.options&&t.options.list;return Array.isArray(r)&&(n=n.valid(r.map(o=>uGt(o,t)))),t.name==="datetime"||t.name==="date"?n.type("Date"):t.name==="url"?n.uri():t.name==="slug"?n.custom(sGt):t.name==="reference"?n.reference():t.name==="email"?n.email():n}function JTe(e){return e?!("fields"in e)&&e.type?JTe(e.type):!("fields"in e)||!Array.isArray(e.fields)?!1:e.fields.some(t=>t.name==="value"):!1}function uGt(e,t){return t.jsonType==="object"&&JTe(t)||e.value===void 0?e:e.value}function Rx(e){if(!e)return[];const t=e.validation;if(Array.isArray(t))return t.flatMap(r=>Rx({...e,validation:r}));if(t instanceof i4)return[t];const n=Object.values(QTe(e,new Set).reduce((r,o)=>(r[o.name]=o,r),{})).reduce(cGt,new i4(e));return t?Rx({...e,validation:t(n)}):[n]}const nne=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),dGt=e=>e!=null;function fGt(e,t){if(t.length===1)return t[0];const n=hF(e)&&e._type,r=e==null||!n&&ZTe(e).toLowerCase();return r&&r!=="object"?t.find(o=>o.jsonType===r):t.find(o=>{var i;return((i=o.type)==null?void 0:i.name)===n})||t.find(o=>o.name===n)||t.find(o=>o.name==="object"&&r==="object")}const hGt=[];function pGt(e,t,n,r){const o=n.get(t._type);if(!o)return console.warn('Schema type for object type "%s" not found, skipping validation',t._type),be(hGt);const i={getClient:e,schema:n,parent:void 0,value:t,path:[],document:t,type:o,getDocumentExists:r==null?void 0:r.getDocumentExists};return s4(i).pipe(Xn(s=>(console.error(s),be([{type:"validation",level:"error",path:[],item:new vf(s==null?void 0:s.message)}]))))}function s4(e){let{value:t,type:n,path:r=[],parent:o,...i}=e;const s=Rx(n),a=s.map(p=>jo(()=>p.validate(t,{...i,parent:o,path:r,type:n})));let l=[];const u=s.some(p=>p.isRequired());if((n==null?void 0:n.jsonType)==="object"&&(!!t||t==null&&u)){const p=n.fields.reduce((m,v)=>(m[v.name]=v.type,m),{});l=l.concat(s.map(m=>m._fieldRules).filter(dGt).flatMap(m=>Object.entries(m)).flatMap(m=>{let[v,g]=m;const b=p[v];return Rx({...b,validation:g}).map(x=>{const y=nne(t)?t[v]:void 0;return jo(()=>x.validate(y,{...i,parent:t,path:r.concat(v),type:b}))})})),l=l.concat(n.fields.map(m=>s4({...i,parent:t,value:nne(t)?t[m.name]:void 0,path:r.concat(m.name),type:m.type})))}return(n==null?void 0:n.jsonType)==="array"&&Array.isArray(t)&&(l=l.concat(t.map((p,m)=>s4({...i,parent:t,value:p,path:r.concat(_l(p)?{_key:p._key}:m),type:fGt(p,n.of)})))),jo(()=>xn([...a,...l])).pipe(vt(p=>ho(mGt(),p),40),Zj(),Nwe(),ce(En),ce(p=>s.some(m=>m._fieldRules)?zf(p,m=>JSON.stringify(m)):p))}function mGt(e){return new ut(t=>{const n=tGt(()=>{t.complete()},e?{timeout:e}:void 0);return()=>nGt(n)})}function gGt(e){return OS(e,new Set),e}function OS(e,t){if(!t.has(e)){if(t.add(e),e.validation=Rx(e),"fields"in e)for(const n of e.fields)OS(n.type,t);if("of"in e)for(const n of e.of)OS(n,t);if(e.annotations)for(const n of e.annotations)OS(n,t)}}function vGt(e){return e.getTypeNames().forEach(n=>{const r=e.get(n);r&&gGt(r)}),e}var yGt={title:"Slug",name:"slug",type:"object",fields:[{name:"current",title:"Current slug",type:"string"},{name:"source",title:"Source field",type:"string",hidden:!0}]},bGt={title:"Geographical Point",name:"geopoint",type:"object",fields:[{name:"lat",type:"number",title:"Latitude"},{name:"lng",type:"number",title:"Longitude"},{name:"alt",type:"number",title:"Altitude"}]},xGt={name:"sanity.imageCrop",title:"Image crop",type:"object",fields:[{name:"top",type:"number"},{name:"bottom",type:"number"},{name:"left",type:"number"},{name:"right",type:"number"}]},wGt={name:"sanity.imageHotspot",title:"Image hotspot",type:"object",fields:[{name:"x",type:"number"},{name:"y",type:"number"},{name:"height",type:"number"},{name:"width",type:"number"}]},CGt={name:"sanity.assetSourceData",title:"Asset Source Data",type:"object",fields:[{name:"name",title:"Source name",description:"A canonical name for the source this asset is originating from",type:"string"},{name:"id",title:"Asset Source ID",description:"The unique ID for the asset within the originating source so you can programatically find back to it",type:"string"},{name:"url",title:"Asset information URL",description:"A URL to find more information about this asset in the originating source",type:"string"}]},_Gt={name:"sanity.imageAsset",title:"Image",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",readOnly:!0,title:"File extension",fieldset:"system"},{name:"mimeType",type:"string",readOnly:!0,title:"Mime type",fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"uploadId",type:"string",readOnly:!0,hidden:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"metadata",type:"sanity.imageMetadata",title:"Metadata"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{id:"_id",title:"originalFilename",mimeType:"mimeType",size:"size"},prepare(e){return{title:e.title||typeof e.path=="string"&&e.path.split("/").slice(-1)[0],media:{asset:{_ref:e.id}},subtitle:"".concat(e.mimeType," (").concat((Number(e.size)/1024/1024).toFixed(2)," MB)")}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]},SGt={name:"sanity.imagePalette",title:"Image palette",type:"object",fields:[{name:"darkMuted",type:"sanity.imagePaletteSwatch",title:"Dark Muted"},{name:"lightVibrant",type:"sanity.imagePaletteSwatch",title:"Light Vibrant"},{name:"darkVibrant",type:"sanity.imagePaletteSwatch",title:"Dark Vibrant"},{name:"vibrant",type:"sanity.imagePaletteSwatch",title:"Vibrant"},{name:"dominant",type:"sanity.imagePaletteSwatch",title:"Dominant"},{name:"lightMuted",type:"sanity.imagePaletteSwatch",title:"Light Muted"},{name:"muted",type:"sanity.imagePaletteSwatch",title:"Muted"}]},EGt={name:"sanity.imagePaletteSwatch",title:"Image palette swatch",type:"object",fields:[{name:"background",type:"string",title:"Background",readOnly:!0},{name:"foreground",type:"string",title:"Foreground",readOnly:!0},{name:"population",type:"number",title:"Population",readOnly:!0},{name:"title",type:"string",title:"String",readOnly:!0}]},kGt={name:"sanity.imageDimensions",type:"object",title:"Image dimensions",fields:[{name:"height",type:"number",title:"Height",readOnly:!0},{name:"width",type:"number",title:"Width",readOnly:!0},{name:"aspectRatio",type:"number",title:"Aspect ratio",readOnly:!0}]},jGt={name:"sanity.imageMetadata",title:"Image metadata",type:"object",fieldsets:[{name:"extra",title:"Extra metadata…",options:{collapsable:!0}}],fields:[{name:"location",type:"geopoint"},{name:"dimensions",title:"Dimensions",type:"sanity.imageDimensions",fieldset:"extra"},{name:"palette",type:"sanity.imagePalette",title:"Palette",fieldset:"extra"},{name:"lqip",title:"LQIP (Low-Quality Image Placeholder)",type:"string",readOnly:!0},{name:"blurHash",title:"BlurHash",type:"string",readOnly:!0},{name:"hasAlpha",title:"Has alpha channel",type:"boolean",readOnly:!0},{name:"isOpaque",title:"Is opaque",type:"boolean",readOnly:!0}]},TGt={name:"sanity.fileAsset",title:"File",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",title:"File extension",readOnly:!0,fieldset:"system"},{name:"mimeType",type:"string",title:"Mime type",readOnly:!0,fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{title:"originalFilename",path:"path",mimeType:"mimeType",size:"size"},prepare(e){return{title:e.title||e.path.split("/").slice(-1)[0],subtitle:"".concat(e.mimeType," (").concat((e.size/1024/1024).toFixed(2)," MB)")}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]};const AGt=e=>e.severity==="error",DGt=[CGt,yGt,bGt,_Gt,TGt,xGt,wGt,jGt,kGt,SGt,EGt];function IGt(e){const t=d2t(e.types).getTypes(),n=d_t(t),r=n.some(i=>i.problems.some(AGt)),o=z8.compile({name:e.name,types:r?[]:[...e.types,...DGt].filter(Boolean)});return o._validation=n,vGt(o)}function r0(e){return typeof e.title=="string"?e.title:e.type?r0(e.type):e.name||e.jsonType}const gn={apiVersion:"2022-09-09"};var rne=Object.freeze,PGt=Object.defineProperty,OGt=(e,t)=>rne(PGt(e,"raw",{value:rne(t||e.slice())})),one;const $Gt=O(es)(one||(one=OGt([`
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
`])));function RGt(){return c.jsx($Gt,{children:c.jsx(W,{height:"fill",align:"center",justify:"center",children:c.jsx(Hr,{})})})}function MGt(e){const{text:t}=e;return c.jsxs(W,{direction:"row",justify:"center",align:"center",children:[c.jsx(Hr,{}),c.jsx(F,{marginLeft:2,children:c.jsx(B,{children:t})})]})}const ine={referringDocuments:[],isLoading:!0};function FGt(e){const t=Vl();return Ao(()=>t.listenQuery("*[references($docId)] [0...101]",{docId:e},{tag:"use-referring-documents"}).pipe(ce(n=>({referringDocuments:n,isLoading:!1})),ki(ine)),[t,e],ine)}const LGt=()=>h.createElement(h.Fragment);function BGt(e,t){return n=>{let r=o=>h.createElement(e,o);for(const o of t){const i=r;r=s=>h.createElement(o,{...s,renderDefault:i})}return r({...n,renderDefault:LGt})}}function Bl(e){const{options:t}=ur().__internal,{defaultComponent:n,pick:r}=e;return h.useMemo(()=>{const o=[...UA(t,[])];o.reverse();const s=o.map(a=>{let{config:l}=a;return r(l)}).filter(Boolean);return BGt(n,s)},[n,t,r])}function gc(e,t){return t.name===e||!!(t.type&&gc(e,t.type))}const NGt={default:LTe,media:wYt,detail:rYt,inline:BYt,block:OYt,blockImage:TYt};function zGt(){return c.jsx(Rp,{className:"sanity-studio__preview-fallback-icon"})}function tC(e){const{icon:t,layout:n,media:r,imageUrl:o,title:i,...s}=e,a=Sr(gn),l=h.useMemo(()=>ET(a),[a]),u=h.useCallback(v=>{const{dimensions:g}=v;return c.jsx("img",{alt:PS(i)?i:void 0,referrerPolicy:"strict-origin-when-cross-origin",src:l.image(r).width(g.width||100).height(g.height||100).fit(g.fit).dpr(g.dpr||1).url()||""})},[l,r,i]),d=h.useCallback(()=>h.createElement(t||zGt),[t]),f=h.useMemo(()=>t===!1?!1:$r.isValidElementType(r)||h.isValidElement(r)?r:pb(r)?u:PS(o)?c.jsx("img",{src:o,alt:PS(i)?i:void 0,referrerPolicy:"strict-origin-when-cross-origin"}):d,[t,o,r,d,u,i]),p=h.useMemo(()=>({...s,media:f,title:i}),[f,s,i]),m=NGt[n||"default"];return h.createElement(m,p)}const VGt=typeof window>"u"?Gn:Zi(window,"resize").pipe(To(1)),HGt=typeof window>"u"?Gn:Zi(window,"scroll",{passive:!0,capture:!0}).pipe(To(1)),UGt=typeof window>"u"?Gn:Zi(window,"orientationchange").pipe(To(1)),eAe=150;function WGt(){return typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in IntersectionObserverEntry.prototype?("isIntersecting"in IntersectionObserverEntry.prototype||Object.defineProperty(IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),!0):!1}const YGt=WGt()?qGt():GGt();function qGt(){const e=new Ar,t=new IntersectionObserver(n=>{n.forEach(r=>{e.next(r)})},{threshold:0,rootMargin:"".concat(eAe,"px")});return function(r){return new ut(o=>(t.observe(r),o.next(),()=>t.unobserve(r))).pipe(vt(()=>e.asObservable()),ct(o=>o.target===r),ce(o=>({isIntersecting:o.isIntersecting})))}}function GGt(){function e(){return{left:0,right:window.innerWidth,top:0,bottom:window.innerHeight}}function t(r,o,i){return r.left<=o.right+i&&r.right>=o.left-i&&r.top<=o.bottom+i&&r.bottom>=o.top-i}function n(r){return()=>t(r.getBoundingClientRect(),e(),eAe)}return function(o){const i=n(o);return xn(be(i()),VGt,HGt,UGt).pipe(ce(i),ce(s=>({isIntersecting:s})))}}const KGt=typeof window>"u"?Gn:Zi(document,"visibilitychange").pipe(To(1));function ZGt(e){const{element:t,hideDelay:n=0}=e,[r,o]=h.useState(!1);return h.useEffect(()=>{if(!t)return;const i=ho(be(!document.hidden),KGt.pipe(ce(u=>{var d;return u.target instanceof Document?!((d=u==null?void 0:u.target)!=null&&d.hidden):!1}))).pipe(Kn()),s=YGt(t).pipe(ce(u=>u.isIntersecting)),l=i.pipe(tt(u=>u?s:be(!1)),tt(u=>u?be(!0):be(!1).pipe(Jet(n))),Kn()).subscribe(o);return()=>l.unsubscribe()},[t,n]),r}const XGt={isLoading:!0},QGt={isLoading:!1};function tAe(e){const{enabled:t=!0,ordering:n,schemaType:r,value:o}=e||{},{observeForPreview:i}=Ps();return Ao(()=>!t||!o||!r?be(QGt):i(o,r,{ordering:n}).pipe(ce(s=>({isLoading:!1,value:s.snapshot||void 0})),Xn(s=>be({isLoading:!1,error:s}))),[t,i,n,r,o],XGt)}function JGt(e){return eKt(e==null?void 0:e._upload)}function ey(e){return PS(e)?e:void 0}function eKt(e){var t,n;if(!Ct(e))return;const r=typeof e.progress=="number"?e.progress:0,o=ey(e.initiated||e.createdAt),i=ey(e.updated||e.updatedAt),s=ey((t=e==null?void 0:e.file)==null?void 0:t.name),a=ey((n=e==null?void 0:e.file)==null?void 0:n.type),l=ey(e.previewImage);if(o&&i&&s&&a)return{progress:r,createdAt:o,updatedAt:i,file:{name:s,type:a},previewImage:l}}const tKt=1e3*2;function nAe(e){const{layout:t,value:n,component:r,style:o,schemaType:i,skipVisibilityCheck:s,...a}=e,[l,u]=h.useState(null),d=ZGt({element:s?null:l,hideDelay:tKt}),f=tAe({enabled:s||d,schemaType:i,value:n}),p=h.useMemo(()=>({...o,minWidth:(o==null?void 0:o.minWidth)||1,minHeight:(o==null?void 0:o.minHeight)||1}),[o]),m=h.useMemo(()=>JGt(n),[n]),v=h.useMemo(()=>{var g,b;return m!=null&&m.previewImage?c.jsx("img",{alt:"The image currently being uploaded",src:m.previewImage}):(g=f==null?void 0:f.value)!=null&&g.media?(b=f==null?void 0:f.value)==null?void 0:b.media:i.icon},[f,i,m]);return c.jsx("div",{ref:u,style:p,children:h.createElement(r,{...a,...(f==null?void 0:f.value)||{},media:v,error:f==null?void 0:f.error,isPlaceholder:f==null?void 0:f.isLoading,layout:t,schemaType:i})})}function xB(e){const t=e==null?void 0:e.select;if(t)return Object.values(t).map(n=>String(n).split("."))}const nKt=e=>e.liveEdit===!0;function pA(e,t,n,r){const o=nKt(t)?be({snapshot:null}):e.observeForPreview({_type:"reference",_ref:ti(n)},t),i=e.observeForPreview({_type:"reference",_ref:Zn(n)},t);return Vo([o,i]).pipe(ce(s=>{let[a,l]=s;return{draft:a.snapshot?{title:r,...a.snapshot||{}}:null,isLoading:!1,published:l.snapshot?{title:r,...l.snapshot||{}}:null}}),ki({draft:null,isLoading:!0,published:null}))}const rKt=e=>({title:c.jsx("em",{children:e.title?String(e.title):"Missing document"}),subtitle:c.jsx("em",{children:e.title?"Missing document ID: ".concat(e._id):"Document ID: ".concat(e._id)}),media:()=>c.jsx(Qr,{})}),wB=e=>{let{value:t,draft:n,published:r}=e;const o=n||r;return o?l7t({},o,t,(i,s)=>typeof s>"u"?i:s):rKt(t)},rAe=["_id","_rev","_type"],oKt=[...rAe,"_key"],sne={available:!0,reason:"READABLE"},iKt={available:!1,reason:"PERMISSION_DENIED"},sKt={available:!1,reason:"NOT_FOUND"},aKt={title:"Invalid preview config",subtitle:"Check the error log in the console",media:c.jsx(Qr,{})};function lKt(e){return Array.isArray(e)&&(e.length===0||e.some(Xu))}function cKt(e){const t=Array.isArray(e)&&e.find(Xu);return!t||!t.children?"":t.children.filter(Qs).map(n=>n.text).join("")}function oAe(e){return Object.keys(e)}const uKt=["_id","_type","_upload","_createdAt","_updatedAt"],o0=[],a4=(()=>{let e={};return{add:(t,n,r)=>{e[t.name]||(e[t.name]=[]),e[t.name].push({error:r,type:t,value:n})},getAll(){return e},clear(){e={}}}})(),dKt=nw(()=>{const e=a4.getAll(),n=En(Object.keys(e).map(r=>{const o=e[r];return zf(o,i=>i.error.message)})).length;n!==0&&(console.groupCollapsed("%cHeads up! Got ".concat(n===1?"error":"".concat(n," errors")," while preparing data for preview. Click for details."),"color: #ff7e7c"),Object.keys(e).forEach(r=>{const o=e[r],i=o[0];console.group('Check the preview config for schema type "'.concat(r,'": %o'),i.type.preview),zf(o,a=>a.error.message).forEach(a=>{var l;if(a.error.type==="returnValueError"){const u=typeof((l=a.type.preview)==null?void 0:l.prepare)=="function",{value:d,error:f}=a;console.log("Encountered an invalid ".concat(u?"return value when calling prepare(%o)":"value targeted by preview.select",":"),d),console.error(f)}if(a.error.type==="prepareError"){const{value:u,error:d}=a;console.log("Encountered an error when calling prepare(%o):",u),console.error(d)}}),console.groupEnd()}),console.groupEnd(),a4.clear())},1e3),ty=e=>t=>{const n=typeof t;return t===null||n==="undefined"||n==="string"||n==="number"||n==="boolean"?o0:[_B("returnValueError",new Error('The "'.concat(e,'" field should be a string, number, boolean, undefined or null, instead saw ').concat(CB(t))))]},fKt={media:()=>o0,title:ty("title"),subtitle:ty("subtitle"),description:ty("description"),imageUrl:ty("imageUrl"),date:ty("date")};function CB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(Ct(e)){const n=Object.keys(e),r=n.length>3?"...":"",o="object with keys ";return"".concat(t?o:"","{").concat(n.slice(0,3).join(", ")).concat(r,"}")}if(Array.isArray(e)){const n=e.length>3?"...":"",r="array with ";return"".concat(t?r:"","[").concat(e.map(o=>CB(o,!1))).concat(n,"]")}return"the ".concat(typeof e," ").concat(e)}function hKt(e,t){if(typeof t>"u")return o0;const n=fKt[e];return n&&n(t)||o0}function _B(e,t){return Object.assign(t,{type:e})}function pKt(e){return!_r(e)||e===null?[_B("returnValueError",new Error("Invalid return value. Expected a plain object with at least a 'title' field, instead saw ".concat(CB(e))))]:Object.entries(e).reduce((t,n)=>{let[r,o]=n;return[...t,...hKt(r,o)]},o0)}function mKt(e){return{...e,errors:[...e.errors||[],...pKt(e.returnValue)]}}function gKt(e){return oAe(e).reduce((t,n)=>{const r=e[n];return{...t,[n]:lKt(r)?cKt(r):r}},{})}function l4(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r;const o=(r=e.preview)==null?void 0:r.prepare;try{return{returnValue:o?o(t,n):gKt(t),errors:o0}}catch(i){return{returnValue:null,errors:[_B("prepareError",i)]}}}function ane(e,t,n){return e.errors.forEach(r=>a4.add(t,n,r)),dKt(),aKt}function vKt(e){const t=e.options&&typeof e.options=="object"?e.options:!1;if(!t||!("list"in t))return!1;const n=t.list;return Array.isArray(n)}function yKt(e){return vKt(e)?e.options.list.map(n=>gF(n)?n:{title:n,value:n}):void 0}function mk(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r,o;const i=typeof((r=t.preview)==null?void 0:r.prepare)=="function",s=((o=t.preview)==null?void 0:o.select)||{},l=Object.keys(s).reduce((f,p)=>{var m;const v="fields"in t?t:null,g=s[p],b=(m=v==null?void 0:v.fields)==null?void 0:m.find(y=>y.name===g),x=b&&yKt(b.type);if(!i&&x){const y=x&&x.find(w=>w.value===Nn(e,s[p]));f[p]=y?y.value:Nn(e,s[p])}else f[p]=Nn(e,s[p]);return f},{}),u=l4(t,l,n);if(u.errors.length>0)return ane(u,t,l);const d=mKt(l4(t,l,n));return d.errors.length>0?ane(d,t,l):{..._t(e,uKt),...u.returnValue}}function $S(e,t){let n,r={},o=0;return function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return new ut(d=>{clearTimeout(n),n=setTimeout(i,t);const f={args:l,observer:d,completed:!1},p=o++;return r[p]=f,()=>{f.completed=!0}})};function i(){const s=r;r={};const a=Object.keys(s).filter(u=>{const d=s[u];return d&&!d.completed});if(a.length===0)return;const l=a.map(u=>{const d=s[u];return d&&d.args}).filter(po);e(l).subscribe({next(u){u.forEach((d,f)=>{const p=s[a[f]];p&&!p.completed&&p.observer.next(u[f])})},complete(){a.forEach(u=>{const d=s[u];d&&!d.completed&&d.observer.complete()})},error(u){a.forEach(d=>{const f=s[d];f&&!f.completed&&f.observer.error(u)})}})}}const bKt=11164;function xKt(e){let t=[],n=0;const r=[];for(const o of e)n+o.length+1>=bKt&&(r.push(t),t=[],n=0),n+=o.length+1,t.push(o);return r.includes(t)||r.push(t),r}function wKt(e,t){return e.push(...t),e}function iAe(e,t){function n(s){const a=ti(s),l=Zn(s);return Vo([r(a),r(l)]).pipe(Kn(Nf),ce(u=>{let[d,f]=u;return{draft:d,published:f}}))}function r(s){return t({_ref:s},[["_rev"]]).pipe(ce(a=>Ct(a)&&!!("_rev"in a&&(a!=null&&a._rev))),Kn(),tt(a=>a?be(sne):o(s)))}const o=$S(function(a){const l=[...new Set(En(a))];return Cr(xKt(l)).pipe(vt(i,10),Bwe(wKt,[]),ce(u=>a.map(d=>{let[f]=d;return u[l.indexOf(f)]})))},1);function i(s){return jo(()=>{const a={uri:e.getDataUrl("doc",s.join(",")),json:!0,query:{excludeContent:"true"},tag:"preview.documents-availability"};return e.observable.request(a).pipe(ce(l=>{const u=o9(l.omitted||[],d=>d.id);return s.map(d=>{const f=u[d];if(!f)return sne;if(f.reason==="existence")return sKt;if(f.reason==="permission")return iKt;throw new Error('Unexpected reason for omission: "'.concat(f.reason,'"'))})}))})}return{observeDocumentPairAvailability:n}}function lne(e,t,n){return{...e,[t]:n}}function CKt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t=>new ut(n=>t.subscribe(n)).pipe(tt(n=>{const r=oAe(n).map(o=>{const i=n[o];return bet(i)?Cr(i).pipe(ce(s=>[o,s])):be([o,i])});return e.wait?Vo(r).pipe(ce(o=>o.reduce((i,s)=>{let[a,l]=s;return lne(i,a,l)},{}))):Cr(r).pipe(Zj(),Ua((o,i)=>{let[s,a]=i;return lne(o,s,a)},{}))}))}function _Kt(e){return e.reduce((t,n)=>(t[n]=void 0,t),{})}function SKt(e,t){return t.filter(n=>!(n[0]in e))}function EKt(e){return Zu(e)?e._ref:"_id"in e?e._id:void 0}function c4(e,t,n,r){if(!e||typeof e!="object")return be(e);const o=EKt(e),i=o?{...e,_id:o}:{...e};i._type==="reference"&&(delete i._type,delete i._ref,delete i._weak,delete i._dataset,delete i._projectId,delete i._strengthenOnPublish);const s=SKt(i,t);if(o&&s.length>0){const u=uo(s.map(f=>f[0])),d=Tge(e)?{projectId:e._projectId,dataset:e._dataset}:r;return n(o,u,d).pipe(tt(f=>f===null?be(null):c4({..._Kt(u),...Zu(e)?{...e,...d}:e,...f},t,n,d)))}const a={};t.forEach(u=>{const[d,...f]=u;a[d]||(a[d]=[]),a[d].push(f)});const l=Object.keys(a).reduce((u,d)=>{const f=a[d].filter(p=>p.length>0);return f.length===0?u[d]=Ct(e)?e[d]:void 0:u[d]=c4(e[d],f,n,r),u},i);return be(l).pipe(CKt({wait:!0}))}function kKt(e){return e.map(t=>typeof t=="string"?t.split("."):t)}function jKt(e){const{observeFields:t}=e;return{observePaths(n,r,o){return c4(n,kKt(r),t,o)}}}function TKt(e){return _r(e)}function AKt(e){return _r(e)}function DKt(e){const{observeDocumentTypeFromId:t,observePaths:n}=e;return function r(o,i,s,a){if(mF(i)){if(!Tge(o))return be({snapshot:void 0});const u={projectId:o._projectId,dataset:o._dataset};return t(o._ref,u).pipe(tt(d=>{if(d){const f=i.to.find(p=>p.type===d);return r(o,f,{},u)}return be({snapshot:void 0})}))}if(_f(i))return AKt(o)?t(o._ref).pipe(tt(u=>{if(u){const d=i.to.find(f=>f.name===u);return r(o,d)}return be({snapshot:void 0})})):be({snapshot:void 0});const l=xB(i.preview);return l?n(o,l,a).pipe(ce(u=>({type:i,snapshot:u&&mk(u,i,s)}))):be({type:i,snapshot:o&&TKt(o)?l4(i,o,s).returnValue:null})}}function IKt(e,t){const{observeDocumentPairAvailability:n}=iAe(e,t),r=[["_updatedAt"],["_createdAt"],["_type"]];return{observePathsDocumentPair:o};function o(i,s){const{draftId:a,publishedId:l}=TTe(i);return n(a).pipe(tt(u=>{if(!u.draft.available&&!u.published.available)return be({id:l,type:null,draft:{availability:u.draft,snapshot:void 0},published:{availability:u.published,snapshot:void 0}});const d=[...s,...r];return Vo([t({_type:"reference",_ref:a},d),t({_type:"reference",_ref:l},d)]).pipe(ce(f=>{let[p,m]=f;const v=Ct(p)&&"_type"in p&&p._type||Ct(m)&&"_type"in m&&m._type||null;return{id:l,type:typeof v=="string"?v:null,draft:{availability:u.draft,snapshot:p},published:{availability:u.published,snapshot:m}}}))}))}}function PKt(e){return m7t(e.reduce((t,n,r)=>{let[o,i]=n;const s=Cm(i.join(","),$Ce).join(".");t[s]||(t[s]={fields:i,ids:[],map:[]});const a=t[s].ids.length;return t[s].ids[a]=o,t[s].map[a]=r,t},{}))}function OKt(e){return JSON.stringify(e)}const $Kt=e=>ATe(e)?'"'.concat(e,'": @').concat(iB(e)):e;function RKt(e){let{ids:t,fields:n}=e;const r=[...rAe,...n];return"*[_id in [".concat(t.map(OKt).join(","),"]][0...").concat(t.length,"]{").concat(r.map($Kt).join(","),"}")}function MKt(e){return"[".concat(e.map(RKt).join(","),"][0...").concat(e.length,"]")}function FKt(e,t){return e.reduce((n,r,o)=>(t[o].map.forEach((s,a)=>{const l=t[o].ids[a],u=r.find(d=>d._id===l);n[s]=u||null}),n),[])}function LKt(e){return(t,n)=>t===n?!0:!t||!n||typeof t!="object"||typeof n!="object"?!1:e.every(r=>t[r]===n[r])}const BKt=e=>e;function NKt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:BKt,n,r;for(let o=0;o<e.length;o++){if(o===0){n=t(e[o]);continue}if(r=t(e[o]),n!==r)return!1;n=r}return!0}function zKt(e){const{observePaths:t,versionedClient:n}=e;let r;const o=()=>{if(!r){const w=Cr(n.listen('*[!(_id in path("_.**"))]',{},{events:["welcome","mutation"],includeResult:!1,visibility:"query",tag:"preview.global"})).pipe(Wa()),C=w.pipe(ct(S=>S.type==="welcome"),To({refCount:!0,bufferSize:1}));C.subscribe();const _=w.pipe(ct(S=>S.type==="mutation"));r={welcome$:C,mutations$:_}}return r};function i(w){const C=o();return xn(C.welcome$,C.mutations$.pipe(ct(_=>_.documentId===w)))}function s(w){return function(_){const S=PKt(_);return w.observable.fetch(MKt(S),{},{tag:"preview.document-paths"}).pipe(ce(E=>FKt(E,S)))}}const a=$S(s(n),100),l=$S(s(n),1e3);function u(w,C){return i(w).pipe(tt(_=>_.type==="welcome"||_.visibility==="query"?a(w,C).pipe(vt(S=>ho(be(S),S===void 0?l(w,C):[]))):l(w,C)))}const d={},f=cT(function(C){const _=n.withConfig(C),S=s(_);return $S(S,10)},w=>w.dataset+w.projectId),p=1e4,m=Zi(document,"visibilitychange").pipe(ki(0),ce(()=>document.visibilityState==="visible"),tt(w=>w?Ei(0,p):Gn),Wa());function v(w,C,_){return m.pipe(ki(0)).pipe(tt(()=>f(_)(w,C)))}function g(w,C,_){let S=null;const E=xn(jo(()=>S===null?Gn:be(S)),_?v(w,C,_):u(w,C)).pipe(Wn(j=>S=j),To({refCount:!0,bufferSize:1}));return{id:w,fields:C,changes$:E}}function b(w,C,_){const S=_?"".concat(_.projectId,":").concat(_.dataset,":").concat(w):"$current$-".concat(w);S in d||(d[S]=[]);const E=d[S];lx(C,En(E.map(T=>T.fields))).length>0&&E.push(g(w,C,_));const k=E.filter(T=>T.fields.some(A=>C.includes(A))).map(T=>T.changes$);return Vo(k).pipe(ce(T=>T.filter(Boolean)),ct(T=>NKt(T,A=>A._rev)),ce(T=>T.length===0?null:x(T,C)),Kn(LKt(C)))}return{observeFields:b};function x(w,C){return[...oKt,...C].reduce((_,S)=>{const E=y(w,S);return E!==void 0&&(_[S]=E),_},{})}function y(w,C){let _;return w.some(S=>C in S?(_=S[C],!0):!1),_}}function VKt(e){let{client:t}=e;const n=t.withConfig({apiVersion:"1"}),r=(d,f,p)=>i(d,f,p),{observeFields:o}=zKt({observePaths:r,versionedClient:n}),{observePaths:i}=jKt({observeFields:o});function s(d,f){return i({_type:"reference",_ref:d},["_type"],f).pipe(ce(p=>Ct(p)&&typeof p._type=="string"?p._type:void 0),Kn())}const a=DKt({observeDocumentTypeFromId:s,observePaths:i}),{observeDocumentPairAvailability:l}=iAe(n,i),{observePathsDocumentPair:u}=IKt(n,i);return{observePaths:i,observeForPreview:a,observeDocumentTypeFromId:s,unstable_observeDocumentPairAvailability:l,unstable_observePathsDocumentPair:u}}const HKt=e=>!!(e.type&&e.type.name==="document"),UKt=e=>e.name.startsWith("sanity."),WKt=e=>e.getTypeNames().map(t=>e.get(t)).filter(po).filter(t=>HKt(t)).filter(t=>!UKt(t)),YKt=(e,t)=>{const{phrases:n,words:r}=XKt(e),[o,i]=KKt(n,t),[s,a]=ZKt(r,t);return[o+s,[a,i].join(", ")]},qKt=e=>typeof e=="string"?e:JSON.stringify(e);function GKt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=o9(e,o=>o.typeName);return t.map((o,i)=>{var s;const l=(s=r[o._type].paths||[])==null?void 0:s.map((d,f)=>{const p=qKt(o["w".concat(f)]);if(!p)return{path:d.path,score:0,why:"No match"};const[m,v]=YKt(n,p);return{path:d.path,score:m*d.weight,why:"".concat(v," (*").concat(d.weight,")")}}),u=l.reduce((d,f)=>d+f.score,0);return{hit:o,resultIndex:t.length-i,score:u,stories:l}})}function KKt(e,t){const n=t.toLowerCase().trim();let r=0,o=0;return e.forEach(i=>{n.includes(i)&&(r+=i.length/n.length,o+=i.length)}),r===1?[1,"[Phrase] Exact match"]:[r/2,"[Phrase] Matched ".concat(o," of ").concat(n.length," characters")]}function ZKt(e,t){const n=uo(kT(O2e(uv(t)))),r=Y5(e,n),o=n5e(n,e),i=r.length/o.length;return i===1?[1,"[Word] Exact match"]:[i/2,"[Word] Matched ".concat(r.length," of ").concat(o.length," terms: [").concat(r.join(", "),"]")]}function XKt(e){const t=uo(e.map(uv)),[n,r]=Y8(t,o=>/^".*"$/.test(o));return{phrases:uo(n).map(uv).map(QKt),words:uo(r.map(uv))}}function QKt(e){return e.replace(/^"(.*)"$/,"$1")}const JKt=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,eZt=/(^[.]+)|([.]+$)/;function tZt(e){return(e.match(JKt)||[]).map(t=>t.replace(eZt,""))}const nZt=4,rZt=1e3,oZt=Zkt([En,n5e,kT]);function cne(e,t){let n=!1;return{specs:e.map(o=>({typeName:o.name,paths:o.__experimental_search.map(i=>{const s=i.path.map(a=>typeof a=="number"&&(n=!0,t)?[]:a);return{weight:i.weight,path:$Ut(s),mapWith:i.mapWith}})})),hasIndexedPaths:n}}const sAe=e=>{let{mapWith:t,path:n}=e;return t?"".concat(t,"(").concat(n,")"):n};function iZt(e,t){const n=oZt(t.map(o=>(o.paths||[]).map(i=>sAe(i))));return e.map((o,i)=>n.map(s=>"".concat(s," match $t").concat(i))).filter(o=>o.length>0).map(o=>"(".concat(o.join(" || "),")"))}function sZt(e){const t=[],n=e.replace(/("[^"]*")/g,i=>O2e(i).length>1?(t.push(i),""):i),r=t.map(i=>djt(uv(i))),o=uo(kT(tZt(uv(n))));return[...r,...o]}function aZt(e){function t(n){return n.mapWith?"".concat(n.mapWith,"(").concat(n.field,")"):n.field}return(e||[]).map(n=>[t(n),(n.direction||"").toLowerCase()].map(r=>r.trim()).filter(Boolean).join(" ")).join(",")}function lZt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var n,r;const{filter:o,params:i,tag:s}=t,{specs:a,hasIndexedPaths:l}=cne(e.types,!1),u=sZt(e.query),d=l?cne(e.types,!0).specs:a,f=["_type in $__types",t.includeDrafts===!1&&"!(_id in path('drafts.**'))",...iZt(u,d),o?"(".concat(o,")"):"",e.filter?"(".concat(e.filter,")"):""].filter(Boolean),p=a.map(S=>{const E='_type == "'.concat(S.typeName,'" => '),j="{ ".concat(S.paths.map((k,T)=>'"w'.concat(T,'": ').concat(sAe(k)))," }");return"".concat(E).concat(j)}),m=aZt((t==null?void 0:t.sort)||[{field:"_id",direction:"asc"}]),v=["_type","_id"],g=p.length>0?"...select(".concat(p.join(`,
`),")"):"",b=v.join(", ")+(g?", ".concat(g):"");let x="*[".concat(f.join(" && "),"]")+"| order(".concat(m,")")+"[$__offset...$__limit]"+"{".concat(b,"}");if(t!=null&&t.__unstable_extendedProjection){const S=t==null?void 0:t.__unstable_extendedProjection,E=v.concat(S).join(", ");x=["*[".concat(f.join(" && "),"]{").concat(E,"}"),"order(".concat(m,")[$__offset...$__limit]{").concat(b,"}")].join("|")}const y=["findability-mvi:".concat(nZt)].concat((t==null?void 0:t.comments)||[]).map(S=>"// ".concat(S)).join(`
`),w=y?"".concat(y,`
`).concat(x):x,C=(n=t==null?void 0:t.offset)!=null?n:0,_=((r=t==null?void 0:t.limit)!=null?r:rZt)+C;return{query:w,params:{...cZt(u),__types:a.map(S=>S.typeName),__limit:_,__offset:C,...i||{}},options:{tag:s},searchSpec:a,terms:u}}const cZt=e=>{const t={};return e.reduce((n,r,o)=>(n["t".concat(o)]="".concat(r,"*"),n),t)};function uZt(e,t){return typeof e=="string"?{query:e,types:t}:e.types.length?e:{...e,types:t}}function SB(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=uZt(o,e),{query:a,params:l,options:u,searchSpec:d,terms:f}=lZt(s,{...n,...i});return t.observable.fetch(a,l,u).pipe(n.unique?ce(wUt):Wn(),ce(p=>GKt(d,p,f)),i!=null&&i.skipSortByScore?Wn():ce(p=>Cm(p,m=>-m.score)))}}const dZt={available:!0,reason:"READABLE"},une={available:!1,reason:"PERMISSION_DENIED"},dne={available:!1,reason:"NOT_FOUND"};function aAe(e,t,n){const{publishedId:r,draftId:o}=TTe(t);return e.unstable_observeDocumentPairAvailability(t).pipe(tt(s=>{if(!s.draft.available&&!s.published.available){const d=s.draft.reason==="PERMISSION_DENIED"||s.published.reason==="PERMISSION_DENIED"?une:dne;return be({id:t,type:void 0,availability:d,preview:{draft:void 0,published:void 0}})}const a={_type:"reference",_ref:o},l={_type:"reference",_ref:r};return Vo([e.observeDocumentTypeFromId(o),e.observeDocumentTypeFromId(r)]).pipe(ce(d=>{let[f,p]=d;return f||p})).pipe(tt(d=>{if(!d)return be({id:t,type:void 0,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const f=n.to.find(b=>b.name===d);if(!f)return be({id:t,type:d,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const p=[...xB(f==null?void 0:f.preview)||[],["_updatedAt"],["_createdAt"]],m=e.observePaths(a,p).pipe(ce(b=>b?{_id:o,...mk(b,f)}:void 0),ki(void 0)),v=e.observePaths(l,p).pipe(ce(b=>b?{_id:r,...mk(b,f)}:void 0),ki(void 0));return Vo([m,v]).pipe(ce(b=>{let[x,y]=b;return{draft:x,published:y}})).pipe(ce(b=>{const x=s.draft.available||s.published.available?dZt:s.draft.reason==="PERMISSION_DENIED"||s.published.reason==="PERMISSION_DENIED"?une:dne;return{type:d,id:r,availability:x,preview:{draft:Ct(b.draft)?b.draft:void 0,published:Ct(b.published)?b.published:void 0}}}))}))}))}function fZt(e){return e.filter(t=>!t.draft||!t.published).map(t=>t.draft?t.id:ti(t.id))}function hZt(e,t){return t.length===0?be([]):e.observable.fetch("*[_id in $ids]._id",{ids:t},{tag:"get-counterpart-ids"})}function lAe(e,t,n,r){return SB(n.to,e,r)(t,{includeDrafts:!0}).pipe(ce(i=>i.map(s=>s.hit)),ce(oB),ce(i=>i.slice(0,100)),vt(i=>hZt(e,fZt(i)).pipe(ce(s=>i.map(a=>{const l=ti(a.id);return{id:a.id,type:a.type,draft:a.draft||s.includes(l)?{_id:l,_type:a.type}:void 0,published:a.published||s.includes(a.id)?{_id:a.id,_type:a.type}:void 0}})))))}function ROn(){const e=[];return{publish(t){for(const n of e)n(t)},subscribe(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}}}const em=Symbol.for("sanity.patch");function Gi(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{patchType:em,type:"setIfMissing",path:t,value:e}}function ef(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return{patchType:em,type:"insert",path:n,position:t,items:e}}function pt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{patchType:em,type:"set",path:t,value:e}}function Qe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return{patchType:em,type:"unset",path:e}}function pZt(e,t){return{...e,path:[t,...e.path]}}var mZt=Object.defineProperty,gZt=(e,t,n)=>t in e?mZt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vZt=(e,t,n)=>(gZt(e,typeof t!="symbol"?t+"":t,n),n);class st{constructor(t){vZt(this,"patches"),this.patches=t}static from(t){return t instanceof st?t:new st(Array.isArray(t)?En(t):[t])}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return st.from([...En(n),...this.patches])}append(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return st.from([...this.patches,...En(n)])}prefixAll(t){return st.from(this.patches.map(n=>pZt(n,t)))}}var fne=Object.freeze,yZt=Object.defineProperty,bZt=(e,t)=>fne(yZt(e,"raw",{value:fne(t||e.slice())})),hne;const xZt={warning:"caution",error:"critical"},wZt=O(F)(hne||(hne=bZt([`
  border-top: 1px solid var(--card-border-color);
`])));function Hc(e){const{children:t,status:n="warning",suffix:r,title:o,...i}=e;return c.jsxs(ee,{radius:2,tone:xZt[n],...i,"data-ui":"Alert",children:[c.jsxs(W,{padding:4,children:[c.jsx(F,{children:c.jsxs(B,{size:1,children:[n==="warning"&&c.jsx(Qr,{}),n==="error"&&c.jsx(ca,{})]})}),c.jsxs(F,{flex:1,marginLeft:3,children:[c.jsx(B,{size:1,weight:"semibold",children:o}),t&&c.jsx(F,{marginTop:3,children:t})]})]}),r&&c.jsx(wZt,{children:r})]})}function EB(e,t){const n=h.useRef(t||null);return h.useEffect(()=>{n.current=e},[e]),n.current}function Pi(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Nf;const r=EB(e);h.useEffect(()=>{n(r,e)||t(r,e)},[t,e,r,n])}function cAe(e,t){h.useEffect(()=>{const n=r=>{const o=r.target;if(o instanceof HTMLElement){if(e.some(i=>{var s;return(s=i.current)==null?void 0:s.contains(o)}))return;t(r)}};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[e,t])}const uAe=h.createContext(null);function ri(){const e=h.useContext(uAe);if(!e)throw new Error("FormBuilder: missing context value");return e}const CZt={constrainSize:!0,portal:!0,fallbackPlacements:["top","bottom"]};function kB(e){const{schemaType:t,readOnly:n,children:r,onValueCreate:o,onItemAppend:i}=e,s=h.useId(),a=h.useCallback(u=>{const d=o(u);i(d)},[o,i]),l=re.useCallback(()=>{a(t.of[0])},[t,a]);return n?c.jsx(yt,{portal:!0,content:c.jsx(F,{padding:2,sizing:"border",children:c.jsx(B,{size:1,children:"This field is read-only"})}),children:c.jsx(ln,{children:c.jsx(ae,{icon:Js,mode:"ghost",disabled:!0,text:t.of.length===1?"Add item":"Add item..."})})}):c.jsxs(ln,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[t.of.length===1?c.jsx(ae,{icon:Js,mode:"ghost",onClick:l,text:"Add item"}):c.jsx(rn,{button:c.jsx(ae,{icon:Js,mode:"ghost",text:"Add item…"}),id:s||"",menu:c.jsx(Ht,{children:t.of.map((u,d)=>{var f,p;const m=_f(u)&&(u.to||[]).length===1&&u.to[0].icon,v=u.icon||((f=u.type)==null?void 0:f.icon)||m;return c.jsx(Me,{text:u.title||((p=u.type)==null?void 0:p.name),onClick:()=>a(u),icon:v},d)})}),popover:CZt}),r]})}var pne=Object.freeze,_Zt=Object.defineProperty,SZt=(e,t)=>pne(_Zt(e,"raw",{value:pne(t||e.slice())})),mne;const EZt=e=>e==="error"?c.jsx(ca,{}):e==="warning"?c.jsx(Qr,{}):c.jsx(cm,{}),kZt=O(B)(e=>{let{theme:t}=e;return de(mne||(mne=SZt([`
    &[data-info] {
      color: `,`;
    }

    &[data-warning] {
      color: `,`;
    }

    &[data-error] {
      color: `,`;
    }
  `])),t.sanity.color.muted.primary.enabled.fg,t.sanity.color.muted.caution.enabled.fg,t.sanity.color.muted.critical.enabled.fg)});function dAe(e){const{markers:t,validation:n,renderCustomMarkers:r}=e,{CustomMarkers:o}=ri().__internal.components;return t.length===0&&n.length===0?null:c.jsxs(ne,{space:1,children:[n.length>0&&n.map((i,s)=>{let{message:a,level:l}=i;return c.jsxs(W,{children:[c.jsx(F,{marginRight:2,marginBottom:s+1===n.length?0:2,children:c.jsx(kZt,{size:1,"data-error":l==="error"?"":void 0,"data-warning":l==="warning"?"":void 0,"data-info":l==="info"?"":void 0,children:EZt(l)})}),c.jsx(F,{children:c.jsx(B,{size:1,children:a||"Error"})})]},"validationItem-".concat(s))}),t.length>0&&c.jsxs(F,{marginTop:n.length>0?3:0,children:[r&&r(t),!r&&c.jsx(o,{markers:t})]})]})}function jZt(){return c.jsxs(B,{size:1,children:["This is a example custom marker, please implement ",c.jsx("code",{children:"renderCustomMarkers"})," function."]})}const jB=re.createContext(null),nC=h.memo(function(t){const n=h.useRef(t);n.current=t;const r=h.useCallback(p=>{var m,v,g;return(g=(v=(m=n.current)==null?void 0:m.transformPatches)==null?void 0:v.call(m,p))!=null?g:[]},[n]),o=h.useCallback(p=>{n.current.onChange(p)},[]),i=h.useCallback(p=>{n.current.onPathFocus(p)},[]),s=h.useCallback(p=>{n.current.onPathBlur(p)},[]),a=h.useCallback(p=>{n.current.onPathOpen(p)},[]),l=h.useCallback((p,m)=>{n.current.onSetPathCollapsed(p,m)},[]),u=h.useCallback((p,m)=>{n.current.onSetFieldSetCollapsed(p,m)},[]),d=h.useCallback((p,m)=>{n.current.onFieldGroupSelect(p,m)},[]),f=h.useMemo(()=>({transformPatches:r,onChange:o,onPathFocus:i,onPathBlur:s,onPathOpen:a,onSetPathCollapsed:l,onSetFieldSetCollapsed:u,onFieldGroupSelect:d}),[o,d,s,i,a,u,l,r]);return c.jsx(jB.Provider,{value:f,children:t.children})});function ma(){const e=h.useContext(jB);if(!e)throw new Error("Form context not provided");return e}function TB(e,t){return u4(e,t,new WeakSet)}function u4(e,t,n){if(e===t)return e;if(n.has(t)||e==null||t==null||typeof e!==typeof t)return t;if(Array.isArray(t)){n.add(t);let i=e.length===t.length;const s=[];for(let a=0;a<t.length;a++){const l=u4(e[a],t[a],n);l!==e[a]&&(i=!1),s[a]=l}return i?e:s}if(typeof t=="object"){n.add(t);const i=Object.keys(t);let s=Object.keys(e).length===i.length;const a={};for(const l of i){const u=u4(e[l],t[l],n);u!==e[l]&&(s=!1),a[l]=u}return s?e:a}return t}const fAe=h.createContext([]);function TZt(e){return c.jsx(fAe.Provider,{value:e.presence,children:e.children})}function AZt(){const e=h.useContext(fAe);if(!e)throw new Error("Form context not provided");return e}function e1(e,t){const n=AZt(),r=h.useRef(n),o=TB(r.current,n.filter(i=>vi(e,i.path)&&(t||!Cn(e,i.path))));return r.current=o,o}const hAe=h.createContext([]);function DZt(e){return c.jsx(hAe.Provider,{value:e.validation,children:e.children})}function IZt(){const e=h.useContext(hAe);if(!e)throw new Error("Form context not provided");return e}function AB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=IZt();return h.useMemo(()=>n.filter(r=>vi(e,r.path)&&(t||!Cn(e,r.path))).map(r=>({message:r.item.message,level:r.level,path:r.path})),[t,e,n])}function PZt(e){const{action:t}=e,n=h.useCallback(()=>{t.onAction()},[t]),r=typeof t.disabled=="object"&&c.jsx(B,{size:1,children:t.disabled.reason});return c.jsx(eC,{content:r,placement:"left",children:c.jsx(Me,{disabled:!!t.disabled,fontSize:1,icon:t.icon,iconRight:t.iconRight||(t.selected?Ba:void 0),onClick:n,padding:3,pressed:t.selected,space:3,text:t.title,tone:t.tone})})}const OZt={placement:"right",fallbackPlacements:["top","bottom"]};function $Zt(e){const{group:t}=e;return t.expanded?c.jsxs(c.Fragment,{children:[c.jsx(F,{padding:2,paddingBottom:1,children:c.jsx(Nt,{muted:!0,size:0,children:t.title})}),t.children.map((n,r)=>{var o;return c.jsx(d4,{action:n,isFirst:r===0,prevIsGroup:((o=t.children[r-1])==null?void 0:o.type)==="group"},r)})]}):c.jsx($L,{fontSize:1,icon:t.icon,padding:3,popover:OZt,space:3,text:t.title,tone:t.tone,children:t.children.map((n,r)=>{var o;return c.jsx(d4,{action:n,isFirst:r===0,prevIsGroup:((o=t.children[r-1])==null?void 0:o.type)==="group"},r)})})}function d4(e){const{action:t,isFirst:n,prevIsGroup:r}=e;return t.type==="divider"?c.jsx(Ir,{}):t.type==="group"?c.jsxs(c.Fragment,{children:[!n&&c.jsx(Ir,{}),c.jsx($Zt,{group:t})]}):c.jsxs(c.Fragment,{children:[r&&c.jsx(Ir,{}),c.jsx(PZt,{action:t})]})}var gne=Object.freeze,RZt=Object.defineProperty,MZt=(e,t)=>gne(RZt(e,"raw",{value:gne(t||e.slice())})),vne;const pAe={placement:"top"},FZt=O(W)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return de(vne||(vne=MZt([`
    height: 25;
    line-height: 0;
    gap: `,`px;
  `])),n[1]/2)});function yne(e){return"renderAsButton"in e&&e.renderAsButton}const LZt=h.memo(function(t){const{nodes:n,onMenuOpenChange:r}=t,[o,i]=h.useState(!1),s=h.useCallback(()=>{r(!0),i(!0)},[r]),a=h.useCallback(()=>{r(!1),i(!1)},[r]),l=h.useMemo(()=>n.filter(yne),[n]),u=h.useMemo(()=>n.filter(p=>!yne(p)),[n]),d=h.useMemo(()=>{const p=u.length;if(p===0||p>1)return u;const m=u[0];return m.type==="group"?[{...m,expanded:!0}]:u},[u]),f=h.useMemo(()=>[...d.length?[{type:"group",children:d,icon:Ho,title:"Field actions"}]:[],...l],[l,d]);return c.jsx(FZt,{children:f.map((p,m)=>c.jsx(BZt,{node:p,onOpen:s,onClose:a,open:o},m))})}),BZt=h.memo(function(t){const{node:n,onOpen:r,onClose:o,open:i}=t;return n.type==="divider"?c.jsx(ee,{borderLeft:!0,flex:"none"}):n.type==="action"?c.jsx(uh,{fontSize:1,icon:n.icon,label:i?void 0:n.title,mode:"bleed",onClick:n.onAction,padding:2,tooltip:pAe}):c.jsx(zZt,{node:n,onOpen:r,onClose:o,open:i})}),NZt={constrainSize:!0,placement:"right",portal:!0,fallbackPlacements:["top","bottom"]};function zZt(e){const{node:t,onOpen:n,onClose:r,open:o}=e;return c.jsx(rn,{button:c.jsx(uh,{fontSize:1,icon:t.icon,label:o?void 0:t.title,mode:"bleed",padding:2,tooltip:pAe}),id:h.useId(),menu:c.jsx(Ht,{children:t.children.map((i,s)=>{var a;return c.jsx(d4,{action:i,isFirst:s===0,prevIsGroup:((a=t.children[s-1])==null?void 0:a.type)==="group"},s)})}),onOpen:n,onClose:r,popover:NZt})}function mAe(e){return e.filter(Boolean).filter(t=>"hidden"in t?t.hidden!==!0:!0).map(t=>t.type==="group"?{...t,children:mAe(t.children)}:t)}const rC=h.memo(function(t){const{actions:n,documentId:r,documentType:o,onActions:i,path:s,schemaType:a}=t,l=n.length,u=h.useRef(l),[d,f]=h.useState(()=>Array.from(new Array(l))),p=h.useRef(d),m=h.useCallback((v,g)=>{f(b=>{const x=[...b];return x[v]=g,x})},[]);return h.useEffect(()=>{p.current!==d&&(p.current=d,i(mAe(d)))},[d,i]),h.useEffect(()=>{if(u.current!==l){const v=Array.from(new Array(l));for(let g=0;g<l;g++)v[g]=p.current[g];u.current=l,f(v),p.current=v}},[l]),c.jsx(c.Fragment,{children:n.map((v,g)=>c.jsx(VZt,{action:v,index:g,documentId:r,documentType:o,path:s,schemaType:a,setFieldAction:m},g))})}),VZt=h.memo(function(t){const{action:n,documentId:r,documentType:o,index:i,path:s,schemaType:a,setFieldAction:l}=t,u=Go(n.useAction({documentId:r,documentType:o,path:s,schemaType:a}));return h.useEffect(()=>{l(i,u)},[i,u,l]),null}),gAe=h.createContext(null);function DB(){const e=h.useContext(gAe);if(!e)throw new Error("UserColorManager: missing context value");return e}function HZt(e){const t=DB();return Ao(e?t.listen(e):ret(),[e],t.get(null))}const UZt="purple",WZt=["green","red","gray"],YZt=bve.filter(e=>!WZt.includes(e)),vAe=e=>{const t=e==="dark";return{background:t?"900":"100",border:t?"700":"300",text:t?"200":"700"}},qZt=e=>{const{background:t,border:n,text:r}=vAe(e);return YZt.reduce((o,i)=>(o[i]={name:i,background:fe[i][t].hex,border:fe[i][n].hex,text:fe[i][r].hex,tints:fe[i]},o),{})},GZt=e=>{const{background:t,border:n,text:r}=vAe(e);return{name:"gray",background:fe.gray[t].hex,border:fe.gray[n].hex,text:fe.gray[r].hex,tints:fe.gray}};function KZt(e){const{anonymousColor:t,colors:n,currentUserColor:r,scheme:o}=e,i=n||qZt(o),s=t||GZt(o),a=r||UZt;if(!i.hasOwnProperty(a))throw new Error("'colors' must contain 'currentUserColor' (".concat(a,")"));const l=Object.keys(i),u=new Map,d=new Map,f=l.reduce((k,T)=>(k[T]=0,k),{}),p=new Map;let m;return e!=null&&e.userStore&&e.userStore.me.subscribe(k=>E(k?k.id:null)),{get:v,listen:b};function v(k){return k?i[g(k)]:s}function g(k){if(k===m)return a;const T=p.get(k);if(T)return T;const A=d.get(k);if(A&&(f[A]===0||!C()))return x(k,A);const D=j(k);return f[D]===0?x(k,D):x(k,_(A))}function b(k){let T=u.get(k);if(T)return T;const A=g(k);return T=S(k,A),u.set(k,T),T}function x(k,T){return p.set(k,T),d.set(k,T),f[T]++,T}function y(k,T){p.delete(k),f[T]--}function w(){return l.find(k=>f[k]===0)}function C(){return!!w()}function _(k){let T=1/0,A=[];return l.forEach(D=>{const I=f[D];I===T?A.push(D):I<T&&(T=I,A=[D])}),k&&A.includes(k)?k:A[0]}function S(k,T){return new ut(A=>{const D=i[T];return A.next(D),()=>{u.delete(k),y(k,T)}}).pipe(To({refCount:!0}))}function E(k){m=k,f[a]+=k?1:-1}function j(k){let T=0;for(let A=0;A<k.length;A++)T=(T<<5)-T+k.charCodeAt(A)|0;return l[Math.abs(T)%l.length]}}function ZZt(e){let{children:t,manager:n}=e;const{scheme:r}=Uc(),o=h.useMemo(()=>n||KZt({scheme:r}),[n,r]);return c.jsx(gAe.Provider,{value:o,children:t})}const XZt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,QZt=/_key\s*==\s*['"](.*)['"]/;function _n(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(Or(n)&&n._key)return"".concat(t,'[_key=="').concat(n._key,'"]');if(Array.isArray(n)){const[i,s]=n;return"".concat(t,"[").concat(i,":").concat(s,"]")}throw new Error("Unsupported path segment `".concat(JSON.stringify(n),"`"))},"")}function Cl(e,t){const n=t[0];if(!n)return e;const r=t.slice(1);if(bc(n))return Cl(Array.isArray(e)?e[n]:void 0,r);if(Or(n))return Cl(Array.isArray(e)?e.find(o=>o._key===n._key):void 0,r);if(typeof n=="string")return Cl(Ct(e)?e[n]:void 0,r);throw new Error("Unknown segment type ".concat(JSON.stringify(n)))}function JZt(e,t){return typeof t!="number"&&!Or(t)?-1:typeof t=="number"?t:e.findIndex(n=>_l(n)&&n._key===t._key)}function eXt(e){const t=e.match(XZt);if(!t)throw new Error("Invalid path string");return t.map(tXt)}function tXt(e){return bc(e)?nXt(e):Or(e)?rXt(e):Pp(e)?oXt(e):e}function nXt(e){return Number(e.replace(/[^\d]/g,""))}function rXt(e){const t=e.match(QZt);if(!t)throw new Error("Invalid key segment");return{_key:t[1]}}function oXt(e){const[t,n]=e.split(":").map(r=>r===""?r:Number(r));return[t,n]}function yAe(e,t){return e.length!==t.length?!1:e.every((n,r)=>{const o=t[r];return Or(n)&&Or(o)?n._key===o._key:bc(n)?Number(n)===Number(o):Pp(n)&&Pp(o)?n[0]===o[0]&&n[1]===o[1]:n===o})}function bAe(e){return _l(e)?e._key:void 0}function f4(e){const t=bAe(e);return t?{_key:t}:void 0}function iXt(e){return typeof e=="object"&&e!==null&&Object.keys(e).length<=0}function xAe(e,t){return e.get((t==null?void 0:t.author)||null)}function oC(e,t){const n=Array.isArray(t)?t:eXt(t);return sXt(e,n)}function sXt(e,t){const n=h4(e,t);if(n&&n.action!=="unchanged")return n.annotation||void 0}function h4(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t.length===0)return e;const r=t[0],o=t.slice(1);if(Pp(r))throw new Error("Index tuples are not supported in diff paths");if(bc(r)||Or(r)){const s=bc(r)?"at index ".concat(r):"with key ".concat(r._key);if(e.type!=="array"){"Failed to get item ".concat(s," at path ").concat(_n(n)," (not an array)");return}const a=e.items.find(bc(r)?l=>l.toIndex===r:l=>aXt(l,r));if(!a){"Failed to get item ".concat(s," at path ").concat(_n(n)," (item missing)");return}return h4(a.diff,o,n.concat(r))}if(e.type!=="object"){"Failed to get property ".concat(r," at path ").concat(_n(n)," (not an object)");return}const i=e.fields[r];if(typeof i>"u"){"Failed to get property ".concat(r," at path ").concat(_n(n)," (field did not exist)");return}return h4(i,o,n.concat(r))}function aXt(e,t){const n=e.diff;return n.type!=="object"||!n.toValue?!1:n.toValue._key===t}function mA(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t(e,n)){if(e.type==="array"){lXt(e,t,n);return}if(e.type==="object"){cXt(e,t,n);return}e.type==="string"&&uXt(e,t,n)}}function lXt(e,t,n){e.action!=="unchanged"&&e.items.forEach(r=>{var o;const i=r.diff.type==="object"&&((o=r.diff.toValue)==null?void 0:o._key),s=i?{_key:i}:dXt(r);mA(r.diff,t,n.concat(s))})}function cXt(e,t,n){e.action!=="unchanged"&&Object.keys(e.fields).forEach(r=>{const o=e.fields[r];mA(o,t,n.concat(r))})}function uXt(e,t,n){e.action!=="unchanged"&&e.segments.forEach(r=>{mA(r,t,n)})}function dXt(e){return typeof e.toIndex>"u"?e.fromIndex||0:e.toIndex}function wAe(e){const t=DB();return xAe(t,e)}function i0(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=DB(),r=h.useMemo(()=>oC(e,t),[e,t]);return h.useMemo(()=>xAe(n,r),[r,n])}function Ki(e){if("diff"in e){const{diff:t,path:n=[],...r}=e,o=oC(t,n);return c.jsx(bne,{...r,annotations:o?[o]:[]})}return c.jsx(bne,{...e})}function bne(e){const{annotations:t,children:n,description:r="Changed",...o}=e;if(!t)return n;const i=c.jsxs(ne,{padding:3,space:2,children:[c.jsx(Nt,{size:1,style:{textTransform:"uppercase"},children:r}),c.jsx(ne,{space:2,children:t.map((s,a)=>c.jsx(fXt,{annotation:s},a))})]});return c.jsx(n0,{zOffset:"paneFooter",children:c.jsx(yt,{content:i,portal:!0,...o,children:n})})}function fXt(e){let{annotation:t}=e;const{author:n,timestamp:r}=t,[o]=u1(n),i=wAe(t),s=Wf(r,{minimal:!0});return c.jsxs(Jt,{space:2,children:[c.jsxs(W,{align:"center",paddingRight:3,style:{backgroundColor:i.background,color:i.text,borderRadius:"calc(23px / 2)"},children:[c.jsx(Ya,{user:n}),c.jsx(Jt,{paddingLeft:2,children:c.jsx(B,{muted:!0,size:1,style:{color:i.text},children:o?o.displayName:"Loading…"})})]}),c.jsx(B,{as:"time",muted:!0,size:1,dateTime:r,children:s})]})}var xne=Object.freeze,hXt=Object.defineProperty,pXt=(e,t)=>xne(hXt(e,"raw",{value:xne(t||e.slice())})),wne;const mXt=O(ee)(wne||(wne=pXt([`
  --diff-card-radius: `,`;
  --diff-card-bg-color: `,`;

  max-width: 100%;
  position: relative;
  border-radius: var(--diff-card-radius);

  &:not(del) {
    text-decoration: none;
  }

  &[data-hover] {
    &::after {
      content: '';
      display: block;
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
    }

    &:hover {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }

    [data-from-to-layout]:hover & {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }
  }
`])),e=>{let{theme:t}=e;return ge(t.sanity.radius[2])},e=>{let{theme:t}=e;return t.sanity.color.card.enabled.bg}),gXt=[],Ci=h.forwardRef(function(t,n){const{annotation:r,as:o="div",children:i,className:s,diff:a,disableHoverEffect:l,path:u=gXt,style:d={},tooltip:f,...p}=t,m=h.useMemo(()=>r||oC(a,u),[r,a,u]),v=wAe(m),g=c.jsx(mXt,{...p,as:o,className:s,"data-hover":l||!m?void 0:"",ref:n,radius:1,style:{...d,backgroundColor:v.background,color:v.text},children:i});return f&&m?c.jsx(Ki,{annotations:[m],description:f&&typeof f=="object"&&f.description,children:g}):g});var Cne=Object.freeze,vXt=Object.defineProperty,CAe=(e,t)=>Cne(vXt(e,"raw",{value:Cne(t||e.slice())})),_ne,Sne;const IB=O.div(_ne||(_ne=CAe([`
  border-radius: `,`;
  padding: `,`;
`])),e=>{let{theme:t}=e;return ge(t.sanity.radius[2])},e=>{let{theme:t}=e;return ge(t.sanity.space[1])}),gk=O(B)(Sne||(Sne=CAe([`
  &:not([hidden]) {
    color: inherit;
  }
`])));function yXt(e){const{change:t,segment:n}=e;if(typeof n=="string")return c.jsx(F,{children:c.jsx(B,{title:n,size:1,weight:"semibold",textOverflow:"ellipsis",children:n})});const{hasMoved:r,fromIndex:o,toIndex:i,annotation:s}=n,a=typeof o>"u",l=typeof i>"u";if(a)return c.jsx(bXt,{annotation:s,change:t,toIndex:i});if(l)return c.jsx(xXt,{annotation:s,fromIndex:o});if(r&&typeof i<"u"&&typeof o<"u")return c.jsx(wXt,{annotation:s,fromIndex:o,toIndex:i});const u=(i||0)+1;return c.jsx(F,{padding:1,children:c.jsxs(B,{size:1,weight:"semibold",children:["#",u]})})}function bXt(e){const{annotation:t,change:n,toIndex:r=0}=e,o=r+1,i="Added in position ".concat(o),s=c.jsxs(c.Fragment,{children:["#",o]}),l=(n!=null&&n.diff?oC(n.diff,[]):void 0)||t;return l?c.jsx(Ci,{annotation:l,tooltip:{description:i},as:IB,children:c.jsx(gk,{size:1,weight:"semibold",forwardedAs:"ins",style:{textDecoration:"none"},children:s})}):c.jsx(B,{size:1,weight:"semibold",children:s})}function xXt(e){const{annotation:t,fromIndex:n=0}=e,r=n+1,o="Removed from position ".concat(r);return c.jsx(Ci,{annotation:t||null,as:IB,tooltip:{description:o},children:c.jsxs(gk,{size:1,weight:"semibold",forwardedAs:"del",children:["#",r]})})}function wXt(e){const{annotation:t,fromIndex:n,toIndex:r}=e,o=r-n,i=o<0?"↑":"↓",s=Math.abs(o),a="Moved ".concat(s," position").concat(s===1?"":"s"," ").concat(o<0?"up":"down");return c.jsxs(c.Fragment,{children:[c.jsx(F,{padding:1,children:c.jsxs(gk,{size:1,weight:"semibold",children:["#",r+1]})}),c.jsx(Ci,{annotation:t,as:IB,tooltip:{description:a},children:c.jsxs(gk,{size:1,weight:"semibold",children:[i,Math.abs(o)]})})]})}function _Ae(e){const{change:t,titlePath:n}=e;return c.jsx(PL,{maxLength:4,separator:c.jsx(B,{muted:!0,size:1,children:c.jsx(Qu,{})}),children:n.map((r,o)=>typeof r=="string"||!t||t.showIndex?c.jsx(yXt,{change:t,segment:r},o):null)})}function CXt(e){return Ct(e)&&typeof(e==null?void 0:e.then)=="function"}function _Xt(e,t,n){const{currentUser:r,document:o,parent:i,value:s}=n,a=h.useRef(!1);return h.useMemo(()=>{let l=!1;if(typeof e=="boolean"||e===void 0)return e||!1;try{l=e({document:o,parent:i,value:s,currentUser:r})}catch(u){return console.error("An error occurred while running the callback from `".concat(t,"`: ").concat(u.message)),!1}return CXt(l)&&!a.current?(console.warn("The `".concat(t,"` option is either a promise or a promise returning function. Async callbacks for `").concat(t,"` option is not currently supported.")),!1):(typeof l>"u"&&console.warn("The `".concat(t,"` option is or returned `undefined`. `").concat(t,"` should return a boolean.")),l)},[e,o,i,s,r,t])}const p4=e=>{const{checkProperty:t=!1,checkPropertyKey:n,document:r,parent:o,value:i}=e,s=Go(i),a=ii();return _Xt(t,n,{currentUser:a,document:r,parent:o,value:s})},Wu=h.createContext({path:[]});function m4(e,t){const{jsonType:n}=t,r=Array.isArray(e)?"array":typeof e;if(!(e===null||r==="undefined")){if(r!==n)return{message:"Value is ".concat(r,", expected ").concat(n),value:e};if(SXt(t)&&EXt(e))for(const o of t.fields){const i=m4(e[o.name],o.type);if(i)return i}}}function SXt(e){return e.jsonType==="object"}function EXt(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"}function kXt(e){return hF(e)?e._type:TXt(e)}function jXt(e,t){return e.action==="added"?{toType:ny(t,e.toValue)}:e.action==="changed"?{fromType:ny(t,e.fromValue),toType:ny(t,e.toValue)}:e.action==="removed"?{fromType:ny(t,e.fromValue)}:{toType:ny(t,e.toValue)}}function ny(e,t){const n=kXt(t),r=e.of.find(o=>o.name===n);return r||(e.of.length===1?e.of[0]:void 0)}function TXt(e){return Array.isArray(e)?"array":e===null?"null":typeof e}const t1=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],gA="",n1=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],AXt="↲",vk=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],DXt=" ",SAe="⁠";function IXt(e){return e.of.some(kAe)}const PXt=n1.map(e=>e[0]).concat(t1.map(e=>e[0])),OXt=n1.map(e=>e[1]).concat(t1.map(e=>e[1])),EAe=PXt.concat(OXt).concat(vk).concat(gA).concat(SAe),Ene=new RegExp("".concat(EAe.join("|")),"g"),$Xt=new RegExp("".concat(EAe.join("|"),`|
`),"g");function kAe(e){return e.jsonType==="object"&&e.name==="block"}function RXt(e){return Xu(e)&&!!e.style&&["h1","h2","h3","h4","h5","h6"].includes(e.style)}function kne(e,t){return e.fields.children.items.filter(r=>r.diff.isChanged&&(r.diff.toValue===t||r.diff.fromValue===t)).map(r=>r.diff).map(r=>r)[0]}function g4(e,t){const n=e.find(o=>o.name==="children");return n&&n.type&&n.type.jsonType==="array"&&n.type.of.find(o=>o.name===t._type)||void 0}function PB(e){return e.decorators?V0(e.decorators,["value"],["asc"]):[]}function jAe(e,t){return PB(t).some(n=>n.value===e)}function jne(e,t,n,r,o){return t?t.children.map(i=>{var s;let a=Qs(i)?(s=i.text)==null?void 0:s.replace(Ene,""):"";if(Qs(i)){const l=OB(e,i),u=l==null?void 0:l.fields.text;u&&u.toValue===i.text&&u.type==="string"&&u.action!=="unchanged"&&(a=u.segments.filter(d=>d.action!=="removed").map(d=>d.text.replace(Ene,"")).join(SAe)),i.marks&&i.marks.forEach(d=>{!!n[d]?a="".concat(n[d][0]).concat(a).concat(n[d][1]):r[d]&&(a="".concat(r[d][0]).concat(a).concat(r[d][1]))})}else a=o[i._key];return"".concat(gA).concat(a)}).join(""):""}function MXt(e,t){const n=e.action==="removed"?e.fromValue:e.toValue,r={...e,origin:e,displayValue:n};if(n){const o={},i={},s={},a=g4(t.fields,{_key:"bogus",_type:"span"});a&&PB(a).forEach((g,b)=>{i[g.value]=n1[b]}),DAe(r.origin).forEach((g,b)=>{o[g._key]=t1[b]}),TAe(r.origin).forEach((g,b)=>{s[g._key]=vk[b]});const d=jne(r.origin,r.fromValue,i,o,s),f=jne(r.origin,r.toValue,i,o,s),p={...n,children:[{_type:"span",_key:"pseudoSpanKey",text:f,marks:[]}]},m={displayValue:n,children:[{_type:"span",_key:"pseudoSpanKey",text:d,marks:[]}]};return{origin:e,action:"changed",type:"object",displayValue:p,fromValue:m,toValue:p,isChanged:!0,fields:{children:{action:"changed",type:"array",isChanged:!0,items:[{diff:{action:"changed",type:"object",isChanged:!0,fields:{text:{type:"string",action:"changed",isChanged:!0,fromValue:d,toValue:f,segments:FXt(d,f).map(g=>({...g,...r.action!=="unchanged"&&r.annotation?{annotation:r.annotation}:{}}))}},fromValue:m.children[0],toValue:p.children[0]},annotation:null,fromIndex:0,toIndex:0,hasMoved:!1}],fromValue:m.children,toValue:p.children}}}}throw new Error("Can not display this diff")}function FXt(e,t){const n=[],r=u9(Lw(e,t));let o=0,i=0;for(const[s,a]of r)switch(s){case wt:n.push({type:"stringSegment",action:"unchanged",text:a}),o+=a.length,i+=a.length;break;case Dn:n.push({type:"stringSegment",action:"removed",text:e.substring(o,o+a.length),annotation:null}),o+=a.length;break;case Yn:n.push({type:"stringSegment",action:"added",text:t.substring(i,i+a.length),annotation:null}),i+=a.length;break}return En(n.map(s=>{const a=[];if(s.text.length>1){const l=[...s.text.matchAll($Xt)];let u=-1;l.forEach(d=>{const f=d.index||0;f>u&&(a.push({...s,text:s.text.substring(u+1,f)}),a.push({...s,text:d[0]})),d===l[l.length-1]&&a.push({...s,text:s.text.substring(f+1)}),u=f}),l.length===0&&a.push(s)}else a.push(s);return a}))}function TAe(e){const t=[...e.toValue?e.toValue.children.filter(r=>r._type!=="span"):[]];return(e.fromValue?e.fromValue.children.filter(r=>r._type!=="span"):[]).forEach(r=>{t.some(o=>r._key===o._key)||t.push(r)}),V0(t,["_key"],["asc"])}function OB(e,t){const n=e.fields.children&&e.fields.children.action!=="unchanged"&&e.fields.children.type==="array"&&e.fields.children.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.action==="removed"?r.diff.fromValue&&r.diff.fromValue._key===t._key:(r.diff.toValue&&r.diff.toValue._key)===t._key));if(n)return n.diff}function LXt(e,t){var n;return e.fields.markDefs&&e.fields.markDefs.isChanged&&e.fields.markDefs.type==="array"&&((n=e.fields.markDefs.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.toValue&&r.diff.toValue._key&&r.diff.toValue._key===t||r.diff.fromValue&&r.diff.fromValue._key&&r.diff.fromValue._key===t)))==null?void 0:n.diff)||void 0}function AAe(e){return e&&Yt(Object.keys(e),["_key","_type"])||!1}function BXt(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function DAe(e){const t=[...e.toValue&&e.toValue.markDefs?e.toValue.markDefs:[]];return(e.fromValue&&e.fromValue.markDefs?e.fromValue.markDefs:[]).forEach(r=>{t.some(o=>r._key===o._key)||t.push(r)}),V0(t,["_key"],["asc"])}const NXt=[];function zXt(e){let{checked:t,color:n}=e;return c.jsxs("svg",{width:"17",height:"17",viewBox:"0 0 17 17",xmlns:"http://www.w3.org/2000/svg",fill:n==null?void 0:n.background,children:[c.jsx("rect",{x:"0",y:"0",width:"17",height:"17",rx:"2.5"}),typeof t>"u"&&c.jsx("path",{d:"M4.07996 8.5H12.92",stroke:n==null?void 0:n.text,strokeWidth:"2"}),t&&c.jsx("path",{d:"M3.5 8L7 11.5L13.5 5",stroke:n==null?void 0:n.text,strokeWidth:"2"})]})}function VXt(e){let{checked:t,color:n}=e;return c.jsxs("svg",{width:"38",height:"22",viewBox:"0 0 38 22",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("rect",{width:"38",height:"22",rx:"11",fill:t?n==null?void 0:n.border:n==null?void 0:n.background}),typeof t>"u"&&c.jsx("rect",{x:"11",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),t&&c.jsx("rect",{x:"18",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),typeof t=="boolean"&&!t&&c.jsx("rect",{x:"4",y:"3",width:"16",height:"16",rx:"8",fill:"white"})]})}const HXt=e=>{let{diff:t,schemaType:n}=e;const{fromValue:r,toValue:o}=t,{title:i,options:s}=n,a=(s==null?void 0:s.layout)==="checkbox"?zXt:VXt,l=i0(t,[]),u=o!=null;return c.jsxs(W,{align:"center",children:[c.jsx(Ki,{diff:t,children:c.jsxs(W,{align:"center",children:[c.jsx(a,{checked:r,color:l}),u&&c.jsxs(c.Fragment,{children:[c.jsx(F,{marginX:2,children:c.jsx(NB,{})}),c.jsx(a,{checked:o,color:l})]})]})}),u&&i&&c.jsx(F,{marginLeft:2,children:c.jsx(B,{size:1,weight:"semibold",children:i})})]})};var Tne=Object.freeze,UXt=Object.defineProperty,WXt=(e,t)=>Tne(UXt(e,"raw",{value:Tne(t||e.slice())})),Ane;const YXt="YYYY-MM-DD",qXt="HH:mm",GXt=O.div(Ane||(Ane=WXt([`
  display: inline-block;
  word-wrap: break-word;
`]))),KXt=function(t){let{value:n,schemaType:r}=t;return c.jsx(F,{as:GXt,paddingX:2,paddingY:1,children:ZXt(n,r)})};function ZXt(e,t){const{options:n,name:r}=t,o=(n==null?void 0:n.dateFormat)||YXt,i=(n==null?void 0:n.timeFormat)||qXt;return zT(new Date(e),r==="date"?o:"".concat(o," ").concat(i))}const Dne=e=>{let{diff:t,schemaType:n}=e;return c.jsx(iC,{align:"center",diff:t,layout:"grid",previewComponent:KXt,schemaType:n})},IAe=h.createContext(null);function vA(){const e=h.useContext(IAe);if(!e)throw new Error("DocumentChange: missing context value");return e}function Ine(e){const[t,n]=h.useState(void 0),r=Sr(gn);return h.useEffect(()=>{if(!e)return;const o=r.observable.getDocument(e).subscribe(n);return()=>{o.unsubscribe()}},[r,e]),e?t:void 0}function XXt(e,t){if(!e||!t)return 0;const n=t-e;return Math.round(n/e*100)}var Pne=Object.freeze,QXt=Object.defineProperty,JXt=(e,t)=>Pne(QXt(e,"raw",{value:Pne(t||e.slice())})),One;const eQt=O.div(One||(One=JXt([`
  `,`
  &:not([hidden]) {
    display: inline-block;
  }

  [data-number='positive'] {
    color: var(--size-diff-positive);
  }

  [data-number='negative'] {
    color: var(--size-diff-negative);
  }
`])),e=>{let{theme:t}=e;return`
    --size-diff-positive: `.concat(t.sanity.color.solid.positive.enabled.bg,`;
    --size-diff-negative: `).concat(t.sanity.color.solid.critical.enabled.bg,`;
  `)}),tQt=e=>{let{diff:t,schemaType:n}=e;const{fromValue:r,toValue:o,fields:i}=t,s=r==null?void 0:r.asset,a=o==null?void 0:o.asset,l=Ine(s==null?void 0:s._ref),u=Ine(a==null?void 0:a._ref),d=Object.entries(i).filter(S=>{let[E,j]=S;return j.isChanged&&E!=="_type"}).map(S=>{let[E]=S;return E}),f=d.includes("asset"),p=n.fields.filter(S=>S.name!=="asset"&&d.includes(S.name)).map(S=>S.name),m=(l==null?void 0:l.size)&&l.size/1e3/1e3,v=(u==null?void 0:u.size)&&u.size/1e3/1e3,g=XXt(m,v),b=m?m.toFixed(2):void 0,x=v?v.toFixed(2):void 0,y=h.useMemo(()=>({display:"block",flex:1}),[]),w=l&&c.jsx(Ci,{as:"del",diff:t,path:"asset._ref",style:y,children:c.jsx(w4,{title:l.originalFilename||"Untitled",icon:Rp,children:c.jsx(B,{size:0,style:{color:"inherit"},children:"".concat(b,"MB")})})}),C=u&&c.jsx(Ci,{as:"ins",diff:t,path:"asset._ref",style:y,children:c.jsx(w4,{title:u.originalFilename||"Untitled",icon:Rp,children:c.jsxs(W,{align:"center",children:[c.jsx(B,{size:0,style:{color:"inherit"},children:"".concat(x,"MB")}),g!==0&&c.jsx(ee,{radius:2,padding:1,as:eQt,marginLeft:2,children:c.jsxs(B,{size:0,"data-number":g>0?"positive":"negative",children:[g>0&&"+",g,"%"]})})]})})}),_=c.jsxs(c.Fragment,{children:[w&&!C&&c.jsx(Ki,{diff:t,path:"asset._ref",description:"Removed",children:w}),w&&C&&c.jsx(Ki,{diff:t,path:"asset._ref",children:c.jsx(zB,{from:w,layout:"grid",to:C})}),!w&&C&&c.jsx(Ki,{diff:t,path:"asset._ref",description:"Added",children:C})]});return c.jsxs(c.Fragment,{children:[f&&_,p.length>0&&c.jsx(F,{marginTop:f?4:3,children:c.jsx(sC,{diff:t,schemaType:n,fields:p})})]})};function $ne(e,t){const n=(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e)||[]).slice(1).map(r=>parseInt(r,16)).concat(t);return"rgba(".concat(n.join(", "),")")}function nQt(e){let t=0;if(e.length==0)return t.toString();for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t.toString()}function rQt(){const e=Math.ceil(window.devicePixelRatio||1);return Math.min(3,Math.max(1,e))}function oQt(e){const{crop:t,diff:n,hash:r,hotspot:o,width:i=100,height:s=100,...a}=e,l=i0(n,"crop"),u=i0(n,"hotspot");return c.jsxs("svg",{...a,fill:"none",width:i,height:s,viewBox:"0 0 ".concat(i," ").concat(s),children:[c.jsx("defs",{children:t&&o&&c.jsxs("mask",{id:"mask-hotspot-".concat(r),children:[c.jsx("rect",{x:0,y:0,width:i,height:s,fill:"#fff"}),c.jsx(Rne,{hotspot:o,fill:"#000",offset:1,width:i,height:s,stroke:"#000",strokeWidth:3})]})}),t&&c.jsx(Ki,{diff:n,path:"crop",description:"Crop changed",children:c.jsx("g",{children:c.jsx(iQt,{crop:t,fill:$ne(l.border,.25),mask:o?"url(#mask-hotspot-".concat(r,")"):void 0,stroke:l.border,strokeWidth:1,width:i,height:s})})}),o&&c.jsx(Ki,{diff:n,path:"hotspot",description:"Hotspot changed",children:c.jsx("g",{children:c.jsx(Rne,{hotspot:o,fill:$ne(u.border,.25),stroke:u.border,strokeWidth:1,width:i,height:s})})})]})}function iQt(e){let{crop:t,width:n,height:r,...o}=e;const i={x:t.left*n,y:t.top*r,width:(1-t.right-t.left)*n,height:(1-t.bottom-t.top)*r};return c.jsx("rect",{...o,...i,style:{vectorEffect:"non-scaling-stroke"}})}function Rne(e){let{hotspot:t,offset:n=0,width:r,height:o,...i}=e;const s={cx:t.x*r,cy:t.y*o,rx:t.width/2*r+n,ry:t.height/2*o+n};return c.jsx("ellipse",{...i,...s,style:{vectorEffect:"non-scaling-stroke"}})}var Mne=Object.freeze,sQt=Object.defineProperty,$B=(e,t)=>Mne(sQt(e,"raw",{value:Mne(t||e.slice())})),Fne,Lne,Bne;const aQt=["originalFilename"],Nne=()=>c.jsx(ee,{flex:1,tone:"transparent",padding:4,radius:2,height:"stretch",children:c.jsx(W,{align:"center",justify:"center",height:"fill",children:c.jsx(B,{size:1,muted:!0,children:"(no image)"})})}),lQt=O.div(Fne||(Fne=$B([`
  height: 100%;
  max-height: 190px;
  position: relative;

  /* Ideally the checkerboard component currently in the form builder should be made available and used here */
  background-color: `,`;
  background-image: linear-gradient(45deg, `,` 25%, transparent 25%),
    linear-gradient(-45deg, `,` 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, `,` 75%),
    linear-gradient(-45deg, transparent 75%, `,` 75%);
  background-size: 16px 16px;
  background-position:
    0 0,
    0 8px,
    8px -8px,
    -8px 0;

  &::after {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    pointer-events: none;
  }

  &[data-changed] {
    opacity: 0.45;
  }
`])),fe.gray[100].hex,fe.gray[50].hex,fe.gray[50].hex,fe.gray[50].hex,fe.gray[50].hex),cQt=O.img(Lne||(Lne=$B([`
  display: block;
  flex: 1;
  min-height: 0;
  object-fit: contain;
  width: 100%;
  height: 100%;

  &[data-action='removed'] {
    opacity: 0.45;
  }
`]))),uQt=O.div(Bne||(Bne=$B([`
  svg {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
`])));function kO(e){var t,n,r,o;const{id:i,action:s,diff:a,hotspot:l,crop:u,is:d}=e,f=Sr(gn),[p,m]=re.useState(),{value:v}=Cxn(i,aQt),g=LEt(i),b=h.useMemo(()=>ET(f),[f]),x=v===null,y=v&&v.originalFilename||"Untitled",w=b.image(i).height(190).dpr(rQt()).fit("max"),C=((n=(t=a.fromValue)==null?void 0:t.asset)==null?void 0:n._ref)!==((o=(r=a.toValue)==null?void 0:r.asset)==null?void 0:o._ref),_=s==="changed"?void 0:s;return c.jsxs(W,{direction:"column",height:"fill",flex:1,children:[c.jsx(F,{flex:1,padding:2,paddingBottom:0,children:c.jsxs(W,{as:lQt,direction:"column","data-changed":d==="from"&&C?"":void 0,"data-error":p?"":void 0,children:[!x&&!p&&c.jsx(cQt,{src:w.toString()||"",alt:y,"data-action":_,onError:m,width:g.width,height:g.height}),(x||p)&&c.jsx(F,{paddingY:5,children:c.jsx(B,{size:1,muted:!0,align:"center",children:x?"Image is deleted":"Error loading image"})}),c.jsx(uQt,{children:c.jsx(oQt,{crop:u&&!SEt(u)?u:void 0,diff:a,hash:nQt("".concat(w.toString()||"","-").concat(d)),hotspot:l&&!EEt(l)?l:void 0,width:g.width,height:g.height})})]})}),c.jsx(w4,{title:y,icon:Sl,markRemoved:C&&d==="from",children:_?c.jsx("div",{children:_}):c.jsxs("div",{children:[g.width," × ",g.height]})})]})}const dQt=["crop","hotspot"],fQt=["asset",...dQt],jO={flex:1},hQt=e=>{let{diff:t,schemaType:n}=e;var r,o;const{fromValue:i,toValue:s,fields:a,isChanged:l}=t,u=(r=i==null?void 0:i.asset)==null?void 0:r._ref,d=(o=s==null?void 0:s.asset)==null?void 0:o._ref,f=oC(t,["asset","_ref"]),p=Object.keys(a).filter(j=>a[j].isChanged&&j!=="_type"),m=n.fields.filter(j=>!fQt.includes(j.name)&&p.includes(j.name)).map(j=>j.name);let v="changed";!u&&d?v="added":!d&&u&&(v="removed");const g=p.includes("asset"),b=p.includes("crop"),x=p.includes("hotspot"),y=b||x,w=g||y,C=y&&!g,_=i&&u?c.jsx(Ci,{annotation:f,style:jO,children:c.jsx(kO,{is:"from",id:u,diff:t,action:v,hotspot:C&&x?i.hotspot:void 0,crop:C&&b?i.crop:void 0})}):c.jsx(Nne,{}),S=s&&d?c.jsx(Ci,{annotation:f,style:jO,children:c.jsx(kO,{is:"to",id:d,diff:t,hotspot:C&&x?s.hotspot:void 0,crop:C&&b?s.crop:void 0})}):c.jsx(Nne,{});if(!_&&!S)return c.jsx(ee,{padding:4,radius:2,tone:"transparent",children:c.jsx(B,{muted:!0,size:1,align:"center",children:"Image not set"})});if(!l)return d?c.jsx(Ci,{annotation:f,style:jO,children:c.jsx(kO,{id:d,is:"to",diff:t})}):null;const E=c.jsx(zB,{align:"center",from:_,layout:"grid",to:S});return c.jsxs(c.Fragment,{children:[w&&(g?c.jsx(Ki,{annotations:f?[f]:[],description:"".concat(v[0].toUpperCase()).concat(v.slice(1)),children:E}):E),m.length>0&&c.jsx(F,{marginTop:w?4:3,children:c.jsx(sC,{diff:t,schemaType:n,fields:m})})]})};var zne=Object.freeze,pQt=Object.defineProperty,mQt=(e,t)=>zne(pQt(e,"raw",{value:zne(t||e.slice())})),Vne;const gQt=O.div(Vne||(Vne=mQt([`
  display: inline-block;
  word-break: break-all;
`]))),vQt=e=>{const{value:t}=e;return c.jsx(F,{as:gQt,paddingX:2,paddingY:1,children:t})},yQt=e=>{let{diff:t,schemaType:n}=e;return c.jsx(iC,{diff:t,schemaType:n,previewComponent:vQt,layout:"inline"})};var Hne=Object.freeze,bQt=Object.defineProperty,xQt=(e,t)=>Hne(bQt(e,"raw",{value:Hne(t||e.slice())})),Une;const wQt=O.blockquote(Une||(Une=xQt([`
  margin: 0;
`])));function CQt(e){let{children:t}=e;return c.jsx("div",{children:c.jsx(wQt,{children:t})})}var Wne=Object.freeze,_Qt=Object.defineProperty,SQt=(e,t)=>Wne(_Qt(e,"raw",{value:Wne(t||e.slice())})),Yne;const EQt={h1:2,h2:1,h3:0,h4:0,h5:0,h6:0},kQt=O(oi)(Yne||(Yne=SQt([`
  &:not([hidden]) {
    display: inline;
    text-transform: none;
    margin: 0;

    &::before,
    &::after {
      content: unset;
    }
  }
`])));function jQt(e){let{style:t,children:n}=e;return c.jsx(kQt,{size:EQt[t],children:n})}var qne=Object.freeze,TQt=Object.defineProperty,AQt=(e,t)=>qne(TQt(e,"raw",{value:qne(t||e.slice())})),Gne;const DQt=O.div(Gne||(Gne=AQt([`
  text-transform: none;
  white-space: wrap;
  overflow-wrap: break-word;
  margin: 0;
`])));function IQt(e){let{children:t}=e;return c.jsx(DQt,{children:t})}const PQt=[];function OQt(e){var t,n,r;const{diff:o,block:i,children:s}=e,a=i0(o,PQt),{path:l}=h.useContext(Wu),{onSetFocus:u}=h.useContext(Im),d=o.action==="removed";let f=s;const p=h.useCallback(v=>{v.stopPropagation(),d||u(l)},[l,d,u]);i.style==="blockquote"?f=c.jsx(CQt,{children:f}):i.style&&RXt(i)?f=c.jsx(jQt,{style:i.style,children:f}):f=c.jsx(IQt,{children:f});let m;if(o.origin.action==="changed"&&o.origin.fields.style&&o.origin.fields.style.action==="changed"&&o.origin.fields.style.annotation){m=(n=(t=o==null?void 0:o.origin)==null?void 0:t.fromValue)==null?void 0:n.style;const v=a?{background:a.background,color:a.text}:{};f=c.jsx(ee,{padding:3,border:!0,radius:2,style:{borderStyle:"dotted"},"diff-block-action":o.action,"data-block-note":"changed_from_style_".concat(m||"undefined"),children:c.jsxs(ne,{space:2,children:[c.jsx(Ki,{annotations:[(r=o.origin.fields.style)==null?void 0:r.annotation],diff:o.origin.fields.style,children:c.jsxs(B,{size:0,children:["Changed block style from '",m,"' to '",i.style,"'"]})}),c.jsx(F,{style:v,children:f})]})})}return c.jsx("div",{onClick:p,"data-diff-block-action":o.action,"data-block-note":"changed_from_style_".concat(m||"undefined"),children:f})}var Kne=Object.freeze,$Qt=Object.defineProperty,yA=(e,t)=>Kne($Qt(e,"raw",{value:Kne(t||e.slice())})),Zne,Xne,Qne,Jne;const r1=O(F)(Zne||(Zne=yA([`
  &:not([hidden]) {
    display: inline;
    align-items: center;

    &[data-changed] {
      cursor: pointer;
    }
  }
`]))),PAe=O(B)(Xne||(Xne=yA([`
  &:not([hidden]) {
    display: inline;
    color: inherit;
  }
`]))),RB=O(F)(Qne||(Qne=yA([`
  &:not([hidden]) {
    display: inline-flex;
    align-items: center;

    `,` [data-ui="Text"] {
      opacity: 0.5;
    }
  }
`])),r1),OAe=O(F)(Jne||(Jne=yA([`
  min-width: 160px;
  max-height: 40vh;
  overflow-y: auto;
`])));var ere=Object.freeze,RQt=Object.defineProperty,MQt=(e,t)=>ere(RQt(e,"raw",{value:ere(t||e.slice())})),tre;const v4=O.div(tre||(tre=MQt([`
  text-decoration: none;
  display: inline;
  position: relative;
  border: 0;
  padding: 0;
  border-bottom: 2px dotted currentColor;
  box-shadow: inset 0 0 0 1px var(--card-border-color);
  white-space: nowrap;
  align-items: center;
  background-color: color(var(--card-fg-color) a(10%));

  &[data-changed] {
    cursor: pointer;
  }

  &[data-removed] {
    text-decoration: line-through;
  }

  &:hover `,` {
    opacity: 1;
  }
`])),RB);function FQt(e){let{children:t,diff:n,object:r,schemaType:o,path:i,...s}=e;return o?n&&n.action!=="unchanged"?c.jsx(LQt,{...s,diff:n,object:r,schemaType:o,path:i,children:t}):c.jsx(v4,{children:t}):c.jsx(v4,{...s,children:"Unknown schema type"})}function LQt(e){let{diff:t,children:n,object:r,schemaType:o,path:i,...s}=e;const{onSetFocus:a}=h.useContext(Im),{path:l}=h.useContext(Wu),[u,d]=h.useState(null),f=i0(t,[]),p=h.useMemo(()=>f?{background:f.background,color:f.text}:{},[f]),m=t.action==="removed",[v,g]=h.useState(!1),b=r&&AAe(r),x=h.useMemo(()=>[i[0]].concat(["markDefs",{_key:r._key}]),[r._key,i]),y=h.useMemo(()=>l.slice(0,l.findIndex(I=>Or(I)&&I._key===r._key)),[l,r._key]),w=h.useMemo(()=>y.concat(i),[i,y]),C=h.useMemo(()=>y.concat(x),[x,y]),_="field-".concat(yr(C)),S=tB(),E=h.useMemo(()=>S.filter(I=>{let[P]=I;return P.startsWith(_)}).length>0,[_,S]);h.useEffect(()=>{!v&&E&&(g(!0),a(C))},[E,C,a,v]);const j=h.useCallback(I=>{I.stopPropagation(),g(!0),m||(I.preventDefault(),a(w),setTimeout(()=>a(C),10))},[w,m,C,a]),k=h.useCallback(()=>{E||g(!1)},[E]);Vr(k,[u]);const T=t.action!=="unchanged"&&t.annotation||null,A=h.useMemo(()=>T?[T]:[],[T]),D=c.jsx(Wu.Provider,{value:{path:C},children:c.jsx(OAe,{padding:3,children:c.jsxs("div",{children:[b&&c.jsxs(Nt,{size:1,muted:!0,children:["Empty ",o.title]}),!b&&c.jsx(sC,{diff:t,schemaType:o})]})})});return c.jsx(v4,{...s,onClick:j,style:p,"data-changed":"","data-removed":t.action==="removed"?"":void 0,children:c.jsx(hn,{content:D,open:v,ref:d,portal:!0,children:c.jsx(RB,{paddingLeft:1,children:c.jsx(Ki,{annotations:A,description:"".concat(t.action," annotation"),children:c.jsxs(r1,{style:{display:"inline-flex"},children:[c.jsx("span",{children:n}),c.jsx(W,{align:"center",paddingX:1,children:c.jsx(PAe,{size:0,children:c.jsx(Rl,{})})})]})})})})})}var nre=Object.freeze,BQt=Object.defineProperty,NQt=(e,t)=>nre(BQt(e,"raw",{value:nre(t||e.slice())})),rre;const zQt=O.span(rre||(rre=NQt([`
  display: inline;
  `,`
`])),e=>{let{theme:t,decoration:n}=e;switch(n){case"strong":return"font-weight: bold;";case"em":return"font-style: italic;";case"underline":return"text-decoration: underline;";case"overline":return"text-decoration: overline;";case"strike-through":return"text-decoration: line-through;";case"code":return`
          font-family: `.concat(t.sanity.fonts.code.family,`;
          background: `).concat(t.sanity.color.muted.default.enabled.bg,`;
        `);default:return""}});function VQt(e){let{mark:t,children:n}=e;return c.jsx(zQt,{decoration:t,children:n})}var ore=Object.freeze,HQt=Object.defineProperty,UQt=(e,t)=>ore(HQt(e,"raw",{value:ore(t||e.slice())})),ire;const y4=O(ee)(ire||(ire=UQt([`
  &:not([hidden]) {
    display: inline;
    cursor: pointer;
    white-space: nowrap;
    align-items: center;

    &[data-removed] {
      text-decoration: line-through;
    }

    `,` {
      display: inline-flex;
    }
  }
`])),r1);function WQt(e){let{diff:t,object:n,schemaType:r,...o}=e;return r?t?c.jsx(YQt,{...o,diff:t,object:n,schemaType:r}):c.jsx(y4,{children:c.jsx(dC,{schemaType:r,value:n,layout:"inline"})}):c.jsxs(y4,{...o,border:!0,radius:1,children:["Unknown schema type: ",n._type]})}function YQt(e){let{diff:t,object:n,path:r,schemaType:o,...i}=e;const{path:s}=h.useContext(Wu),{onSetFocus:a}=h.useContext(Im),l=i0(t,[]),u=h.useMemo(()=>l?{background:l.background,color:l.text}:{},[l]),[d,f]=h.useState(!1),p=n&&AAe(n),m=t.action==="removed",g=s.slice(0,s.findIndex(k=>Or(k)&&k._key===n._key)).concat(r),b="field-".concat(yr(g)),y=tB().filter(k=>{let[T]=k;return T.startsWith(b)}).length>0,w=s.slice(0,-1).concat(r).concat([Vge]);h.useEffect(()=>{y&&(f(!0),a(w))},[w,y,a]);const C=h.useCallback(k=>{if(k.stopPropagation(),f(!0),!m){a(w);return}k.preventDefault()},[w,m,a]),_=h.useCallback(()=>{f(!1)},[]),S=c.jsx(Wu.Provider,{value:{path:g},children:c.jsx(qQt,{diff:t,emptyObject:p,onClose:_,schemaType:o})}),E=t.action!=="unchanged"&&t.annotation||null,j=E?[E]:[];return c.jsx(y4,{...i,onClick:C,style:u,"data-removed":t.action==="removed"?"":void 0,border:!0,radius:2,children:c.jsx(hn,{content:S,open:d,portal:!0,children:c.jsx(RB,{children:c.jsx(Ki,{annotations:j,description:"".concat(t.action," inline object"),children:c.jsxs(r1,{children:[c.jsx(dC,{schemaType:o,value:n,layout:"inline"}),c.jsx(W,{align:"center",paddingX:1,children:c.jsx(PAe,{size:0,children:c.jsx(Rl,{})})})]})})})})})}function qQt(e){let{diff:t,emptyObject:n,onClose:r,schemaType:o}=e;const[i,s]=h.useState(null),a=h.useCallback(()=>{r()},[r]);return Vr(a,[i]),c.jsxs(OAe,{ref:s,padding:3,children:[n&&c.jsxs(Nt,{size:1,muted:!0,children:["Empty ",o.title]}),!n&&c.jsx(sC,{diff:t,schemaType:o})]})}function GQt(e){let{diff:t,childDiff:n,children:r,path:o,segment:i,...s}=e;const a=t||n;return a&&a.action!=="unchanged"&&i.action!=="unchanged"?c.jsx(KQt,{...s,childDiff:n,diff:t,segment:i,path:o,children:r}):c.jsx(r1,{children:r})}function KQt(e){let{diff:t,childDiff:n,children:r,path:o,segment:i,...s}=e;const{onSetFocus:a}=re.useContext(Im),{path:l}=re.useContext(Wu),u=h.useMemo(()=>o.slice(-2,1)[0],[o]),d=t&&t.action==="removed",p=l.slice(0,l.findIndex(y=>Or(y)&&Or(u)&&y._key===u._key)).concat(o),m=h.useCallback(y=>{y.stopPropagation(),d||(y.preventDefault(),a(p))},[p,d,a]),g=t&&t.segments.find(y=>y.text===i.text)||t||n,b=g&&g.action!=="unchanged"&&g.annotation||null,x=b&&i.action!=="unchanged"?c.jsx(Ci,{annotation:b,as:i.action==="removed"?"del":"ins",tooltip:{description:"".concat(an(i.action)," text")},children:r}):null;return c.jsx(r1,{...s,onClick:m,"data-changed":"",children:c.jsx("span",{children:c.jsx(c.Fragment,{children:x||r})})})}const MB=n1.map(e=>e[0]),FB=n1.map(e=>e[1]),RS=t1.map(e=>e[0]),b4=t1.map(e=>e[1]),ZQt=MB.concat(RS),$Ae=FB.concat(b4),XQt=MB.concat(FB),QQt=new RegExp("".concat(XQt.concat($Ae).join("|")),"g");function JQt(e){const{diff:t,schemaType:n}=e,r=t.origin.toValue||t.origin.fromValue,o=h.useMemo(()=>t.origin.toValue?TAe(t.origin):[],[t.origin]),i=h.useCallback(s=>{const a=g4(n.fields,s);let l=[];if(a){l=PB(a);const u=t.fields.children,d=u.items[0].diff&&u.items[0].diff.type==="object"&&u.items[0].diff.fields.text.type==="string"&&u.items[0].diff.fields.text.segments||[],f=[],p={};if(nJt(r,t)&&(t.origin.action==="added"||t.origin.action==="removed")){const y=kne(t.origin,r.children[0])||t.origin;if(y&&y.action!=="unchanged")return c.jsx(Ci,{annotation:y.annotation,as:y.action==="removed"?"del":"ins",tooltip:{description:"".concat(an(y.action)," empty text")},children:c.jsx("span",{children:AXt})},"empty-block-".concat(r._key))}let m=-1,v=-1;const g=[];let b;const x=DAe(t.origin);return d.forEach(y=>{var w,C,_;v++;const S=vk.includes(y.text),E=ZQt.includes(y.text),j=$Ae.includes(y.text),k=y.text===gA,T=y.action==="removed";if(k)T||m++;else if(E||j){if(E&&RS.includes(y.text)){const A=x[RS.indexOf(y.text)];A&&g.push({mark:A._key,symbols:[y.text,b4[RS.indexOf(y.text)]],object:A})}j&&b4.includes(y.text)&&(b=g.pop())}else if(S){const A=vk.findIndex(P=>P===y.text),D=(w=o[A])==null?void 0:w._key,I=o[A];if(D){const P=g4(n.fields,I),M=kne(t.origin,I);f.push(c.jsx(WQt,{object:I,path:[{_key:r._key},"children",{_key:I._key}],diff:M,schemaType:P},"inline-object-".concat(I._key)))}}else if(y.text){const A=()=>{var $;return($=t.origin.fromValue)==null?void 0:$.children.find(V=>V.text&&V.text.match(BXt(y.text)))},D=r.children[m]||A(),I=D&&OB(t.origin,D);if(!D)throw new Error("Could not find child");const P=(C=I==null?void 0:I.fields)!=null&&C.text?(_=I==null?void 0:I.fields)==null?void 0:_.text:void 0,M=c.jsx(GQt,{diff:P,path:[{_key:r._key},"children",{_key:D._key}],childDiff:I,segment:y,children:eJt({diff:t,child:D,decoratorTypes:l,seg:y,segIndex:v,spanSchemaType:a})},"text-".concat(D._key,"-").concat(v));if(g.length>0&&g.forEach($=>{p[$.mark]=p[$.mark]||[],p[$.mark].push(M)}),b){const $="annotation-".concat(b.object._key),V=f[f.length-1];if(V&&V.key!==$){const L=LXt(t.origin,b.mark),H=b&&a.annotations&&a.annotations.find(U=>b&&b.object&&U.name===b.object._type);f.push(c.jsx(FQt,{object:b.object,diff:L,path:[{_key:r._key},"children",{_key:D._key}],schemaType:H,children:c.jsx(c.Fragment,{children:p[b.mark]})},$))}b=void 0}g.length===0&&f.push(M)}}),re.createElement("div",{key:r._key},...f)}throw new Error("'span' schemaType not found")},[r,t,o,n]);return c.jsx(OQt,{block:t.displayValue,diff:t,children:c.jsx(c.Fragment,{children:(t.displayValue.children||[]).map(s=>i(s))})})}function eJt(e){let{diff:t,child:n,decoratorTypes:r,seg:o,segIndex:i,spanSchemaType:s}=e;if(o.text===`
`)return c.jsx("br",{});let a=c.jsx("span",{children:o.text.replace(/ /g,DXt)},"text-".concat(i));const l=n&&OB(t.origin,n),u=Qs(n)?n.marks||[]:[];return l&&(a=tJt({activeMarks:u,decoratorTypes:r,diff:t,children:a,seg:o,segIndex:i,spanDiff:l,spanSchemaType:s})),u&&u.length>0&&u.forEach(d=>{jAe(d,s)&&(a=c.jsx(VQt,{mark:d,children:a},"decorator-".concat(d,"-").concat(n._key,"-").concat(i)))}),a}function tJt(e){let{activeMarks:t,decoratorTypes:n,diff:r,children:o,seg:i,segIndex:s,spanDiff:a,spanSchemaType:l}=e;var u;let d=c.jsx("span",{children:o},"text-segment-".concat(s));const f=r.origin.fromValue&&r.fromValue&&r.fromValue.children[0].text||"",p=a&&a.action!=="unchanged"&&a.annotation||void 0,m=(u=a==null?void 0:a.fields)==null?void 0:u.marks,v=m&&m.action!=="unchanged"&&m.annotation||p;let g=[];const x=f.split(gA).filter(S=>!!S).join(""),y=x.substring(0,x.indexOf(i.text)+i.text.length),w=y.substring(0,y.indexOf(i.text)),C=[];return[...w.matchAll(QQt)].forEach(S=>{var E;const j=S[0],k=n1.concat(t1).find(T=>T.indexOf(j)>-1);if(k){const T=j===k[0],A=((E=n[T?MB.indexOf(j):FB.indexOf(j)])==null?void 0:E.value)||j;w.lastIndexOf(j)>w.lastIndexOf(k[1])&&C.push(A)}}),g=$Ft(t,uo(C)),v&&g.length>0&&g.some(S=>jAe(S,l))&&(d=c.jsx(Ci,{annotation:v,as:"ins",tooltip:{description:"Changed formatting"},children:d},"diffcard-annotation-".concat(s,"-").concat(g.join("-")))),d}function nJt(e,t){return e.children.length===1&&e.children[0]._type==="span"&&typeof e.children[0].text=="string"&&e.children[0].text===""&&t.origin.action!=="unchanged"}const rJt=e=>{const{diff:t,schemaType:n}=e,r=h.useMemo(()=>MXt(t,n),[t,n]);return c.jsx("div",{"data-diff-action":t.action,children:c.jsx(JQt,{diff:r,schemaType:n})})};var sre=Object.freeze,oJt=Object.defineProperty,iJt=(e,t)=>sre(oJt(e,"raw",{value:sre(t||e.slice())})),are;const sJt=O.div(are||(are=iJt([`
  word-wrap: break-word;
`]))),aJt=e=>{let{value:t,schemaType:n}=e;return c.jsx(F,{as:sJt,padding:2,children:c.jsx(dC,{schemaType:n,value:t,layout:"default"})})},lJt=e=>{let{diff:t,schemaType:n}=e;return c.jsx(iC,{align:"center",diff:t,layout:"grid",path:"_ref",previewComponent:aJt,schemaType:n})};var lre=Object.freeze,cJt=Object.defineProperty,uJt=(e,t)=>lre(cJt(e,"raw",{value:lre(t||e.slice())})),cre;const dJt=O.div(cre||(cre=uJt([`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`]))),fJt=e=>{const{value:t}=e;return c.jsx(F,{as:dJt,paddingX:2,paddingY:1,children:t})};var ure=Object.freeze,hJt=Object.defineProperty,pJt=(e,t)=>ure(hJt(e,"raw",{value:ure(t||e.slice())})),dre;const mJt=O.div(dre||(dre=pJt([`
  white-space: pre-wrap;
  word-wrap: break-word;
`]))),gJt=e=>{let{diff:t,schemaType:n}=e;const{options:r}=n;return r!=null&&r.list?c.jsx(iC,{diff:t,previewComponent:fJt,schemaType:n}):c.jsx(mJt,{children:c.jsx(den,{diff:t})})},fre={block:rJt,boolean:{component:HXt,showHeader:!1},date:Dne,datetime:Dne,file:tQt,image:hQt,number:yQt,reference:lJt,string:gJt};function RAe(e,t){var n;let r=e;for(;r;){const s=((n=r==null?void 0:r.components)==null?void 0:n.diff)||vJt(r,t)||fre[r.name];if(s)return s;r=r.type}const i=["date","datetime"].includes(e.name)?e.name:e.jsonType;return fre[i]}function vJt(e,t){const n=NXt;let r;for(const o of n){if(typeof o!="function"){console.error("Diff component resolver is not a function: ",o);continue}if(r=o({schemaType:e,parentSchemaType:t}),r)return r}}function yJt(e){const t=hre(e.fromValue),n=hre(e.toValue);return!t&&n?"Added":!n&&t?"Removed":"Changed"}function MAe(e){return e.type==="field"}function hre(e){return e!==null&&typeof e<"u"&&e!==""}function LB(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(!RAe(e,o.parentSchema)){if(e.jsonType==="object"&&t.type==="object")return FAe(e,t,n,r,o);if(e.jsonType==="array"&&t.type==="array")return wJt(e,t,n,r)}return LAe(e,t,n,r,o)}function FAe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=[],s={...o,parentSchema:e},a=e.fieldsets||e.fields.map(l=>({single:!0,field:l}));for(const l of a)l.single?i.push(...bJt(l.field,t,n,r,s)):i.push(...xJt(l,t,n,r,s));return i.length<2?i:[{type:"group",key:_n(n)||"root",path:n,titlePath:r,changes:BB(i,r.length),schemaType:e}]}function bJt(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fieldFilter:i,...s}=o,a=t.fields[e.name];if(!a||!a.isChanged||i&&!i.includes(e.name))return[];const l=n.concat([e.name]),u=r.concat([e.type.title||e.name]);return LB(e.type,a,l,u,s)}function xJt(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fields:i,name:s,title:a,readOnly:l,hidden:u}=e,{fieldFilter:d,...f}=o,p=u,m=l,v=r.concat([a||s]),g=[];for(const b of i){const x=t.fields[b.name];if(!x||!x.isChanged||d&&!d.includes(b.name))continue;const y=n.concat([b.name]),w=v.concat([b.type.title||b.name]);g.push(...LB({readOnly:m,hidden:p,...b.type},x,y,w,f))}return g.length<2?g:[{type:"group",key:_n(n)||"root",fieldsetName:s,path:n,titlePath:v,changes:BB(g,v.length),readOnly:m,hidden:p}]}function wJt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];const o=t.items.filter(l=>l.hasMoved&&l.fromIndex!==l.toIndex||l.diff.action!=="unchanged");if(o.length===0)return[];const i=IXt(e),s=[],a=o.reduce((l,u)=>{const d=jXt(u.diff,e),f=d.toType||d.fromType;if(!f)return console.warn("Could not determine schema type for item at %s",_n(n)),l;const p=f4(u.diff.fromValue)||f4(u.diff.toValue)||t.items.indexOf(u),m=n.concat(p),v={itemDiff:u,parentDiff:t,parentSchema:e},g=r.concat({hasMoved:u.hasMoved,toIndex:u.toIndex,fromIndex:u.fromIndex,annotation:u.diff.action==="unchanged"?u.annotation:u.diff.annotation}),b=y=>(y.type==="field"&&yAe(m,y.path)&&(y.itemDiff=u),y),x=LB(f,u.diff,m,g,v).map(b);return i&&x.filter(MAe).forEach((y,w,C)=>{y.showHeader=C.length===1,y.showIndex=u.fromIndex!==u.toIndex&&u.hasMoved}),x.length===0?l.push(...LAe(f,u.diff,m,g,v)):l.push(...x),l},s);return a.length>1?[{type:"group",key:_n(n)||"root",path:n,titlePath:r,changes:BB(a,r.length),schemaType:e}]:a}function LAe(e,t,n,r){let{itemDiff:o,parentDiff:i,parentSchema:s}=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fromValue:a,toValue:l,type:u}=t;if(u==="array"&&pre(a)&&pre(l))return[];let d;typeof a<"u"&&(d=m4(a,e)),!d&&typeof l<"u"&&(d=m4(l,e));let f=!0,p;const m=RAe(e,s);return m&&typeof m=="function"?p=m:m&&(p=m.component,f=typeof m.showHeader>"u"?f:m.showHeader),[{type:"field",diff:t,path:n,error:d,itemDiff:o,parentDiff:i,titlePath:r,schemaType:e,showHeader:f,showIndex:!0,key:_n(n)||"root",diffComponent:d?void 0:p,parentSchema:s}]}function BB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return e.map(n=>(n.titlePath=n.titlePath.slice(t),n))}function pre(e){return Array.isArray(e)&&e.length===0||e===null||typeof e>"u"}const mre=e=>e.type==="field"&&e.diff.action==="added",BAe=e=>{if(e.type!=="group")return[e];const t=[];return e.changes.forEach(n=>{t.push(...BAe(n))}),t},NAe=(e,t)=>{if(t.length>=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},CJt=(e,t)=>{const n=e[t],r=bAe(n);return r?{_key:r}:Array.isArray(e)?parseInt(t,10):t},_Jt={diffMatchPatch:{enabled:!1,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function bA(e,t,n){if(!t)return;const r=[];if(e.type==="group"){const o=BAe(e),i=o.filter(mre);o.filter(s=>!mre(s)).forEach(s=>bA(s,t,n)),r.push(...gre(t,i.map(s=>s.path).reverse()))}else e.diff.action==="added"?r.push(...gre(t,[e.path])):e.type==="field"&&e.itemDiff&&e.parentDiff&&e.parentDiff.type==="array"&&e.itemDiff.hasMoved?r.push(...EJt(e.itemDiff,e.parentDiff,e.path)):r.push(...kJt(e.diff,t,e.path));n.patch.execute(r)}function SJt(e,t,n){const r=e.toValue;return zAe(r,t,n)}function gre(e,t){const n=[];for(let r=0;r<t.length;r++)n.some(i=>NAe(t[r],i))||n.push(SJt(e,t[r],t));return[{unset:[...new Set(n.map(_n))]}]}function zAe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;if(t.length<=0){if(!r)throw new Error("Root has no ancestor");return r}const o=t.slice(0,-1),i=Cl(e,o),s=[o,...n.filter(a=>!NAe(a,o))];return VAe(i,o,n)?zAe(e,o,s,r):t}function EJt(e,t,n){const r=n.slice(0,-1),{parentValue:o,fromIndex:i,fromValue:s}=AJt(t,e);let a;if(i===0)a={before:_n([...r,0])};else{const l=i-1,d=f4(o[l])||l;a={after:_n([...r,d])}}return[{unset:[_n(n)]},{insert:{...a,items:[s]}}]}function kJt(e,t,n){const r=ZT(e.toValue,e.fromValue,_Jt,n),o=r.filter(d=>d.op==="insert").map(d=>{let{after:f,items:p}=d;return{insert:{after:_n(f),items:p}}}),i=r.filter(d=>d.op==="unset").reduce((d,f)=>d.concat(_n(f.path)),[]),s=new Set,a=[];let l=!1;const u=r.filter(d=>d.op==="set").reduce((d,f)=>(l=!0,a.push(...jJt(f.path,t,s)),d[_n(f.path)]=f.value,d),{});return[...a,...o,...i.length>0?[{unset:i}]:[],...l?[{set:u}]:[]]}function jJt(e,t,n){const r=t.fromValue,o=t.toValue,i=[];for(let s=1;s<=e.length;s++){const a=e.slice(0,s),l=_n(a);if(n.has(l))continue;const u=e[s],d=Or(u)||bc(u),f=Cl(r,a),p=vre(f);if(d&&Array.isArray(f)&&!Cl(o,e.slice(0,s+1))){const m=JZt(f,u),v=f[m-1],g=Cl(r,a.concat(u)),b=_l(v)?{_key:v._key}:m-1,x=_n(a.concat(m<1?0:b));i.push({setIfMissing:{[l]:[]}}),i.push({insert:{after:x,items:[vre(g)]}}),s++;continue}typeof p>"u"||(n.add(l),i.push({setIfMissing:{[l]:p}}))}return i}function TJt(e,t,n){if(!Ct(e)||!Array.isArray(e))return!1;for(const r in e){if(!Object.prototype.hasOwnProperty.call(e,r)||r==="_type"||r==="_key")continue;const o=[...t,CJt(e,r)];if(!VAe(e[r],o,n))return!1}return!0}function VAe(e,t,n){const r=n==null?void 0:n.some(i=>_n(i)===_n(t)),o=Array.isArray(e)&&e.length<=0;return r||e===void 0||e===null||o||iXt(e)||TJt(e,t,n)}function vre(e){if(Array.isArray(e))return[];if(typeof e!="object"||e===null)return;const t={};return _l(e)&&(t._key=e._key),hF(e)&&(t._type=e._type),t}function AJt(e,t){if(e.fromValue&&typeof t.fromIndex=="number"){const n=e.fromValue[t.fromIndex];return{parentValue:e.fromValue,fromIndex:t.fromIndex,fromValue:n}}throw new Error("Failed to find item at index ".concat(t.fromIndex))}const hd=!1;var DJt=Object.defineProperty,IJt=(e,t,n)=>t in e?DJt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PJt=(e,t,n)=>(IJt(e,typeof t!="symbol"?t+"":t,n),n);class OJt extends re.Component{constructor(){super(...arguments),PJt(this,"state",{})}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t){console.error("Error rendering diff component: "),console.error(t)}render(){const{error:t}=this.state;return t?c.jsx(ee,{padding:3,radius:2,tone:"critical",children:c.jsxs(W,{children:[c.jsx(B,{size:1,children:c.jsx(ca,{})}),c.jsxs(F,{paddingLeft:3,children:[c.jsx(B,{as:"h3",size:1,weight:"medium",children:"Rendering the changes to this field caused an error"}),hd]})]})}):this.props.children}}const $Jt={down:xve,right:wve};function NB(e){const{direction:t="right",...n}=e,r=$Jt[t];return c.jsx(B,{muted:!0,size:1,...n,children:h.createElement(r)})}var yre=Object.freeze,RJt=Object.defineProperty,HAe=(e,t)=>yre(RJt(e,"raw",{value:yre(t||e.slice())})),bre,xre;const TO=O.pre(bre||(bre=HAe([`
  overflow-x: auto;
  position: relative;
`]))),MJt=O.div(xre||(xre=HAe([`
  position: absolute;
  top: 0;
  right: 0;
`])));function FJt(e){const{children:t,as:n,change:r,...o}=e,i=h.useRef(!1),[s,a]=h.useState(!1),l=h.useCallback(()=>a(f=>!f),[a]),u=h.useCallback(()=>i.current=!0,[]),d=h.useCallback(()=>i.current=!1,[i]);return h.useEffect(()=>{function f(p){const{metaKey:m,key:v}=p;m&&v==="i"&&i.current&&l()}return window.addEventListener("keydown",f,!1),()=>window.removeEventListener("keydown",f,!1)},[l]),c.jsx(F,{as:n,onMouseEnter:u,onMouseLeave:d,...o,children:s?c.jsx(LJt,{change:r}):t})}const AO=e=>{let{title:t}=e;return c.jsx(F,{padding:3,display:"inline-block",as:MJt,children:c.jsx(Nt,{size:1,muted:!0,children:t})})};function LJt(e){let{change:t}=e;var n,r,o;return c.jsxs(ne,{space:3,children:[c.jsxs(ee,{padding:3,tone:"transparent",as:TO,radius:1,children:[c.jsx(AO,{title:"meta"}),c.jsx(wr,{language:"json",size:1,children:BJt({path:_n(t.path),fromIndex:(n=t.itemDiff)==null?void 0:n.fromIndex,toIndex:(r=t.itemDiff)==null?void 0:r.toIndex,hasMoved:(o=t.itemDiff)==null?void 0:o.hasMoved,action:t.diff.action,isChanged:t.diff.isChanged})})]}),c.jsxs(ee,{as:TO,tone:"critical",padding:3,radius:1,children:[c.jsx(AO,{title:"from"}),c.jsx(wr,{language:"json",size:1,children:wre(t.diff.fromValue)})]}),c.jsx(ee,{children:c.jsx(NB,{direction:"down",align:"center"})}),c.jsxs(ee,{as:TO,tone:"positive",padding:3,radius:1,children:[c.jsx(AO,{title:"to"}),c.jsx(wr,{language:"json",size:1,children:wre(t.diff.toValue)})]})]})}function wre(e){return typeof e>"u"?"undefined":JSON.stringify(e,null,2)}function BJt(e){const t=[];return Object.entries(e).forEach(n=>{let[r,o]=n;typeof o<"u"&&o!==null&&t.push("".concat(r,": ").concat(o))}),t.join(`
`)}const NJt={flexShrink:0},zJt={alignItems:"stretch"},Cre={top:"flex-start",center:"center",bottom:"flex-end",default:"flex-start"},zB=h.forwardRef(function(t,n){const{align:r="top",layout:o="inline",from:i,to:s,style:a,...l}=t,u=Ds(),d=o==="inline"?W:ln,f=h.useMemo(()=>({...a,...o==="inline"?{maxWidth:"100%",display:"inline-flex"}:{gridTemplateColumns:"minmax(0, 1fr) ".concat(ge(u.sanity.space[5])," minmax(0, 1fr)")}}),[o,a,u]),p=o==="inline"?NJt:zJt;return c.jsxs(d,{...l,ref:n,style:f,"data-from-to-layout":!0,children:[i&&c.jsxs(c.Fragment,{children:[c.jsx(W,{align:Cre[r],style:p,children:i}),c.jsx(W,{align:"center",justify:"center",padding:2,children:c.jsx(NB,{})})]}),c.jsx(W,{align:Cre[r],style:p,children:s})]})}),DO={flex:1,minWidth:0,display:"block",whiteSpace:"break-spaces"};function iC(e){const{align:t,cardClassName:n,diff:r,layout:o,path:i,previewComponent:s,schemaType:a}=e,{action:l}=r,u=yJt(r);if(l==="unchanged")return c.jsx(Ci,{className:n,style:DO,children:h.createElement(s,{schemaType:a,value:r.toValue})});const d=r.fromValue!==void 0&&r.fromValue!==null&&c.jsx(Ci,{as:"del",className:n,diff:r,path:i,style:DO,children:h.createElement(s,{schemaType:a,value:r.fromValue})}),f=r.toValue!==void 0&&r.toValue!==null&&c.jsx(Ci,{as:"ins",className:n,diff:r,path:i,style:DO,children:h.createElement(s,{schemaType:a,value:r.toValue})});return d&&!f?c.jsx(Ki,{description:u,diff:r,path:i,children:d}):!d&&f?c.jsx(Ki,{description:u,diff:r,path:i,children:f}):c.jsx(Ki,{description:u,diff:r,path:i,children:c.jsx(zB,{align:t,from:d,layout:o,to:f})})}const VJt=e=>{let{value:t,schemaType:n}=e;return c.jsx(F,{padding:2,children:c.jsx(dC,{schemaType:n,value:t,layout:"default"})})},HJt=e=>{const{diff:t,schemaType:n}=e;return c.jsx(iC,{diff:t,schemaType:n,previewComponent:VJt,layout:"grid"})};var _re=Object.freeze,UJt=Object.defineProperty,WJt=(e,t)=>_re(UJt(e,"raw",{value:_re(t||e.slice())})),Sre;const YJt=O(ae)(Sre||(Sre=WJt([`
  [data-ui='Text'] {
    font-weight: normal;
  }

  div[data-ui='Box'] {
    display: none;
  }

  &:not([data-disabled='true']):hover,
  &:not([data-disabled='true']):focus {
    --card-fg-color: `,`;
    --card-bg-color: transparent;
    --card-border-color: transparent;

    div[data-ui='Box'] {
      display: block;
    }
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg}),UAe=h.forwardRef(function(t,n){const{selected:r,...o}=t;return c.jsx(YJt,{icon:zF,selected:r,text:"Revert changes",mode:"bleed",padding:1,fontSize:1,space:2,ref:n,...o})});function qJt(e){let{error:t}=e;return c.jsx(ee,{tone:"critical",padding:3,children:c.jsxs(W,{align:"flex-start",children:[c.jsx(F,{children:c.jsx(B,{children:c.jsx(ca,{})})}),c.jsx(F,{flex:1,paddingLeft:3,children:c.jsxs(B,{size:1,as:"p",children:["Value error: ",t.message]})})]})})}var Ere=Object.freeze,GJt=Object.defineProperty,VB=(e,t)=>Ere(GJt(e,"raw",{value:Ere(t||e.slice())})),kre,jre,Tre;const KJt=O.div(kre||(kre=VB([`
  --field-change-error: `,`;
  &[data-revert-all-changes-hover] [data-revert-all-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg}),ZJt=O.div(jre||(jre=VB([`
  --field-change-error: `,`;
  --diff-inspect-padding-xsmall: `,`;
  --diff-inspect-padding-small: `,`;

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) 0 var(--diff-inspect-padding-xsmall)
    var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-field-hover]:hover::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg},e=>{let{theme:t}=e;return ge(t.sanity.space[1])},e=>{let{theme:t}=e;return ge(t.sanity.space[2])}),XJt=O(hn)(Tre||(Tre=VB([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function QJt(e){var t;const{change:n,hidden:r,readOnly:o}=e,i=n.diffComponent||HJt,{documentId:s,schemaType:a,rootDiff:l,isComparingCurrent:u,FieldWrapper:d=re.Fragment}=vA(),f=Wc(s,a.name),[p,m]=h.useState(!1),[v,g]=h.useState(!1),[b,x]=h.useState(null),[y,w]=hh({id:s,type:a.name,permission:"update"}),C=h.useCallback(()=>{bA(n,l,f)},[n,l,f]),_=h.useCallback(()=>{m(!0)},[]),S=re.useCallback(()=>{m(!1)},[]),E=h.useCallback(()=>{g(!0)},[]),j=h.useCallback(()=>{g(!1)},[]),k=h.useCallback(()=>m(!1),[]);Vr(k,[b]);const A=((t=n.parentSchema)==null?void 0:t.jsonType)==="array"?n.path.slice(0,-1):n.path;return h.useMemo(()=>r?null:c.jsxs(ne,{space:1,as:KJt,children:[n.showHeader&&c.jsx(_Ae,{change:n,titlePath:n.titlePath}),c.jsx(d,{path:A,hasHover:v,children:c.jsxs(FJt,{change:n,as:ZJt,"data-revert-field-hover":v?"":void 0,"data-error":n.error?"":void 0,"data-revert-all-hover":!0,children:[n.error?c.jsx(qJt,{error:n.error}):c.jsx(OJt,{children:c.jsx(Wu.Provider,{value:{path:n.path},children:c.jsx(i,{diff:n.diff,schemaType:n.schemaType})})}),u&&!w&&(y==null?void 0:y.granted)&&c.jsx(XJt,{content:c.jsxs(F,{padding:3,sizing:"border",children:["Are you sure you want to revert the changes?",c.jsxs(ln,{columns:2,gap:2,marginTop:2,children:[c.jsx(ae,{mode:"ghost",onClick:S,children:c.jsx(B,{align:"center",children:"Cancel"})}),c.jsx(ae,{tone:"critical",onClick:C,children:c.jsx(B,{align:"center",children:"Revert change"})})]})]}),open:p,portal:!0,placement:"left",ref:x,children:c.jsx(F,{flex:1,children:c.jsx(UAe,{onClick:_,onMouseEnter:E,onMouseLeave:j,selected:p,disabled:o,"data-testid":"single-change-revert-button-".concat(n==null?void 0:n.key)})})})]})})]}),[n,S,o,p,i,d,r,E,j,C,_,u,w,y,v,A])}function JJt(){const e=h.useRef(null),[t,n]=h.useState(!1);return h.useEffect(()=>{const r=e.current;if(!r)return()=>{};const o=()=>n(!0),i=()=>n(!1);return r.addEventListener("mouseover",o),r.addEventListener("mouseout",i),()=>{r.removeEventListener("mouseover",o),r.removeEventListener("mouseout",i)}},[]),[e,t]}var Are=Object.freeze,een=Object.defineProperty,HB=(e,t)=>Are(een(e,"raw",{value:Are(t||e.slice())})),Dre,Ire,Pre;const ten=O.div(Dre||(Dre=HB([`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`]))),nen=O.div(Ire||(Ire=HB([`
  --field-change-error: `,`;
  --diff-inspect-padding-xsmall: `,`;
  --diff-inspect-padding-small: `,`;

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-group-hover]:hover::before,
  &[data-revert-all-groups-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg},e=>{let{theme:t}=e;return ge(t.sanity.space[1])},e=>{let{theme:t}=e;return ge(t.sanity.space[2])}),ren=O(hn)(Pre||(Pre=HB([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function oen(e){const{change:t,readOnly:n,hidden:r,...o}=e,{titlePath:i,changes:s,path:a}=t,{path:l}=h.useContext(Wu),{documentId:u,schemaType:d,FieldWrapper:f,rootDiff:p,isComparingCurrent:m}=vA(),v=s.every(I=>MAe(I)&&kAe(I.schemaType)),g=yAe(l,a),[b,x]=JJt(),y=Wc(u,d.name),[w,C]=h.useState(!1),[_,S]=h.useState(null),[E,j]=hh({id:u,type:d.name,permission:"update"}),k=h.useCallback(()=>bA(t,p,y),[t,p,y]),T=h.useCallback(()=>{C(!0)},[]),A=h.useCallback(()=>{C(!1)},[]);Vr(()=>C(!1),[_]);const D=h.useMemo(()=>r?null:c.jsxs(ne,{space:1,as:nen,"data-revert-group-hover":x?"":void 0,"data-portable-text":v?"":void 0,children:[c.jsx(ne,{as:ten,space:5,children:s.map(I=>c.jsx(WAe,{change:I,readOnly:n,hidden:r},I.key))}),m&&!j&&(E==null?void 0:E.granted)&&c.jsx(ren,{content:c.jsxs(F,{children:["Are you sure you want to revert the changes?",c.jsxs(ln,{columns:2,gap:2,marginTop:2,children:[c.jsx(ae,{mode:"ghost",onClick:A,children:c.jsx(B,{align:"center",children:"Cancel"})}),c.jsx(ae,{tone:"critical",onClick:k,children:c.jsx(B,{align:"center",children:"Revert change"})})]})]}),portal:!0,padding:4,placement:"left",open:w,ref:S,children:c.jsx(F,{children:c.jsx(UAe,{onClick:T,ref:b,selected:w,disabled:n,"data-testid":"group-change-revert-button-".concat(t.fieldsetName)})})})]}),[s,A,w,n,t.fieldsetName,k,T,r,m,x,j,v,E,b]);return r?null:c.jsxs(ne,{space:1,...o,children:[c.jsx(_Ae,{titlePath:i}),g||!f?D:c.jsx(f,{hasHover:x,path:t.path,children:D})]})}function WAe(e){var t,n;const{change:r,hidden:o,readOnly:i}=e,{value:s}=vA(),a=p4({document:s,checkProperty:o||((t=r.schemaType)==null?void 0:t.hidden),checkPropertyKey:"hidden",value:r.type==="field"?r.diff.toValue:void 0}),l=p4({document:s,checkProperty:i||((n=r.schemaType)==null?void 0:n.readOnly),checkPropertyKey:"readOnly",value:r.type==="field"?r.diff.toValue:void 0});return a?null:r.type==="field"?c.jsx(QJt,{change:r,readOnly:l}):r.type==="group"?c.jsx(oen,{change:r,"data-testid":"group-change-".concat(r.fieldsetName),readOnly:l}):c.jsxs(B,{children:["Unknown change type: ",c.jsx("code",{children:r.type||"undefined"})]})}function x4(){return c.jsxs(ne,{space:3,children:[c.jsx(B,{size:1,weight:"semibold",as:"h3",children:"There are no changes"}),c.jsx(B,{as:"p",size:1,muted:!0,children:"Edit the document or select an older version in the timeline to see a list of changes appear in this panel."})]})}var Ore=Object.freeze,ien=Object.defineProperty,YAe=(e,t)=>Ore(ien(e,"raw",{value:Ore(t||e.slice())})),$re,Rre;const sen=O.div($re||($re=YAe([`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`]))),aen=O(hn)(Rre||(Rre=YAe([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function sC(e){let{diff:t,fields:n,schemaType:r}=e;const{documentId:o,isComparingCurrent:i,value:s}=vA(),a=Wc(o,r.name),{path:l}=h.useContext(Wu),u=l.length===0,[d,f]=h.useState(!1),[p,m]=h.useState(!1),v=p4({document:s,value:void 0,checkProperty:r.readOnly,checkPropertyKey:"readOnly"});if(r.jsonType!=="object")throw new Error("Only object schema types are allowed in ChangeList");const[g,b]=hh({id:o,type:r.name,permission:"update"}),x=h.useMemo(()=>FAe(r,t,l,[],{fieldFilter:n}),[r,n,l,t]),y=h.useMemo(()=>n&&n.length===0?[]:len(x),[x,n]),w=x[0],C=h.useCallback(()=>{bA(w,t,a),f(!1)},[w,t,a]),_=h.useCallback(()=>{f(!0)},[]),S=h.useCallback(()=>{m(!0)},[]),E=h.useCallback(()=>{m(!1)},[]),j=h.useCallback(()=>{f(!1)},[]),[k,T]=h.useState(null),A=h.useCallback(()=>f(!1),[]);if(Vr(A,[k]),y.length===0)return u?c.jsx(x4,{}):null;const D=u&&y.length>1;return c.jsx(ee,{children:c.jsxs(ne,{space:5,children:[c.jsx(ne,{as:sen,space:5,children:y.map(I=>c.jsx("div",{children:c.jsx(WAe,{change:I,"data-revert-all-changes-hover":p?"":void 0,readOnly:v||(I==null?void 0:I.readOnly),hidden:I==null?void 0:I.hidden},I.key)},I.key))}),D&&i&&!b&&(g==null?void 0:g.granted)&&c.jsx(aen,{content:c.jsxs(F,{children:["Are you sure you want to revert all ",y.length," changes?",c.jsxs(ln,{columns:2,gap:2,marginTop:2,children:[c.jsx(ae,{mode:"ghost",text:"Cancel",onClick:j}),c.jsx(ae,{tone:"critical",text:"Revert all",onClick:C})]})]}),open:d,padding:4,placement:"left",portal:!0,ref:T,children:c.jsx(ne,{children:c.jsx(ae,{tone:"critical",mode:"ghost",text:"Revert all changes",icon:zF,onClick:_,onMouseEnter:S,onMouseLeave:E,disabled:v})})})]})})}function len(e){return e.length===1&&e[0].type==="group"&&e[0].path.length===0?e[0].changes:e}var Mre=Object.freeze,cen=Object.defineProperty,qAe=(e,t)=>Mre(cen(e,"raw",{value:Mre(t||e.slice())})),Fre,Lre;const Bre=O.span(Fre||(Fre=qAe([`
  border-radius: `,`;
`])),e=>{let{theme:t}=e;return ge(t.sanity.radius[1])}),Nre=O(B)(Lre||(Lre=qAe([`
  &:not([hidden]) {
    display: inline;
    line-height: calc(1.25em + 2px);
  }

  &:hover {
    background-color: none !important;
    background-image: linear-gradient(
      to bottom,
      var(--card-bg-color) 0,
      var(--card-bg-color) 33.333%,
      currentColor 33.333%,
      currentColor 100%
    );
    background-size: 1px 3px;
    background-repeat: repeat-x;
    background-position-y: bottom;
    padding-bottom: 3px;
    box-shadow: 0 0 0 1px var(--card-bg-color);
    z-index: 1;
  }
`])));function uen(e){const{segment:t}=e,{text:n}=t;return t.action==="added"?c.jsx(Ci,{annotation:t.annotation,disableHoverEffect:!0,tooltip:{description:"Added"},as:Bre,children:c.jsx(Nre,{as:"ins",style:{textDecoration:"none"},children:n})}):t.action==="removed"?c.jsx(Ci,{annotation:t.annotation,as:Bre,disableHoverEffect:!0,tooltip:{description:"Removed"},children:c.jsx(Nre,{as:"del",children:n})}):c.jsx(ee,{as:"span",radius:2,style:{display:"inline"},children:n})}function den(e){const{diff:t}=e;return c.jsx(c.Fragment,{children:(t.segments||[]).map((n,r)=>c.jsx(uen,{segment:n},r))})}var zre=Object.freeze,fen=Object.defineProperty,hen=(e,t)=>zre(fen(e,"raw",{value:zre(t||e.slice())})),Vre;const IO=O(B)(Vre||(Vre=hen([`
  color: inherit;
`])));function w4(e){const{title:t,action:n,icon:r,children:o,markRemoved:i}=e;return c.jsxs(W,{padding:2,align:"center",children:[r&&c.jsx(F,{padding:2,children:c.jsx(IO,{size:4,forwardedAs:i?"del":"div",children:h.createElement(r)})}),c.jsxs(ne,{space:2,paddingLeft:2,children:[c.jsx(IO,{size:1,weight:"semibold",forwardedAs:i?"del":"h3",textOverflow:"ellipsis",children:t}),n&&c.jsx("div",{children:n}),c.jsx(IO,{size:0,textOverflow:"ellipsis",children:o})]})]})}var Hre=Object.freeze,pen=Object.defineProperty,men=(e,t)=>Hre(pen(e,"raw",{value:Hre(t||e.slice())})),Ure;O.div(Ure||(Ure=men([`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`])));const GAe=h.createContext({hoveredStack:[],onMouseEnter:()=>{},onMouseLeave:()=>{}});function Wre(){return h.useContext(GAe)}const KAe=h.createContext({actions:[],focused:!1,hovered:!1,onMouseEnter:()=>{},onMouseLeave:()=>{}});function aC(e){const{actions:t,children:n,path:r,focused:o}=e,{onMouseEnter:i,onMouseLeave:s}=Wre(),a=Wre().hoveredStack[0],l=Jp||(a?_n(r)===a:!1),u=h.useCallback(()=>{i(r)},[i,r]),d=h.useCallback(()=>{s(r)},[s,r]),f=h.useMemo(()=>({actions:t,focused:o,hovered:l,onMouseEnter:u,onMouseLeave:d}),[t,o,u,d,l]);return c.jsx(KAe.Provider,{value:f,children:n})}function ZAe(){return h.useContext(KAe)}function gen(e){const{children:t}=e,[n,r]=h.useState([]),o=h.useCallback(a=>{const l=_n(a);r(u=>u.includes(l)?u:[l,...u])},[]),i=h.useCallback(a=>{const l=_n(a);r(u=>u.includes(l)?u.filter(d=>d!==l):u)},[]),s=h.useMemo(()=>({hoveredStack:n,onMouseEnter:o,onMouseLeave:i}),[o,i,n]);return c.jsx(GAe.Provider,{value:s,children:t})}const ven={publish:()=>{},subscribe:()=>(console.warn("No patch channel provided to form-builder. If you need input based patch updates, please provide one"),()=>{})};function yen(e){const{__internal_fieldActions:t=Vn,__internal_patchChannel:n=ven,autoFocus:r,changesOpen:o,children:i,collapsedFieldSets:s,collapsedPaths:a,file:l,filterField:u,focusPath:d,focused:f,groups:p,id:m,image:v,members:g,onChange:b,onFieldGroupSelect:x,onPathBlur:y,onPathFocus:w,onPathOpen:C,onSetFieldSetCollapsed:_,onSetPathCollapsed:S,presence:E,readOnly:j,renderAnnotation:k,renderBlock:T,renderField:A,renderInlineBlock:D,renderInput:I,renderItem:P,renderPreview:M,schemaType:$,unstable:V,validation:L,value:H}=e,U=h.useRef(H);h.useEffect(()=>{U.current=H},[H]);const z=h.useMemo(()=>({patchChannel:n,components:{ArrayFunctions:kB,CustomMarkers:(V==null?void 0:V.CustomMarkers)||jZt,Markers:(V==null?void 0:V.Markers)||dAe},field:{actions:t},file:{assetSources:l.assetSources,directUploads:(l==null?void 0:l.directUploads)!==!1},filterField:u||(()=>!0),image:{assetSources:v.assetSources,directUploads:(v==null?void 0:v.directUploads)!==!1},getDocument:()=>U.current,onChange:b}),[t,l.assetSources,l==null?void 0:l.directUploads,u,v.assetSources,v==null?void 0:v.directUploads,b,n,V==null?void 0:V.CustomMarkers,V==null?void 0:V.Markers]),Y=h.useMemo(()=>({__internal:z,autoFocus:r,changesOpen:o,collapsedFieldSets:s,collapsedPaths:a,focusPath:d,focused:f,groups:p,id:m,members:g,readOnly:j,renderAnnotation:k,renderBlock:T,renderField:A,renderInlineBlock:D,renderInput:I,renderItem:P,renderPreview:M,schemaType:$,value:H}),[z,r,o,s,a,H,d,f,p,m,g,j,k,T,A,D,I,P,M,$]);return c.jsx(uAe.Provider,{value:Y,children:c.jsx(nC,{onChange:b,onFieldGroupSelect:x,onPathBlur:y,onPathFocus:w,onPathOpen:C,onSetPathCollapsed:S,onSetFieldSetCollapsed:_,children:c.jsx(TZt,{presence:E,children:c.jsx(DZt,{validation:L,children:c.jsx(gen,{children:i})})})})})}function ben(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,children:i,collapsedFieldSets:s,collapsedPaths:a,focusPath:l,focused:u,groups:d,id:f,members:p,onChange:m,onPathBlur:v,onPathFocus:g,onPathOpen:b,onFieldGroupSelect:x,onSetPathCollapsed:y,onSetFieldSetCollapsed:w,presence:C,readOnly:_,schemaType:S,validation:E,value:j}=e,{file:k,image:T}=ur().form,A=phn(),D=mhn(),I=ZIe(),P=ghn(),M=vhn(),$=yhn(),V=bhn(),L=h.useCallback(G=>c.jsx(A,{...G}),[A]),H=h.useCallback(G=>c.jsx(D,{...G}),[D]),U=h.useCallback(G=>c.jsx(P,{...G}),[P]),z=h.useCallback(G=>c.jsx(nAe,{component:I,...G}),[I]),Y=h.useCallback(G=>c.jsx(M,{...G}),[M]),te=h.useCallback(G=>c.jsx($,{...G}),[$]),N=h.useCallback(G=>c.jsx(V,{...G}),[V]);return c.jsx(yen,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:s,collapsedPaths:a,file:k,focusPath:l,focused:u,groups:d,id:f,image:T,members:p,onChange:m,onPathBlur:v,onPathFocus:g,onPathOpen:b,onFieldGroupSelect:x,onSetPathCollapsed:y,onSetFieldSetCollapsed:w,presence:C,readOnly:_,renderAnnotation:N,renderBlock:Y,renderField:H,renderInlineBlock:te,renderInput:L,renderItem:U,renderPreview:z,schemaType:S,validation:E,value:j,children:i})}function MOn(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,focused:l,groups:u,id:d,members:f,onChange:p,onPathBlur:m,onPathFocus:v,onPathOpen:g,onFieldGroupSelect:b,onSetFieldSetCollapsed:x,onSetPathCollapsed:y,presence:w,readOnly:C,schemaType:_,validation:S,value:E}=e;return c.jsx(ben,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,focused:l,groups:u,id:d,members:f,onChange:p,onPathBlur:m,onPathFocus:v,onPathOpen:g,onFieldGroupSelect:b,onSetPathCollapsed:y,onSetFieldSetCollapsed:x,presence:w,validation:S,readOnly:C,schemaType:_,value:E,children:c.jsx(xen,{})})}function xen(){const{focusPath:e,focused:t,groups:n,id:r,members:o,readOnly:i,renderAnnotation:s,renderBlock:a,renderField:l,renderInlineBlock:u,renderInput:d,renderItem:f,renderPreview:p,schemaType:m,value:v}=ri(),{onChange:g,onFieldGroupSelect:b,onPathBlur:x,onPathFocus:y,onPathOpen:w,onSetFieldSetCollapsed:C,onSetPathCollapsed:_}=ma(),S=h.useCallback(L=>_([L],!0),[_]),E=h.useCallback(L=>_([L],!1),[_]),j=h.useCallback(()=>x(Vn),[x]),k=h.useCallback(()=>y(Vn),[y]),T=h.useCallback(L=>g(st.from(L)),[g]),A=h.useRef(null),D=h.useCallback(L=>b(Vn,L),[b]),I=h.useCallback(L=>w([L]),[w]),P=h.useCallback(()=>w([]),[w]),M=h.useCallback(L=>C([L],!0),[C]),$=h.useCallback(L=>C([L],!1),[C]),V={focusPath:e,elementProps:{ref:A,id:r,onBlur:j,onFocus:k,"aria-describedby":void 0},changed:o.some(L=>L.kind==="field"&&L.field.changed),focused:t,groups:n,id:r,level:0,members:o,onChange:T,onFieldClose:P,onFieldCollapse:S,onFieldSetCollapse:M,onFieldExpand:E,onFieldSetExpand:$,onPathFocus:y,onFieldOpen:I,onFieldGroupSelect:D,path:Vn,presence:Vn,readOnly:i,renderAnnotation:s,renderBlock:a,renderField:l,renderInlineBlock:u,renderInput:d,renderItem:f,renderPreview:p,schemaType:m,validation:Vn,value:v};return c.jsx(c.Fragment,{children:d(V)})}const XAe=h.createContext({});function QAe(){return h.useContext(XAe)}function FOn(e){const{children:t,activePath:n,EditReferenceLinkComponent:r,onEditReference:o,initialValueTemplateItems:i}=e,s=h.useMemo(()=>({activePath:n,EditReferenceLinkComponent:r,onEditReference:o,initialValueTemplateItems:i}),[n,r,o,i]);return c.jsx(XAe.Provider,{value:s,children:t})}h.createContext(null);function xA(e,t){return Pi(t,h.useCallback((n,r)=>{e.current&&!n&&r&&Cx(e.current,{scrollMode:"always"})},[e]))}function wen(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return $9(t),t}const Cen=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).substring(1);return e}})();function Mx(e){const t=Cen();return wen(e).reduce((n,r)=>n+t[r],"").slice(0,e)}var Yre=Object.freeze,_en=Object.defineProperty,JAe=(e,t)=>Yre(_en(e,"raw",{value:Yre(t||e.slice())})),qre,Gre;const Sen={portal:!0},Een=O(ee)(e=>{let{theme:t,$selected:n}=e;var r;const{color:o}=t.sanity;return de(qre||(qre=JAe([`
    --card-bg-color: inherit;
    --card-fg-color: inherit;
    --card-hairline-hard-color: `,`;
  `])),n?(r=o.selectable)==null?void 0:r.default.pressed.border:void 0)}),ken=O(F)(Gre||(Gre=JAe([`
  max-width: 150px;
`]))),Kre=e=>{if(e.length===1)return"".concat(e[0].user.displayName," is editing this document");if(e.length>1)return"".concat(e.length," people are editing this document right now")};function UB(e){const{presence:t}=e,{color:n}=gve().sanity,r=n.dark?"light":"dark",{selected:o}=BWt(),i=h.useMemo(()=>Array.from(new Set(t.map(a=>a.user.id))).map(a=>t.find(l=>l.user.id===a)).filter(po),[t]),s=h.useMemo(()=>c.jsx(ken,{padding:2,children:c.jsx(B,{align:"center",size:1,children:Kre(i)})}),[i]);return c.jsx(yt,{content:s,...Sen,children:c.jsx(Een,{scheme:o?r:void 0,$selected:o,children:c.jsx(Vj,{maxLength:2,"aria-label":Kre(i),children:i.map(a=>c.jsx(Ya,{user:a.user},a.user.id))})})})}const jen=3,eDe=3,yk=-4,Fx=23,Zre=4,Ten=[0,.25,.75,1],r2=23,Aen=8,Den=8,tDe=20,nDe=20,PO=!1,Ien=(e,t)=>{const n=e.length>t?t-1:t,r=Math.max(0,e.length-n);return[e.slice(0,r),e.slice(r)]};function Pen(e){return-yk+(Fx+yk)*e}var Xre=Object.freeze,Oen=Object.defineProperty,rDe=(e,t)=>Xre(Oen(e,"raw",{value:Xre(t||e.slice())})),Qre,Jre;const oDe=O(W)(Qre||(Qre=rDe([`
  & > div:first-child {
    flex: 1;
    min-width: 0;
  }
`]))),$en=O(W)(Jre||(Jre=rDe([`
  height: 23px;
  min-width: 23px;
  vertical-align: top;
`]))),Ren=re.createContext([]);function Men(e){const{children:t,items:n}=e,r=h.useMemo(()=>c.jsx(ne,{padding:1,sizing:"border",children:n.map(o=>c.jsxs(W,{align:"center",gap:2,padding:1,children:[c.jsx("div",{children:c.jsx(Ya,{user:o.user,status:"online"})}),c.jsx(B,{size:1,children:o.user.displayName})]},o.user.id))}),[n]);return c.jsx(yt,{content:r,placement:"top",portal:"documentScrollElement",children:t})}const{Tracker:Fen,useReporter:Len,useReportedValues:Ben}=kTe(),iDe=h.memo(function(t){let{presence:n,position:r="inside",animateArrowFrom:o="inside",maxAvatars:i=eDe,stack:s=!0}=t;const a=zf(n||[],p=>p.user.id),l=Cm(a,p=>p.lastActiveAt),[u,d]=s?Ien(l,i):[[],l],f=[...d.reverse().map(p=>({key:p.user.id,element:c.jsx(Ya,{animateArrowFrom:o,position:r,status:"online",user:p.user})})),u.length>=2?{key:"counter",element:c.jsx(nR,{count:u.length})}:null].filter(Boolean);return c.jsxs(oDe,{children:[c.jsx("div",{}),c.jsx($en,{direction:"row-reverse",children:f.map((p,m)=>p&&c.jsx("div",{style:{position:"absolute",transform:"translate3d(".concat(-m*(Fx+yk),"px, 0px, 0px)"),transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)",zIndex:100-m},children:p.element},p.key))})]})});function Nen(e){const t=h.useContext(Ren),{presence:n=t,maxAvatars:r=eDe}=e,o=h.useRef(null);Len(h.useId(),()=>({presence:n,element:o.current,maxAvatars:r}));const i=h.useMemo(()=>zf(n||[],s=>s.user.id),[n]);return c.jsx(Men,{items:i,children:c.jsx(oDe,{ref:o,style:{minHeight:Fx,minWidth:Fx}})})}const lC=Nen,zen=e=>{const t=new Ar,n=new IntersectionObserver(r=>{r.forEach(o=>{t.next(o)})},e);return{observe:r=>new ut(o=>{const i=t.pipe(ct(s=>s.target===r)).subscribe(o);return n.observe(r),()=>{i.unsubscribe(),n.unobserve(r)}})}},WB=e=>{const{onIntersection:t,io:n,id:r,...o}=e,i=re.useRef(null);return re.useEffect(()=>{const s=i.current;if(!s)return;const a=n.observe(s).pipe(Wn(l=>t(r,l))).subscribe();return()=>a.unsubscribe()},[n,r,t]),c.jsx("div",{ref:i,...o})};var eoe=Object.freeze,Ven=Object.defineProperty,tm=(e,t)=>eoe(Ven(e,"raw",{value:eoe(t||e.slice())})),toe,noe,roe,ooe,ioe,soe,aoe;const Hen=O.div(toe||(toe=tm([`
  position: relative;
`]))),Uen=O.div(noe||(noe=tm([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 13;
`]))),YB=de(roe||(roe=tm([`
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: absolute;
`]))),Wen=O(WB)(e=>{let{$debug:t,margins:n}=e;return de(ooe||(ooe=tm([`
    `,`

    z-index: 100;
    position: sticky;
    height: 1px;
    top: `,`;
    background-color: `,`;
  `])),YB,n?"".concat(n[0]-1,"px"):void 0,t?"red":"none")}),Yen=O(WB)(e=>{let{$debug:t}=e;return de(soe||(soe=tm([`
    `,`

    visibility: none;

    `,`
  `])),YB,t&&de(ioe||(ioe=tm([`
      background: rgba(255, 0, 0, 0.25);
      outline: 1px solid #00b;
      visibility: visible;
    `]))))}),qen=O(WB)(e=>{let{$debug:t}=e;return de(aoe||(aoe=tm([`
    `,`

    position: sticky;
    bottom: -1px;
    height: 1px;
    background-color: `,`;
  `])),YB,t?"blue":"transparent")}),Gen=e=>"".concat(e,"px"),Ken=e=>0-e,Zen=h.forwardRef(function(t,n){const{regions:r,render:o,children:i,margins:s}=t,a=h.useRef(null),l=h.useMemo(()=>s,[JSON.stringify(s)]),u=h.useMemo(()=>zen({rootMargin:l.map(Ken).map(Gen).join(" "),threshold:Ten}),[l]),[d,f]=h.useState({}),p=h.useCallback((b,x)=>{f(y=>({...y,[b]:x}))},[]),m=d["::top"],v=d["::bottom"],g=h.useMemo(()=>m&&v?r.filter(b=>{var x;return((x=b.presence)==null?void 0:x.length)>0}).map(b=>{const x=d[b.id];if(!x)return null;const{bottom:y,top:w}=x.boundingClientRect,C=x.boundingClientRect.top<m.boundingClientRect.bottom,_=x.boundingClientRect.top<v.boundingClientRect.top,S=x.isIntersecting?w-(x.intersectionRect.top-r2):C?-m.boundingClientRect.bottom:v.boundingClientRect.top,E=x.isIntersecting?-(y-(x.intersectionRect.bottom+r2)):_?v.boundingClientRect.top:-m.boundingClientRect.bottom,j=S<=Aen?"top":E<=Den?"bottom":"inside";return{distanceTop:S,distanceBottom:E,region:b,position:j}}).filter(Boolean):[],[v,d,r,m]);return c.jsxs(Hen,{ref:n,children:[c.jsx(Wen,{$debug:PO,io:u,id:"::top",onIntersection:p,margins:l}),c.jsx("div",{children:i}),c.jsx(Uen,{ref:a,children:a.current&&o(g,a.current.offsetWidth)}),r.map(b=>{const x=b.rect.width===0;return c.jsx(Yen,{$debug:PO,io:u,onIntersection:p,id:b.id,style:{width:x?1:b.rect.width,left:b.rect.left-(x?1:0),top:b.rect.top-r2,height:b.rect.height+r2*2}},b.id)}),c.jsx(qen,{$debug:PO,id:"::bottom",io:u,onIntersection:p})]})}),sDe={transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)"},Xen=e=>e.top+e.height;function Qen(e){return e.map((t,n,r)=>{var o;const i=(o=r[n-1])==null?void 0:o.region.rect,s=i?Xen(i):0;return{...t,spacerHeight:t.region.rect.top-s}})}const o2=e=>V0(e,t=>t.region.rect.top),Jen=(e,t)=>e+t,loe=e=>e.reduce(Jen,0);function etn(e){const t=Qen(o2(e)),n={top:[],inside:[],bottom:[],...u7(t,r=>r.position)};return{top:o2(n.top).map((r,o,i)=>({...r,indent:i.slice(o+1).reduce((s,a)=>s+a.region.rect.width,0)})),inside:o2(n.inside).map(r=>({...r,indent:0})),bottom:o2(n.bottom).map((r,o,i)=>({...r,indent:i.slice(0,o).reduce((s,a)=>s+a.region.rect.width,0)}))}}const coe=e=>{let{height:t,...n}=e;return c.jsx("div",{style:{height:Math.max(0,t),...n==null?void 0:n.style}})},ttn=[0,0,0,0],ntn=(e,t)=>{let n=e,r=-n.scrollTop,o=0;for(;n&&n!==t;)r+=n.offsetTop-n.scrollTop,o+=n.offsetLeft,n=n.offsetParent instanceof HTMLElement?n.offsetParent:null;return{top:r,left:o}};function rtn(e,t){return{...ntn(e,t),width:e.offsetWidth,height:e.offsetHeight}}function otn(e,t){return e.map(n=>{let[r,o]=n;return{...o,id:r,rect:rtn(o.element,t)}})}function itn(e){const{children:t,margins:n=ttn}=e,r=Ben(),o=re.useRef(null),i=re.useMemo(()=>o.current?otn(r,o.current):C4,[r]),s=re.useCallback((a,l)=>{const u=etn(a.filter(m=>m.region.presence.length>0)),d=loe(u.top.map(m=>m.region.rect.height+m.spacerHeight)),f=loe([...u.inside,...u.bottom].map(m=>m.region.rect.height+m.spacerHeight)),p=u.inside.reduce((m,v)=>{const{distanceTop:g,distanceBottom:b}=v,x=g<=tDe,y=b<=nDe;return{nearTop:m.nearTop+(x?v.region.presence.length:0),nearBottom:m.nearBottom+(y?v.region.presence.length:0)}},{nearTop:0,nearBottom:0});return c.jsxs(c.Fragment,{children:[c.jsx(uoe,{closeCount:p.nearTop,margins:n,position:"top",regionsWithIntersectionDetails:u.top}),c.jsx(coe,{height:d}),c.jsx(stn,{containerWidth:l,regionsWithIntersectionDetails:u.inside}),c.jsx(coe,{height:f}),c.jsx(uoe,{closeCount:p.nearBottom,margins:n,position:"bottom",regionsWithIntersectionDetails:u.bottom})]})},[n]);return c.jsx(Zen,{ref:o,margins:n,regions:i,render:s,children:t})}const C4=[],uoe=h.memo(function(t){const{closeCount:n,margins:r,position:o,regionsWithIntersectionDetails:i}=t,s=o==="top"?1:-1,a=h.useMemo(()=>i.length?En(Cm(i,g=>g.region.rect.top*s).map(g=>g.region.presence||C4)):C4,[s,i]),[l,u,d,f]=r,p=(f||0)+(a.length>0?-n*(Fx+yk):0)-u,m=o==="top"?l:d,v=h.useMemo(()=>({zIndex:2,position:"sticky",display:"flex",flexDirection:"column",alignItems:"flex-end",...sDe,transform:"translate3d(".concat(p,"px, 0px, 0px)"),top:Zre+1+m,bottom:Zre+1+m}),[p,m]);return c.jsx("div",{"data-dock":o,style:v,children:c.jsx(iDe,{position:o,maxAvatars:jen,presence:a})},"sticky-".concat(o))});function stn(e){const{regionsWithIntersectionDetails:t,containerWidth:n}=e;return c.jsx(c.Fragment,{children:t.map(r=>{const o=r.region.rect.left,{distanceTop:i,distanceBottom:s}=r,a=i<=tDe,l=s<=nDe,u=n-o-r.region.rect.width,{presence:d,maxAvatars:f}=r.region;return c.jsx(re.Fragment,{children:c.jsx("div",{style:{zIndex:2,position:"absolute",...sDe,left:o,transform:"translate3d(".concat(a||l?u:0,"px, 0px, 0px)"),height:r.region.rect.height,top:r.region.rect.top},children:c.jsx(ltn,{value:()=>"⤒".concat(i," | ").concat(s,"⤓"),children:c.jsx(iDe,{stack:!a&&!l,position:a?"top":l?"bottom":"inside",maxAvatars:f,presence:d})})})},r.region.id)})})}const atn=e=>e.children,ltn=atn,ctn=[0,0,0,0];function utn(e){let{children:t,margins:n}=e;return c.jsx(Fen,{children:c.jsx(itn,{margins:n||ctn,children:t})})}const wA=utn;var doe=Object.freeze,dtn=Object.defineProperty,cC=(e,t)=>doe(dtn(e,"raw",{value:doe(t||e.slice())})),foe,hoe,poe,moe,goe;const ftn=O(W)(foe||(foe=cC([`
  /* Prevent buttons from taking up extra vertical space */
  line-height: 1;
  /* For floating actions menu */
  position: relative;
`]))),htn=O(F)(e=>{let{theme:t,$right:n}=e;const{space:r}=t.sanity;return de(hoe||(hoe=cC([`
    position: absolute;
    bottom: 0;
    right: `,`px;
  `])),n+r[1])}),ptn=O(F)(e=>{let{theme:t,$presenceMaxWidth:n}=e;const{space:r}=t.sanity;return de(poe||(poe=cC([`
    max-width: calc(100% - `,`px);
    min-width: 75%;
  `])),n+r[1])}),mtn=O(F)(e=>{let{theme:t,$right:n,$fieldActionsVisible:r}=e;const{space:o}=t.sanity,i=r?n+o[1]:n;return de(moe||(moe=cC([`
    position: absolute;
    bottom: 0;
    right: `,`px;
  `])),i)}),gtn=O(ee)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return de(goe||(goe=cC([`
    bottom: 0;
    gap: `,`px;
    padding: `,`px;
    position: absolute;
    right: 0;
  `])),n[1]/2,n[1]/2)}),voe=4;function aDe(e){const{__internal_comments:t,__internal_slot:n,actions:r,content:o,fieldFocused:i,fieldHovered:s,presence:a}=e,[l,u]=h.useState(!1),[d,f]=h.useState(null),[p,m]=h.useState(0),[v,g]=h.useState(null),[b,x]=h.useState(0),{hasComments:y=!1,button:w=null,isAddingComment:C=!1}=t||{},_=r&&r.length>0,S=i||s||l||C,E=S&&_||!y?3:void 0,j=(t==null?void 0:t.button)||_,k=S||y;h.useEffect(()=>{if(d){const{width:A}=d.getBoundingClientRect();m(A||0)}},[d,S]),h.useEffect(()=>{if(v){const{width:A}=v.getBoundingClientRect();x(A||0)}},[v]);const T=h.useMemo(()=>n?c.jsx(mtn,{$fieldActionsVisible:!!S,$right:p,ref:g,children:n}):null,[p,S,n]);return c.jsxs(ftn,{align:"flex-end",children:[c.jsx(ptn,{flex:1,paddingY:2,$presenceMaxWidth:Pen(voe),children:o}),a&&a.length>0&&c.jsx(htn,{flex:"none",paddingBottom:1,$right:p+b,children:c.jsx(lC,{maxAvatars:voe,presence:a})}),T,k&&j&&c.jsxs(gtn,{display:"flex",radius:2,ref:f,shadow:E,sizing:"border",children:[S&&_&&c.jsx(LZt,{nodes:r,onMenuOpenChange:u}),w]})]})}function dh(e,t){if(!(!t||!e))return"desc_".concat(e)}var yoe=Object.freeze,vtn=Object.defineProperty,ytn=(e,t)=>yoe(vtn(e,"raw",{value:yoe(t||e.slice())})),boe;const btn=[],xv={error:fe.red[500].hex,warning:fe.yellow[500].hex,info:fe.blue[500].hex},wv={error:c.jsx(ca,{"data-testid":"input-validation-icon-error","aria-label":"Has error","aria-hidden":!0,role:"presentation"}),warning:c.jsx(Qr,{"data-testid":"input-validation-icon-warning","aria-label":"Has warning","aria-hidden":!0,role:"presentation"}),info:c.jsx(cm,{"data-testid":"input-validation-icon-info","aria-label":"Has information","aria-hidden":!0,role:"presentation"})},xtn=O(ne)(boe||(boe=ytn([`
  max-width: 200px;
`])));function o1(e){const{validation:t=btn,__unstable_showSummary:n,fontSize:r,placement:o="top"}=e,i=t.filter(m=>m.level==="error"),s=t.filter(m=>m.level==="warning"),a=t.filter(m=>m.level==="info"),l=i.length>0,u=s.length>0,d=a.length>0,f=h.useMemo(()=>{if(l)return wv.error;if(u)return wv.warning;if(d)return wv.info},[l,d,u]),p=h.useMemo(()=>{if(l)return xv.error;if(u)return xv.warning;if(d)return xv.info},[l,d,u]);return c.jsx(yt,{content:c.jsxs(xtn,{padding:3,space:3,children:[n&&c.jsx(Ctn,{validation:t}),!n&&c.jsx(c.Fragment,{children:t.map((m,v)=>c.jsx(wtn,{validation:m},v))})]}),portal:!0,placement:o,fallbackPlacements:["bottom","right","left"],children:c.jsx("div",{children:c.jsx(B,{muted:!0,size:r,weight:"semibold",style:{color:p},children:f})})})}function wtn(e){const{validation:t}=e,n=h.useMemo(()=>{if(t.level==="error")return wv.error;if(t.level==="warning")return wv.warning;if(t.level==="info")return wv.info},[t]),r=h.useMemo(()=>{if(t.level==="error")return xv.error;if(t.level==="warning")return xv.warning;if(t.level==="info")return xv.info},[t]);return c.jsxs(W,{children:[c.jsx(F,{marginRight:2,children:c.jsx(B,{size:1,style:{color:r},children:n})}),c.jsx(F,{flex:1,children:c.jsx(B,{size:1,children:t.message})})]})}function Ctn(e){let{validation:t}=e;const n=t.filter(m=>m.level==="error"),r=t.filter(m=>m.level==="warning"),o=n.length,i=r.length,s="error".concat(o===1?"":"s"),a="warning".concat(i===1?"":"s"),l=o&&"".concat(o," ").concat(s),u=i&&"".concat(i," ").concat(a),d=o>0,f=i>0,p=d&&f;return c.jsxs(B,{size:1,children:[l||"",p&&c.jsx(c.Fragment,{children:" and "}),u||""]})}const _tn=[],lDe=h.memo(function(t){const{description:n,inputId:r,title:o,validation:i=_tn}=t,s=i.length>0;return c.jsxs(ne,{space:2,children:[c.jsxs(W,{children:[c.jsx(B,{as:"label",htmlFor:r,weight:"semibold",size:1,children:o||c.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}),s&&c.jsx(F,{marginLeft:2,children:c.jsx(o1,{fontSize:1,validation:i})})]}),n&&c.jsx(B,{muted:!0,size:1,id:dh(r,n),children:n})]})}),xoe=[],i1=h.memo(function(t){const{__unstable_headerActions:n=xoe,__unstable_presence:r=xoe,__internal_slot:o=null,__internal_comments:i,children:s,description:a,inputId:l,level:u,title:d,validation:f,...p}=t,{focused:m,hovered:v,onMouseEnter:g,onMouseLeave:b}=ZAe();return c.jsxs(ne,{...p,"data-level":u,onMouseEnter:g,onMouseLeave:b,space:1,children:[d&&c.jsx(aDe,{__internal_comments:i,__internal_slot:o,actions:n,fieldFocused:!!m,fieldHovered:v,presence:r,content:c.jsx(lDe,{description:a,inputId:l,title:d,validation:f})}),c.jsx("div",{children:s})]})});var woe=Object.freeze,Stn=Object.defineProperty,qB=(e,t)=>woe(Stn(e,"raw",{value:woe(t||e.slice())})),Coe,_oe,Soe;const Eoe=O.legend(Coe||(Coe=qB([`
  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  padding: 0;
  display: table;
`]))),Etn=O(W).attrs({forwardedAs:"button"})(e=>{const{theme:t}=e,{focusRing:n,radius:r}=t.sanity,{base:o}=t.sanity.color;return de(_oe||(_oe=qB([`
    appearance: none;
    border: 0;
    background: none;
    color: inherit;
    -webkit-font-smoothing: inherit;
    font: inherit;
    outline: none;
    border-radius: `,`;
    position: relative;

    &:not([hidden]) {
      display: flex;
    }

    &:focus {
      box-shadow: `,`;
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }

    /* Added to increase the hit area of the collapsible fieldset */
    &::after {
      content: '';
      position: absolute;
      top: -10px;
      right: -10px;
      bottom: -10px;
      left: -10px;
    }
  `])),ge(r[1]),aB({base:o,focusRing:n}))}),ktn=O(F)(Soe||(Soe=qB([`
  width: 9px;
  height: 9px;
  margin-right: 3px;

  & svg {
    transition: transform 100ms;
  }
`]))),jtn=h.memo(function(t){const{collapsed:n,collapsible:r,onClick:o,title:i}=t,s=c.jsx(B,{weight:"semibold",size:1,children:i||c.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})});return r?c.jsx(Eoe,{children:c.jsxs(Etn,{type:"button",onClick:o,children:[c.jsx(ktn,{children:c.jsx(B,{muted:!0,size:1,children:c.jsx(cj,{style:{transform:"rotate(".concat(n?"0":"90deg",") translate3d(0, 0, 0)")}})})}),s]})}):c.jsx(Eoe,{children:s})});var koe=Object.freeze,Ttn=Object.defineProperty,cDe=(e,t)=>koe(Ttn(e,"raw",{value:koe(t||e.slice())})),joe,Toe;function Atn(e){return typeof e=="function"?e():e}const Dtn=O(F).attrs({forwardedAs:"fieldset"})(joe||(joe=cDe([`
  border: none;

  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  body:not(:-moz-handler-blocked) & {
    display: table-cell;
  }
`]))),Itn=O(F)(e=>{const{$borderLeft:t,theme:n}=e,{focusRing:r,radius:o}=n.sanity,{base:i}=n.sanity.color;return de(Toe||(Toe=cDe([`
    outline: none;
    border-left: `,`;
    border-radius: `,`;

    &:focus {
      box-shadow: `,`;
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }
  `])),t?"1px solid var(--card-border-color)":void 0,ge(o[1]),aB({base:i,focusRing:{...r,offset:2}}))}),OO=[],CA=h.forwardRef(function(t,n){const{__internal_comments:r,__internal_slot:o=null,__unstable_headerActions:i=OO,__unstable_presence:s=OO,children:a,collapsed:l,collapsible:u,columns:d,description:f,level:p=0,onCollapse:m,onExpand:v,onFocus:g,tabIndex:b,title:x,validation:y=OO,inputId:w,...C}=t,{focused:_,hovered:S,onMouseEnter:E,onMouseLeave:j}=ZAe(),k=y.length>0,T=lr(n),A=h.useCallback(P=>{T.current===P.target&&g&&g(P)},[T,g]),D=h.useCallback(()=>l?v==null?void 0:v():m==null?void 0:m(),[l,m,v]),I=h.useMemo(()=>l?null:c.jsx(ln,{columns:d,gapX:4,gapY:5,children:Atn(a)}),[a,l,d]);return c.jsxs(Dtn,{"data-level":p,...C,onMouseEnter:E,onMouseLeave:j,children:[c.jsx(aDe,{__internal_comments:r,__internal_slot:o,actions:i,fieldFocused:!!_,fieldHovered:S,presence:s,content:c.jsxs(ne,{space:2,children:[c.jsxs(W,{children:[c.jsx(jtn,{collapsed:!!l,collapsible:u,onClick:u?D:void 0,title:x}),k&&c.jsx(F,{marginLeft:2,children:c.jsx(o1,{fontSize:1,validation:y})})]}),f&&c.jsx(B,{muted:!0,size:1,id:dh(w,f),children:f})]})}),c.jsx(Itn,{$borderLeft:p>0,hidden:l,marginTop:1,paddingLeft:p===0?0:3,onFocus:typeof b=="number"&&b>-1?A:void 0,ref:T,tabIndex:b,children:!l&&I})]})});var Aoe=Object.freeze,Ptn=Object.defineProperty,Otn=(e,t)=>Aoe(Ptn(e,"raw",{value:Aoe(t||e.slice())})),Doe;const $tn=O.div(Doe||(Doe=Otn([`
  display: flex;
  justify-content: flex-end;
  box-sizing: border-box;
  min-height: var(--avatar-height);
  width: 77px;
  margin-left: var(--small-padding);

  &[data-max-avatars='1'] {
    max-width: 23px;
  }

  &[data-position='top'] {
    align-self: flex-start;
  }

  &[data-position='bottom'] {
    align-self: flex-end;
  }
`])));function Rtn(e){let{children:t,maxAvatars:n,position:r="bottom"}=e;return c.jsx($tn,{"data-max-avatars":n,"data-position":r,children:t})}var Ioe=Object.freeze,Mtn=Object.defineProperty,Ftn=(e,t)=>Ioe(Mtn(e,"raw",{value:Ioe(t||e.slice())})),Poe;const Ltn=O(ae)(Poe||(Poe=Ftn([`
  cursor: `,`;
`])),e=>e.grid?"move":"ns-resize"),uDe=re.createContext(null),dDe=function(t){const n=h.useContext(uDe),{listeners:r,attributes:o}=Vke({id:n});return c.jsx(Ltn,{icon:Ove,mode:"bleed","data-ui":"DragHandleButton",...o,...t,...r})};function Btn(e,t,n,r){const o={...e},i=r.y||0,s=r.x||0;return t.top+o.y<=n.top+i?o.y=n.top-t.top+i:t.bottom+o.y>=n.top+n.height-i&&(o.y=n.top+n.height-t.bottom-i),t.left+o.x<=n.left-s?o.x=n.left-t.left+s:t.right+o.x>=n.left+n.width+s&&(o.x=n.left+n.width-t.right+s),o}const Ntn=e=>t=>{let{containerNodeRect:n,draggingNodeRect:r,transform:o}=t;return!r||!n?o:Btn(o,r,n,e)};var Ooe=Object.freeze,ztn=Object.defineProperty,$oe=(e,t)=>Ooe(ztn(e,"raw",{value:Ooe(t||e.slice())})),Roe,Moe;const GB="moving",fDe=O(F)(Moe||(Moe=$oe([`
  `,`
`])),e=>e.$moving&&de(Roe||(Roe=$oe([`
      z-index: 10000;
      /* prevents hover-effects etc on the dragged element  */
      pointer-events: none;
    `])))),Vtn={threshold:{x:0,y:.02}},Htn={coordinateGetter:HLt},Utn={duration:200,easing:"ease"};function Wtn(e){return e==="x"?WLt:YLt}function Ytn(e){return e==="x"?DLt:PLt}const qtn=h.memo(function(t){const{items:n,axis:r,onItemMove:o,onItemMoveStart:i,onItemMoveEnd:s,children:a,...l}=t,u=v6t(kQ(y7),kQ(g7,Htn)),d=h.useCallback(p=>{var m,v,g,b;const{active:x,over:y}=p;x.id!==(y==null?void 0:y.id)&&(o==null||o({fromIndex:(v=(m=x.data.current)==null?void 0:m.sortable)==null?void 0:v.index,toIndex:(b=(g=y==null?void 0:y.data.current)==null?void 0:g.sortable)==null?void 0:b.index})),s==null||s()},[o,s]),f=h.useMemo(()=>[Ntn({y:4}),...r?[Wtn(r)]:[]],[r]);return c.jsx(bLt,{sensors:u,autoScroll:Vtn,modifiers:f,collisionDetection:b6t,onDragEnd:d,onDragStart:i,children:c.jsx($Lt,{items:n,strategy:r?Ytn(r):void 0,children:c.jsx(ln,{...l,children:a})})})}),Gtn=h.forwardRef(function(t,n){const{id:r,children:o,disableTransition:i}=t,{setNodeRef:s,transform:a,transition:l,active:u}=Vke({id:r,transition:i?null:Utn}),d=r===(u==null?void 0:u.id),f=h.useMemo(()=>({transform:Ex.Translate.toString(a),transition:l,pointerEvents:u?"none":void 0}),[a,l,u]),p=h.useCallback(m=>{s(m),typeof n=="function"?n(m):n&&(n.current=m)},[n,s]);return c.jsx(fDe,{ref:p,style:f,$moving:d,className:d?GB:"","data-index":t["data-index"],children:o})});function KB(e){const{onItemMove:t,onItemMoveEnd:n,onItemMoveStart:r,sortable:o,...i}=e,s=h.useCallback(a=>{t==null||t(a)},[t]);return o?c.jsx(qtn,{onItemMove:s,onItemMoveStart:r,onItemMoveEnd:n,...i}):c.jsx(ln,{...i})}const ZB=h.forwardRef(function(t,n){const{sortable:r,...o}=t;return c.jsx(uDe.Provider,{value:t.id,children:r?c.jsx(Gtn,{ref:n,...o}):c.jsx(fDe,{ref:n,...o})})});var Foe=Object.freeze,Ktn=Object.defineProperty,Ztn=(e,t)=>Foe(Ktn(e,"raw",{value:Foe(t||e.slice())})),Loe;const Xtn=O(ee)(Loe||(Loe=Ztn([`
  position: relative;
  border: 1px solid transparent;
  transition: border-color 250ms;

  .`,` & {
    border-color: var(--card-shadow-umbra-color);
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &:hover {
    border-color: var(--card-shadow-umbra-color);
  }

  &[aria-selected='true'] {
    border-color: var(--card-focus-ring-color);
  }
`])),GB);function _A(e){const{validation:t,selected:n,tone:r,presence:o,focused:i,children:s,dragHandle:a,menu:l,footer:u}=e,d=h.useRef(null);return Pi(i,(f,p)=>{var m;!f&&p&&((m=d.current)==null||m.focus())}),c.jsx(Xtn,{ref:d,selected:n,"aria-selected":n,radius:2,padding:1,tone:r,children:c.jsxs(ne,{space:1,children:[c.jsxs(W,{align:"center",children:[a&&c.jsx(F,{marginRight:1,paddingY:1,children:c.jsx(dDe,{paddingX:1,paddingY:3})}),c.jsx(F,{flex:1,children:s}),(o||t||l)&&c.jsxs(W,{align:"center",marginLeft:1,children:[o&&c.jsx(F,{marginLeft:1,children:o}),t&&c.jsx(F,{marginLeft:1,children:t}),l]})]}),u]})})}var Boe=Object.freeze,Qtn=Object.defineProperty,SA=(e,t)=>Boe(Qtn(e,"raw",{value:Boe(t||e.slice())})),Noe,zoe,Voe,Hoe;const Jtn=O.button(Noe||(Noe=SA([`
  display: block;
  -webkit-font-smoothing: inherit;
  appearance: none;
  font: inherit;
  background: none;
  width: 100%;
  text-align: left;
  border: 0;
  margin: 0;
  padding: 0;
  outline: none;
`]))),enn=O(cj)(zoe||(zoe=SA([`
  transform: `,`;
`])),e=>e.open?"rotate(90deg)":""),tnn=O(W)(Voe||(Voe=SA([`
  cursor: default;
`]))),nnn=O(F)(Hoe||(Hoe=SA([`
  & > div > svg {
    transform: rotate(0);
    transition: transform 100ms;
  }

  &[data-open] > div > svg {
    transform: rotate(90deg);
  }
`])));function Rm(e){const{children:t,open:n,icon:r,title:o="Details",...i}=e,[s,a]=h.useState(n||!1),l=h.useCallback(()=>a(u=>!u),[]);return h.useEffect(()=>a(n||!1),[n]),c.jsxs(F,{...i,children:[c.jsx(Jtn,{type:"button",onClick:l,children:c.jsx(tnn,{align:"center",children:c.jsxs(Jt,{children:[c.jsx(nnn,{"data-open":s?"":void 0,children:c.jsx(B,{size:1,children:c.jsx(enn,{open:s})})}),r&&c.jsx(F,{marginLeft:1,children:r}),c.jsx(F,{flex:1,marginLeft:1,children:c.jsx(B,{size:1,weight:"medium",children:o})})]})})}),c.jsx(F,{hidden:!s,marginTop:3,children:t})]})}const rnn={warning:"caution",error:"critical",info:"positive"},onn={warning:c.jsx(Qr,{}),error:c.jsx(ca,{}),info:c.jsx(cm,{})};function yf(e){const{children:t,status:n="warning",title:r,...o}=e;return c.jsx(ee,{radius:2,tone:rnn[n],...o,"data-ui":"Alert",children:c.jsx(W,{padding:1,children:t&&c.jsx(F,{flex:1,children:c.jsx(Rm,{icon:onn[n],title:r,children:c.jsx(F,{marginLeft:3,marginTop:3,children:t})})})})})}function XB(e){if(Ga(e))return e.name==="object"?{}:{_type:e.name};if(Ol(e))return[];if(e.jsonType==="string")return"";if(e.jsonType==="number")return 0;if(e.jsonType==="boolean")return!1}function s1(e){if(!Ga(e))throw new Error('Invalid item type: "'.concat(e.type,'". Default array input can only contain objects (for now)'));return{...XB(e),_key:Hw(12)}}const inn={portal:!0,tone:"default",placement:"left",constrainSize:!0},EA=h.memo(function(t){const{types:n,onInsert:r}=t;return c.jsxs(c.Fragment,{children:[c.jsx(Uoe,{pos:"before",types:n,onInsert:r,text:"Add item before",icon:Fve}),c.jsx(Uoe,{pos:"after",types:n,onInsert:r,text:"Add item after",icon:Lve})]})});function Uoe(e){const{types:t,onInsert:n,pos:r,text:o,icon:i}=e;return(t==null?void 0:t.length)===1?c.jsx(Me,{text:o,icon:i,onClick:()=>n(r,t[0])},r):c.jsx($L,{text:o,popover:inn,children:t==null?void 0:t.map(s=>c.jsx(Me,{icon:s.icon,text:s.title,onClick:()=>n(r,s)},s.name))},r)}const hDe=()=>{},$O={isLoading:!0,result:void 0,error:void 0,retry:hDe},snn={isLoading:!1,result:void 0,error:void 0,retry:hDe};function kA(e,t){const n=h.useMemo(()=>new Ar,[]),r=h.useMemo(()=>n.asObservable(),[n]),o=h.useCallback(()=>{n.next({type:"retry"})},[n]),i=Ao(()=>ho(be(null),r).pipe(ce(()=>e),wR(a=>a?t(a).pipe(ce(l=>({isLoading:!1,result:l,error:void 0,retry:o})),ki($O),Xn(l=>(console.error(l),be({isLoading:!1,result:void 0,error:l,retry:o})))):be(snn))),[t,e,r,o],$O),s=EB(e,e);return e&&s!==e?$O:i}function pDe(e){var t,n,r,o,i,s;const{id:a,layout:l,preview:u,refType:d,renderPreview:f,showTypeLabel:p}=e,m=S0(),v=VN(a),g=((t=u.draft)==null?void 0:t._id)||((n=u.published)==null?void 0:n._id)||a,b=h.useMemo(()=>({_id:g,_type:d.name}),[g,d.name]),x=h.useMemo(()=>({layout:l,schemaType:d,value:b}),[l,b,d]),y=Wf(((r=u.published)==null?void 0:r._updatedAt)||"",{minimal:!0,agoSuffix:!0}),w=Wf(((o=u.draft)==null?void 0:o._updatedAt)||"",{minimal:!0,agoSuffix:!0});return c.jsxs(W,{align:"center",children:[c.jsx(F,{flex:1,children:f(x)}),c.jsx(F,{paddingLeft:3,children:c.jsxs(Jt,{space:3,children:[p&&c.jsx(Nt,{size:1,muted:!0,children:d.title}),v&&v.length>0&&c.jsx(UB,{presence:v}),c.jsxs(Jt,{space:4,children:[c.jsx(F,{children:c.jsx(yt,{portal:!0,content:c.jsx(F,{padding:2,children:c.jsx(B,{size:1,children:(i=u.published)!=null&&i._updatedAt?"Published ".concat(y):"Not published"})}),children:c.jsx(sr,{tone:m.tone==="default"?"positive":"default",size:1,dimmed:!u.published,muted:!u.published,children:c.jsx(rw,{"aria-label":u.published?"Published":"Not published"})})})}),c.jsx(F,{children:c.jsx(yt,{portal:!0,content:c.jsx(F,{padding:2,children:c.jsx(B,{size:1,children:(s=u.draft)!=null&&s._updatedAt?"Edited ".concat(w):"No unpublished edits"})}),children:c.jsx(sr,{tone:m.tone==="default"?"caution":"default",size:1,dimmed:!u.draft,muted:!u.draft,children:c.jsx(Du,{"aria-label":u.draft?"Edited":"No unpublished edits"})})})})]})]})})]})}function mDe(e){var t,n,r,o,i,s;const{referenceInfo:a,renderPreview:l,type:u,value:d,showTypeLabel:f}=e;if(a.isLoading||a.error)return c.jsx(tC,{isPlaceholder:!0});if(((t=a.result)==null?void 0:t.availability.reason)==="NOT_FOUND"&&d._strengthenOnPublish){const x=u.to.find(w=>{var C;return w.name===((C=d==null?void 0:d._strengthenOnPublish)==null?void 0:C.type)});if(!x)return c.jsx(Yoe,{documentId:d._ref,actualType:(n=d._strengthenOnPublish)==null?void 0:n.type,declaredTypes:u.to.map(w=>w.name)});const y=(r=d._strengthenOnPublish)!=null&&r.type?{_id:d._ref,_type:(o=d._strengthenOnPublish)==null?void 0:o.type}:d;return c.jsxs(W,{align:"center",children:[c.jsx(F,{flex:1,children:l({layout:"default",schemaType:x,value:y,skipVisibilityCheck:!0})}),c.jsx(F,{children:c.jsx(Jt,{space:4,children:f&&c.jsx(Nt,{size:1,muted:!0,children:x.title})})})]})}const p=a.result.availability,m=p.reason==="NOT_FOUND",v=p.reason==="PERMISSION_DENIED";if(v||m)return c.jsxs(Jt,{space:2,children:[c.jsx(F,{padding:1,children:c.jsx(W,{align:"center",children:c.jsx(F,{flex:1,paddingY:2,children:c.jsx(B,{muted:!0,children:"Document unavailable"})})})}),v||m?c.jsx(F,{children:c.jsx(yt,{portal:!0,content:m?c.jsxs(Woe,{title:"Not found",icon:Pv,children:["The referenced document does not exist",c.jsx("br",{}),"(id: ",c.jsx("code",{children:d._ref}),")"]}):c.jsx(Woe,{title:"Insufficient permissions",icon:kf,children:"The referenced document could not be accessed due to insufficient permissions"}),children:c.jsx(sr,{tone:"default",children:c.jsx(Pv,{})})})}):null]});const g=(i=a.result)==null?void 0:i.type,b=u.to.find(x=>x.name===g);return b?c.jsx(pDe,{id:d._ref,layout:"default",preview:(s=a.result)==null?void 0:s.preview,refType:b,renderPreview:l,showTypeLabel:f}):c.jsx(Yoe,{documentId:d._ref,actualType:g||"<unknown>",declaredTypes:u.to.map(x=>x.name)})}function Woe(e){const t=e.icon;return c.jsxs(W,{padding:3,children:[c.jsx(F,{children:c.jsx(B,{size:1,children:c.jsx(t,{})})}),c.jsxs(F,{flex:1,marginLeft:3,children:[c.jsx(B,{size:1,weight:"semibold",children:e.title}),c.jsx(F,{marginTop:3,children:c.jsx(B,{as:"p",muted:!0,size:1,children:e.children})})]})]})}function Yoe(e){return c.jsxs(W,{align:"center",justify:"flex-start",children:[c.jsx(F,{padding:1,children:c.jsx(W,{align:"center",children:c.jsx(F,{flex:1,paddingY:2,children:c.jsx(B,{muted:!0,children:"Document of invalid type"})})})}),c.jsx(F,{children:c.jsx(yt,{portal:!0,content:c.jsxs(ne,{space:3,padding:3,children:[c.jsxs(B,{size:1,children:["Referenced document (",c.jsx("code",{children:e.documentId}),") is of type"," ",c.jsx("code",{children:e.actualType}),"."]}),c.jsxs(B,{size:1,children:["According to the schema, referenced documents can only be of type"," ",ann(e.declaredTypes.map(t=>c.jsx("code",{children:t},t)),"or"),"."]})]}),children:c.jsx(F,{padding:2,children:c.jsx(sr,{tone:"default",children:c.jsx(Pv,{})})})})})]})}const ann=(e,t)=>e.length===1?e[0]:e.length===2?[e[0],c.jsxs(h.Fragment,{children:[" ",t," "]},"comma"),e[1]]:[...e.slice(0,-1).map((r,o)=>c.jsxs(h.Fragment,{children:[r,", "]},o)),c.jsxs(h.Fragment,{children:[t," ",e[e.length-1]]},"last")];var qoe=Object.freeze,lnn=Object.defineProperty,cnn=(e,t)=>qoe(lnn(e,"raw",{value:qoe(t||e.slice())})),Goe;const unn=O(ee)(Goe||(Goe=cnn([`
  /* this is a hack to avoid layout jumps while previews are loading
     there's probably better ways of solving this */
  min-height: 35px;
  position: relative;

  /* TextWithTone uses its own logic to set color, and we therefore need */
  /* to override this logic in order to set the correct color in different states */
  &[data-selected],
  &[data-pressed],
  &:active {
    [data-ui='TextWithTone'] {
      color: inherit;
    }
  }
`]))),gDe=h.forwardRef(function(t,n){const{as:r,documentId:o,documentType:i,...s}=t,a=i?"a":void 0,l=i?r:"div";return c.jsx(unn,{...s,"data-as":a,documentId:o,documentType:i,forwardedAs:l,ref:n})}),vDe=h.createContext(null);function dnn(){const e=h.useContext(vDe);return e||{menuRef:{current:null},containerRef:{current:null}}}function fnn(e){const{menuRef:t,containerRef:n}=e;return c.jsx(vDe.Provider,{value:{menuRef:t,containerRef:n},children:e.children})}function hnn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const pnn={portal:!0,tone:"default"},mnn={position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.6};function gnn(e){var t,n,r,o,i,s,a,l,u,d,f;const{schemaType:p,parentSchemaType:m,path:v,readOnly:g,onRemove:b,value:x,open:y,onInsert:w,presence:C,validation:_,inputId:S,changed:E,focused:j,children:k,inputProps:{onChange:T,focusPath:A,onPathFocus:D,renderPreview:I,elementProps:P}}=e,M=!g&&((t=m.options)==null?void 0:t.sortable)!==!1,$=m.of,V=h.useRef(null),L=h.useRef(null),H=h.useRef(null),{EditReferenceLink:U,getReferenceInfo:z,selectedState:Y,isCurrentDocumentLiveEdit:te}=pN({path:v,schemaType:p,value:x});xA(V,y),Pi(j,(Tt,St)=>{var Zt;!Tt&&St&&V.current&&((Zt=V.current)==null||Zt.focus())});const N=e.validation.some(Tt=>Tt.level==="error"),G=e.validation.some(Tt=>Tt.level==="warning"),q=x._resolvingInitialValue,K=h.useCallback(()=>{w({items:[{...x,_key:Mx()}],position:"after"})},[w,x]),Q=h.useCallback((Tt,St)=>{w({items:[{...s1(St),_key:Mx()}],position:Tt})},[w]),X=kA(x==null?void 0:x._ref,z),Z=x._ref,oe=((n=X.result)==null?void 0:n.type)||((r=x==null?void 0:x._strengthenOnPublish)==null?void 0:r.type),le=Z&&((s=(i=(o=X.result)==null?void 0:o.preview)==null?void 0:i.published)==null?void 0:s._id),he=h.useCallback(()=>{T([p.weak===!0?pt(!0,["_weak"]):Qe(["_weak"]),Qe(["_strengthenOnPublish"])])},[T,p.weak]),ie=oe?p.to.find(Tt=>Tt.name===oe):void 0,ye=Y==="pressed",_e=Y==="selected",Ae=hnn({readOnly:g,hasErrors:N,hasWarnings:G}),xe=!Z||A[0]==="_ref",Ze=h.useMemo(()=>h.forwardRef(function(St,Zt){return c.jsx(_m,{...St,intent:"edit",params:{id:x==null?void 0:x._ref,type:ie==null?void 0:ie.name},target:"_blank",rel:"noopener noreferrer",ref:Zt})}),[ie==null?void 0:ie.name,x==null?void 0:x._ref]),rt=h.useCallback(()=>{D(Z&&xe?[]:["_ref"])},[Z,xe,D]),at=h.useMemo(()=>g?null:c.jsx(F,{marginLeft:1,children:c.jsx(rn,{button:c.jsx(ae,{paddingY:3,paddingX:2,mode:"bleed",icon:Ho}),id:"".concat(S,"-menuButton"),menu:c.jsxs(Ht,{ref:L,children:[!g&&c.jsxs(c.Fragment,{children:[c.jsx(Me,{text:"Remove",tone:"critical",icon:fo,onClick:b}),c.jsx(Me,{text:Z&&xe?"Cancel replace":"Replace",icon:Z&&xe?la:lj,onClick:rt}),c.jsx(Me,{text:"Duplicate",icon:Au,onClick:K}),c.jsx(EA,{onInsert:Q,types:$})]}),!g&&!xe&&Z&&c.jsx(Ir,{}),!xe&&Z&&c.jsx(Me,{as:Ze,"data-as":"a",text:"Open in new tab",icon:y0})]}),popover:pnn})}),[g,S,b,Z,xe,rt,K,Q,$,Ze]),nt=h.useCallback(()=>{T(p.weak===!0?pt(!0,["_weak"]):Qe(["_weak"]))},[T,p]),Kt=x!=null&&x._weak?"weak":"strong",Ye=p.weak===!0?"weak":"strong",me=Z&&!X.isLoading&&(x==null?void 0:x._strengthenOnPublish),Ue=!X.isLoading&&((a=X.result)==null?void 0:a.availability.available)&&Z&&Kt!==Ye&&!me,qe=((l=X.result)==null?void 0:l.preview.draft)||((u=X.result)==null?void 0:u.preview.published),Ne=c.jsxs(c.Fragment,{children:[te&&le&&x._strengthenOnPublish&&c.jsx(yf,{padding:1,title:p.weak?"Finalize reference":"Convert to strong reference",status:"info","data-testid":"alert-reference-published",children:c.jsxs(ne,{space:3,children:[c.jsxs(B,{as:"p",muted:!0,size:1,children:[c.jsx("strong",{children:(f=(d=X.result)==null?void 0:d.preview.published)==null?void 0:f.title})," is published and this reference should now be"," ",p.weak?c.jsx(c.Fragment,{children:"finalized"}):c.jsx(c.Fragment,{children:"converted to a strong reference"}),"."]}),c.jsx(ae,{onClick:he,text:c.jsx(c.Fragment,{children:"Convert to strong reference"}),tone:"positive"})]})}),Ue&&c.jsx(yf,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:c.jsxs(ne,{space:3,children:[c.jsxs(B,{as:"p",muted:!0,size:1,children:["This reference is ",c.jsx("em",{children:Kt}),", but according to the current schema it should be"," ",c.jsxs("em",{children:[Ye,"."]})]}),c.jsx(B,{as:"p",muted:!0,size:1,children:p.weak?c.jsxs(c.Fragment,{children:["It will not be possible to delete the"," ",qe!=null&&qe.title?c.jsxs(c.Fragment,{children:['"',qe==null?void 0:qe.title,'"-document']}):c.jsx(c.Fragment,{children:"referenced document"})," ","without first removing this reference."]}):c.jsxs(c.Fragment,{children:["This makes it possible to delete the"," ",qe!=null&&qe.title?c.jsxs(c.Fragment,{children:['"',qe==null?void 0:qe.title,'"-document']}):c.jsx(c.Fragment,{children:"referenced document"})," ","without first deleting this reference, leaving this field referencing a nonexisting document."]})}),c.jsx(ae,{onClick:nt,text:c.jsxs(c.Fragment,{children:["Convert to ",Ye," reference"]}),tone:"caution"})]})}),X.error&&c.jsx(yf,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:c.jsxs(ne,{space:3,children:[c.jsxs(B,{as:"p",muted:!0,size:1,children:["Error: ",X.error.message]}),c.jsx(ae,{onClick:X.retry,text:c.jsx(c.Fragment,{children:"Retry"}),tone:"primary"})]})})]}),bt=c.jsx(fnn,{menuRef:L,containerRef:H,children:c.jsx(_A,{dragHandle:M,presence:!xe&&C.length>0&&c.jsx(lC,{presence:C,maxAvatars:1}),validation:!xe&&_.length>0&&c.jsx(o1,{validation:_}),menu:at,footer:xe?void 0:Ne,tone:xe?void 0:Ae,focused:j,children:xe?c.jsx(F,{padding:1,ref:H,children:c.jsx(CA,{title:p.title,description:p.description,__unstable_presence:C,validation:_,inputId:S,children:k})}):c.jsxs(gDe,{as:U,tone:"inherit",radius:2,documentId:x==null?void 0:x._ref,documentType:ie==null?void 0:ie.name,disabled:q,paddingX:2,paddingY:1,__unstable_focusRing:!0,selected:_e,pressed:ye,"data-selected":_e?!0:void 0,"data-pressed":ye?!0:void 0,...P,children:[c.jsx(mDe,{value:x,referenceInfo:X,renderPreview:I,type:p}),q&&c.jsx(ee,{style:mnn,tone:"transparent",radius:2,as:W,justify:"center",children:c.jsxs(W,{align:"center",justify:"center",padding:3,children:[c.jsx(F,{marginX:3,children:c.jsx(Hr,{muted:!0})}),c.jsx(B,{children:"Resolving initial value…"})]})})]})})});return c.jsx(ni,{path:v,isChanged:E,hasFocus:!!j,children:c.jsx(F,{paddingX:1,children:bt})})}function Koe(e){return Ga(e.schemaType)}function Zoe(e){return Ol(e.schemaType)}function vnn(e){return e._key!==void 0}function MS(e){return vnn(e)?e:{...e,_key:Mx(12)}}const yDe=4;function Xoe(e,t){const n=e.indexOf(t);return n>-1&&e.splice(n,1),e}function ynn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yDe;const n=bnn(t);return function(){return Cr(n(e(...arguments)))}}function bnn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:yDe;const t=[],n=[],r=new Ar;return o;function o(a){return new ut(l=>{if(t.length>=e)return i(a).pipe(vt(o)).subscribe(l);const u=a.subscribe(l);return t.push(u),()=>{Xoe(t,u),Xoe(n,a),u.unsubscribe(),s()}})}function i(a){return n.push(a),r.asObservable().pipe(Gwe(l=>l===a))}function s(){for(;n.length>0&&t.length<e;)r.next(n.shift())}}const xnn=4;function wnn(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=r.metadata,i=r.storeOriginalFilename,{label:s,title:a,description:l,creditLine:u,source:d}=r;return knn(n).pipe(Xn(()=>be(null)),vt(f=>f?Snn(e,"sanity.".concat(t,"Asset"),f):be(null)),vt(f=>f?be({type:"complete",id:f._id,asset:f}):e.observable.assets.upload(t,n,{tag:"asset.upload",extract:o,preserveFilename:i,label:s,title:a,description:l,creditLine:u,source:d}).pipe(ce(p=>p.type==="response"?{type:"complete",id:p.body.document._id,asset:p.body.document}:p))))}const bDe=ynn(wnn,xnn),Cnn=(e,t,n)=>bDe(e,"image",t,n),_nn=(e,t,n)=>bDe(e,"file",t,n);function xDe(e,t){return e.observePaths({_type:"reference",_ref:t},["originalFilename","url","metadata","label","title","description","creditLine","source","size"])}function wDe(e,t){return xDe(e,t)}function CDe(e,t){return xDe(e,t)}function Snn(e,t,n){return e.observable.fetch("*[_type == $documentType && sha1hash == $hash][0]",{documentType:t,hash:n},{tag:"asset.find-duplicate"})}function Enn(e){return new ut(t=>{const n=new FileReader;return n.onload=()=>{t.next(n.result),t.complete()},n.onerror=r=>{t.error(r)},n.readAsArrayBuffer(e),()=>{n.abort()}})}function knn(e){return!window.crypto||!window.crypto.subtle||!window.FileReader?be(null):Enn(e).pipe(vt(t=>crypto.subtle.digest("SHA-1",t)),ce(jnn))}function jnn(e){return Array.prototype.map.call(new Uint8Array(e),t=>"00".concat(t.toString(16)).slice(-2)).join("")}function Tnn(e,t){return new ut(n=>{const r=new window.FileReader;return r.onerror=o=>n.error(o),r.onload=()=>{n.next(r.result),n.complete()},r.readAsArrayBuffer(t===void 0?e:e.slice(0,t)),()=>r.abort()})}const Ann=/(invalid image format)|(No exif data)/i,Dnn=128e3;function Inn(e){return Cr(Tnn(e,Dnn)).pipe(ce(t=>D9t(t)),Xn(t=>(Ann.test(t.message)||console.warn("Exif read failed, continuing anyway: ".concat(t.message)),be({}))))}function Qoe(e){return[5,6,7,8].indexOf(e)>-1}function Pnn(e,t){const n=t.x,r=t.y,o=(t.degrees||0)*(Math.PI/180);e==null||e.translate(n,r),e==null||e.rotate(o),e==null||e.translate(-n,-r)}function Joe(e,t,n){const r=e.getContext("2d");r==null||r.translate(t?e.width:0,n?e.height:0),r==null||r.scale(t?-1:1,n?-1:1)}const Onn=[{op:"none",degrees:0},{op:"flip-x",degrees:0},{op:"none",degrees:180},{op:"flip-y",degrees:0},{op:"flip-x",degrees:90},{op:"none",degrees:90},{op:"flip-x",degrees:-90},{op:"none",degrees:-90}],$nn=["top-left","top-right","bottom-right","bottom-left","left-top","right-top","right-bottom","left-bottom"],Rnn="top-left",Mnn=120;function Fnn(e,t){const n=Onn[t-1],r=e.height/e.width;e.width=Mnn/r,e.height=e.width*r;const o=document.createElement("canvas"),i=o.getContext("2d");if(Qoe(t)?(o.height=e.width,o.width=e.height):(o.width=e.width,o.height=e.height),n.op==="flip-x"&&Joe(o,!0,!1),n.op==="flip-y"&&Joe(o,!1,!0),n.degrees&&(Pnn(i,{degrees:n.degrees,x:o.width/2,y:o.height/2}),Qoe(t))){const s=o.width-o.height;i==null||i.translate(s/2,-s/2)}return i==null||i.drawImage(e,0,0,e.width,e.height),o}function Lnn(e,t){return new ut(n=>{const r=$nn.indexOf(t)+1,o=Fnn(e,r);n.next(o.toDataURL("image/jpeg",.1)),n.complete()})}function Bnn(e){return new ut(t=>{const n=new window.Image;return n.onerror=()=>{t.error(new Error('Could not load image from url "'.concat(e,'". Image may be of an unsupported format')))},n.onload=()=>{t.next(n),t.complete()},n.src=e,()=>{}})}function Nnn(e,t){return Bnn(window.URL.createObjectURL(e)).pipe(vt(n=>Lnn(n,t)))}const fl="_upload",znn=Qe([fl]);function Dp(){return{type:"uploadProgress",patches:arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]}}const _De=Dp([znn]);function SDe(e){const t=new Date().toISOString(),n={progress:2,createdAt:t,updatedAt:t,file:{name:e.name,type:e.type}};return Dp([pt(n,[fl])])}function Vnn(e,t,n){const r=Cnn(e,t,n).pipe(ct(i=>i.stage!=="download"),ce(i=>({...i,progress:2+i.percent/100*98})),ce(i=>i.type==="complete"?Dp([pt({_type:"reference",_ref:i.asset._id},["asset"]),pt(100,[fl,"progress"]),pt(new Date().toISOString(),[fl,"updatedAt"])]):Dp([pt(i.percent,[fl,"progress"]),pt(new Date().toISOString(),[fl,"updatedAt"])]))),o=Inn(t).pipe(vt(i=>Nnn(t,i.orientation||Rnn)),Xn(i=>(console.warn('Image preprocessing failed for "%s" with the error: %s',t.name,i.message),be(null))),ct(Boolean),ce(i=>Dp([pt(i,[fl,"previewImage"])])));return ho(be(SDe(t)),xn(r,o),be(_De))}function EDe(e,t,n){const r=_nn(e,t,n).pipe(ce(o=>o.type==="complete"?Dp([pt({_type:"reference",_ref:o.asset._id},["asset"]),pt(100,[fl,"progress"]),pt(new Date().toISOString(),[fl,"updated"])]):Dp([pt(o.percent,[fl,"progress"]),pt(new Date().toISOString(),[fl,"updated"])])));return ho(be(SDe(t)),r,be(_De))}const Hnn={type:"image",accepts:"image/*",upload:(e,t,n,r)=>Vnn(e,t,r)},Unn={type:"file",accepts:"",upload:(e,t,n,r)=>EDe(e,t,r)},Wnn={type:"string",accepts:"text/*",upload:(e,t,n,r)=>EDe(e,t,r).pipe(ce(o=>({type:"uploadProgress",patches:[pt(o)]})))},Ynn=[Hnn,Wnn,Unn].map((e,t)=>({...e,priority:t}));function _4(e,t){if(!e||!t)return!0;const n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=(e.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return n.some(s=>{const a=s.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?i===a.replace(/\/.*$/,""):o===a})}function QB(e,t){return Ynn.find(n=>{var r;return gc(n.type,e)&&_4(t,n.accepts)&&_4(t,((r=e.options)==null?void 0:r.accept)||"")})||null}const qnn=["_key","_type","_weak"];function kDe(e){return Object.keys(e).every(t=>qnn.includes(t))}const Gnn=(e,t)=>{const n=js(t);return e.of.find(r=>r.name===n)};function Knn(e,t){return Object.entries(e).map(n=>{let[r,o]=n;return pt(o,[...t,r])})}function jDe(e,t,n){return Cr(e).pipe(vt(r=>{const o={_key:r._key};return be(Gnn(t,r)).pipe(vt(i=>i?be(i):Gn),vt(i=>!kDe(r)||!n?Gn:ho(be({type:"patch",patches:[pt(!0,[o,"_resolvingInitialValue"])]}),jo(()=>n(i,r)).pipe(ct(po),ce(s=>({type:"patch",patches:Knn(s,[o])})),Xn(s=>be({type:"error",error:s,item:r,schemaType:i}))),be({type:"patch",patches:[Qe([o,"_resolvingInitialValue"])]}))))}))}const eie="before",tie="after";function Znn(e,t,n){if(t!==eie&&t!==tie)throw new Error('Invalid position "'.concat(t,'", must be either ').concat(eie," or ").concat(tie));for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];const s=nie(...o);if(e.length===0)return s;const a=e.length,l=Math.abs((a+n)%a)%a,u=t==="after"?l+1:l,d=e.slice();return d.splice(u,0,...nie(s)),d}function nie(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o),[])}const rie=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);function Xnn(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function Qnn(e,t){if(typeof t=="number")return t;const n=e7(e,t);return n===-1?!1:n}function Jnn(e,t){const n=e.slice();if(t.path.length===0){if(t.type==="setIfMissing"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return e===void 0?t.value:e}else if(t.type==="set"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}else{if(t.type==="unset")return;if(t.type==="move"){if(!t.value||!rie(t.value,"from")||!rie(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: `.concat(JSON.stringify(t.value)));return Xnn(n,t.value.from,t.value.to)}}throw new Error("Invalid array operation: ".concat(t.type))}const[r,...o]=t.path,i=Qnn(e,r);if(i===!1)return n;if(o.length===0){if(t.type==="insert"){const{position:s,items:a}=t;return Znn(e,s,i,a)}else if(t.type==="unset"){if(typeof i!="number")throw new Error('Expected array index to be a number, instead got "'.concat(i,'"'));return n.splice(i,1),n}}return n[i]=eN(n[i],{...t,path:o}),n}function ern(e,t){const n=LEe(e);if(t.path.length===0){if(t.type==="set"){if(!tw(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}else{if(t.type==="unset")return;if(t.type==="setIfMissing")return e===void 0?t.value:e}throw new Error("Invalid object operation: ".concat(t.type))}const[r,...o]=t.path;if(typeof r!="string")throw new Error("Expected field name to be a string, instad got: ".concat(r));return o.length===0&&t.type==="unset"?ji(n,r):(n[r]=eN(n[r],{...t,path:o}),n)}const TDe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},inc(e,t){return e+t},dec(e,t){return e-t}},trn=Object.keys(TDe);function nrn(e,t){if(!trn.includes(t.type))throw new Error('Received patch of unsupported type "'.concat(t.type,'" for primitives. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.map(n=>JSON.stringify(n)).join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return TDe[t.type](e,t.value)}const ADe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},diffMatchPatch(e,t){const[n]=c5e(d5e(t),e,{allowExceedingIndices:!0});return n}},rrn=Object.keys(ADe);function orn(e,t){if(!rrn.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for string. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on string values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return ADe[t.type](e,t.value)}function JB(e,t){return t.reduce(eN,e)}function irn(e,t){return Array.isArray(e)?Jnn(e,t):vT(e)?orn(e,t):tw(e)?ern(e,t):nrn(e,t)}function eN(e,t){return irn(e,t)}function srn(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onSetPathCollapsed:o,onSetFieldSetCollapsed:i,onPathOpen:s,onFieldGroupSelect:a}=ma(),{member:l,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:p,renderInput:m,renderItem:v,renderPreview:g}=e,{field:{actions:b}}=ri().__internal,x=h.useRef(),y=h.useRef({});Pi(l.field.focused,(oe,le)=>{var he;!oe&&le&&((he=x.current)==null||he.focus())});const w=h.useCallback(oe=>{oe.currentTarget===oe.target&&oe.currentTarget===x.current&&n(l.field.path)},[l.field.path,n]),C=h.useCallback(oe=>{oe.currentTarget===oe.target&&oe.currentTarget===x.current&&t(l.field.path)},[l.field.path,t]),_=h.useRef(l.field.value);h.useEffect(()=>{_.current=l.field.value},[l.field.value]);const S=h.useCallback(oe=>{const le=st.from(oe).patches;if(le.some(ie=>ie.type==="unset"&&ie.path.length===1)&&(_.current=JB(_.current||[],le),Array.isArray(_.current)&&!_.current.length)){r(st.from(Qe([l.name])));return}r(st.from(oe).prepend(Gi([])).prefixAll(l.name))},[r,l.name,_]),E=zN(),j=Ai(),k=h.useCallback(()=>{o(l.field.path,!0)},[o,l.field.path]),T=h.useCallback(()=>{o(l.field.path,!1)},[o,l.field.path]),A=h.useCallback(oe=>{o(l.field.path.concat({_key:oe}),!0)},[o,l.field.path]),D=h.useCallback(oe=>{o(l.field.path.concat({_key:oe}),!1)},[o,l.field.path]),I=h.useCallback(oe=>{s(oe),o(oe,!1)},[s,o]),P=h.useCallback(()=>{s(l.field.path),o(l.field.path,!0)},[s,l.field.path,o]),M=h.useCallback(oe=>{if(oe.items.length===0)throw new Error("Insert event should include at least one item");const le=oe.items.map(_e=>MS(_e));S(st.from([ef(le,oe.position,[oe.referenceItem])]));const he=le[0]._key,ie=[...l.field.path,{_key:he}];n(ie);const ye=oe.open!==!1;oe.skipInitialValue?ye&&I(ie):jDe(le,l.field.schemaType,E).pipe(Wn(_e=>{_e.type==="patch"?S(_e.patches):j.push({title:"Could not resolve initial value",description:"Unable to resolve initial value for type: ".concat(_e.schemaType.title,": ").concat(_e.error.message,"."),status:"error"})})).subscribe({complete:()=>{ye&&I(ie)}})},[S,I,l.field.path,l.field.schemaType,n,E,j]),$=h.useCallback(oe=>{const le=l.field.value,he=le==null?void 0:le[oe.fromIndex],ie=le==null?void 0:le[oe.toIndex];if(oe.fromIndex!==oe.toIndex){if(!(he!=null&&he._key)||!(ie!=null&&ie._key)){console.error("Neither the item you are moving nor the item you are moving to have a key. Cannot continue.");return}S([Qe([{_key:he._key}]),ef([he],oe.fromIndex>oe.toIndex?"before":"after",[{_key:ie._key}])])}},[S,l.field.value]),V=h.useCallback(oe=>{S([Gi([]),ef([MS(oe)],"before",[0])])},[S]),L=h.useCallback(oe=>{S([Gi([]),ef([MS(oe)],"after",[-1])])},[S]),H=h.useCallback(oe=>{y.current[oe]&&(y.current[oe].unsubscribe(),delete y.current[oe]),S([Qe([{_key:oe}])])},[S]),U=h.useCallback(oe=>{n(l.field.path.concat(oe))},[l.field.path,n]),z=h.useMemo(()=>({onBlur:C,onFocus:w,id:l.field.id,ref:x,"aria-describedby":dh(l.field.id,l.field.schemaType.description)}),[C,w,l.field.id,l.field.schemaType.description]),Y=Sr(gn),te=ri(),N=te.__internal.image.directUploads,G=te.__internal.file.directUploads,q=h.useCallback((oe,le)=>gc("image",oe)&&!N||gc("file",oe)&&!G?null:QB(oe,le),[G,N]),K=h.useCallback(oe=>{let{file:le,schemaType:he,uploader:ie}=oe;const ye=s1(he),_e=ye._key;M({items:[ye],position:"after",referenceItem:-1,open:!1});const Ae=ie.upload(Y,le,he).pipe(ce(xe=>st.from(xe.patches||[]).prefixAll({_key:_e})),Wn(xe=>S(xe.patches)));y.current={...y.current,[_e]:Ae.subscribe()}},[Y,S,M]),Q=h.useMemo(()=>({level:l.field.level,members:l.field.members,value:l.field.value,readOnly:l.field.readOnly,schemaType:l.field.schemaType,changed:l.field.changed,id:l.field.id,onItemExpand:D,onItemCollapse:A,onItemClose:P,onItemOpen:I,focusPath:l.field.focusPath,focused:l.field.focused,path:l.field.path,onChange:S,onInsert:M,onItemMove:$,onItemRemove:H,onItemAppend:L,onItemPrepend:V,onPathFocus:U,resolveInitialValue:E,onUpload:K,resolveUploader:q,validation:l.field.validation,presence:l.field.presence,renderAnnotation:u,renderBlock:d,renderInlineBlock:p,renderInput:m,renderField:f,renderItem:v,renderPreview:g,elementProps:z}),[l.field.level,l.field.members,l.field.value,l.field.readOnly,l.field.schemaType,l.field.changed,l.field.id,l.field.focusPath,l.field.focused,l.field.path,l.field.validation,l.field.presence,D,A,P,I,S,M,$,H,L,V,U,E,K,q,u,d,p,m,f,v,g,z]),X=h.useMemo(()=>m(Q),[Q,m]),Z=h.useMemo(()=>({actions:b,name:l.name,index:l.index,level:l.field.level,value:l.field.value,title:l.field.schemaType.title,description:l.field.schemaType.description,collapsible:l.collapsible,collapsed:l.collapsed,changed:l.field.changed,onCollapse:k,onExpand:T,schemaType:l.field.schemaType,inputId:l.field.id,path:l.field.path,presence:l.field.presence,validation:l.field.validation,children:X,inputProps:Q}),[b,l.name,l.index,l.field.level,l.field.value,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.field.presence,l.field.validation,l.collapsible,l.collapsed,k,T,X,Q]);return c.jsx(nC,{onFieldGroupSelect:a,onChange:S,onSetFieldSetCollapsed:i,onSetPathCollapsed:o,onPathOpen:s,onPathBlur:t,onPathFocus:n,children:h.useMemo(()=>f(Z),[Z,f])})}function DDe(e,t,n){return Op(e)&&typeof n=="string"&&Number(n)===t?n:String(t??"")}function arn(e){const{member:t,renderInput:n,renderField:r}=e,{field:{actions:o}}=ri().__internal,i=h.useRef(),[s,a]=h.useState(),{onPathBlur:l,onPathFocus:u,onChange:d}=ma();h.useEffect(()=>{var C;t.field.focused&&((C=i.current)==null||C.focus())},[t.field.focused]);const f=h.useCallback(()=>{l(t.field.path)},[t.field.path,l]),p=h.useCallback(()=>{u(t.field.path)},[t.field.path,u]),m=h.useCallback(C=>{d(st.from(C).prefixAll(t.name))},[d,t.name]),v=h.useCallback(C=>{let _=C.currentTarget.value;if(Op(t.field.schemaType)){if(_=C.currentTarget.valueAsNumber,_>Number.MAX_SAFE_INTEGER||_<Number.MIN_SAFE_INTEGER)return}else Jx(t.field.schemaType)&&(_=C.currentTarget.checked);const S=_===""||typeof _=="number"&&isNaN(_);Op(t.field.schemaType)&&a(S?void 0:C.currentTarget.value),d(st.from(S?Qe():pt(_)).prefixAll(t.name))},[t.name,t.field.schemaType,d]),g=h.useMemo(()=>t.field.validation.filter(C=>C.level==="error").map(C=>C.message).join(`
`),[t.field.validation])||void 0,b=h.useMemo(()=>({onBlur:f,onFocus:p,id:t.field.id,ref:i,onChange:v,value:DDe(t.field.schemaType,t.field.value,s),readOnly:!!t.field.readOnly,placeholder:t.field.schemaType.placeholder,"aria-describedby":dh(t.field.id,t.field.schemaType.description)}),[f,p,v,t.field.id,t.field.readOnly,t.field.schemaType,t.field.value,s]),x=h.useMemo(()=>({value:t.field.value,readOnly:t.field.readOnly,schemaType:t.field.schemaType,changed:t.field.changed,id:t.field.id,path:t.field.path,focused:t.field.focused,level:t.field.level,onChange:m,validation:t.field.validation,presence:t.field.presence,validationError:g,elementProps:b}),[t.field.value,t.field.readOnly,t.field.schemaType,t.field.changed,t.field.id,t.field.path,t.field.focused,t.field.level,t.field.validation,t.field.presence,m,g,b]),y=h.useMemo(()=>n(x),[x,n]),w=h.useMemo(()=>({actions:o,changed:t.field.changed,children:y,description:t.field.schemaType.description,index:t.index,inputId:t.field.id,inputProps:x,level:t.field.level,name:t.name,path:t.field.path,presence:t.field.presence,schemaType:t.field.schemaType,title:t.field.schemaType.title,validation:t.field.validation,value:t.field.value}),[o,t.field.level,t.field.value,t.field.schemaType,t.field.id,t.field.path,t.field.validation,t.field.presence,t.field.changed,t.name,t.index,y,x]);return c.jsx(c.Fragment,{children:r(w)})}const lrn=function(t){const{onPathBlur:n,onPathFocus:r,onChange:o,onPathOpen:i,onSetPathCollapsed:s,onSetFieldSetCollapsed:a,onFieldGroupSelect:l}=ma(),{member:u,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderItem:g,renderPreview:b}=t,{field:{actions:x}}=ri().__internal,y=h.useRef(),w=h.useRef(u.field.value);h.useEffect(()=>{w.current=u.field.value},[u.field.value]),Pi(u.field.focused,(te,N)=>{var G;!te&&N&&((G=y.current)==null||G.focus())});const C=h.useCallback(()=>{n(u.field.path)},[u.field.path,n]),_=h.useCallback(()=>{r(u.field.path)},[u.field.path,r]),S=h.useCallback(te=>{r(u.field.path.concat(te))},[u.field.path,r]),E=h.useCallback(te=>{if(!(u.field.path.length===0)){const G=st.from(te).patches;if(w.current=JB(w.current||{},G),w.current&&GIt(w.current)){o(st.from(Qe([u.name])));return}}o(st.from(te).prepend(Gi(XB(u.field.schemaType))).prefixAll(u.name))},[o,u,w]),j=h.useCallback(()=>{s(u.field.path,!0)},[s,u.field.path]),k=h.useCallback(()=>{s(u.field.path,!1)},[s,u.field.path]),T=h.useCallback(te=>{s(u.field.path.concat(te),!0)},[s,u.field.path]),A=h.useCallback(te=>{s(u.field.path.concat(te),!1)},[s,u.field.path]),D=h.useCallback(te=>{i(u.field.path.concat(te))},[i,u.field.path]),I=h.useCallback(()=>{i(u.field.path)},[i,u.field.path]),P=h.useCallback(te=>{a(u.field.path.concat(te),!1)},[a,u.field.path]),M=h.useCallback(te=>{a(u.field.path.concat(te),!0)},[a,u.field.path]),$=h.useCallback(()=>{i(u.field.path)},[i,u.field.path]),V=h.useCallback(()=>{i(u.field.path.slice(0,-1))},[i,u.field.path]),L=h.useCallback(te=>{l(u.field.path,te)},[l,u.field.path]),H=h.useMemo(()=>({onBlur:C,onFocus:_,id:u.field.id,ref:y,"aria-describedby":dh(u.field.id,u.field.schemaType.description)}),[C,_,u.field.id,u.field.schemaType.description]),U=h.useMemo(()=>({elementProps:H,level:u.field.level,members:u.field.members,value:u.field.value,readOnly:u.field.readOnly,validation:u.field.validation,presence:u.field.presence,schemaType:u.field.schemaType,changed:u.field.changed,id:u.field.id,onFieldGroupSelect:L,onFieldOpen:D,onFieldClose:I,onFieldCollapse:T,onFieldExpand:A,onFieldSetExpand:P,onFieldSetCollapse:M,onPathFocus:S,path:u.field.path,focusPath:u.field.focusPath,focused:u.field.focused,groups:u.field.groups,onChange:E,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderItem:g,renderPreview:b}),[H,u.field.level,u.field.members,u.field.value,u.field.readOnly,u.field.validation,u.field.presence,u.field.schemaType,u.field.changed,u.field.id,u.field.path,u.field.focusPath,u.field.focused,u.field.groups,L,D,I,T,A,P,M,S,E,d,f,p,m,v,g,b]),z=h.useMemo(()=>v(U),[U,v]),Y=h.useMemo(()=>({actions:x,name:u.name,index:u.index,level:u.field.level,value:u.field.value,validation:u.field.validation,presence:u.field.presence,title:u.field.schemaType.title,description:u.field.schemaType.description,collapsible:u.collapsible,collapsed:u.collapsed,onCollapse:j,onExpand:k,open:u.open,changed:u.field.changed,onOpen:$,onClose:V,schemaType:u.field.schemaType,inputId:u.field.id,path:u.field.path,children:z,inputProps:U}),[x,u.name,u.index,u.field.level,u.field.value,u.field.validation,u.field.presence,u.field.schemaType,u.field.changed,u.field.id,u.field.path,u.collapsible,u.collapsed,u.open,j,k,$,V,z,U]);return c.jsx(nC,{onFieldGroupSelect:l,onChange:E,onSetFieldSetCollapsed:a,onPathOpen:i,onSetPathCollapsed:s,onPathBlur:n,onPathFocus:r,children:h.useMemo(()=>p(Y),[Y,p])})};function crn(e,t){return new ut(n=>{const r=new FileReader;return r.onerror=o=>n.error(o),r.onload=()=>{n.next(r.result),n.complete()},r.readAsText(e,t),()=>{r.abort()}})}function urn(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function drn(e,t,n){const r=t.slice();return r.splice(e+1,0,...n),r}function frn(e){return/^\d+$/.test(e)}function hrn(e,t){let n=!1,r=!1,o=!1;return t.forEach(i=>{Jx(i)&&(n=!0),Age(i)&&(o=!0),Op(i)&&(r=!0)}),n&&(e==="true"||e==="false")?e==="true":r&&frn(e)?Number(e):o?e:void 0}function prn(e){return{priority:0,accepts:"text/*",type:"string",upload(t,n){return crn(n,"utf-8").pipe(ce(r=>r==null?void 0:r.split(/[\n\r]/).map(o=>hrn(o,e)).filter(o=>o!==void 0)),ct(r=>Array.isArray(r)),ce(r=>({type:"uploadProgress",patches:[ef(r,"after",[-1])]})))}}}function mrn(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onPathOpen:o,onSetPathCollapsed:i,onSetFieldSetCollapsed:s,onFieldGroupSelect:a}=ma(),{member:l,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:p,renderInput:m,renderItem:v,renderPreview:g}=e,{field:{actions:b}}=ri().__internal,x=h.useRef(),y=h.useRef(),w=Sr(gn);Pi(l.field.focused,(N,G)=>{var q;!N&&G&&((q=x.current)==null||q.focus())});const C=h.useCallback(N=>{N.currentTarget===N.target&&N.currentTarget===x.current&&n(l.field.path)},[l.field.path,n]),_=h.useCallback(N=>{N.currentTarget===N.target&&N.currentTarget===x.current&&t(l.field.path)},[l.field.path,t]),S=h.useCallback(N=>{const G=st.from(N).patches;if(G.some(K=>K.type==="unset"&&K.path.length===1)){const K=JB(l.field.value||[],G);if(Array.isArray(K)&&!K.length){r(st.from(Qe([l.name])));return}}r(st.from(N).prepend(Gi([])).prefixAll(l.name))},[r,l.name,l.field.value]),E=h.useCallback(N=>{i(l.field.path,N)},[i,l.field.path]),j=h.useCallback(()=>{i(l.field.path,!0)},[i,l.field.path]),k=h.useCallback(()=>{i(l.field.path,!1)},[i,l.field.path]),T=h.useCallback(N=>{S(N.length===0?Qe():pt(N))},[S]),A=h.useCallback(N=>{const{value:G=[]}=l.field;N.fromIndex!==N.toIndex&&T(urn(G,N.fromIndex,N.toIndex))},[l.field,T]),D=h.useCallback(N=>{const{value:G=[]}=l.field;T(G.concat(N))},[l.field,T]),I=h.useCallback(N=>{const{value:G=[]}=l.field;T([N].concat(G||[]))},[l.field,T]),P=h.useCallback(N=>{const{value:G=[]}=l.field,q=N.referenceIndex+(N.position==="before"?-1:0);T(drn(q,G,N.items))},[l.field,T]),M=h.useCallback(N=>{S(Qe([N]))},[S]),$=h.useCallback(N=>{n(l.field.path.concat([N]))},[l.field.path,n]),V=h.useMemo(()=>({onBlur:_,onFocus:C,id:l.field.id,ref:x,"aria-describedby":dh(l.field.id,l.field.schemaType.description)}),[_,C,l.field.id,l.field.schemaType.description]),L=h.useMemo(()=>prn(l.field.schemaType.of),[l.field.schemaType.of]),H=h.useCallback((N,G)=>_4(G,"text/*")?L:null,[L]),U=h.useCallback(N=>{let{file:G,schemaType:q,uploader:K}=N;const Q=K.upload(w,G,q).pipe(ce(X=>st.from(X.patches||[])),Wn(X=>S(X.patches)));y.current&&y.current.unsubscribe(),y.current=Q.subscribe()},[w,S]),z=h.useMemo(()=>({level:l.field.level,members:l.field.members,value:l.field.value,readOnly:l.field.readOnly,onSetCollapsed:E,schemaType:l.field.schemaType,changed:l.field.changed,id:l.field.id,elementProps:V,path:l.field.path,focusPath:l.field.focusPath,focused:l.field.focused,onChange:S,onInsert:P,onMoveItem:A,onItemRemove:M,onItemAppend:D,onItemPrepend:I,validation:l.field.validation,presence:l.field.presence,resolveUploader:H,onUpload:U,renderAnnotation:u,renderBlock:d,renderInlineBlock:p,renderInput:m,renderItem:v,onIndexFocus:$,renderPreview:g}),[l.field.level,l.field.members,l.field.value,l.field.readOnly,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.field.focusPath,l.field.focused,l.field.validation,l.field.presence,E,V,S,P,A,M,D,I,H,U,u,d,p,m,v,$,g]),Y=h.useMemo(()=>m(z),[z,m]),te=h.useMemo(()=>({actions:b,name:l.name,index:l.index,level:l.field.level,value:l.field.value,title:l.field.schemaType.title,description:l.field.schemaType.description,collapsible:l.collapsible,collapsed:l.collapsed,onExpand:k,changed:l.field.changed,onCollapse:j,schemaType:l.field.schemaType,inputId:l.field.id,path:l.field.path,presence:l.field.presence,validation:l.field.validation,children:Y,inputProps:z}),[b,l.name,l.index,l.field.level,l.field.value,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.field.presence,l.field.validation,l.collapsible,l.collapsed,k,j,Y,z]);return c.jsx(nC,{onFieldGroupSelect:a,onChange:S,onPathOpen:o,onSetFieldSetCollapsed:s,onSetPathCollapsed:i,onPathBlur:t,onPathFocus:n,children:h.useMemo(()=>f(te),[te,f])})}function IDe(e){return Ga(e.field.schemaType)}function grn(e){return Ol(e.field.schemaType)&&e.field.schemaType.of.every(t=>Dge(t))}function tN(e){return Ol(e.field.schemaType)&&e.field.schemaType.of.every(t=>Ga(t))}const uC=h.memo(function(t){const{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:l,renderPreview:u}=t;return IDe(n)?c.jsx(lrn,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:l,renderPreview:u}):grn(n)?c.jsx(mrn,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInput:a,renderInlineBlock:s,renderItem:l,renderPreview:u}):tN(n)?c.jsx(srn,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:l,renderPreview:u}):c.jsx(arn,{member:n,renderField:i,renderInput:a})}),PDe=["yes","true","1"],ODe=["false","no","false","0","null"],vrn=PDe.concat(ODe),i2=()=>!0,yrn=e=>t=>t&&t[e],brn=e=>t=>(t&&t._type)===e;function xrn(e){const t=new Date(e.getTime()+e.getTimezoneOffset()*60*1e3),n=e.getTimezoneOffset()/60,r=e.getHours();return t.setHours(r-n),t}function wrn(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return null}const RO={string:{number:{test:Number,convert:Number},boolean:{test:e=>vrn.includes(e.toLowerCase()),convert:e=>PDe.includes(e.toLowerCase())||!ODe.includes(e.toLowerCase())},richDate:{test:e=>Bu(e),convert:e=>({_type:"richDate",local:xrn(new Date(e)).toJSON(),utc:new Date(e).toJSON(),timezone:wrn(),offset:new Date().getTimezoneOffset()})}},date:{richDate:{test:brn("date"),convert:e=>Object.assign({},e,{_type:"richDate"})}},richDate:{datetime:{test:yrn("utc"),convert:e=>e.utc}},number:{string:{test:i2,convert:String},boolean:{test:i2,convert:Number}},boolean:{string:{test:i2,convert:e=>e?"Yes":"No"},number:{test:i2,convert:Number}}};function Crn(e){let{value:t,targetType:n,onChange:r}=e;const o=h.useMemo(()=>({...t,_type:n}),[n,t]),i=h.useCallback(()=>r(st.from(Gi(n,["_type"])),o),[o,r,n]);return c.jsx(ae,{onClick:i,text:c.jsxs(c.Fragment,{children:["Convert to ",c.jsx("code",{children:n})]})})}function _rn(e){let{value:t,onChange:n,validTypes:r}=e;const o=h.useMemo(()=>({...t,_type:r[0]}),[r,t]),i=h.useCallback(()=>n(st.from(Qe()),o),[o,n]);return c.jsx(ae,{onClick:i,tone:"critical",text:"Unset value"})}function Srn(e){let{validTypes:t,value:n,onChange:r}=e;const o=dr(),i=t.length===1,s=o.has(t[0]);return c.jsx(Hc,{status:"warning",title:c.jsxs(c.Fragment,{children:["Property value missing ",c.jsx("code",{children:"_type"})]}),children:c.jsx(Rm,{open:hd,title:c.jsx(c.Fragment,{children:"Developer info"}),children:c.jsxs(ne,{space:3,children:[c.jsxs(B,{as:"p",muted:!0,size:1,children:["Encountered an object value without a ",c.jsx("code",{children:"_type"})," property."]}),i&&!s&&c.jsxs(B,{as:"p",muted:!0,size:1,children:["Either remove the ",c.jsx("code",{children:"name"})," property of the object declaration, or set"," ",c.jsx("code",{children:"_type"})," property on items."]}),!i&&c.jsx(B,{as:"p",muted:!0,size:1,children:"The following types are valid here according to schema:"}),!i&&c.jsx(ne,{as:"ul",space:2,children:t.map(a=>c.jsx(B,{as:"li",muted:!0,size:1,children:c.jsx("code",{children:a})},a))}),c.jsxs(ne,{space:2,children:[c.jsxs(B,{as:"h4",weight:"semibold",size:1,children:["Current value (",c.jsx("code",{children:"object"}),"):"]}),c.jsx(ee,{border:!0,overflow:"auto",padding:2,radius:2,tone:"inherit",children:c.jsx(wr,{language:"json",children:JSON.stringify(n,null,2)})})]}),c.jsxs(ln,{columns:[1,2,2],gap:1,children:[i&&c.jsx(Crn,{onChange:r,targetType:t[0],value:n}),c.jsx(_rn,{onChange:r,validTypes:t,value:n})]})]})})})}function Ern(e,t,n){return t in RO?Object.keys(RO[t]).filter(r=>n.includes(r)).map(r=>({from:t,to:r,...RO[t][r]})).filter(r=>r.test(e)):[]}const $De=h.forwardRef((e,t)=>{const{value:n,actualType:r,validTypes:o,onChange:i}=e;h.useImperativeHandle(t,()=>({focus:()=>{}}));const s=h.useCallback(()=>{i(st.from(Qe()))},[i]),a=h.useCallback(d=>{i(st.from(pt(d)))},[i]),l=h.useMemo(()=>Ern(n,r,o),[n,r,o]);if(_r(n)&&!("_type"in n))return c.jsx(Srn,{value:n,validTypes:o,onChange:i});const u=c.jsx(ne,{padding:2,children:c.jsx(ae,{onClick:s,tone:"critical",text:"Reset value"})});return c.jsxs(Hc,{status:"error",suffix:u,title:c.jsx(c.Fragment,{children:"Invalid property value"}),children:[c.jsx(B,{as:"p",muted:!0,size:1,children:"The property value is stored as a value type that does not match the expected type."}),c.jsx(Rm,{marginTop:4,open:hd,title:c.jsx(c.Fragment,{children:"Developer info"}),children:c.jsxs(ne,{space:3,children:[o.length===1&&c.jsxs(B,{as:"p",muted:!0,size:1,children:["The value of this property must be of type ",c.jsx("code",{children:o[0]})," according to the schema."]}),o.length===1&&c.jsx(B,{as:"p",muted:!0,size:1,children:"Mismatching value types typically occur when the schema has recently been changed."}),o.length!==1&&c.jsx(B,{as:"p",muted:!0,size:1,children:"Only the following types are valid here according to schema:"}),o.length!==1&&c.jsx(ne,{as:"ul",space:2,children:o.map(d=>c.jsx(B,{as:"li",children:c.jsx("code",{children:d})},d))}),c.jsxs(ne,{marginTop:2,space:2,children:[c.jsxs(B,{size:1,weight:"semibold",children:["The current value (",c.jsx("code",{children:r}),")"]}),c.jsx(ee,{border:!0,padding:2,radius:2,tone:"inherit",children:c.jsx(wr,{language:"json",size:1,children:JSON.stringify(n,null,2)})})]}),l.length>0&&c.jsx(ne,{space:1,children:l.map(d=>c.jsx(krn,{converter:d,onConvert:a,value:n},"".concat(d.from,"-").concat(d.to)))})]})})]})});$De.displayName="InvalidValueInput";function krn(e){let{converter:t,onConvert:n,value:r}=e;const o=h.useCallback(()=>n(t.convert(r)),[t,n,r]);return c.jsx(ae,{onClick:o,text:c.jsxs(c.Fragment,{children:["Convert to ",c.jsx("code",{children:t.to})]})})}function jrn(e){const{error:t,onChange:n}=e,r=h.useCallback(()=>{n(st.from((t.value||[]).map((o,i)=>Gi(Hw(),[i,"_key"]))))},[t.value,n]);return c.jsx(i1,{title:t.schemaType.title,description:t.schemaType.description,children:c.jsxs(Hc,{status:"warning",suffix:c.jsx(ne,{padding:2,children:c.jsx(ae,{onClick:r,text:"Add missing keys",tone:"caution"})}),title:c.jsx(c.Fragment,{children:"Missing keys"}),children:[c.jsx(B,{as:"p",muted:!0,size:1,children:"Some items in the list are missing their keys. This must be fixed in order to edit the list."}),c.jsx(Rm,{marginTop:4,open:hd,title:c.jsx(c.Fragment,{children:"Developer info"}),children:c.jsxs(ne,{space:3,children:[c.jsxs(B,{as:"p",muted:!0,size:1,children:["This usually happens when items are created using an API client, and the"," ",c.jsx("code",{children:"_key"})," property has not been included."]}),c.jsxs(B,{as:"p",muted:!0,size:1,children:["The value of the ",c.jsx("code",{children:"_key"})," property must be a unique string."]})]})})]})})}function Trn(e){const{error:t,onChange:n}=e,r=h.useCallback(()=>{n(st.from((t.duplicates||[]).map(o=>{let[i,s]=o;return pt("".concat(s,"_deduped_").concat(i),[i,"_key"])})))},[t.duplicates,n]);return c.jsx(i1,{title:t.schemaType.title,description:t.schemaType.description,children:c.jsxs(Hc,{status:"warning",suffix:c.jsx(ne,{padding:2,children:c.jsx(ae,{onClick:r,text:"Generate unique keys",tone:"caution"})}),title:c.jsx(c.Fragment,{children:"Non-unique keys"}),children:[c.jsx(B,{as:"p",muted:!0,size:1,children:"Several items in this list share the same identifier (key). Every item must have an unique identifier."}),c.jsx(Rm,{marginTop:4,open:hd,title:c.jsx(c.Fragment,{children:"Developer info"}),children:c.jsxs(ne,{space:3,children:[c.jsxs(B,{as:"p",muted:!0,size:1,children:["This usually happens when items are created using an API client, and the"," ",c.jsx("code",{children:"_key"})," property of each elements has been generated non-uniquely."]}),c.jsxs(B,{as:"p",muted:!0,size:1,children:["The value of the ",c.jsx("code",{children:"_key"})," property must be a unique string."]})]})})]})})}function Arn(e){const{error:t,onChange:n}=e,r=()=>{const i=(t.value||[]).flatMap((s,a)=>_r(s)?[]:[a]).reverse().map(s=>Qe([s]));n(st.from(i))};return c.jsx(i1,{title:t.schemaType.title,description:t.schemaType.description,children:c.jsxs(Hc,{status:"error",suffix:c.jsx(ne,{padding:2,children:c.jsx(ae,{onClick:r,text:"Remove non-object values",tone:"critical"})}),title:c.jsx(c.Fragment,{children:"Invalid list values"}),children:[c.jsx(B,{as:"p",muted:!0,size:1,children:"Some items in this list are not objects. This must be fixed in order to edit the list."}),c.jsx(Rm,{marginTop:4,open:hd,title:c.jsx(c.Fragment,{children:"Developer info"}),children:c.jsx(ne,{space:3,children:c.jsx(B,{as:"p",muted:!0,size:1,children:"This usually happens when items are created using an API client, or when a custom input component has added invalid data to the list."})})})]})})}function jA(e){const{member:t}=e,{onChange:n}=ma(),r=h.useCallback(o=>{n(st.from(o).prefixAll(t.fieldName))},[n,t.fieldName]);return t.error.type==="INCOMPATIBLE_TYPE"?c.jsx($De,{value:t.error.value,onChange:r,actualType:t.error.resolvedValueType,validTypes:[t.error.expectedSchemaType.name]}):t.error.type==="MISSING_KEYS"?c.jsx(jrn,{error:t.error,onChange:r}):t.error.type==="DUPLICATE_KEYS"?c.jsx(Trn,{error:t.error,onChange:r}):t.error.type==="MIXED_ARRAY"?c.jsx(Arn,{onChange:r,error:t.error}):c.jsxs(F,{children:["Unexpected error: ",e.member.error.type]})}const nN=h.memo(function(t){var n;const{member:r,renderAnnotation:o,renderBlock:i,renderField:s,renderInlineBlock:a,renderInput:l,renderItem:u,renderPreview:d}=t,{onSetFieldSetCollapsed:f}=ma(),p=h.useCallback(()=>{f(r.fieldSet.path,!0)},[r.fieldSet.path,f]),m=h.useCallback(()=>{f(r.fieldSet.path,!1)},[r.fieldSet.path,f]);return c.jsx(CA,{title:r.fieldSet.title||Em(r.fieldSet.name),description:r.fieldSet.description,level:r.fieldSet.level,collapsible:r.fieldSet.collapsible,collapsed:r.fieldSet.collapsed,onCollapse:p,onExpand:m,columns:(n=r==null?void 0:r.fieldSet)==null?void 0:n.columns,"data-testid":"fieldset-".concat(r.fieldSet.name),inputId:r.fieldSet.name,children:r.fieldSet.members.map(v=>v.kind==="error"?c.jsx(jA,{member:v},r.key):c.jsx(uC,{member:v,renderAnnotation:o,renderBlock:i,renderField:s,renderInlineBlock:a,renderInput:l,renderItem:u,renderPreview:d},v.key))})});function rN(e){const t=h.useRef(),{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:l,renderPreview:u}=e,{onPathBlur:d,onPathFocus:f,onChange:p,onPathOpen:m,onSetPathCollapsed:v,onSetFieldSetCollapsed:g,onFieldGroupSelect:b}=ma(),x=zN();Pi(n.item.focused,(q,K)=>{var Q;!q&&K&&((Q=t.current)==null||Q.focus())});const y=h.useCallback(()=>{p(st.from([Qe([{_key:n.key}])]))},[n.key,p]),w=h.useCallback(q=>{m(q),v(q,!1)},[m,v]),C=Ai(),_=h.useCallback(q=>{if(q.items.length===0)throw new Error("Insert event should include at least one item");const K=q.items.map(le=>MS(le));p(st.from([ef(K,q.position,[{_key:n.key}])]));const Q=K[0]._key,Z=[...n.item.path.slice(0,-1),{_key:Q}];f(Z);const oe=q.open!==!1;q.skipInitialValue?oe&&w(Z):jDe(K,n.parentSchemaType,x).pipe(Wn(le=>{le.type==="patch"?p(st.from(le.patches)):C.push({title:"Could not resolve initial value",description:"Unable to resolve initial value for type: ".concat(le.schemaType.title,": ").concat(le.error.message,"."),status:"error"})})).subscribe({complete:()=>{oe&&w(Z)}})},[w,n.item.path,n.key,n.parentSchemaType,p,f,x,C]),S=h.useCallback(()=>{d(n.item.path)},[n.item.path,d]),E=h.useCallback(()=>{f(n.item.path)},[n.item.path,f]),j=h.useCallback(q=>{f(n.item.path.concat(q))},[n.item.path,f]),k=h.useCallback(q=>{p(st.from(q).prepend(Gi(XB(n.item.schemaType))).prefixAll({_key:n.key}))},[p,n.item.schemaType,n.key]),T=h.useCallback(()=>{v(n.item.path,!0)},[v,n.item.path]),A=h.useCallback(()=>{v(n.item.path,!1)},[v,n.item.path]),D=h.useCallback(q=>{v(n.item.path.concat(q),!0)},[v,n.item.path]),I=h.useCallback(q=>{v(n.item.path.concat(q),!1)},[v,n.item.path]),P=h.useCallback(()=>{m(n.item.path)},[m,n.item.path]),M=h.useCallback(q=>{m(n.item.path.concat(q))},[m,n.item.path]),$=h.useCallback(q=>{g(n.item.path.concat(q),!1)},[g,n.item.path]),V=h.useCallback(q=>{g(n.item.path.concat(q),!0)},[g,n.item.path]),L=h.useCallback(()=>{m(n.item.path)},[m,n.item.path]),H=!n.item.value||kDe(n.item.value),U=h.useCallback(()=>{H&&y();const q=n.item.path.slice(0,-1);m(q),f(q)},[H,m,n.item.path,f,y]),z=h.useCallback(q=>{b(n.item.path,q)},[b,n.item.path]),Y=h.useMemo(()=>({onBlur:S,onFocus:E,id:n.item.id,ref:t,"aria-describedby":dh(n.item.id,n.item.schemaType.description)}),[S,E,n.item.id,n.item.schemaType.description]),te=h.useMemo(()=>({changed:n.item.changed,focusPath:n.item.focusPath,focused:n.item.focused,groups:n.item.groups,id:n.item.id,level:n.item.level,members:n.item.members,onChange:k,onFieldClose:P,onFieldCollapse:D,onFieldSetCollapse:V,onFieldExpand:I,onFieldSetExpand:$,onFieldGroupSelect:z,onPathFocus:j,onFieldOpen:M,path:n.item.path,presence:n.item.presence,readOnly:n.item.readOnly,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:l,renderPreview:u,schemaType:n.item.schemaType,validation:n.item.validation,value:n.item.value,elementProps:Y}),[Y,k,P,D,V,I,$,j,M,z,n.item.changed,n.item.focusPath,n.item.focused,n.item.groups,n.item.id,n.item.level,n.item.members,n.item.path,n.item.presence,n.item.readOnly,n.item.schemaType,n.item.validation,n.item.value,r,o,i,s,a,l,u]),N=h.useMemo(()=>a(te),[te,a]),G=h.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,collapsible:n.collapsible,collapsed:n.collapsed,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:_,onRemove:y,presence:n.item.presence,validation:n.item.validation,open:n.open,onOpen:L,onClose:U,onExpand:A,onCollapse:T,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:E,onBlur:S,inputId:n.item.id,path:n.item.path,children:N,changed:n.item.changed,inputProps:te}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.parentSchemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.item.changed,n.collapsible,n.collapsed,n.open,_,y,L,U,A,T,E,S,N,te]);return c.jsx(nC,{onFieldGroupSelect:b,onChange:k,onPathOpen:m,onSetFieldSetCollapsed:g,onSetPathCollapsed:v,onPathBlur:d,onPathFocus:f,children:h.useMemo(()=>l(G),[G,l])})}function oN(e){switch(e.jsonType){case"string":return"";case"number":return-0;case"boolean":return!1;default:throw new Error('Unable to create value from type "'.concat(e.jsonType,'"'))}}function Drn(e){const t=h.useRef(),{member:n,renderItem:r,renderInput:o}=e,[i,s]=h.useState(),{onPathBlur:a,onPathFocus:l,onChange:u}=ma();Pi(n.item.focused,(C,_)=>{var S;!C&&_&&((S=t.current)==null||S.focus())});const d=h.useCallback(C=>{a(n.item.path)},[n.item.path,a]),f=h.useCallback(C=>{l(n.item.path)},[n.item.path,l]),p=h.useCallback(C=>{u(st.from(C).prefixAll(n.index))},[u,n.index]),m=h.useCallback(C=>{let _=C.currentTarget.value;if(Op(n.item.schemaType)){if(_=C.currentTarget.valueAsNumber,_>Number.MAX_SAFE_INTEGER||_<Number.MIN_SAFE_INTEGER)return}else Jx(n.item.schemaType)&&(_=C.currentTarget.checked);const S=_===""||typeof _=="number"&&isNaN(_);Op(n.item.schemaType)&&s(S?void 0:C.currentTarget.value),p(pt(S?oN(n.item.schemaType):_))},[p,n.item.schemaType]),v=h.useMemo(()=>({onBlur:d,onFocus:f,id:n.item.id,ref:t,onChange:m,value:Irn(n.item.schemaType,n.item.value,i),readOnly:!!n.item.readOnly,placeholder:n.item.schemaType.placeholder,"aria-describedby":dh(n.item.id,n.item.schemaType.description)}),[d,f,m,n.item.id,n.item.readOnly,n.item.schemaType,n.item.value,i]),g=h.useMemo(()=>({changed:n.item.changed,level:n.item.level,value:n.item.value,readOnly:n.item.readOnly,schemaType:n.item.schemaType,id:n.item.id,path:n.item.path,focused:n.item.focused,onChange:p,validation:n.item.validation,presence:n.item.presence,elementProps:v}),[n.item.changed,n.item.level,n.item.value,n.item.readOnly,n.item.schemaType,n.item.id,n.item.path,n.item.focused,n.item.validation,n.item.presence,p,v]),b=h.useMemo(()=>o(g),[g,o]),x=h.useCallback(()=>{u(st.from([Qe([n.index])]))},[n.index,u]),y=h.useCallback(C=>{u(st.from([ef(C.items,C.position,[n.index])]))},[n.index,u]),w=h.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:y,onRemove:x,presence:n.item.presence,validation:n.item.validation,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:f,onBlur:d,inputId:n.item.id,path:n.item.path,children:b}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.parentSchemaType,y,x,f,d,b]);return c.jsx(c.Fragment,{children:h.useMemo(()=>r(w),[w,r])})}function Irn(e,t,n){return Object.is(t,-0)?"":DDe(e,t,n)}var oie=Object.freeze,Prn=Object.defineProperty,Orn=(e,t)=>oie(Prn(e,"raw",{value:oie(t||e.slice())})),iie;const $rn=O(ee)(iie||(iie=Orn([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function RDe(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=re.useState(!1),[a,l]=re.useState(null);Vr(()=>s(!1),[a]);const u=re.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=js(t);return c.jsx(hn,{open:i,ref:l,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:c.jsx($rn,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:c.jsxs(ne,{space:4,children:[c.jsxs(B,{weight:"semibold",children:["Item of type ",c.jsx("code",{children:f})," not valid for this list"]}),c.jsx(B,{size:1,weight:"semibold",children:"Why is this happening?"}),c.jsxs(B,{size:1,children:["The current schema does not declare items of type ",c.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),c.jsx(F,{children:c.jsxs(B,{size:1,children:[c.jsx(nj,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),c.jsxs(ne,{space:2,children:[c.jsx(B,{size:1,weight:"semibold",children:"JSON representation of this item:"}),c.jsx(ee,{padding:2,overflow:"auto",border:!0,children:c.jsx(wr,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:c.jsx(ee,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:c.jsxs(W,{align:"center",children:[c.jsx(F,{marginRight:3,children:c.jsx(B,{children:c.jsx(bl,{})})}),c.jsx(F,{flex:1,children:c.jsxs(B,{size:1,textOverflow:"ellipsis",children:["Item of type ",c.jsx("code",{children:f})," not valid for this list"]})})]})})})}function Rrn(e){const{member:t}=e;return t.error.type==="INVALID_ITEM_TYPE"?c.jsx(RDe,{value:t.error.value}):c.jsxs("div",{children:["Unexpected Error: ",t.error.type]})}const Mrn=h.memo(function(t){const{member:n,renderAnnotation:r,renderBlock:o,renderInput:i,renderInlineBlock:s,renderField:a,renderItem:l,renderPreview:u}=t;return n.kind==="field"?c.jsx(uC,{member:n,renderAnnotation:r,renderBlock:o,renderInlineBlock:s,renderInput:i,renderField:a,renderItem:l,renderPreview:u},n.key):n.kind==="error"?c.jsx(jA,{member:n},n.key):n.kind==="fieldSet"?c.jsx(nN,{member:n,renderAnnotation:r,renderBlock:o,renderInlineBlock:s,renderInput:i,renderField:a,renderItem:l,renderPreview:u},n.key):(console.warn(new Error("Unhandled member kind ".concat(n.kind))),null)});function Frn(e){const{members:t,renderAnnotation:n,renderBlock:r,renderInput:o,renderInlineBlock:i,renderField:s,renderItem:a,renderPreview:l}=e,u=h.useMemo(()=>t.map(d=>c.jsx(Mrn,{member:d,renderAnnotation:n,renderBlock:r,renderField:s,renderInlineBlock:i,renderInput:o,renderItem:a,renderPreview:l},d.key)),[t,n,r,s,i,o,a,l]);return c.jsx(c.Fragment,{children:u})}const ry=e=>{let{children:t}=e;return t};function Lrn(e){return"absolutePath"in e}const MDe=h.memo(function(t){const n=h.useMemo(()=>Lrn(t)?t.absolutePath:t.path.concat(t.relativePath),[t]),r=h.useCallback(()=>c.jsx(c.Fragment,{children:"Missing destination render function"}),[]);return c.jsx(Brn,{...t,absolutePath:n,destinationRenderAnnotation:t.renderAnnotation||r,destinationRenderBlock:t.renderBlock||r,destinationRenderField:t.renderField,destinationRenderInlineBlock:t.renderInlineBlock||r,destinationRenderInput:t.renderInput,destinationRenderItem:t.renderItem,destinationRenderPreview:t.renderPreview})}),Brn=h.memo(function e(t){const{absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:o,destinationRenderField:i,destinationRenderInlineBlock:s,destinationRenderInput:a,destinationRenderItem:l,destinationRenderPreview:u}=t,d=h.useCallback(b=>{if(Cn(b.path,n)||vi(n,b.path))return a(b);if(!Koe(b)&&!Zoe(b))throw new Error("Expected either object input props or array input props for: ".concat(JSON.stringify(b.path)));return c.jsx(e,{...b,absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:o,destinationRenderInput:a,destinationRenderItem:l,destinationRenderField:i,destinationRenderInlineBlock:s,destinationRenderPreview:u})},[n,r,o,i,s,a,l,u]),f=h.useCallback(b=>vi(n,b.path)&&(t.includeField||!Cn(n,b.path))?i(b):ry(b),[n,i,t.includeField]),p=h.useCallback(b=>vi(n,b.path)&&(t.includeItem||!Cn(n,b.path))?l(b):ry(b),[n,l,t.includeItem]),m=h.useCallback(b=>vi(n,b.path)&&(t.includeItem||!Cn(n,b.path))?o(b):ry(b),[n,o,t.includeItem]),v=h.useCallback(b=>vi(n,b.path)&&(t.includeItem||!Cn(n,b.path))?s(b):ry(b),[n,s,t.includeItem]),g=h.useCallback(b=>vi(n,b.path)&&(t.includeItem||!Cn(n,b.path))?r(b):ry(b),[n,r,t.includeItem]);if(Zoe(t)){const b=Vy(t.path,n),x=t.members.find(y=>y.kind=="item"&&Or(b[0])&&y.key===b[0]._key);if(!x){const w=Vy(t.path,n)[0]._key;return c.jsxs("div",{children:["No array item with _key ",c.jsxs("code",{children:['"',w,'"']})," found at path ",JSON.stringify(t.path)]})}return x.kind==="error"?c.jsx(Rrn,{member:x}):c.jsx(rN,{member:x,renderAnnotation:g,renderBlock:m,renderInput:d,renderField:f,renderInlineBlock:v,renderItem:p,renderPreview:u})}if(Koe(t)){const b=Vy(t.path,n),x=t.members.find(y=>y.kind=="field"&&b[0]===y.name);if(!x){const y=b[0];return c.jsxs("div",{children:["Field ",JSON.stringify(y)," not found among members – please verify that it's both defined in the schema and that it has not been conditionally hidden."]})}return c.jsx(uC,{member:x,renderAnnotation:g,renderBlock:m,renderInput:d,renderInlineBlock:v,renderField:f,renderItem:p,renderPreview:u})}throw new Error("FormInput can only be used with arrays or objects")}),FDe=h.createContext(null);function Nrn(){const e=h.useContext(FDe);if(!e)throw new Error("VirtualizerScrollInstance: missing context value");return e}function bk(e){const{scrollElement:t,containerElement:n}=e;return c.jsx(FDe.Provider,{value:{scrollElement:t,containerElement:n},children:e.children})}const zrn=[0,0,1,0];function LDe(e){const{children:t,header:n,id:r,legacy_referenceElement:o,onClose:i,type:s,width:a,autofocus:l}=e,[u,d]=h.useState(null),f=h.useRef(null),p=c.jsx(wA,{margins:zrn,children:c.jsx(F,{ref:f,padding:4,children:t})});return s==="dialog"?c.jsx(bk,{scrollElement:u,containerElement:f,children:c.jsx(fa,{header:n,id:r||"",onClickOutside:i,onClose:i,width:a,contentRef:d,__unstable_autoFocus:l,children:p})}):c.jsx(RWt,{header:n,onClose:i,referenceElement:o,width:a,containerRef:d,children:c.jsx(bk,{scrollElement:u,containerElement:f,children:p})})}function Vrn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const Hrn={portal:!0,tone:"default"},Urn={position:"absolute",top:0,left:0,bottom:0,right:0,opacity:.6},Wrn={position:"relative"};function Yrn(e){var t,n,r,o,i,s;const{schemaType:a,parentSchemaType:l,path:u,readOnly:d,onRemove:f,value:p,open:m,onInsert:v,onFocus:g,onOpen:b,onClose:x,changed:y,focused:w,children:C,inputProps:{renderPreview:_}}=e,S=!d&&((t=l.options)==null?void 0:t.sortable)!==!1,E=l.of,j=h.useRef(null);xA(j,m),Pi(w,(Y,te)=>{var N;!Y&&te&&j.current&&((N=j.current)==null||N.focus())});const k=p._resolvingInitialValue,T=h.useCallback(()=>{v({items:[{...p,_key:Mx()}],position:"after"})},[v,p]),A=h.useCallback((Y,te)=>{v({items:[s1(te)],position:Y})},[v]),D=e1(u,!0),I=h.useMemo(()=>D.length===0?null:c.jsx(lC,{presence:D,maxAvatars:1}),[D]),P=AB(u,!0),M=h.useMemo(()=>P.length===0?null:c.jsx(F,{marginLeft:1,paddingX:1,paddingY:3,children:c.jsx(o1,{validation:P,__unstable_showSummary:!0})}),[P]),$=P.some(Y=>Y.level==="error"),V=P.some(Y=>Y.level==="warning"),L=h.useMemo(()=>d?null:c.jsx(rn,{button:c.jsx(ae,{padding:2,mode:"bleed",icon:Ho}),id:"".concat(e.inputId,"-menuButton"),menu:c.jsxs(Ht,{children:[c.jsx(Me,{text:"Remove",tone:"critical",icon:fo,onClick:f}),c.jsx(Me,{text:"Duplicate",icon:Au,onClick:T}),c.jsx(EA,{types:E,onInsert:A})]}),popover:Hrn}),[T,A,f,E,e.inputId,d]),H=Vrn({readOnly:d,hasErrors:$,hasWarnings:V}),U=c.jsx(_A,{menu:L,presence:I,validation:M,tone:H,focused:w,dragHandle:S,selected:m,children:c.jsxs(ee,{as:"button",type:"button",tone:"inherit",radius:2,disabled:k,padding:1,onClick:b,ref:j,onFocus:g,__unstable_focusRing:!0,style:Wrn,children:[_({schemaType:e.schemaType,value:e.value,layout:"default",skipVisibilityCheck:!0}),k&&c.jsx(ee,{style:Urn,tone:"transparent",radius:2,as:W,justify:"center",children:c.jsxs(W,{align:"center",justify:"center",padding:3,children:[c.jsx(F,{marginX:3,children:c.jsx(Hr,{muted:!0})}),c.jsx(B,{size:1,muted:!0,children:"Resolving initial value…"})]})})]})}),z=r0(a);return c.jsxs(c.Fragment,{children:[c.jsx(ni,{path:u,isChanged:y,hasFocus:!!w,children:c.jsx(F,{paddingX:1,children:U})}),m&&c.jsx(LDe,{header:d?"View ".concat(z):"Edit ".concat(z),type:((r=(n=l==null?void 0:l.options)==null?void 0:n.modal)==null?void 0:r.type)||"dialog",width:(s=(i=(o=l==null?void 0:l.options)==null?void 0:o.modal)==null?void 0:i.width)!=null?s:1,id:p._key,onClose:x,autofocus:w,legacy_referenceElement:j.current,children:C})]})}function qrn(e){var t;return(t=e.components)!=null&&t.item?e.components.item:_f(e)?gnn:Yrn}function TA(e){const t=Go(e),{value:n}=ri();return Cl(n,t)}function AA(){const e=TA(["_id"]);if(typeof e=="string")return Zn(e)}function Grn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const Krn={portal:!0,tone:"default"};function Zrn(e){var t,n,r,o,i,s,a,l,u,d;const f=h.useRef(null),{schemaType:p,path:m,open:v,inputId:g,children:b,inputProps:x}=e,{readOnly:y,focused:w,renderPreview:C,onChange:_}=e.inputProps,[S,E]=h.useState([]),j=AA(),k=h.useCallback(()=>x.onChange(Qe()),[x]),T=e.value,{EditReferenceLink:A,getReferenceInfo:D,selectedState:I,isCurrentDocumentLiveEdit:P}=pN({path:m,schemaType:p,value:T});xA(f,v),Pi(w,(Ae,xe)=>{!Ae&&xe&&f.current&&f.current.focus()});const M=e.validation.some(Ae=>Ae.level==="error"),$=e.validation.some(Ae=>Ae.level==="warning"),V=kA(T==null?void 0:T._ref,D),L=((t=V.result)==null?void 0:t.type)||((n=T==null?void 0:T._strengthenOnPublish)==null?void 0:n.type),H=L?p.to.find(Ae=>Ae.name===L):void 0,U=I==="pressed",z=I==="selected",Y=T==null?void 0:T._ref,te=Y&&((i=(o=(r=V.result)==null?void 0:r.preview)==null?void 0:o.published)==null?void 0:i._id),N=h.useCallback(()=>{_([p.weak===!0?pt(!0,["_weak"]):Qe(["_weak"]),Qe(["_strengthenOnPublish"])])},[_,p.weak]),G=h.useCallback(()=>{_(p.weak===!0?pt(!0,["_weak"]):Qe(["_weak"]))},[_,p]),q=h.useCallback(()=>{x.onPathFocus(["_ref"])},[x]),K=T!=null&&T._weak?"weak":"strong",Q=p.weak===!0?"weak":"strong",X=Y&&!V.isLoading&&(T==null?void 0:T._strengthenOnPublish),Z=!V.isLoading&&((s=V.result)==null?void 0:s.availability.available)&&Y&&K!==Q&&!X,oe=Grn({readOnly:y,hasErrors:M,hasWarnings:$}),le=!(T!=null&&T._ref)||x.focusPath[0]==="_ref",he=((a=V.result)==null?void 0:a.preview.draft)||((l=V.result)==null?void 0:l.preview.published),ie=c.jsxs(c.Fragment,{children:[P&&te&&T._strengthenOnPublish&&c.jsx(yf,{padding:1,title:p.weak?"Finalize reference":"Convert to strong reference",status:"info","data-testid":"alert-reference-published",children:c.jsxs(ne,{space:3,children:[c.jsxs(B,{as:"p",muted:!0,size:1,children:[c.jsx("strong",{children:(d=(u=V.result)==null?void 0:u.preview.published)==null?void 0:d.title})," is published and this reference should now be"," ",p.weak?c.jsx(c.Fragment,{children:"finalized"}):c.jsx(c.Fragment,{children:"converted to a strong reference"}),"."]}),c.jsx(ae,{onClick:N,text:c.jsx(c.Fragment,{children:"Convert to strong reference"}),tone:"positive"})]})}),Z&&c.jsx(yf,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:c.jsxs(ne,{space:3,children:[c.jsxs(B,{as:"p",muted:!0,size:1,children:["This reference is ",c.jsx("em",{children:K}),", but according to the current schema it should be"," ",c.jsxs("em",{children:[Q,"."]})]}),c.jsx(B,{as:"p",muted:!0,size:1,children:p.weak?c.jsxs(c.Fragment,{children:["It will not be possible to delete the"," ",he!=null&&he.title?c.jsxs(c.Fragment,{children:['"',he==null?void 0:he.title,'"-document']}):c.jsx(c.Fragment,{children:"referenced document"})," ","without first removing this reference."]}):c.jsxs(c.Fragment,{children:["This makes it possible to delete the"," ",he!=null&&he.title?c.jsxs(c.Fragment,{children:['"',he==null?void 0:he.title,'"-document']}):c.jsx(c.Fragment,{children:"referenced document"})," ","without first deleting this reference, leaving this field referencing a nonexisting document."]})}),c.jsx(ae,{onClick:G,text:c.jsxs(c.Fragment,{children:["Convert to ",Q," reference"]}),tone:"caution"})]})}),V.error&&c.jsx(yf,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:c.jsxs(ne,{space:3,children:[c.jsxs(B,{as:"p",muted:!0,size:1,children:["Error: ",V.error.message]}),c.jsx(ae,{onClick:V.retry,text:c.jsx(c.Fragment,{children:"Retry"}),tone:"primary"})]})})]}),ye=h.useMemo(()=>h.forwardRef(function(xe,Ze){return c.jsx(_m,{...xe,intent:"edit",params:{id:T==null?void 0:T._ref,type:H==null?void 0:H.name},target:"_blank",rel:"noopener noreferrer",ref:Ze})}),[H==null?void 0:H.name,T==null?void 0:T._ref]),_e=h.useMemo(()=>y?null:c.jsx(F,{marginLeft:1,children:c.jsx(rn,{button:c.jsx(ae,{paddingY:3,paddingX:2,mode:"bleed",icon:Ho}),id:"".concat(g,"-menuButton"),menu:c.jsxs(Ht,{children:[!y&&c.jsxs(c.Fragment,{children:[c.jsx(Me,{text:"Clear",tone:"critical",icon:fo,onClick:k}),c.jsx(Me,{text:"Replace",icon:lj,onClick:q})]}),!y&&(T==null?void 0:T._ref)&&c.jsx(Ir,{}),(T==null?void 0:T._ref)&&c.jsx(Me,{as:ye,"data-as":"a",text:"Open in new tab",icon:y0})]}),popover:Krn})}),[k,q,g,ye,y,T==null?void 0:T._ref]);return c.jsxs(c.Fragment,{children:[j&&e.actions&&e.actions.length>0&&c.jsx(rC,{actions:e.actions,documentId:j,documentType:p.name,onActions:E,path:m,schemaType:p}),c.jsx(aC,{actions:S,focused:!!e.inputProps.focused,path:m,children:c.jsx(i1,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:S,__unstable_presence:e.presence,description:e.description,level:e.level,title:e.title,validation:e.validation,children:le?c.jsx(F,{children:b}):c.jsx(ee,{shadow:1,radius:1,padding:1,tone:oe,children:c.jsxs(ne,{space:1,children:[c.jsxs(W,{gap:1,align:"center",children:[c.jsx(gDe,{__unstable_focusRing:!0,as:A,"data-pressed":U?!0:void 0,"data-selected":z?!0:void 0,documentId:T==null?void 0:T._ref,documentType:H==null?void 0:H.name,flex:1,paddingX:2,paddingY:1,pressed:U,radius:2,ref:f,selected:z,tone:"inherit",children:c.jsx(mDe,{value:T,referenceInfo:V,renderPreview:C,type:p})}),c.jsx(F,{children:_e})]}),ie]})})})})]})}function BDe(e,t){return Nn(e.options,t)}const sie=["array","file","image","reference","slug"],Xrn=["asset","crop","hotspot","_ref","_weak"],Qrn=["tags"],Jrn=["slug"];function iN(e,t){if(!e)return[];if(t.has(e))return[];t.add(e);const n=e.type?iN(e.type,t):[];return[e,...n]}function eon(e,t){return Ol(e)?non(e,t):ton(e,t)}function ton(e,t){var n,r,o;const{type:i,options:s}=e,a=NDe(i,sie),l=(e==null?void 0:e.jsonType)==="object"?e.fields:void 0,u=(a==null?void 0:a.name)||"";if(Jrn.includes(u))return 0;const d=sie.includes(u),f=((n=l==null?void 0:l.filter(m=>!Xrn.includes(m.name)).length)!=null?n:0)>0,p=((o=(r=s==null?void 0:s.list)==null?void 0:r.length)!=null?o:0)>0;return f||p||!d?t:0}function non(e,t){var n;const{options:r}=e,o=((n=(r==null?void 0:r.list)||[])==null?void 0:n.length)>0,i=Qrn.includes((r==null?void 0:r.layout)||"");return o&&!i?t:0}function NDe(e,t){if(e!=null&&e.name&&t.includes(e==null?void 0:e.name))return e;if(e)return NDe(e.type,t)}const xk=[];function ron(e){return c.jsx(ni,{hasFocus:!!e.inputProps.focused,isChanged:e.inputProps.changed,path:e.path,children:e.children})}function MO(e){const[t,n]=h.useState(xk),r=AA(),o=!!e.inputProps.focused;return c.jsxs(c.Fragment,{children:[r&&e.actions&&e.actions.length>0&&c.jsx(rC,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),c.jsx(aC,{actions:t,focused:o,path:e.path,children:c.jsx(i1,{__internal_slot:e.__internal_slot,__internal_comments:e.__internal_comments,__unstable_headerActions:t,__unstable_presence:e.presence,"data-testid":"field-".concat(e.inputId),description:e.description,inputId:e.inputId,level:e.level,title:e.title,validation:e.validation,children:c.jsx(ni,{hasFocus:o,isChanged:e.inputProps.changed,path:e.path,children:e.children})})})]})}function oon(e){const[t,n]=h.useState(xk),r=AA(),o=!!e.inputProps.focused;return c.jsxs(c.Fragment,{children:[r&&e.actions&&e.actions.length>0&&c.jsx(rC,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),c.jsx(aC,{actions:t,focused:o,path:e.path,children:c.jsx(CA,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:e.presence,collapsed:e.collapsed,collapsible:e.collapsible,"data-testid":"field-".concat(e.inputId),description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,children:e.children})})]})}function ion(e){const[t,n]=h.useState(xk),r=AA(),o=!!e.inputProps.focused,i=e.inputProps.members.find(a=>a.kind==="field"&&a.name==="hotspot"),s=i!=null&&i.open?e.presence:e.presence.concat((i==null?void 0:i.field.presence)||xk);return c.jsxs(c.Fragment,{children:[r&&e.actions&&e.actions.length>0&&c.jsx(rC,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),c.jsx(aC,{actions:t,focused:o,path:e.path,children:c.jsx(CA,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:s,collapsed:e.collapsed,collapsible:e.collapsible,description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,children:e.children})})]})}function son(e){var t;if((t=e.components)!=null&&t.field)return e.components.field;if(Jx(e))return ron;const n=iN(e,new Set);return n.some(r=>r.name==="image"||r.name==="file")?ion:n.some(r=>mF(r))||n.some(r=>r.name==="slug")?MO:n.some(r=>_f(r))?Zrn:e.jsonType!=="object"&&e.jsonType!=="array"?MO:oon}function aon(e){const{allowedDecorators:t,block:n,onChange:r}=e;let o;return i=>{o=Array.isArray(i)?i:[i],o=o.map(a=>bx(a,{allowedDecorators:t}));const s=[ef(o,"after",[{_key:n._key}])];return r(st.from(s))}}function lon(e){const{allowedDecorators:t,block:n,onChange:r}=e;return o=>{const i=[pt(bx(o,{allowedDecorators:t}),[{_key:n._key}])];return r(st.from(i))}}function con(e){const{block:t,onChange:n}=e;return()=>{const r=[Qe([{_key:t._key}])];return n(st.from(r))}}var aie=Object.freeze,uon=Object.defineProperty,don=(e,t)=>aie(uon(e,"raw",{value:aie(t||e.slice())})),lie;const fon=O.div(lie||(lie=don([`
  display: flex;
  pointer-events: all;
`])));function zDe(e){const t=mo(),{block:n,onChange:r,renderBlockActions:o}=e,i=h.useMemo(()=>t.schemaTypes.decorators.map(a=>a.value),[t]),s=h.useMemo(()=>{if(o){const a={block:n,value:Ce.getValue(t),set:lon({allowedDecorators:i,block:n,onChange:r}),unset:con({block:n,onChange:r}),insert:aon({allowedDecorators:i,block:n,onChange:r})};return o(a)}},[o,n,t,r,i]);return s?c.jsx(fon,{contentEditable:!1,children:s}):null}var cie=Object.freeze,hon=Object.defineProperty,pon=(e,t)=>cie(hon(e,"raw",{value:cie(t||e.slice())})),uie;const VDe=O.div(e=>{let{theme:t}=e;const{radius:n,space:r,color:o}=t.sanity,i=At(o.spot.yellow,.2);return de(uie||(uie=pon([`
    position: absolute;
    border-radius: `,`px;
    top: -`,`px;
    bottom: -`,`px;
    left: `,`px;
    right: 0;
    background-color: `,`;
  `])),n[3],r[2],r[1]+r[1],r[4]+r[1],i)});var die=Object.freeze,mon=Object.defineProperty,gon=(e,t)=>die(mon(e,"raw",{value:die(t||e.slice())})),fie;const HDe=O(ni)(()=>de(fie||(fie=gon([`
    width: 1px;
    height: 100%;

    & > div {
      height: 100%;
    }
  `]))));function DA(e){return e.type?DA(e.type):e.name==="block"}function von(e){return e.kind==="field"&&e.field.schemaType.jsonType==="array"}const yon=["@@_NONEXISTENT_PATH_@@"];function IA(e){const t=h.useRef(null),n=e!=null&&e.validation&&e.validation.length>0?e.validation:Vn,r=AB((e==null?void 0:e.path)||yon),o=h.useMemo(()=>e!=null&&e.schemaType&&DA(e==null?void 0:e.schemaType)?n:n.concat(r),[r,e,n]),[i,s,a]=h.useMemo(()=>[o.filter(u=>u.level==="error").length>0,o.filter(u=>u.level==="warning").length>0,o.filter(u=>u.level==="info").length>0],[o]),l=TB(t.current,o);return t.current=l,h.useMemo(()=>({validation:l,hasError:i,hasWarning:s,hasInfo:a}),[l,i,s,a])}const UDe=h.createContext([]);function bon(e){return c.jsx(UDe.Provider,{value:e.markers,children:e.children})}function PA(e){const t=h.useContext(UDe);if(!t)throw new Error("Form context not provided");return h.useMemo(()=>t.filter(r=>Cn(r.path,e)),[t,e])}const sN=h.createContext([]);function xon(e){return c.jsx(sN.Provider,{value:e.memberItems,children:e.children})}function OA(e){const t=h.useContext(sN);if(!t)throw new Error("Form context not provided");return t.find(n=>n.key===e)}function won(){const e=h.useContext(sN);if(!e)throw new Error("Form context not provided");return e}var hie=Object.freeze,Con=Object.defineProperty,Yu=(e,t)=>hie(Con(e,"raw",{value:hie(t||e.slice())})),pie,mie,gie,vie,yie,bie,xie,wie,Cie;const _on=O(ee)(e=>{var t;const{color:n,radius:r,space:o}=e.theme.sanity,i=de(pie||(pie=Yu([`
    pointer-events: none;
    content: '';
    position: absolute;
    top: -`,`px;
    bottom: -`,`px;
    left: -`,`px;
    right: -`,`px;
    border-radius: `,`px;
    mix-blend-mode: `,`;
  `])),o[1],o[1],o[1],o[1],r[2],n.dark?"screen":"multiply");return de(mie||(mie=Yu([`
    box-shadow: 0 0 0 1px var(--card-border-color);
    border-radius: `,`px;
    pointer-events: all;
    position: relative;

    &[data-focused] {
      box-shadow: 0 0 0 1px `,`;
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-markers] {
      &:after {
        `,`
        background-color: `,`;
      }
    }

    &[data-warning] {
      &:after {
        `,`
        background-color: `,`;
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-invalid] {
      &:after {
        `,`
        background-color: `,`;
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }
  `])),r[1],(t=n.selectable)==null?void 0:t.primary.selected.border,n.input.default.hovered.border,i,n.dark?fe.purple[950].hex:fe.purple[50].hex,i,n.muted.caution.hovered.bg,n.muted.caution.hovered.border,i,n.input.invalid.enabled.bg,n.input.invalid.hovered.border)}),Son=O(F)(gie||(gie=Yu([`
  display: block;
  width: 100%;
  user-select: none;
  pointer-events: all;
`]))),Eon=O.div(e=>{let{theme:t,$hasChanges:n}=e;const{space:r}=t.sanity;return de(yie||(yie=Yu([`
      position: absolute;
      width: `,`px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: `,`px;
      user-select: none;

      `,`

      [data-dragged] & {
        visibility: hidden;
      }
    `])),r[2],r[1],!n&&de(vie||(vie=Yu([`
        display: none;
      `]))))}),kon=O(W)(bie||(bie=Yu([`
  position: relative;

  [data-dragged] > & {
    opacity: 0.5;
  }
`]))),jon=O(F)(xie||(xie=Yu([`
  width: 25px;
  position: relative;

  [data-dragged] & {
    visibility: hidden;
  }
`]))),Ton=O(W)(wie||(wie=Yu([`
  position: absolute;
  right: 0;
  [data-dragged] & {
    visibility: hidden;
  }
`]))),Aon=O(F)(Cie||(Cie=Yu([`
  max-width: 250px;
`]))),Don={constrainSize:!0,placement:"bottom",portal:"default",tone:"default"};function Ion(e){const{children:t,focused:n,isOpen:r,onOpen:o,onRemove:i,readOnly:s,value:a}=e,l=h.useId(),u=h.useRef(null),d=h.useRef(!1),f=h.useMemo(()=>Zu(a)?h.forwardRef(function(v,g){return c.jsx(_m,{...v,intent:"edit",params:{id:a._ref},ref:g})}):void 0,[a]);h.useEffect(()=>{r&&(d.current=!1)},[r]),As(h.useCallback(m=>{n&&m.key==="Tab"&&u.current&&!d.current&&!r&&(m.preventDefault(),m.stopPropagation(),u.current.focus(),d.current=!0)},[n,r]));const p=h.useCallback(m=>{m.preventDefault(),m.stopPropagation(),i()},[i]);return c.jsxs(W,{children:[c.jsx(F,{flex:1,children:t}),c.jsx(F,{children:c.jsx(rn,{button:c.jsx(ae,{"aria-label":"Open menu",fontSize:1,iconRight:Ho,mode:"bleed",paddingX:2,tabIndex:n?0:1}),ref:u,id:l,menu:c.jsx(Ht,{children:c.jsxs(c.Fragment,{children:["_ref"in a&&a._ref&&c.jsx(Me,{as:f,"data-as":"a",icon:jf,text:"Open reference"}),s&&c.jsx(Me,{icon:RF,onClick:o,text:"View"}),!s&&c.jsx(Me,{icon:Du,onClick:o,text:"Edit"}),!s&&c.jsx(Me,{icon:fo,onClick:p,text:"Delete",tone:"critical"})]})}),popover:Don})})]})}const WDe=e=>Array.isArray(e)?e.flatMap(WDe):typeof e=="number"?[e]:e==="auto"?["auto"]:[],Pon=e=>e==="dialog"||e==="popover"?e:void 0;function Oon(e){var t;const n=(t=e.options)==null?void 0:t.modal;return typeof n=="object"&&n!==null?{type:Pon(n.type),width:WDe(n.width)}:void 0}function $on(e){const{onClose:t,children:n,title:r,width:o=1,autoFocus:i}=e,s=h.useId(),[a,l]=h.useState(null),u=h.useRef(null);return c.jsx(fa,{header:r,id:s,onClickOutside:t,onClose:t,portal:"default",width:o,contentRef:l,"data-testid":"default-edit-object-dialog",__unstable_autoFocus:i,children:c.jsx(wA,{margins:[0,0,1,0],children:c.jsx(bk,{scrollElement:a,containerElement:u,children:c.jsx(F,{padding:4,ref:u,children:n})})})})}var _ie=Object.freeze,Ron=Object.defineProperty,aN=(e,t)=>_ie(Ron(e,"raw",{value:_ie(t||e.slice())})),Sie,Eie,kie;const Mon=O(hn)(Sie||(Sie=aN([`
  &[data-popper-reference-hidden='true'] {
    visibility: hidden;
    pointer-events: none;
  }

  & > div {
    overflow: hidden;
    overflow: clip;
  }
`]))),Fon=O(F)(Eie||(Eie=aN([`
  /* Prevent overflow caused by change indicator */
  overflow-x: hidden;
  overflow-y: auto;
`]))),Lon=O(F)(kie||(kie=aN([`
  box-shadow: 0 1px 0 var(--card-shadow-outline-color);
  position: relative;
  z-index: 10;
  min-height: auto;
`]))),Bon=["top","bottom"];function Non(e){const{floatingBoundary:t,referenceBoundary:n,referenceElement:r,width:o=0}=e,[i,s]=h.useState(!1);return h.useEffect(()=>{s(!0)},[]),c.jsx(Mon,{content:c.jsx(zon,{...e}),constrainSize:!0,"data-ui":"PopoverEditDialog",fallbackPlacements:Bon,floatingBoundary:t,open:i,overflow:"auto",placement:"bottom",portal:"default",preventOverflow:!0,referenceBoundary:n,referenceElement:r,width:o})}function zon(e){const{onClose:t,referenceBoundary:n,referenceElement:r,title:o,autoFocus:i}=e;As(h.useCallback(u=>{u.key==="Escape"&&t()},[t])),Vr(t,r?[r]:[],n);const[s,a]=h.useState(null),l=h.useRef(null);return c.jsx(bk,{scrollElement:s,containerElement:l,children:c.jsxs(W,{ref:l,direction:"column",height:"fill",children:[c.jsx(Lon,{flex:"none",padding:1,children:c.jsxs(W,{align:"center",children:[c.jsx(F,{flex:1,padding:2,children:c.jsx(B,{weight:"semibold",children:o})}),c.jsx(ae,{autoFocus:!!i,icon:la,mode:"bleed",onClick:t,padding:2})]})}),c.jsx(Fon,{flex:1,children:c.jsx(wA,{margins:[0,0,1,0],children:c.jsx(F,{padding:3,ref:a,children:e.children})})})]})})}function lN(e){const{autoFocus:t,defaultType:n,floatingBoundary:r,onClose:o,referenceBoundary:i,referenceElement:s,schemaType:a}=e,l=h.useMemo(()=>Oon(a),[a]),u=(l==null?void 0:l.type)||n,d=c.jsxs(c.Fragment,{children:["Edit ",a.title]}),f=h.useCallback(()=>{o()},[o]),p=l==null?void 0:l.width;return u==="popover"?c.jsx(Non,{autoFocus:t,floatingBoundary:r,onClose:f,referenceBoundary:i,referenceElement:s,title:d,width:p,children:e.children}):c.jsx($on,{onClose:f,title:d,width:p,autoFocus:t,children:e.children})}function Von(e){var t;const{floatingBoundary:n,focused:r,isFullscreen:o,onItemClose:i,onItemOpen:s,onPathFocus:a,path:l,readOnly:u,referenceBoundary:d,relativePath:f,renderAnnotation:p,renderBlock:m,renderBlockActions:v,renderCustomMarkers:g,renderField:b,renderInlineBlock:x,renderInput:y,renderItem:w,renderPreview:C,schemaType:_,selected:S,value:E}=e,{onChange:j}=ma(),{Markers:k}=ri().__internal.components,[T,A]=h.useState(!1),D=PA(l),I=mo(),P=OA(_n(l)),M=h.useRef(!1),$=h.useMemo(()=>({anchor:{path:f,offset:0},focus:{path:f,offset:0}}),[f]),V=h.useCallback(()=>A(!0),[]),L=h.useCallback(()=>A(!1),[]),H=h.useCallback(()=>{P&&(Ce.blur(I),s(P.node.path))},[I,P,s]),U=h.useCallback(()=>{i(),Ce.select(I,$),Ce.focus(I)},[i,I,$]),z=h.useCallback(()=>{if(!M.current)try{Ce.delete(I,$,{mode:"blocks"})}catch(xe){console.error(xe)}finally{M.current=!0}},[I,$]);h.useEffect(()=>()=>{M.current&&Ce.focus(I)},[I]);const Y=h.useMemo(()=>o&&!v?{paddingX:5}:o&&v?{paddingLeft:5,paddingRight:2}:v?{paddingLeft:3,paddingRight:2}:{paddingX:3},[o,v]),{validation:te,hasError:N,hasWarning:G,hasInfo:q}=IA(P==null?void 0:P.node),K=I.schemaTypes.portableText,Q=D.length>0,X=e1(l,!0),Z=h.useMemo(()=>X.filter(xe=>Cn(xe.path,l)),[l,X]),oe=N||G||q||Q,le=h.useMemo(()=>oe&&c.jsx(Aon,{padding:2,children:c.jsx(k,{markers:D,validation:te,renderCustomMarkers:g})})||null,[k,D,g,oe,te]),he=!!(P!=null&&P.member.open),ie=P==null?void 0:P.input,ye=(P==null?void 0:P.node.path)||Vn,_e=(t=P==null?void 0:P.elementRef)==null?void 0:t.current,Ae=h.useMemo(()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:_e||null,children:ie,focused:r,markers:D,onClose:U,onOpen:H,onPathFocus:a,onRemove:z,open:he,parentSchemaType:K,path:ye,presence:Z,readOnly:!!u,renderAnnotation:p,renderBlock:m,renderDefault:YDe,renderField:b,renderInlineBlock:x,renderInput:y,renderItem:w,renderPreview:C,schemaType:_,selected:S,validation:te,value:E}),[n,_e,ie,r,D,U,H,a,z,he,K,ye,Z,u,d,p,m,b,x,y,w,C,_,S,te,E]);return h.useMemo(()=>c.jsx(F,{ref:P==null?void 0:P.elementRef,contentEditable:!1,children:c.jsx(W,{paddingBottom:1,marginY:3,style:void 0,children:c.jsxs(kon,{flex:1,children:[c.jsx(yt,{placement:"top",portal:"editor",disabled:!oe,content:le,children:c.jsx(Son,{...Y,children:m&&m(Ae)})}),c.jsx(jon,{marginRight:1,children:c.jsx(Ton,{children:v&&E&&r&&!u&&c.jsx(zDe,{block:E,onChange:j,renderBlockActions:v})})}),o&&P&&c.jsx(Eon,{$hasChanges:P.member.item.changed,onMouseOut:L,onMouseOver:V,children:c.jsx(HDe,{hasFocus:r,isChanged:P.member.item.changed,path:P.member.item.path,withHoverEffect:!1})}),T&&c.jsx(VDe,{})]})})}),[Ae,r,L,V,Y,o,P,j,u,m,v,T,le,oe,E])}const YDe=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:l,onRemove:u,open:d,readOnly:f,renderPreview:p,schemaType:m,selected:v,value:g,validation:b}=e,x=tRe(g),y=b.filter(E=>E.level==="error").length>0,w=b.filter(E=>E.level==="warning").length>0,C=s.length>0,_=v||i?"primary":"default",S=h.useCallback(E=>{E.preventDefault(),E.stopPropagation(),l()},[l]);return c.jsxs(c.Fragment,{children:[c.jsx(_on,{"data-focused":i?"":void 0,"data-image-preview":x?"":void 0,"data-invalid":y?"":void 0,"data-markers":C?"":void 0,"data-read-only":f?"":void 0,"data-selected":v?"":void 0,"data-testid":"pte-block-object","data-warning":w?"":void 0,flex:1,onDoubleClick:S,padding:x?0:1,tone:_,children:p({actions:c.jsx(Ion,{isOpen:d,focused:i,onOpen:l,onRemove:u,readOnly:f,value:g}),layout:x?"blockImage":"block",schemaType:m,skipVisibilityCheck:!0,value:g})}),d&&c.jsx(lN,{floatingBoundary:t,defaultType:"dialog",onClose:a,autoFocus:i,schemaType:m,referenceBoundary:n,referenceElement:r,children:o})]})},oy=[1,2,3,4,5,6,7,8,9],jie=["●","○","■"],Tie=["number","lower-alpha","lower-roman"],Hon={em:"em","strike-through":"s",underline:"u",strong:"strong",code:"code"},Uon={h1:{paddingTop:5,paddingBottom:4},h2:{paddingTop:4,paddingBottom:4},h3:{paddingTop:4,paddingBottom:3},h4:{paddingTop:4,paddingBottom:3},h5:{paddingTop:4,paddingBottom:3},h6:{paddingTop:4,paddingBottom:2},normal:{paddingTop:2,paddingBottom:3},blockquote:{paddingTop:2,paddingBottom:3}};function ep(e){return"list-level-".concat(e)}var Aie=Object.freeze,Won=Object.defineProperty,Oc=(e,t)=>Aie(Won(e,"raw",{value:Aie(t||e.slice())})),Die,Iie,Pie,Oie,$ie,Rie,Mie,Fie,Lie,Bie;function Yon(e){var t;const{$level:n,theme:r}=e,{color:o,fonts:i,radius:s,space:a}=r.sanity,l=Tie[(n-1)%Tie.length],u=jie[(n-1)%jie.length];return de(Die||(Die=Oc([`
    --marker-bg-color: transparent;

    mix-blend-mode: `,`;
    position: relative;

    & > [data-ui='TextBlock_inner'] {
      position: relative;
      flex: 1;
    }

    & > div:before {
      content: '';
      position: absolute;
      top: -`,`px;
      bottom: -`,`px;
      left: -`,`px;
      right: -`,`px;
      border-radius: `,`px;
      background-color: var(--marker-bg-color);
      // This is to make sure the marker is always behind the text
      z-index: -1;
    }

    &[data-markers] {
      --marker-bg-color: `,`;
    }

    &[data-warning] {
      --card-border-color: `,`;
      --marker-bg-color: `,`;
    }

    &[data-error] {
      --card-border-color: `,`;
      --marker-bg-color: `,`;
    }

    & [data-list-prefix] {
      position: absolute;
      margin-left: -4.5rem;
      width: 3.75rem;
      text-align: right;
      box-sizing: border-box;
    }

    &[data-list-item='number'] [data-list-prefix] {
      font-variant-numeric: tabular-nums;

      & > span:before {
        content: counter(`,`) '.';
        content: counter(`,", ",`) '.';
      }
    }

    &[data-list-item='bullet'] [data-list-prefix] {
      & > span {
        position: relative;
        top: -0.1875em;

        &:before {
          content: '`,`';
          font-size: 0.46666em;
        }
      }
    }

    & [data-text] {
      overflow-wrap: anywhere;
      text-transform: none;
      white-space: pre-wrap;
      font-family: `,`;
      flex: 1;

      *::selection {
        background-color: `,`;
      }
    }
  `])),o.dark?"screen":"multiply",a[1],a[1],a[1],a[1],s[2],o.dark?fe.purple[950].hex:fe.purple[50].hex,o.muted.caution.enabled.border,o.muted.caution.hovered.bg,o.muted.critical.enabled.border,o.muted.critical.hovered.bg,ep(n),ep(n),l,u,i.text.family,(t=o.selectable)==null?void 0:t.primary.pressed.bg)}const qon=O.div(Yon),Gon=O(F)(Iie||(Iie=Oc([`
  position: relative;
  display: flex;
`]))),Kon=O.div(Pie||(Pie=Oc([`
  user-select: none;
  white-space: nowrap;
`]))),Zon=O(F)(Oie||(Oie=Oc([`
  user-select: none;
`]))),Xon=O(F)($ie||($ie=Oc([`
  line-height: 0;
  width: 25px;
  position: relative;
`]))),Qon=O(W)(e=>{let{theme:t}=e;const{fonts:n,space:r}=t.sanity,o=n.text.sizes[1],i=n.text.sizes[2],s=o.lineHeight-o.ascenderHeight-o.descenderHeight,a=i.lineHeight-i.ascenderHeight-i.descenderHeight,u=0-(s+r[2]+r[2]-a)/2;return de(Rie||(Rie=Oc([`
    user-select: none;
    position: absolute;
    right: 0;
    top: `,`px;
  `])),u)}),Jon=O(F)(Mie||(Mie=Oc([`
  max-width: 250px;
`]))),ein=O(W)(Fie||(Fie=Oc([`
  position: relative;
  padding-left: `,`px;
`])),e=>{let{$level:t}=e;return t?t*32:0}),tin=O.div(e=>{let{theme:t,$hasChanges:n}=e;const{space:r}=t.sanity;return de(Bie||(Bie=Oc([`
      position: absolute;
      width: `,`px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: `,`px;
      user-select: none;

      `,`
    `])),r[2],r[1],!n&&de(Lie||(Lie=Oc([`
        display: none;
      `]))))});var Nie=Object.freeze,nin=Object.defineProperty,qDe=(e,t)=>Nie(nin(e,"raw",{value:Nie(t||e.slice())})),zie,Vie;const pd=O.div(zie||(zie=qDe([`
  display: block;
`]))),cN=e=>{let{children:t,...n}=e;return c.jsx(B,{"data-testid":"text-style--normal",...n,children:c.jsx(pd,{children:t})})},GDe=e=>{let{children:t,...n}=e;return c.jsx(oi,{as:"h1","data-testid":"text-style--h1",size:5,...n,children:c.jsx(pd,{children:t})})},KDe=e=>{let{children:t,...n}=e;return c.jsx(oi,{as:"h2","data-testid":"text-style--h2",size:4,...n,children:c.jsx(pd,{children:t})})},ZDe=e=>{let{children:t,...n}=e;return c.jsx(oi,{as:"h3","data-testid":"text-style--h3",size:3,...n,children:c.jsx(pd,{children:t})})},XDe=e=>{let{children:t,...n}=e;return c.jsx(oi,{as:"h4","data-testid":"text-style--h4",size:2,...n,children:c.jsx(pd,{children:t})})},QDe=e=>{let{children:t,...n}=e;return c.jsx(oi,{as:"h5","data-testid":"text-style--h5",size:1,...n,children:c.jsx(pd,{children:t})})},JDe=e=>{let{children:t,...n}=e;return c.jsx(oi,{as:"h6","data-testid":"text-style--h6",size:0,...n,children:c.jsx(pd,{children:t})})},rin=O.blockquote(Vie||(Vie=qDe([`
  position: relative;
  display: block;
  margin: 0;
  padding-left: `,`px;

  &::before {
    content: '';
    position: absolute;
    left: 0;
    top: -4px;
    bottom: -4px;
    width: 3px;
    background: var(--card-border-color);
  }
`])),e=>{let{theme:t}=e;return t.sanity.space[3]}),eIe=e=>{let{children:t,...n}=e;return c.jsx(rin,{"data-testid":"text-style--blockquote",...n,children:c.jsx(B,{as:"p",children:t})})},FO={normal:cN,h1:GDe,h2:KDe,h3:ZDe,h4:XDe,h5:QDe,h6:JDe,blockquote:eIe};function oin(e){const{children:t,floatingBoundary:n,focused:r,isFullscreen:o,onItemClose:i,onItemOpen:s,onPathFocus:a,path:l,readOnly:u,referenceBoundary:d,renderBlock:f,renderAnnotation:p,renderBlockActions:m,renderCustomMarkers:v,renderField:g,renderInlineBlock:b,renderInput:x,renderItem:y,renderPreview:w,schemaType:C,selected:_,spellCheck:S,value:E}=e,{Markers:j}=ri().__internal.components,[k,T]=h.useState(!1),A=PA(l),D=OA(_n(l)),I=mo(),{onChange:P}=ma(),M=e1(l,!0),$=h.useMemo(()=>M.filter(ie=>Cn(ie.path,l)||ie.path.slice(-3)[1]==="children"&&ie.path.length-l.length===2),[l,M]),V=h.useCallback(()=>T(!0),[]),L=h.useCallback(()=>T(!1),[]),{validation:H,hasError:U,hasWarning:z,hasInfo:Y}=IA(D==null?void 0:D.node),te=!!v&&A.length>0,N=U||z||te||Y,G=h.useCallback(()=>{D&&s(D.node.path)},[s,D]),q=h.useCallback(()=>{const ie={path:l.slice(-1),offset:0},ye={focus:ie,anchor:ie};Ce.delete(I,ye,{mode:"blocks"}),Ce.focus(I)},[l,I]),K=h.useMemo(()=>c.jsxs(ein,{align:"flex-start",$level:E==null?void 0:E.level,children:[E.listItem&&c.jsx(Kon,{contentEditable:!1,children:c.jsx(B,{"data-list-prefix":"",children:c.jsx(pd,{})})}),c.jsx("div",{"data-text":"",style:void 0,children:t})]}),[E.listItem,E.level,t]),Q=h.useMemo(()=>o&&!m?{paddingX:5}:o&&m?{paddingLeft:5,paddingRight:2}:m?{paddingLeft:3,paddingRight:2}:{paddingX:3},[o,m]),X=h.useMemo(()=>E.listItem?{paddingY:2}:Uon[E.style||"normal"]||{paddingY:2},[E]),Z=!!(D!=null&&D.member.open),oe=I.schemaTypes.portableText,le=h.useMemo(()=>{var ie;return{__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:((ie=D==null?void 0:D.elementRef)==null?void 0:ie.current)||null,children:K,focused:r,markers:A,onClose:i,onOpen:G,onPathFocus:a,onRemove:q,open:Z,parentSchemaType:oe,path:(D==null?void 0:D.node.path)||Vn,presence:$,readOnly:!!u,renderAnnotation:p,renderBlock:f,renderDefault:tIe,renderField:g,renderInput:x,renderInlineBlock:b,renderItem:y,renderPreview:w,schemaType:C,selected:_,validation:H,value:E}},[n,r,Z,A,D==null?void 0:D.elementRef,D==null?void 0:D.node.path,i,G,a,q,oe,u,d,p,f,g,b,x,y,w,C,_,K,$,H,E]),he=h.useMemo(()=>N&&c.jsx(Jon,{padding:2,children:c.jsx(j,{markers:A,renderCustomMarkers:v,validation:H})})||null,[j,A,v,N,H]);return h.useMemo(()=>c.jsx(F,{"data-testid":"text-block",...X,style:void 0,ref:D==null?void 0:D.elementRef,children:c.jsx(Gon,{"data-testid":"text-block__wrapper",children:c.jsxs(W,{flex:1,...Q,children:[c.jsx(F,{flex:1,children:c.jsx(yt,{content:he,disabled:!N,placement:"top",portal:"editor",children:c.jsx(qon,{$level:E.level||1,"data-error":U?"":void 0,"data-list-item":E.listItem,"data-markers":te?"":void 0,"data-read-only":u,"data-testid":"text-block__text","data-warning":z?"":void 0,spellCheck:S,children:f&&f(le)})})}),c.jsxs(Zon,{contentEditable:!1,children:[c.jsx(Xon,{marginRight:1,children:c.jsx(Qon,{children:m&&r&&!u&&c.jsx(zDe,{onChange:P,block:E,renderBlockActions:m})})}),o&&D&&c.jsx(tin,{$hasChanges:D.member.item.changed,onMouseEnter:V,onMouseLeave:L,children:c.jsx(HDe,{hasFocus:r,isChanged:D.member.item.changed,path:D.member.item.path,withHoverEffect:!1})})]}),k&&c.jsx(VDe,{})]})})}),[le,r,V,L,U,te,z,Q,o,D,P,X,u,f,m,k,S,he,N,E])}const tIe=e=>c.jsx(c.Fragment,{children:e.children});var Hie=Object.freeze,iin=Object.defineProperty,sin=(e,t)=>Hie(iin(e,"raw",{value:Hie(t||e.slice())})),Uie;const ain=O(hn)(Uie||(Uie=sin([`
  &[data-popper-reference-hidden='true'] {
    display: none !important;
  }
`]))),lin=["top","bottom"];function cin(e){const{floatingBoundary:t,onClosePopover:n,onEdit:r,onDelete:o,referenceBoundary:i,referenceElement:s,title:a,open:l}=e,{sanity:u}=Ds(),d=h.useRef(null),f=h.useRef(null),p=u.color.dark?"light":"dark";As(h.useCallback(g=>{g.key==="Escape"&&(g.preventDefault(),g.stopPropagation(),n())},[n]));const m=h.useCallback(g=>{var b;if(!((b=f.current)!=null&&b.disabled)){g.preventDefault(),g.stopPropagation();try{o(g)}catch(x){console.error(x)}finally{f.current&&(f.current.disabled=!0)}}},[o]),v=h.useMemo(()=>c.jsx(F,{padding:1,children:c.jsxs(Jt,{space:1,children:[c.jsx(F,{padding:2,children:c.jsx(B,{weight:"semibold",size:1,children:a})}),c.jsx(ae,{icon:Du,mode:"bleed",onClick:r,padding:2,ref:d,alt:"Edit object"}),c.jsx(ae,{ref:f,icon:fo,mode:"bleed",padding:2,onClick:m,tone:"critical",alt:"Remove object"})]})}),[m,r,a]);return c.jsx(ain,{constrainSize:!0,content:v,fallbackPlacements:lin,floatingBoundary:t,open:l,placement:"top",portal:!0,referenceBoundary:i,referenceElement:s,scheme:p})}var Wie=Object.freeze,uin=Object.defineProperty,uN=(e,t)=>Wie(uin(e,"raw",{value:Wie(t||e.slice())})),Yie,qie,Gie;const din=O(ee)(pin),fin=O.span(Yie||(Yie=uN([`
  display: block;
  max-width: calc(5em + 80px);
  position: relative;
`]))),hin=O(F)(qie||(qie=uN([`
  max-width: 250px;
`])));function pin(e){let{theme:t}=e;var n,r,o;const{color:i,radius:s}=t.sanity;return de(Gie||(Gie=uN([`
    line-height: 0;
    border-radius: `,`px;
    padding: 2px;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    height: calc(1em - 1px);
    margin-top: 0.0625em;
    cursor: default;

    &:not([hidden]) {
      display: inline-flex;
      align-items: center;
      vertical-align: top;
    }

    &[data-ready-only] {
      cursor: default;
    }

    &[data-focused] {
      box-shadow: inset 0 0 0 1px `,`;
      color: `,`;
    }

    &[data-selected] {
      background-color: `,`;
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-markers] {
      --card-bg-color: `,`;
    }

    &[data-warning] {
      --card-bg-color: `,`;

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-invalid] {
      --card-bg-color: `,`;
      --card-border-color: `,`;

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }
  `])),s[2],(n=i.selectable)==null?void 0:n.primary.selected.border,(r=i.selectable)==null?void 0:r.primary.pressed.fg,(o=i.selectable)==null?void 0:o.primary.pressed.bg,i.input.default.hovered.border,i.dark?fe.purple[950].hex:fe.purple[50].hex,i.muted.caution.hovered.bg,i.muted.caution.hovered.border,i.input.invalid.enabled.bg,i.input.invalid.enabled.border,i.input.invalid.hovered.border)}const min=e=>{var t;const{floatingBoundary:n,focused:r,onItemClose:o,onItemOpen:i,onPathFocus:s,path:a,readOnly:l,referenceBoundary:u,relativePath:d,renderAnnotation:f,renderBlock:p,renderCustomMarkers:m,renderField:v,renderItem:g,renderInlineBlock:b,renderInput:x,renderPreview:y,schemaType:w,selected:C,value:_}=e,{Markers:S}=ri().__internal.components,E=mo(),j=PA(a),k=OA(_n(a)),{validation:T,hasError:A,hasInfo:D,hasWarning:I}=IA(k==null?void 0:k.node),P=E.schemaTypes.block,M=j.length>0,$=h.useMemo(()=>({anchor:{path:d,offset:0},focus:{path:d,offset:0}}),[d]),V=h.useCallback(()=>{Ce.delete(E,$,{mode:"children"}),Ce.focus(E)},[$,E]),L=h.useCallback(()=>{k&&(Ce.blur(E),i(k.node.path))},[E,i,k]),H=h.useCallback(()=>{o(),Ce.select(E,$),Ce.focus(E)},[o,E,$]),U=!!(k!=null&&k.member.open),z=k==null?void 0:k.input,Y=(k==null?void 0:k.node.path)||Vn,te=(t=k==null?void 0:k.elementRef)==null?void 0:t.current,N=e1(a,!0),G=h.useMemo(()=>N.filter(X=>Cn(X.path,a)),[a,N]),q=h.useMemo(()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:u,__unstable_referenceElement:te,children:z,focused:r,onClose:H,onOpen:L,onPathFocus:s,onRemove:V,open:U,markers:j,member:k==null?void 0:k.member,parentSchemaType:P,path:Y,presence:G,readOnly:!!l,renderAnnotation:f,renderBlock:p,renderDefault:nIe,renderField:v,renderInlineBlock:b,renderInput:x,renderItem:g,renderPreview:y,schemaType:w,selected:C,value:_,validation:T}),[n,r,z,U,j,k==null?void 0:k.member,Y,H,L,s,V,P,l,u,te,f,p,v,b,x,g,y,G,w,C,T,_]),K=A||I||D||M,Q=h.useMemo(()=>K&&c.jsx(hin,{padding:2,children:c.jsx(S,{markers:j,validation:T,renderCustomMarkers:m})})||null,[S,j,m,K,T]);return h.useMemo(()=>c.jsx("span",{ref:k==null?void 0:k.elementRef,contentEditable:!1,children:c.jsx(yt,{placement:"bottom",portal:"editor",disabled:!K,content:Q,children:b&&c.jsx("span",{style:{position:"relative"},children:b(q)})})}),[q,k==null?void 0:k.elementRef,b,Q,K])},nIe=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:l,onRemove:u,open:d,readOnly:f,renderPreview:p,schemaType:m,selected:v,validation:g,value:b}=e,x=s.length>0,[y,w]=h.useState(!1),C=(m==null?void 0:m.title)||m.name,_=g.filter(T=>T.level==="error").length>0,S=g.filter(T=>T.level==="warning").length>0,E=h.useCallback(()=>{w(!1),l()},[l]);h.useEffect(()=>{w(d?!1:!!i)},[i,d]);const j=h.useMemo(()=>{if(_)return"critical";if(S)return"caution";if(v||i)return"primary"},[i,_,S,v]),k=h.useCallback(()=>{w(!1)},[]);return c.jsxs(c.Fragment,{children:[c.jsx(din,{"data-focused":i||void 0,"data-invalid":_||void 0,"data-markers":x||void 0,"data-read-only":f||void 0,"data-selected":v||void 0,"data-warning":S||void 0,forwardedAs:"span",onClick:f?E:void 0,onDoubleClick:E,tone:j,children:c.jsx(fin,{children:p({layout:"inline",schemaType:m,skipVisibilityCheck:!0,value:b,fallbackTitle:"Click to edit"})})}),r&&c.jsx(cin,{floatingBoundary:t,onClosePopover:k,onDelete:u,onEdit:E,open:y,referenceBoundary:n,referenceElement:r,title:C}),d&&c.jsx(lN,{defaultType:"popover",onClose:a,autoFocus:i,floatingBoundary:t,referenceBoundary:n,referenceElement:r,schemaType:m,children:o})]})};var Kie=Object.freeze,gin=Object.defineProperty,vin=(e,t)=>Kie(gin(e,"raw",{value:Kie(t||e.slice())})),Zie;const yin=O(hn)(Zie||(Zie=vin([`
  &[data-popper-reference-hidden='true'] {
    display: none !important;
  }
`]))),bin=["top","bottom"];function xin(e){const{annotationOpen:t,floatingBoundary:n,onOpen:r,onRemove:o,referenceBoundary:i,referenceElement:s,selected:a,title:l}=e,[u,d]=h.useState(!1),[f,p]=h.useState(null),m=h.useRef(null),{sanity:v}=Ds(),g=h.useRef(null),b=v.color.dark?"light":"dark",x=h.useMemo(()=>f?{getBoundingClientRect:()=>f}:null,[f]);As(h.useCallback(S=>{u&&S.key==="Escape"&&d(!1)},[u]));const y=h.useCallback(()=>{if(t){d(!1),p(null);return}const S=window.getSelection();if(!S||S.rangeCount===0)return;const E=S.getRangeAt(0);if(!(s==null?void 0:s.contains(E.commonAncestorContainer))){d(!1),p(null);return}const k=E==null?void 0:E.getBoundingClientRect();k&&(d(!0),p(k))},[t,s]);h.useEffect(()=>(document.addEventListener("selectionchange",y,{passive:!0}),()=>{document.removeEventListener("selectionchange",y)}),[y]);const w=h.useCallback(()=>{d(!1),r()},[r]);h.useEffect(()=>{!t&&a&&d(!0),t&&d(!1)},[t,a]);const C=h.useCallback(()=>{d(!1),o()},[o]),_=h.useCallback(()=>{m.current&&p(m.current.getBoundingClientRect())},[]);return h.useEffect(()=>{if(u)return i==null||i.addEventListener("scroll",_),()=>{i==null||i.removeEventListener("scroll",_)}},[u,i,_]),u?c.jsx(yin,{open:u,floatingBoundary:n,constrainSize:!0,content:c.jsx(F,{padding:1,"data-testid":"annotation-toolbar-popover",children:c.jsxs(Jt,{space:1,children:[c.jsx(F,{padding:2,children:c.jsx(B,{weight:"semibold",size:1,children:l})}),c.jsx(ae,{icon:Du,mode:"bleed",onClick:w,padding:2,alt:"Edit annotation",tabIndex:0}),c.jsx(ae,{icon:fo,mode:"bleed",padding:2,onClick:C,tone:"critical",alt:"Remove annotation",tabIndex:0})]})}),fallbackPlacements:bin,placement:"top",portal:!0,preventOverflow:!0,ref:g,referenceBoundary:i,referenceElement:x,scheme:b}):null}var Xie=Object.freeze,win=Object.defineProperty,rIe=(e,t)=>Xie(win(e,"raw",{value:Xie(t||e.slice())})),Qie,Jie;const Cin=O.span(e=>{var t,n,r,o;const{$toneKey:i="default",theme:s}=e;return de(Qie||(Qie=rIe([`
      text-decoration: none;
      display: inline;
      background-color: `,`;
      border-bottom: 1px dashed `,`;
      color: `,`;

      &[data-link] {
        border-bottom: 1px solid `,`;
      }

      &[data-custom-markers] {
        background-color: `,`;
      }

      &[data-warning] {
        background-color: `,`;
      }

      &[data-error] {
        background-color: `,`;
      }
    `])),(t=s.sanity.color.selectable)==null?void 0:t[i].enabled.bg,(n=s.sanity.color.selectable)==null?void 0:n[i].enabled.fg,(r=s.sanity.color.selectable)==null?void 0:r[i].enabled.fg,(o=s.sanity.color.selectable)==null?void 0:o[i].enabled.fg,s.sanity.color.dark?fe.purple[950].hex:fe.purple[50].hex,s.sanity.color.muted.caution.hovered.bg,s.sanity.color.muted.critical.hovered.bg)}),_in=O(F).attrs({forwardedAs:"span"})(Jie||(Jie=rIe([`
  max-width: 250px;
`])));function Sin(e){var t;const{children:n,editorNodeFocused:r,floatingBoundary:o,focused:i,onItemClose:s,onItemOpen:a,onPathFocus:l,path:u,readOnly:d,referenceBoundary:f,renderAnnotation:p,renderBlock:m,renderCustomMarkers:v,renderField:g,renderInlineBlock:b,renderInput:x,renderItem:y,renderPreview:w,schemaType:C,selected:_,value:S}=e,{Markers:E=dAe}=ri().__internal.components,j=mo(),k=h.useMemo(()=>u.slice(0,u.length-2).concat(["markDefs",{_key:S._key}]),[u,S._key]),[T,A]=h.useState(null),D=h.useMemo(()=>u.slice(u.length-3,u.length),[u]),I=OA(_n(k)),{validation:P}=IA(I==null?void 0:I.node),M=PA(u),$=h.useMemo(()=>c.jsx("span",{"data-annotation":"",children:n}),[n]),V=h.useCallback(()=>{I&&(Ce.blur(j),l(I.node.focusPath),a(I.node.path))},[j,I,a,l]),L=h.useCallback(()=>{s();const Z=Ce.getSelection(j),oe=(Z==null?void 0:Z.focus.path)&&Cn(Z.focus.path,D)&&Z.focus.offset,le=(Z==null?void 0:Z.anchor.path)&&Cn(Z.anchor.path,D)&&Z.anchor.offset;Ce.select(j,{anchor:{path:D,offset:le||0},focus:{path:D,offset:oe||0}}),Ce.focus(j)},[j,D,s]),H=h.useCallback(()=>{Ce.removeAnnotation(j,C),Ce.focus(j)},[j,C]),U=h.useMemo(()=>P.length>0||M.length>0?c.jsx(yt,{placement:"bottom",portal:"default",content:c.jsx(_in,{padding:2,children:c.jsx(E,{markers:M,renderCustomMarkers:v,validation:P})}),children:$}):void 0,[E,M,v,$,P]),z=e1(u,!0),Y=h.useMemo(()=>z.filter(Z=>Cn(Z.path,u)),[u,z]),te=!!(I!=null&&I.member.open),N=I==null?void 0:I.input,G=(I==null?void 0:I.node.path)||Vn,q=T,K=h.useMemo(()=>({__unstable_floatingBoundary:o,__unstable_referenceBoundary:f,__unstable_referenceElement:q,__unstable_textElementFocus:r,children:N,focused:i,markers:M,onClose:L,onOpen:V,onPathFocus:l,onRemove:H,open:te,parentSchemaType:j.schemaTypes.block,path:G,presence:Y,readOnly:!!d,renderAnnotation:p,renderBlock:m,renderField:g,renderInlineBlock:b,renderInput:x,renderPreview:w,renderItem:y,renderDefault:S4,schemaType:C,selected:_,textElement:U||$,validation:P,value:S}),[j.schemaTypes.block,r,o,i,N,te,M,U,G,L,V,l,H,d,f,q,p,m,g,b,x,y,w,Y,C,_,$,P,S]),Q=(t=C.components)==null?void 0:t.annotation,X=h.useCallback(Z=>{I!=null&&I.elementRef&&(I.elementRef.current=Z),A(Z)},[I]);return h.useMemo(()=>c.jsx("span",{ref:X,style:void 0,children:Q?c.jsx(Q,{...K}):c.jsx(S4,{...K})}),[Q,K,X])}const S4=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:l,onRemove:u,open:d,readOnly:f,selected:p,schemaType:m,textElement:v,validation:g}=e,b=m.name==="link",x=g.filter(_=>_.level==="error").length>0,y=g.filter(_=>_.level==="warning").length>0,w=s.length>0,C=h.useMemo(()=>x?"critical":y?"caution":b?"primary":"default",[b,x,y]);return c.jsxs(Cin,{$toneKey:C,"data-link":b?"":void 0,"data-error":x?"":void 0,"data-warning":y?"":void 0,"data-markers":w||void 0,onClick:f?l:void 0,children:[v,c.jsx(xin,{annotationOpen:d,floatingBoundary:t,onOpen:l,onRemove:u,referenceBoundary:n,referenceElement:r,selected:p,title:m.title||m.name}),d&&c.jsx(lN,{defaultType:"popover",floatingBoundary:t,onClose:a,autoFocus:i,referenceBoundary:n,referenceElement:r,schemaType:m,children:o})]})};function Ein(e){var t;return(t=e.components)!=null&&t.block?e.components.block:DA(e)?tIe:YDe}function kin(e){var t;return(t=e.components)!=null&&t.inlineBlock?e.components.inlineBlock:nIe}function jin(e){var t;return(t=e.components)!=null&&t.annotation?e.components.annotation:S4}const Tin=/^\d+$/;function Ain(e){return e.replace(/^['"]/,"").replace(/['"]$/,"")}function Din(e){const[t,n]=e.split("==");return{[t]:Ain(n)}}function Iin(e){return Tin.test(e)?Number(e):e}function Pin(e){return e.split(/[[.\]]/g).filter(Boolean).map(t=>t.includes("==")?Din(t):Iin(t))}function og(e){return Pin(e)}var Oin=Object.defineProperty,$in=(e,t,n)=>t in e?Oin(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,LO=(e,t,n)=>($in(e,typeof t!="symbol"?t+"":t,n),n);class LOn extends re.Component{constructor(){super(...arguments),LO(this,"state",{focusPath:[]}),LO(this,"handleFocus",t=>{this.setState({focusPath:t})}),LO(this,"handleBlur",()=>{})}render(){return this.props.children({onBlur:this.handleBlur,onFocus:this.handleFocus,focusPath:this.state.focusPath})}}function s0(e){const{reference:t,children:n,observeAsset:r,waitPlaceholder:o}=e,i=t==null?void 0:t._ref,s=Ao(()=>r(i),[i,r]);return c.jsx(c.Fragment,{children:i&&s?n(s):o})}function Rin(e){return e.files&&e.files.length>0?Promise.resolve(Array.from(e.files||[])):oIe(Array.from(e.items||[])).then(En)}function Min(e){const t=Array.from(e.files||[]),n=Array.from(e.items||[]);return t&&t.length>0?Promise.resolve(t):oIe(n).then(En)}function ese(e){return e===null?[]:[e]}function oIe(e){return Promise.all(e.map(t=>{if(t.kind==="file"&&t.webkitGetAsEntry){let n;try{n=t.webkitGetAsEntry()}catch{return ese(t.getAsFile())}return n?n.isDirectory?iIe(n):ese(t.getAsFile()):[]}if(t.kind==="file"){const n=t.getAsFile();return Promise.resolve(n?[n]:[])}return t.kind==="string"?(console.warn('DataTransfer with kind="string" is currently not supported'),Promise.resolve([])):(console.warn("Unknown DataTransferItem.kind: %s",t.kind),Promise.resolve([]))}))}function iIe(e){if(e.isFile)return new Promise((t,n)=>e.file(t,n)).then(t=>[t]);if(e.isDirectory){const t=e.createReader();return new Promise((n,r)=>t.readEntries(n,r)).then(n=>n.filter(r=>!r.name.startsWith("."))).then(n=>Promise.all(n.map(iIe)).then(En))}return Promise.resolve([])}function Fin(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/jpeg",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return e.match(/^webkit-fake-url:\/\//)?Promise.reject(new Error("Cannot read image contents from webkit fake url")):new Promise((r,o)=>{const i=new Image;i.crossOrigin="anonymous",i.referrerPolicy="strict-origin-when-cross-origin",i.onload=()=>{const s=document.createElement("canvas");s.width=i.width,s.height=i.height;const a=s.getContext("2d");a==null||a.drawImage(i,0,0,s.width,s.height);try{s.toBlob(r,t,n)}catch(l){o(l)}},i.src=e})}const Lin={opacity:0,position:"absolute"};function sIe(e){return re.forwardRef(function(n,r){const{onFiles:o,onFilesOver:i,onFilesOut:s,disabled:a,...l}=n,[u,d]=re.useState(!1),f=re.useRef(null),p=lr(r),m=re.useRef([]),v=h.useCallback(S=>{o==null||o(S)},[o]),g=h.useCallback(S=>{S.target===p.current&&(S.ctrlKey||S.metaKey)&&S.key==="v"&&d(!0)},[p]),b=h.useCallback(S=>{Rin(S.clipboardData).then(E=>f.current?E.length>0?E:Bin(f.current,"image/jpeg"):[]).then(E=>{var j;v(E),d(!1),(j=p.current)==null||j.focus()})},[v,p]),x=h.useCallback(S=>{m.current=[],S.preventDefault(),S.stopPropagation();const E=S.nativeEvent.dataTransfer;o&&E&&Min(E).then(j=>{j&&v(j)}),s==null||s()},[v,o,s]),y=h.useCallback(S=>{o&&(S.preventDefault(),S.stopPropagation())},[o]),w=h.useCallback(S=>{if(S.stopPropagation(),i&&p.current===S.currentTarget){m.current=[...new Set(m.current),S.currentTarget];const E=Array.from(S.dataTransfer.items).map(j=>({type:j.type,kind:j.kind}));i(E)}},[i,p]),C=h.useCallback(S=>{S.stopPropagation();const E=m.current.indexOf(S.currentTarget);E>-1&&m.current.splice(E,1),m.current.length===0&&(s==null||s())},[s]),_=re.useRef(!1);return re.useEffect(()=>{var S;!_.current&&u&&f.current?(f.current.focus(),Nin(f.current)):_.current&&!u&&((S=f.current)==null||S.focus()),_.current=u},[u]),c.jsxs(c.Fragment,{children:[c.jsx(e,{...l,ref:p,onKeyDown:a?void 0:g,onDragOver:a?void 0:y,onDragEnter:a?void 0:w,onDragLeave:a?void 0:C,onDrop:a?void 0:x}),!a&&u&&c.jsx("div",{contentEditable:!0,onPaste:b,ref:f,style:Lin})]})})}function Bin(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/jpeg";return e.isContentEditable?new Promise(n=>setTimeout(n,10)).then(()=>Array.from(e.querySelectorAll("img"))).then(n=>(e.innerHTML="",n)).then(n=>Promise.all(n.map(r=>Fin(r.src)))).then(n=>n.map(r=>new File([r],"pasted-image.jpg",{type:t}))):Promise.reject(new Error('Expected element to be contentEditable="true". Instead found a non contenteditable '.concat(e.tagName)))}function Nin(e){const t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();n==null||n.removeAllRanges(),n==null||n.addRange(t)}function dN(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function fN(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&dN(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var tse=Object.freeze,zin=Object.defineProperty,Vin=(e,t)=>tse(zin(e,"raw",{value:tse(t||e.slice())})),nse;function aIe(e){return O(e)(t=>{const n={width:t.$border?1:0,color:"var(--card-border-color)"};return de(nse||(nse=Vin([`
        --card-focus-box-shadow: `,`;

        border-radius: `,`;
        outline: none;
        box-shadow: var(--card-focus-box-shadow);

        &:focus {
          --card-focus-box-shadow: `,`;
        }
      `])),dN(n),ge(t.theme.sanity.radius[1]),fN({base:t.theme.sanity.color.base,border:n,focusRing:t.theme.sanity.focusRing}))})}const lIe=aIe(sIe(ee));var rse=Object.freeze,Hin=Object.defineProperty,$A=(e,t)=>rse(Hin(e,"raw",{value:rse(t||e.slice())})),ose,ise,sse,ase;const Uin=O(ee)(ose||(ose=$A([`
  min-height: 82px;
  box-sizing: border-box;
`]))),Win=O(W)(ise||(ise=$A([`
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),Yin=O(ne)(sse||(sse=$A([`
  position: relative;
  width: 60%;
`]))),qin=O(wr)(ase||(ase=$A([`
  position: relative;
  width: 100%;

  code {
    overflow: hidden;
    overflow: clip;
    text-overflow: ellipsis;
    position: relative;
    max-width: 200px;
  }
`]))),Gin=1e3*60*2,Kin=e=>new Date().getTime()-new Date(e).getTime();function cIe(e){let{uploadState:t,onCancel:n,onStale:r,height:o}=e;const i=t.file.name;return h.useEffect(()=>{Kin(t.updatedAt)>Gin&&(r==null||r())},[t.updatedAt,r]),c.jsx(Uin,{tone:"primary",padding:4,border:!0,style:{height:"".concat(o,"px")},children:c.jsxs(Win,{align:"center",justify:"space-between",height:"fill",direction:"row",gap:2,children:[c.jsxs(Yin,{children:[c.jsx(W,{justify:"center",gap:[3,3,2,2],direction:["column","column","row"],children:c.jsx(B,{size:1,children:c.jsxs(Jt,{space:2,children:["Uploading",c.jsx(qin,{size:1,children:i||"..."})]})})}),c.jsx(ee,{marginTop:3,radius:5,shadow:1,children:c.jsx(hYt,{value:t.progress})})]}),n?c.jsx(ae,{fontSize:2,text:"Cancel upload",mode:"ghost",tone:"critical",onClick:n}):null]})})}function Zin(e,t){return new Promise((n,r)=>{const o=new XMLHttpRequest;o.onload=()=>{const i=new FileReader;i.onloadend=()=>{var s;const a=(s=i.result)==null?void 0:s.toString(),l=a==null?void 0:a.substring(11,a.indexOf(";base64"));if(!l&&!t){r(new Error("Could not find mime type for image"));return}n(uIe(i.result,t||"".concat(sd(),".").concat(l)))},i.readAsDataURL(o.response)},o.onerror=i=>{r(i)},o.open("GET",e),o.responseType="blob",o.send()})}function Xin(e,t){return new Promise((n,r)=>{const o=e.toString(),i=o.substring(11,o.indexOf(";base64"));if(!i&&!t){r(new Error("Could not find mime type for image"));return}n(uIe(e,t||"".concat(sd(),".").concat(i)))})}function uIe(e,t){var n;const r=e.split(","),o=(n=r[0].match(/:(.*?);/))==null?void 0:n[1],i=atob(r[1]);let s=i.length;const a=new Uint8Array(s);for(;s--;)a[s]=i.charCodeAt(s);return new File([a],t,{type:o})}function dIe(e){let{assetFromSource:t,onChange:n,type:r,resolveUploader:o,uploadWith:i,isImage:s}=e;if(!t)throw new Error("No asset given");if(!Array.isArray(t)||t.length===0)throw new Error("Returned value must be an array with at least one item (asset)");const a=t[0],l=a.assetDocumentProps,u=l==null?void 0:l.originalFilename,d=l==null?void 0:l.label,f=l==null?void 0:l.title,p=l==null?void 0:l.description,m=l==null?void 0:l.creditLine,v=l==null?void 0:l.source,g=s?[Qe(["hotspot"]),Qe(["crop"])]:[];switch(a.kind){case"assetDocumentId":n([Gi({_type:r.name}),...g,pt({_type:"reference",_ref:a.value},["asset"])]);break;case"file":{const b=o(r,a.value);b&&i(b,a.value,{label:d,title:f,description:p,creditLine:m,source:v});break}case"base64":Xin(a.value,u).then(b=>{const x=o(r,b);x&&i(x,b,{label:d,title:f,description:p,creditLine:m,source:v})});break;case"url":Zin(a.value,u).then(b=>{const x=o(r,b);x&&i(x,b,{label:d,title:f,description:p,creditLine:m,source:v})});break;default:throw new Error("Invalid value returned from asset source plugin")}}var lse=Object.freeze,Qin=Object.defineProperty,Jin=(e,t)=>lse(Qin(e,"raw",{value:lse(t||e.slice())})),cse;const esn=O(Me)(cse||(cse=Jin([`
  position: relative;

  & input {
    overflow: hidden;
    overflow: clip;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    position: absolute;
    min-width: 0;
    display: block;
    appearance: none;
    padding: 0;
    margin: 0;
    border: 0;
    opacity: 0;
  }
`]))),tsn=re.forwardRef(function(t,n){const{icon:r,id:o,accept:i,capture:s,fontSize:a,multiple:l,onSelect:u,padding:d=3,space:f=3,textAlign:p,text:m,disabled:v,...g}=t,b="".concat(o||"","-").concat(h.useId()),x=re.useCallback(w=>{u&&w.target.files&&u(Array.from(w.target.files))},[u]),y=c.jsxs(W,{align:"center",justify:"flex-start",padding:d,children:[r&&c.jsx(F,{marginRight:m?f:void 0,children:c.jsxs(B,{size:a,children:[h.isValidElement(r)&&r,$r.isValidElementType(r)&&h.createElement(r)]})}),m&&c.jsx(B,{align:p,size:a,textOverflow:"ellipsis",children:m})]});return c.jsxs(esn,{...g,htmlFor:b,padding:0,fontSize:2,disabled:v,ref:n,children:[y,c.jsx("input",{"data-testid":"file-menuitem-input",accept:i,capture:s,id:b,multiple:l,onChange:x,type:"file",value:"",disabled:v})]})});function fIe(e){const{onUpload:t,onReset:n,readOnly:r,accept:o,directUploads:i,browse:s,downloadUrl:a,copyUrl:l}=e,{push:u}=Ai(),d=h.useCallback(()=>{navigator.clipboard.writeText(l||""),u({closable:!0,status:"success",title:"The URL is copied to the clipboard"})},[u,l]);return c.jsxs(c.Fragment,{children:[c.jsx(F,{padding:2,children:c.jsx(Nt,{muted:!0,size:1,children:"Replace"})}),c.jsx(tsn,{icon:uj,mode:"bleed",onSelect:t,accept:o,text:"Upload","data-testid":"file-input-upload-button",disabled:r||!i,fontSize:2}),s,(a||l)&&c.jsx(Ir,{}),a&&c.jsx(Me,{as:"a",icon:$F,text:"Download",href:a}),l&&c.jsx(Me,{icon:Au,text:"Copy URL",onClick:d}),c.jsx(Ir,{}),c.jsx(Me,{tone:"critical",icon:Iu,text:"Clear field",onClick:n,disabled:r,"data-testid":"file-input-clear"})]})}var use=Object.freeze,nsn=Object.defineProperty,rsn=(e,t)=>use(nsn(e,"raw",{value:use(t||e.slice())})),dse;const osn=O(W)(dse||(dse=rsn([`
  pointer-events: none;
`])));function hIe(e){const{hoveringFiles:t,type:n,readOnly:r,acceptedFiles:o,rejectedFilesCount:i,directUploads:s}=e,a=n==="file",l=h.useMemo(()=>r?c.jsx(BF,{}):t&&i>0||!s?c.jsx(kf,{}):a?c.jsx(v0,{}):c.jsx(Sl,{}),[s,t,a,r,i]),u=h.useMemo(()=>{let d="Drag or paste ".concat(n," here");return s?(r&&(d="Read only"),t&&s&&!r&&(o.length>0&&(d="Drop to upload ".concat(n)),i>0&&(d="Can't upload ".concat(i," file").concat(i>1?"s":""," here"))),d):"Can't upload files here"},[o.length,s,t,r,i,n]);return c.jsxs(osn,{align:"center",gap:2,justify:"center",children:[c.jsx(B,{muted:!0,children:l}),c.jsx(B,{size:1,muted:!0,children:u})]})}var fse=Object.freeze,isn=Object.defineProperty,ssn=(e,t)=>fse(isn(e,"raw",{value:fse(t||e.slice())})),hse;const asn=O(ae).attrs({forwardedAs:"label"})(e=>{let{theme:t}=e;const{focusRing:n}=t.sanity,r=t.sanity.color.base,o={width:1,color:"var(--card-border-color)"};return de(hse||(hse=ssn([`
      &:not([data-disabled='true']) {
        &:focus-within {
          box-shadow: `,`;
        }
      }

      & input {
        overflow: hidden;
        overflow: clip;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        position: absolute;
        min-width: 0;
        display: block;
        appearance: none;
        padding: 0;
        margin: 0;
        border: 0;
        opacity: 0;
      }
    `])),fN({base:r,border:o,focusRing:n}))}),lsn=re.forwardRef(function(t,n){const{icon:r,id:o,accept:i,capture:s,fontSize:a,multiple:l,onSelect:u,padding:d=3,space:f=3,textAlign:p,text:m,disabled:v,...g}=t,b="".concat(o||"","-").concat(h.useId()),x=Ds(),y=re.useCallback(C=>{u&&C.target.files&&u(Array.from(C.target.files))},[u]),w=c.jsxs(W,{align:"center",justify:"center",padding:d,children:[r&&c.jsx(F,{marginRight:m?f:void 0,children:c.jsxs(B,{size:a,children:[h.isValidElement(r)&&r,$r.isValidElementType(r)&&h.createElement(r)]})}),m&&c.jsx(B,{align:p,size:a,textOverflow:"ellipsis",weight:x.sanity.button.textWeight,children:m})]});return c.jsxs(asn,{...g,htmlFor:b,padding:0,fontSize:2,disabled:v,children:[w,c.jsx("input",{"data-testid":"file-button-input",accept:i,capture:s,id:b,multiple:l,onChange:y,ref:n,type:"file",value:"",disabled:v})]})});function csn(e){const{accept:t,acceptedFiles:n,browse:r,directUploads:o,hoveringFiles:i,onUpload:s,readOnly:a,rejectedFilesCount:l,type:u}=e,[d,f]=h.useState(null),p=zj(d),m=(p==null?void 0:p.border)&&p.border.width<440;return c.jsxs(W,{align:m?void 0:"center",direction:m?"column":"row",gap:4,justify:"space-between",paddingY:m?1:void 0,ref:f,children:[c.jsx(W,{flex:1,justify:"center",children:c.jsx(hIe,{acceptedFiles:n,directUploads:o,hoveringFiles:i,readOnly:a,rejectedFilesCount:l,type:u})}),c.jsxs(W,{align:"center",gap:2,justify:"center",wrap:"wrap",children:[c.jsx(lsn,{accept:t,"data-testid":"file-input-upload-button",disabled:a||!o,icon:uj,mode:"ghost",onSelect:s,text:"Upload"}),r]})]})}const pIe=re.memo(csn);var pse=Object.freeze,usn=Object.defineProperty,dsn=(e,t)=>pse(usn(e,"raw",{value:pse(t||e.slice())})),mse;const fsn=O(ae)(mse||(mse=dsn([`
  width: 100%;
`])));function mIe(e){let{onClearStale:t}=e;return c.jsxs(ee,{tone:"caution",padding:4,border:!0,radius:2,children:[c.jsxs(W,{gap:4,marginBottom:4,children:[c.jsx(F,{children:c.jsx(B,{size:1,children:c.jsx(Qr,{})})}),c.jsxs(ne,{space:3,children:[c.jsx(B,{size:1,weight:"semibold",children:"Incomplete upload"}),c.jsx(B,{size:1,children:"An upload has made no progress in the last 6m and likely got interrupted. You can safely clear the incomplete upload and try uploading again."})]})]}),c.jsx(fsn,{icon:Iu,text:"Clear upload",onClick:t,mode:"ghost"})]})}var gse=Object.freeze,hsn=Object.defineProperty,gIe=(e,t)=>gse(hsn(e,"raw",{value:gse(t||e.slice())})),vse,yse;const psn=O(ee)(vse||(vse=gIe([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),msn=O(W)(yse||(yse=gIe([`
  height: 100%;
`])));function vIe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;if(e===0)return"0 Bytes";const n=1024,r=t<0?0:t,o=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(n));return"".concat(parseFloat((e/Math.pow(n,i)).toFixed(r))," ").concat(o[i])}function gsn(e){const{originalFilename:t,size:n,children:r,muted:o,disabled:i,onClick:s,isMenuOpen:a,onMenuOpen:l,setMenuButtonElement:u}=e,[d,f]=h.useState(null),[p,m]=h.useState(null),v=h.useCallback(()=>l(!0),[l]);As(h.useCallback(b=>{a&&(b.key==="Escape"||b.key==="Tab")&&(l(!1),p==null||p.focus())},[a,l,p])),Vr(h.useCallback(b=>{p!=null&&p.contains(b.target)||l(!1)},[p,l]),[d]);const g=h.useCallback(b=>{u(b),m(b)},[u]);return h.useEffect(()=>{a&&(d==null||d.focus())},[a,d]),c.jsxs(W,{wrap:"nowrap",justify:"space-between",align:"center",children:[c.jsx(ee,{as:o||i?void 0:"button",radius:2,padding:2,tone:"inherit",onClick:s,flex:1,children:c.jsxs(W,{wrap:"nowrap",align:"center",children:[c.jsx(ee,{padding:3,tone:"transparent",shadow:1,radius:1,children:c.jsx(B,{muted:o,children:c.jsx(v0,{})})}),c.jsxs(ne,{flex:1,space:2,marginLeft:3,children:[c.jsx(B,{size:2,textOverflow:"ellipsis",muted:o,"data-testid":"file-name",children:t}),c.jsx(B,{size:1,muted:!0,"data-testid":"file-size",children:vIe(n)})]})]})}),c.jsx(F,{padding:2,children:c.jsx(W,{justify:"center",children:c.jsx(hn,{content:c.jsx(Ht,{ref:f,children:r}),id:"file-actions-menu",portal:!0,open:a,constrainSize:!0,children:c.jsx(ae,{"aria-label":"Open file options menu","data-testid":"options-menu-button",icon:Ho,mode:"bleed",onClick:v,ref:g})})})})]})}function bse(){return c.jsxs(W,{align:"center",justify:"flex-start",padding:2,children:[c.jsx(A0,{padding:3,radius:1,animated:!0}),c.jsxs(ne,{flex:1,space:2,marginLeft:3,children:[c.jsx(R5,{style:{width:"100%"},radius:1,animated:!0}),c.jsx(R5,{style:{width:"100%"},radius:1,animated:!0})]})]})}var xse=Object.freeze,vsn=Object.defineProperty,ysn=(e,t)=>xse(vsn(e,"raw",{value:xse(t||e.slice())})),wse;const bsn=O(ae)(wse||(wse=ysn([`
  width: 100%;
`])));function xsn(e){let{onClearValue:t}=e;return c.jsxs(ee,{tone:"caution",padding:4,border:!0,radius:2,children:[c.jsxs(W,{gap:4,marginBottom:4,children:[c.jsx(F,{children:c.jsx(B,{size:1,children:c.jsx(Qr,{})})}),c.jsxs(ne,{space:3,children:[c.jsx(B,{size:1,weight:"semibold",children:"Invalid file value"}),c.jsx(B,{size:1,children:"The value of this field is not a valid file. Resetting this field will let you choose a new file."})]})]}),c.jsx(bsn,{icon:Iu,text:"Reset value",onClick:t,mode:"ghost"})]})}var wsn=Object.defineProperty,Csn=(e,t,n)=>t in e?wsn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yr=(e,t,n)=>(Csn(e,typeof t!="symbol"?t+"":t,n),n);function _sn(e){let{children:t}=e;return t}const Ssn=["asset"];class Esn extends re.PureComponent{constructor(t){var n;super(t),n=this,Yr(this,"_assetFieldPath"),Yr(this,"uploadSubscription",null),Yr(this,"browseButtonElement",null),Yr(this,"state",{isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,isMenuOpen:!1}),Yr(this,"toast",null),Yr(this,"handleRemoveButtonClick",()=>{const{path:r,value:o}=this.props,s=typeof r.slice(-1)[0]!="string",a=Object.keys(o||{}),u=a.filter(f=>!["_type","_key","_upload","asset"].includes(f)).length===0,d=["asset"].concat(a.filter(f=>["_upload"].includes(f))).map(f=>Qe([f]));this.props.onChange(st.from(u&&!s?Qe():d))}),Yr(this,"handleCancelUpload",()=>{this.cancelUpload()}),Yr(this,"handleClearUploadState",()=>{this.setState({isStale:!1}),this.clearUploadStatus()}),Yr(this,"handleStaleUpload",()=>{this.setState({isStale:!0})}),Yr(this,"handleClearField",()=>{this.props.onChange(Qe(["asset"]))}),Yr(this,"handleSelectFiles",r=>{const{directUploads:o,readOnly:i}=this.props,{hoveringFiles:s}=this.state;o&&!i?this.uploadFirstAccepted(r):s.length>0&&this.handleFilesOut()}),Yr(this,"handleSelectFileFromAssetSource",r=>{this.setState({selectedAssetSource:r})}),Yr(this,"handleAssetSourceClosed",()=>{var r;this.setState({selectedAssetSource:null}),(r=this.browseButtonElement)==null||r.focus()}),Yr(this,"setBrowseButtonElement",r=>{this.browseButtonElement=r}),Yr(this,"uploadWith",function(r,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{schemaType:s,onChange:a,client:l}=n.props,{source:u}=i,d={metadata:Nn(s,"options.metadata"),storeOriginalFilename:Nn(s,"options.storeOriginalFilename"),source:u};n.cancelUpload(),n.setState({isUploading:!0}),a(st.from([Gi({_type:s.name})])),n.uploadSubscription=r.upload(l,o,s,d).subscribe({next:f=>{f.patches&&a(st.from(f.patches))},error:f=>{var p;console.error(f),(p=n.toast)==null||p.push({status:"error",description:"The upload could not be completed at this time.",title:"Upload failed"}),n.clearUploadStatus()},complete:()=>{n.setState({isUploading:!1})}})}),Yr(this,"handleSelectAssetFromSource",r=>{const{onChange:o,schemaType:i,resolveUploader:s}=this.props;dIe({assetFromSource:r,onChange:o,type:i,resolveUploader:s,uploadWith:this.uploadWith}),this.setState({selectedAssetSource:null})}),Yr(this,"handleFileTargetFocus",r=>{var o;r.currentTarget===r.target&&r.currentTarget===((o=this.props.elementProps.ref)==null?void 0:o.current)&&this.props.elementProps.onFocus(r)}),Yr(this,"handleFilesOver",r=>{this.setState({hoveringFiles:r})}),Yr(this,"handleFilesOut",()=>{this.setState({hoveringFiles:[]})}),Yr(this,"handleUpload",r=>{let{file:o,uploader:i}=r;this.uploadWith(i,o)}),Yr(this,"setToast",r=>{this.toast=r}),this._assetFieldPath=t.path.concat(Ssn)}clearUploadStatus(){var t;(t=this.props.value)!=null&&t._upload&&this.props.onChange(st.from([Qe(["_upload"])]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(t){const{schemaType:n}=this.props,r=t.map(o=>{var i,s;return{file:o,uploader:(s=(i=this.props).resolveUploader)==null?void 0:s.call(i,n,o)}}).find(o=>o.uploader);r&&this.uploadWith(r.uploader,r.file),this.setState({isMenuOpen:!1})}renderUploadState(t){const{isUploading:n}=this.state;return c.jsx(cIe,{uploadState:t,onCancel:n?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload})}renderAssetSource(){const{selectedAssetSource:t}=this.state,{value:n,schemaType:r,observeAsset:o}=this.props;if(!t)return null;const i=Nn(r,"options.accept",""),s=t.component;return n&&n.asset?c.jsx(s0,{observeAsset:o,reference:n.asset,waitPlaceholder:c.jsx(bse,{}),children:a=>c.jsx(s,{selectedAssets:[a],selectionType:"single",assetType:"file",accept:i,dialogHeaderTitle:"Select file",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):c.jsx(s,{selectedAssets:[],selectionType:"single",assetType:"file",accept:i,dialogHeaderTitle:"Select file",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}renderAsset(){const{value:t,changed:n,readOnly:r,elementProps:o}=this.props,{hoveringFiles:i,isStale:s}=this.state,a=!!(t!=null&&t._upload||t!=null&&t.asset);return t&&typeof t.asset<"u"&&!(t!=null&&t._upload)&&!tZ(t)?()=>c.jsx(xsn,{onClearValue:this.handleClearField}):l=>c.jsxs(c.Fragment,{children:[s&&c.jsx(F,{marginBottom:2,children:c.jsx(mIe,{onClearStale:this.handleClearUploadState})}),c.jsx(ni,{path:this._assetFieldPath,hasFocus:!!l.focused,isChanged:n,children:t!=null&&t._upload?this.renderUploadState(t._upload):c.jsx(lIe,{...o,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!r,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:a||i.length>0,style:{padding:1},sizing:"border",radius:2,children:c.jsxs("div",{style:{position:"relative"},children:[!(t!=null&&t.asset)&&this.renderUploadPlaceholder(),t!=null&&t.asset&&i.length>0?this.renderAssetMenu(this.getFileTone()):null,!(t!=null&&t._upload)&&(t==null?void 0:t.asset)&&this.renderPreview()]})})})]})}renderPreview(){const{value:t,readOnly:n,assetSources:r,schemaType:o,directUploads:i,observeAsset:s}=this.props,{isMenuOpen:a}=this.state,l=t==null?void 0:t.asset;if(!l)return null;const u=Nn(o,"options.accept","");let d=r&&(r==null?void 0:r.length)===0?null:c.jsx(Me,{icon:Yi,text:"Browse",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(r[0])},disabled:n,"data-testid":"file-input-browse-button"});return r.length>1&&(d=r.map(f=>c.jsx(Me,{text:f.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(f)},icon:f.icon||Sl,disabled:n,"data-testid":"file-input-browse-button-".concat(f.name)},f.name))),c.jsx(s0,{reference:l,observeAsset:s,waitPlaceholder:c.jsx(bse,{}),children:f=>{let{originalFilename:p,extension:m,url:v,size:g}=f;const b=p||"download.".concat(m);let x,y;return tZ(t)&&(y="".concat(v,"?dl"),x=v),c.jsx(gsn,{size:g,originalFilename:b,muted:!n,onMenuOpen:w=>this.setState({isMenuOpen:w}),isMenuOpen:a,setMenuButtonElement:this.setBrowseButtonElement,children:c.jsx(fIe,{onUpload:this.handleSelectFiles,browse:d,onReset:this.handleRemoveButtonClick,downloadUrl:y,copyUrl:x,readOnly:n,accept:u,directUploads:i})})}})}renderAssetMenu(t){const{schemaType:n,readOnly:r,directUploads:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i==null?void 0:i(n,u)),l=s.length-a.length;return c.jsx(psn,{tone:t,children:c.jsx(msn,{align:"center",justify:"center",gap:2,flex:1,children:c.jsx(hIe,{readOnly:r,hoveringFiles:s,acceptedFiles:a,rejectedFilesCount:l,directUploads:o,type:"file"})})})}renderBrowser(){const{assetSources:t,readOnly:n,directUploads:r,id:o}=this.props;return t.length===0?null:t.length>1&&!n&&r?c.jsx(rn,{id:"".concat(o,"_assetFileButton"),ref:this.setBrowseButtonElement,button:c.jsx(ae,{mode:"ghost",text:"Select","data-testid":"file-input-multi-browse-button",icon:Yi}),"data-testid":"input-select-button",menu:c.jsx(Ht,{children:t.map(i=>c.jsx(Me,{text:i.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(i)},icon:i.icon||Sl,disabled:n,"data-testid":"file-input-browse-button-".concat(i.name)},i.name))})}):c.jsx(ae,{fontSize:2,text:"Browse",icon:Yi,mode:"ghost",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(t[0])},"data-testid":"file-input-browse-button",disabled:n,ref:this.setBrowseButtonElement})}renderUploadPlaceholder(){const{readOnly:t,schemaType:n,directUploads:r,resolveUploader:o}=this.props,{hoveringFiles:i}=this.state,s=i.filter(u=>o==null?void 0:o(n,u)),a=i.length-s.length,l=Nn(n,"options.accept","");return c.jsx("div",{style:{padding:1},children:c.jsx(ee,{tone:t?"transparent":"inherit",border:!0,padding:3,style:i.length===0?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:c.jsx(pIe,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:t,hoveringFiles:i,acceptedFiles:s,rejectedFilesCount:a,type:"file",accept:l,directUploads:r})})})}getFileTone(){const{directUploads:t,schemaType:n,value:r,readOnly:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i==null?void 0:i(n,u)),l=s.length-a.length;return s.length>0&&(l>0||!t)?"critical":!(r!=null&&r._upload)&&!o&&s.length>0?"primary":r!=null&&r._upload&&(r!=null&&r.asset)&&o?"transparent":"default"}render(){const{members:t,renderAnnotation:n,renderBlock:r,renderInlineBlock:o,renderItem:i,renderInput:s,renderField:a,renderPreview:l}=this.props,{selectedAssetSource:u}=this.state;return c.jsxs(c.Fragment,{children:[c.jsx(hB,{ref:this.setToast}),t.map(d=>d.kind==="field"&&(d.name==="crop"||d.name==="hotspot")?null:d.kind==="field"?c.jsx(uC,{member:d,renderAnnotation:n,renderInlineBlock:o,renderBlock:r,renderInput:d.name==="asset"?this.renderAsset():s,renderField:d.name==="asset"?_sn:a,renderItem:i,renderPreview:l},d.key):d.kind==="fieldSet"?c.jsx(nN,{member:d,renderAnnotation:n,renderBlock:r,renderField:a,renderInlineBlock:o,renderInput:s,renderItem:i,renderPreview:l},d.key):d.kind==="error"?c.jsx(jA,{member:d},d.key):c.jsxs(c.Fragment,{children:["Unknown member kind: $",d.kind]})),u&&this.renderAssetSource()]})}}function ksn(e){var t;const n=(t=e.schemaType.options)==null?void 0:t.sources,r=Ps(),{file:o}=ri().__internal,i=Sr(gn),s=h.useCallback((u,d)=>o.directUploads?QB(u,d):null,[o.directUploads]),a=h.useMemo(()=>n||o.assetSources,[o,n]),l=h.useCallback(u=>CDe(r,u),[r]);return c.jsx(Esn,{...e,client:i,assetSources:a,directUploads:o.directUploads,observeAsset:l,resolveUploader:s})}var Cse=Object.freeze,jsn=Object.defineProperty,Tsn=(e,t)=>Cse(jsn(e,"raw",{value:Cse(t||e.slice())})),_se;const Sse=O(F)(_se||(_se=Tsn([`
  position: relative;
  padding-bottom: calc(`,` * 100%);

  & > div {
    position: absolute;
    top: `,`px;
    left: `,`px;
    right: `,`px;
    bottom: `,`px;
  }
`])),e=>{let{ratio:t=3/2}=e;return 1/t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t});function Asn(e){const{src:t,children:n}=e,[r,o]=h.useState(!0),[i,s]=h.useState(null),[a,l]=h.useState(null);return h.useEffect(()=>{s(null),l(null),o(!0);const u=new Image;u.onload=()=>{s(u),l(null),o(!1)},u.onerror=()=>{l(new Error("Could not load image from ".concat(JSON.stringify(t)))),o(!1)},u.referrerPolicy="strict-origin-when-cross-origin",u.src=t},[t]),n({image:i,error:a,isLoading:r})}const Dsn=["","webkit","moz","ms","o"].map(e=>"".concat(e,"backingStoreRatio"));let s2=-1;function Isn(e){return s2===-1&&(s2=Dsn.find(t=>t in e)),s2&&e[s2]}function Ese(e,t){const n={x:t.center.x,y:t.center.y},r=t.width/2,o=t.height/2;if(r<=0||o<=0)return!1;const i={x:e.x-n.x,y:e.y-n.y};return Math.pow(i.x,2)/Math.pow(r,2)+Math.pow(i.y,2)/Math.pow(o,2)<=1}function kse(e,t){let{x:n,y:r}=e;return Math.pow(n-t.x,2)+Math.pow(r-t.y,2)<Math.pow(t.radius,2)}function BO(e,t){return e.x>=t.left&&e.x<=t.left+t.width&&e.y>=t.top&&e.y<=t.top+t.height}function jse(e,t){return{x:t.center.x-t.width/2*Math.cos(e),y:t.center.y-t.height/2*Math.sin(e)}}var Psn=Object.defineProperty,Osn=(e,t,n)=>t in e?Psn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vc=(e,t,n)=>(Osn(e,typeof t!="symbol"?t+"":t,n),n);class E4{constructor(t,n){vc(this,"x"),vc(this,"y"),this.x=t,this.y=n}}class Tse{constructor(t,n,r){vc(this,"y"),vc(this,"_left"),vc(this,"_right"),this.y=t,this._left=n,this._right=r}get right(){return new E4(this._right,this.y)}get left(){return new E4(this._left,this.y)}get length(){return this._right-this._left}}class $sn{constructor(t){vc(this,"rect"),this.rect=t}get top(){return new Tse(this.rect.top,this.rect.left,this.rect.right)}get bottom(){return new Tse(this.rect.bottom,this.rect.left,this.rect.right)}}class io{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;vc(this,"left"),vc(this,"top"),vc(this,"width"),vc(this,"height"),this.left=t,this.top=n,this.width=r,this.height=o}static fromEdges(t){let{left:n,right:r,top:o,bottom:i}=t;return new io(n,o,1-n-r,1-o-i)}setTopLeft(t,n){return new io(t,n,this.width||0,this.height||0)}setSize(t,n){return new io(this.left||0,this.top||0,t,n)}setCenter(t,n){const r=this.width||0,o=this.height||0;return new io(t-r/2,n-o/2,r||0,o||0)}get center(){return new E4(this.left+this.width/2,this.top+this.height/2)}get corners(){return new $sn(this)}get right(){return this.left+this.width}get bottom(){return this.top+this.height}multiply(t){return new io((this.left||0)+this.width*t.left,(this.top||0)+this.height*t.top,this.width*t.width,this.height*t.height)}grow(t){return new io(this.left-t,this.top-t,this.width+t*2,this.height+t*2)}shrink(t){return this.grow(-t)}cropRelative(t){const n=this.top+t.top*this.height,r=this.left+t.left*this.width,o=this.height*t.height,i=this.width*t.width;return new io(r,n,i,o)}clamp(t){let{left:n,top:r,width:o,height:i}=this;return t.width<o&&(o=t.width,n=t.left),t.height<i&&(i=t.height,r=t.top),n+o>t.left+t.width&&(n=t.right-o),r+i>t.top+t.height&&(r=t.bottom-i),new io(Math.max(n,t.left),Math.max(r,t.top),o,i)}}var Rsn=Object.defineProperty,Msn=(e,t,n)=>t in e?Rsn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jc=(e,t,n)=>(Msn(e,typeof t!="symbol"?t+"":t,n),n);const a2=Hd("sanity-imagetool");function Fsn(e){return class extends re.PureComponent{constructor(){super(...arguments),Jc(this,"domNode",null),Jc(this,"currentPos",null),Jc(this,"isDragging",!1),Jc(this,"handleTouchMove",n=>{this.isDragging&&n.preventDefault()}),Jc(this,"handleDragStart",n=>{const{onDragStart:r,readOnly:o}=this.props;if(o||!this.domNode)return;if(this.isDragging){a2("Start cancelled, already a drag in progress");return}this.isDragging=!0;const i=zO(n);a2("Drag started %o",i),r(NO(i.x,i.y,this.domNode.getBoundingClientRect())),this.currentPos=i}),Jc(this,"handleDrag",n=>{if(!this.isDragging||this.props.readOnly||!this.currentPos)return;const{onDrag:r}=this.props,o=zO(n),i=Lsn(o,this.currentPos);r(i),a2("moving by %o",i),this.currentPos=o}),Jc(this,"handleDragEnd",n=>{const{onDragEnd:r,readOnly:o}=this.props;if(!this.isDragging||o||!this.domNode)return;const i=zO(n);r(NO(i.x,i.y,this.domNode.getBoundingClientRect())),this.isDragging=!1,this.currentPos=null,a2("Done moving %o",i)}),Jc(this,"handleDragCancel",()=>{if(!this.isDragging||this.props.readOnly||!this.currentPos||!this.domNode)return;const{onDragEnd:n}=this.props;this.isDragging=!1,n(NO(this.currentPos.x,this.currentPos.y,this.domNode.getBoundingClientRect())),this.currentPos=null}),Jc(this,"setDomNode",n=>{this.domNode=n})}componentDidMount(){Jp?(document.body.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),document.body.addEventListener("touchend",this.handleDragEnd),document.body.addEventListener("touchcancel",this.handleDragCancel)):(document.body.addEventListener("mousemove",this.handleDrag),document.body.addEventListener("mouseup",this.handleDragEnd),document.body.addEventListener("mouseleave",this.handleDragCancel))}componentWillUnmount(){Jp?(document.body.removeEventListener("touchmove",this.handleTouchMove),document.body.removeEventListener("touchend",this.handleDragEnd),document.body.removeEventListener("touchcancel",this.handleDragCancel)):(document.body.removeEventListener("mousemove",this.handleDrag),document.body.removeEventListener("mouseup",this.handleDragEnd),document.body.removeEventListener("mouseleave",this.handleDragCancel))}render(){const{readOnly:n,onDragStart:r,onDragEnd:o,onDrag:i,...s}=this.props;return c.jsx(e,{ref:this.setDomNode,onTouchStart:n?void 0:this.handleDragStart,onMouseDown:n?void 0:this.handleDragStart,onTouchMove:n?void 0:this.handleDrag,...s})}}}function NO(e,t,n){return{x:e-n.left,y:t-n.top}}function zO(e){return"touches"in e?e.touches.length>0?{x:e.touches[0].clientX,y:e.touches[0].clientY}:{x:0,y:0}:{x:e.clientX,y:e.clientY}}function Lsn(e,t){return{x:e.x-t.x,y:e.y-t.y}}var Ase=Object.freeze,Bsn=Object.defineProperty,yIe=(e,t)=>Ase(Bsn(e,"raw",{value:Ase(t||e.slice())})),Dse,Ise;const Nsn=Fsn("canvas"),zsn=O.div(Dse||(Dse=yIe([`
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
`]))),Vsn=O(Nsn)(Ise||(Ise=yIe([`
  display: block;
  position: relative;
  max-width: calc(100% - 0.5em); /* to prevent overlap with change bar */
  max-height: calc(100% + 1em);
  user-select: none;
`]))),Hsn="data:image/png;base64,AAACAAEAICACAAcABQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAEAAAAAAAAAAAAAAgAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8AAAA/AAAAfwAAAP+AAAH/gAAB/8AAA//AAAd/wAAGf+AAAH9gAADbYAAA2yAAAZsAAAGbAAAAGAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////gH///4B///8Af//+AD///AA///wAH//4AB//8AAf//AAD//5AA///gAP//4AD//8AF///AB///5A////5///8=",Usn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAABdSURBVEjH7ZA7DsAwCEMN6v2vTCdESpLKQRl5gxfzMQDNRQyWlEK83QAIRh3cH/QbIhQwMDl8gORl7A16WD/xxAdq6N6SgycKUblf41+wbFBT44RiCi11NU3TLHgBxRUUD4ITqnIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMDEtMjFUMDA6MTM6NDMrMDE6MDC74T7AAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEyLTA0LTAyVDA0OjEzOjM3KzAyOjAwQJ35wQAAAABJRU5ErkJggg==",qu={x:.5,y:.5,height:1,width:1},Gu={top:0,left:0,right:0,bottom:0};var Wsn=Object.defineProperty,Ysn=(e,t,n)=>t in e?Wsn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bd=(e,t,n)=>(Ysn(e,typeof t!="symbol"?t+"":t,n),n);const iy=8,qsn=12,Gsn=10;function Ksn(e){const t=e.top>e.bottom,n=e.left>e.right;return{top:t?e.bottom:e.top,bottom:t?e.top:e.bottom,left:n?e.right:e.left,right:n?e.left:e.right}}function Zsn(e,t){return!(!e||!e.crop||e.crop.top+t.top<0||e.crop.left+t.left<0||e.crop.right+t.right<0||e.crop.bottom+t.bottom<0)}function Pse(e,t){const{top:n,right:r,bottom:o,left:i}=e.crop||Gu,s={hotspot:e.hotspot,crop:{top:n+(t.top||0)>0?n:0,right:r+(t.right||0)>0?r:0,bottom:o+(t.bottom||0)>0?o:0,left:i+(t.left||0)>0?i:0}},a={top:n+(t.top||0)>0&&t.top||0,right:r+(t.right||0)>0&&t.right||0,bottom:o+(t.bottom||0)>0&&t.bottom||0,left:i+(t.left||0)>0&&t.left||0};return{value:s,delta:a}}function Xsn(e){switch(e){case"left":case"right":return"col-resize";case"top":case"bottom":return"row-resize";case"topRight":case"bottomLeft":return"nesw-resize";case"topLeft":case"bottomRight":return"nwse-resize";default:return null}}const Ose=cT(()=>{const e=window.devicePixelRatio||1,t=document.createElement("canvas").getContext("2d"),n=t&&Isn(t)||1;return e/n}),$se=["left","right","top","topLeft","topRight","bottom","bottomLeft","bottomRight"];class Qsn extends re.PureComponent{constructor(){super(...arguments),bd(this,"state",{cropping:!1,cropMoving:!1,moving:!1,resizing:!1,mousePosition:null}),bd(this,"canvas"),bd(this,"handleDragStart",t=>{let{x:n,y:r}=t;const o={x:n*this.getScale(),y:r*this.getScale()},i=Ese(o,this.getHotspotRect()),s=kse(o,this.getDragHandleCoords()),a=this.getActiveCropHandleFor(o),l=BO(o,this.getCropRect());a?this.setState({cropping:a}):s?this.setState({resizing:!0}):i?this.setState({moving:!0}):l&&this.setState({cropMoving:!0})}),bd(this,"handleDrag",t=>{this.state.cropping?this.emitCrop(this.state.cropping,t):this.state.cropMoving?this.emitCropMove(t):this.state.moving?this.emitMove(t):this.state.resizing&&this.emitResize(t)}),bd(this,"handleDragEnd",()=>{const{onChange:t,onChangeEnd:n}=this.props;this.setState({moving:!1,resizing:!1,cropping:!1,cropMoving:!1});const{hotspot:r,crop:o}=this.getClampedValue(),i=Ksn(o),s={crop:{top:i.top,bottom:1-i.bottom,left:i.left,right:1-i.right},hotspot:{x:r.center.x,y:r.center.y,height:Math.abs(r.height),width:Math.abs(r.width)}};t(s),n&&n(s)}),bd(this,"handleMouseOut",()=>{this.setState({mousePosition:null})}),bd(this,"handleMouseMove",t=>{const n=t.currentTarget.getBoundingClientRect();this.setState({mousePosition:{x:(t.clientX-n.left)*this.getScale(),y:(t.clientY-n.top)*this.getScale()}})}),bd(this,"setCanvas",t=>{this.canvas=t})}getHotspotRect(){const{value:t,image:n}=this.props,r=t.hotspot||qu,o=new io().setSize(r.width,r.height).setCenter(r.x,r.y);return new io().setSize(n.width,n.height).shrink(iy*this.getScale()).multiply(o)}getCropRect(){const{value:t,image:n}=this.props;return new io().setSize(n.width,n.height).shrink(iy*this.getScale()).cropRelative(io.fromEdges(t.crop||Gu).clamp(new io(0,0,1,1)))}getCropHandles(){const t=this.getCropRect(),n=qsn*this.getScale(),r=n/2,o=new io(0,0,n,n);return{left:o.setTopLeft(t.left-r,t.center.y-r),right:o.setTopLeft(t.right-r,t.center.y-r),top:o.setTopLeft(t.center.x-r,t.top-r),topLeft:o.setTopLeft(t.left-r,t.top-r),topRight:o.setTopLeft(t.right-r,t.top-r),bottom:o.setTopLeft(t.center.x-r,t.bottom-r),bottomLeft:o.setTopLeft(t.left-r,t.bottom-r),bottomRight:o.setTopLeft(t.right-r,t.bottom-r)}}getActiveCropHandleFor(t){let{x:n,y:r}=t;const o=this.getCropHandles();for(const i of $se)if(BO({x:n,y:r},o[i]))return i;return!1}emitMove(t){const{image:n,value:r,onChange:o}=this.props,i=this.getScale(),s={x:t.x*i/n.width,y:t.y*i/n.height};o(Jsn(r,s))}emitCropMove(t){const{image:n,onChange:r,value:o}=this.props,i=this.getScale(),s=t.x*i/n.width,a=-t.x*i/n.width,l=t.y*i/n.height,u=-t.y*i/n.height,d={left:s,right:a,top:l,bottom:u};Zsn(o,d)&&r(Rse(o,d))}emitCrop(t,n){const{image:r,onChange:o,value:i}=this.props,s=this.getScale();let a=0,l=0,u=0,d=0;t=="left"||t==="topLeft"||t==="bottomLeft"?a=n.x*s/r.width:(t=="right"||t==="topRight"||t==="bottomRight")&&(l=-n.x*s/r.width),t=="top"||t==="topLeft"||t==="topRight"?u=n.y*s/r.height:(t=="bottom"||t==="bottomLeft"||t==="bottomRight")&&(d=-n.y*s/r.height);const f={left:a,right:l,top:u,bottom:d},p=Pse(i,f).value,m=Pse(i,f).delta;o(Rse(p,m))}emitResize(t){const{image:n,onChange:r,value:o}=this.props,i=this.getScale(),s={x:t.x*i*2/n.width,y:t.y*i*2/n.height};r(ean(o,{height:s.y,width:s.x}))}getClampedValue(){const t=this.props.value,n=io.fromEdges(t.crop||Gu).clamp(new io(0,0,1,1)),r=t.hotspot||qu,o=new io(0,0,1,1).setSize(r.width,r.height).setCenter(r.x,r.y).clamp(n);return{crop:n,hotspot:o}}paintHotspot(t,n){const{image:r,readOnly:o}=this.props,i=new io().setSize(r.width,r.height),{hotspot:s,crop:a}=this.getClampedValue(),l=this.getScale(),u=iy*l;t.save(),m(),d(),t.clip(),p(),t.restore(),o||v(Math.PI*1.25);function d(){t.save();const g=i.shrink(u).multiply(s),b=g.height/g.width;t.scale(1,b),t.beginPath(),t.globalAlpha=n,t.arc(g.center.x,g.center.y/b,Math.abs(g.width/2),0,2*Math.PI,!1),t.strokeStyle="white",t.lineWidth=1.5*l,t.stroke(),t.closePath(),t.restore()}function f(g,b,x,y,w,C,_,S){t.save(),t.drawImage(r,g,b,x,y,w,C,_,S),t.restore()}function p(){const g=i.multiply(s),b=i.shrink(u).multiply(s);f(g.left,g.top,g.width,g.height,b.left,b.top,b.width,b.height)}function m(){const g=i.cropRelative(a),b=i.shrink(u).cropRelative(a);t.save(),f(g.left,g.top,g.width,g.height,b.left,b.top,b.width,b.height),t.globalAlpha=.5,t.fillStyle="black",t.fillRect(b.left,b.top,b.width,b.height),t.restore()}function v(g){t.save();const b=Gsn*l,x=i.shrink(u).multiply(s),y=jse(g,x);t.beginPath(),t.arc(y.x,y.y,b,0,2*Math.PI,!1),t.fillStyle="rgb(255,255,255)",t.fill(),t.closePath(),t.restore(),t.beginPath(),t.arc(y.x,y.y,b,0,2*Math.PI,!1),t.strokeStyle="rgb(0, 0, 0)",t.lineWidth=.5*l,t.stroke(),t.closePath()}}getActualSize(){var t;const n=(t=this.canvas)==null?void 0:t.domNode;return n?{height:n.clientHeight,width:n.clientWidth}:{height:0,width:0}}getDragHandleCoords(){const t=this.getHotspotRect(),n=jse(Math.PI*1.25,t);return{x:n.x,y:n.y,radius:8*this.getScale()}}debug(t){t.save();const{image:n}=this.props,r=this.getHotspotRect(),o=this.getScale(),i=iy*o;t.setLineDash&&t.setLineDash([2*o,2*o]),t.lineWidth=.5*o,t.strokeStyle="rgba(200, 200, 200, 0.5)",s(r.center.x),a(r.center.y),t.strokeStyle="rgba(150, 150, 150, 0.5)",a(r.top),a(r.bottom),s(r.left),s(r.right),t.restore();function s(u){l(u,i,u,n.height-i)}function a(u){l(i,u,n.width-i,u)}function l(u,d,f,p){t.beginPath(),t.moveTo(u,d),t.lineTo(f,p),t.stroke(),t.closePath()}}paintBackground(t){const{image:n}=this.props,r=new io().setSize(n.width,n.height).shrink(iy*this.getScale());t.save(),t.fillStyle="white",t.clearRect(0,0,n.width,n.height),t.globalAlpha=.3,t.drawImage(n,r.left,r.top,r.width,r.height),t.restore()}paint(t){const{readOnly:n}=this.props;t.save();const r=Ose();t.scale(r,r);const o=!n&&this.state.mousePosition?.8:.2;this.paintBackground(t),this.paintHotspot(t,o),this.debug(t),this.paintCropBorder(t),n||this.highlightCropHandles(t,o),t.restore()}paintMousePosition(t){if(!this.state.mousePosition)return;const{x:n,y:r}=this.state.mousePosition;t.beginPath(),t.arc(n,r,14*this.getScale(),0,2*Math.PI,!1),t.fillStyle="lightblue",t.fill(),t.restore()}paintCropBorder(t){const n=this.getCropRect();t.save(),t.beginPath(),t.fillStyle="rgba(66, 66, 66, 0.9)",t.lineWidth=1,t.rect(n.left,n.top,n.width,n.height),t.stroke(),t.closePath(),t.restore()}highlightCropHandles(t,n){t.save();const r=this.getCropHandles();$se.forEach(o=>{t.fillStyle=this.state.cropping===o?"rgba(202, 54, 53, ".concat(n,")"):"rgba(230, 230, 230, ".concat(n+.4,")");const{left:i,top:s,height:a,width:l}=r[o];t.fillRect(i,s,l,a),t.beginPath(),t.fillStyle="rgba(66, 66, 66, ".concat(n,")"),t.rect(i,s,l,a),t.closePath(),t.stroke()}),t.restore()}getScale(){const t=this.getActualSize();return this.props.image.width/t.width}getCursor(){const{mousePosition:t}=this.state,{readOnly:n}=this.props;if(!t||n)return"auto";const r=this.state.cropping||this.getActiveCropHandleFor(t);if(r)return Xsn(r)||"auto";const o=kse(t,this.getDragHandleCoords());if(this.state.resizing||o)return"move";if(this.state.moving||this.state.cropMoving)return"url(".concat(Usn,"), move");const i=Ese(t,this.getHotspotRect()),s=BO(t,this.getCropRect());return i||s?"url(".concat(Hsn,"), move"):"auto"}componentDidMount(){this.draw()}componentDidUpdate(){this.draw()}draw(){if(!this.canvas)return;const t=this.canvas.domNode,n=t.getContext("2d");if(!n)return;this.paint(n);const r=t.style.cursor,o=this.getCursor();r!==o&&(t.style.cursor=o)}render(){const{image:t,readOnly:n}=this.props,r=Ose();return c.jsx(zsn,{children:c.jsx(Vsn,{readOnly:n,ref:this.setCanvas,onDrag:this.handleDrag,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,height:t.height*r,width:t.width*r})})}}function Jsn(e,t){const n=e&&e.hotspot||qu;return{...e,hotspot:{...n,x:n.x+t.x,y:n.y+t.y}}}function ean(e,t){const n=e&&e.hotspot||qu;return{...e,hotspot:{...n,height:n.height+t.height,width:n.width+t.width}}}function Rse(e,t){const n=e&&e.crop||Gu;return{...e,crop:{left:n.left+(t.left||0),right:n.right+(t.right||0),top:n.top+(t.top||0),bottom:n.bottom+(t.bottom||0)}}}function tan(e){const{image:t,maxHeight:n,maxWidth:r,children:o}=e,[i]=h.useState(()=>{const a=document.createElement("canvas");return a.style.display="none",a});h.useEffect(()=>(document.body.appendChild(i),()=>{document.body.removeChild(i)}),[i]);const s=h.useCallback((a,l,u)=>{const d=a.width/a.height,f=Math.min(a.width,u),p=Math.min(a.height,l),m=a.width>a.height,v=m?f:p*d,g=m?f/d:p;i.width=v,i.height=g;const b=i.getContext("2d");return b&&b.drawImage(a,0,0,a.width,a.height,0,0,v,g),i},[i]);return o(s(t,n,r))}function Lx(e){return c.jsx(Asn,{src:e.src,children:t=>{let{isLoading:n,image:r,error:o}=t;return n?c.jsx("div",{children:"Loading..."}):o?c.jsx("div",{children:o.message}):r?c.jsx(tan,{image:r,maxHeight:Lx.maxHeight,maxWidth:Lx.maxWidth,children:i=>c.jsx(Qsn,{image:i,...e})}):null}})}Lx.maxHeight=500;Lx.maxWidth=1e3;function nan(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=Mse(e.image)||1,n=e.hotspot||qu,r=e.crop||Gu,o=Mse(e.container)||t*oan(r),i=e.align||{x:"center",y:"center"},s=ran(t,{hotspot:n,crop:r},{aspect:o,align:i}),a=xIe(bIe(100/o));return{debug:{result:s},container:{overflow:"hidden",position:"relative",width:"100%",height:a},padding:{marginTop:a},crop:{position:"absolute",overflow:"hidden",height:xd(s.crop.height),width:xd(s.crop.width),top:xd(s.crop.top),left:xd(s.crop.left)},image:{position:"absolute",height:xd(s.image.height),width:xd(s.image.width),top:xd(s.image.top),left:xd(s.image.left)}}}function Mse(e){if(!e)return null;if("aspectRatio"in e)return e.aspectRatio;if("height"in e||"width"in e){if(typeof e.height!="number"&&typeof e.width!="number")throw new Error("Height and width must be numbers, got ".concat(JSON.stringify(e)));return e.width/e.height}return null}function bIe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;const n=Math.pow(10,t);return Math.round(e*n)/n}function ran(e,t,n){const r=t.crop,o=n.aspect,i=n.align,s=1-r.left-r.right,a=1-r.top-r.bottom,l={top:-r.top/a,left:-r.left/s,width:1/s,height:1/a},d=s/a*e,f={x:(t.hotspot.x-r.left)/s,y:(t.hotspot.y-r.top)/a,height:t.hotspot.height/a,width:t.hotspot.width/s},p=1/f.width,m=1/f.height*d/o,v=Math.min(p,m);let g;const b=d<=o;b?g=1:g=d/o;let x,y;if(g>v){x="letterbox";let w;const C=g-v;b?w=1-C:w=v,y={width:w,height:w/d*o,left:0,top:0};const _=f.x*y.width-f.width*y.width/2;switch(i.x){case"left":y.left=b?0:-_;break;case"right":y.left=b?1-y.width:_;break;case"center":y.left=b?(1-y.width)/2:-_;break;default:throw new Error("Invalid x alignment: '".concat(i.x,"'. Must be either 'left', 'right' or 'center'"))}const S=f.y*y.height-f.height*y.height/2;switch(i.y){case"top":y.top=b?-S:0;break;case"bottom":y.top=S;break;case"center":y.top=b?-S:(1-y.height)/2;break;default:throw new Error("Invalid y alignment: '".concat(i.y,"'. Must be either 'top', 'bottom' or 'center'"))}}else if(b){x="full_width";let w=-f.y/d*o+.5;const C=g/d*o;w>0?w=0:-w>C-1&&(w=-(C-1)),y={width:g,height:C,left:0,top:w}}else{x="full_height";const w=g;let C=.5-f.x*g;C>0?C=0:-C>w-1&&(C=-(w-1)),y={width:w,height:g/d*o,top:0,left:C}}return{method:x,crop:y,image:l}}function oan(e){const t=1-e.top-e.bottom;return(1-e.left-e.right)/t}function xIe(e){return e===0?0:"".concat(e,"%")}function xd(e){return xIe(bIe(e*100))}var Fse=Object.freeze,ian=Object.defineProperty,san=(e,t)=>Fse(ian(e,"raw",{value:Fse(t||e.slice())})),Lse;const aan=O.div(Lse||(Lse=san([`
  position: relative;
  width: 100%;
`]))),lan=Hd("sanity-imagetool");function can(e,t){const n=1/t,r=t*n,o=r-(e.left+e.right)*r,i=n-(e.top+e.bottom)*n;return o/i}const uan=h.memo(function(t){const{alignX:n="center",alignY:r="center",alt:o,aspectRatio:i="none",className:s="",crop:a=Gu,hotspot:l=qu,onError:u,onLoad:d,src:f,srcAspectRatio:p,srcSet:m,style:v}=t,[g,b]=h.useState(null),x=h.useRef(null),y=h.useRef(null),w=h.useCallback(()=>{if(x.current)if(i==="auto"){const S=x.current.parentNode;h.startTransition(()=>b(S.offsetWidth/S.offsetHeight))}else b(null)},[i]);h.useEffect(()=>{const S=y.current;return S&&S.src&&S.complete&&S.naturalWidth!==void 0&&(lan("Image '%s' already loaded, refreshing (from cache) to trigger onLoad / onError",f),S.src=S.src),w(),window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w)}},[f,w]);const C=h.useMemo(()=>i==="none"?a?can(a,p):p:i==="auto"?g:i||null,[i,g,a,p]),_=h.useMemo(()=>nan({container:{aspectRatio:C||p},image:{aspectRatio:p},hotspot:l,crop:a,align:{x:n,y:r}}),[n,r,a,l,p,C]);return c.jsx(aan,{className:"".concat(s),style:v,ref:x,children:c.jsxs("div",{style:_.container,children:[c.jsx("div",{style:_.padding}),c.jsx("div",{style:_.crop,children:c.jsx("img",{ref:y,src:f,alt:o,srcSet:m,onLoad:d,onError:u,style:_.image})})]})})}),dan="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function fan(e){return e.startsWith("blob:")}function han(e){return new ut(t=>{const n=document.createElement("img");let r=!1;const o=()=>{r=!0,t.next(n),t.complete()},i=()=>{r=!0,t.error(new Error("Could not load image from ".concat(fan(e)?"blob":e)))};return n.onload=o,n.onerror=i,n.src=e,()=>{n.onload=null,n.onerror=null,r||(n.src=dan)}})}const Bse={isLoading:!0};function pan(e){const[t,n]=h.useState(Bse);return h.useEffect(()=>{n(Bse);const r=han(e).subscribe({error:o=>{n({isLoading:!1,error:o})},next:o=>{n({image:o,isLoading:!1})}});return()=>{r.unsubscribe()}},[e]),t}var Nse=Object.freeze,man=Object.defineProperty,gan=(e,t)=>Nse(man(e,"raw",{value:Nse(t||e.slice())})),zse;const Vse=["hotspot"],Hse=[["3:4",3/4],["Square",1/1],["16:9",16/9],["Panorama",4/1]],Use={crop:Gu,hotspot:qu},van=O.div(zse||(zse=gan([`
  min-height: 6em;
`])));function yan(e){return c.jsx(W,{align:"center",justify:"center",padding:4,style:{overflowWrap:"break-word"},children:e.children})}function ban(e){const{imageUrl:t,value:n,changed:r,level:o,path:i,focusPath:s=Vn,presence:a,onChange:l,schemaType:u,onPathFocus:d,readOnly:f,elementProps:p}=e,[m,v]=h.useState(n||Use),{image:g,isLoading:b,error:x}=pan(t),y=h.useCallback(()=>{d(Vse)},[d]);h.useEffect(()=>{v(n||Use)},[n]);const w=s[0]==="hotspot";Pi(w,_=>{var S;!_&&w&&((S=p.ref.current)==null||S.focus())});const C=h.useCallback(_=>{if(f)return;const S=u.fields.find(T=>T.name==="crop"&&T.type.name!=="object"),E=u.fields.find(T=>T.type.name!=="object"&&T.name==="hotspot"),j=S?{_type:S.type.name,..._.crop||Gu}:_.crop,k=E?{_type:E.type.name,..._.hotspot||qu}:_.hotspot;l([pt(j,["crop"]),pt(k,["hotspot"])])},[l,f,u.fields]);return c.jsx(i1,{title:"Hotspot & crop",level:o,description:"Adjust the rectangle to crop image. Adjust the circle to specify the area that should always be visible.",__unstable_presence:a,children:c.jsxs("div",{children:[c.jsx(ee,{__unstable_checkered:!0,__unstable_focusRing:!0,tabIndex:0,ref:p.ref,onFocus:y,children:c.jsx(ni,{path:i.concat(Vse),hasFocus:s[0]==="hotspot",isChanged:r,children:c.jsxs(Sse,{ratio:3/2,children:[(b||x)&&c.jsx(yan,{children:x?c.jsx(ee,{padding:4,radius:2,tone:"critical",border:!0,children:c.jsxs(B,{children:["Error: ",x.message]})}):c.jsx(B,{muted:!0,children:"Loading image… "})}),!b&&g&&c.jsx(F,{margin:1,children:c.jsx(Lx,{value:m,src:g.src,readOnly:!!f,onChangeEnd:C,onChange:v})})]})})}),c.jsx(F,{marginTop:3,children:c.jsx(ln,{columns:Hse.length,gap:1,children:Hse.map(_=>{let[S,E]=_;return c.jsxs("div",{children:[c.jsx(oi,{as:"h4",size:0,children:S}),c.jsx(F,{marginTop:2,children:c.jsx(Sse,{ratio:E,children:c.jsx(ee,{__unstable_checkered:!0,children:!b&&g?c.jsx(uan,{aspectRatio:E,src:g.src,srcAspectRatio:g.width/g.height,hotspot:m.hotspot||qu,crop:m.crop||Gu}):c.jsx(van,{})})})})]},E)})})})]})})}var Wse=Object.freeze,xan=Object.defineProperty,wan=(e,t)=>Wse(xan(e,"raw",{value:Wse(t||e.slice())})),Yse;const Can=O(Jt)(Yse||(Yse=wan([`
  position: absolute;
  top: 0;
  right: 0;
`])));function _an(e){const{onEdit:t,children:n,showEdit:r,setHotspotButtonElement:o,setMenuButtonElement:i,onMenuOpen:s,isMenuOpen:a}=e,[l,u]=h.useState(null),[d,f]=h.useState(null),p=h.useCallback(()=>s(!a),[s,a]);As(h.useCallback(v=>{a&&(v.key==="Escape"||v.key==="Tab")&&(s(!1),d==null||d.focus())},[a,s,d])),Vr(h.useCallback(v=>{d!=null&&d.contains(v.target)||s(!1)},[d,s]),[l]);const m=h.useCallback(v=>{i(v),f(v)},[i]);return h.useEffect(()=>{a&&(l==null||l.focus())},[a,l]),c.jsxs(Can,{"data-buttons":!0,space:1,padding:2,children:[r&&c.jsx(ae,{"aria-label":"Open image edit dialog","data-testid":"options-menu-edit-details",icon:Dve,mode:"ghost",onClick:t,ref:o}),c.jsx(hn,{id:"image-actions-menu",content:c.jsx(Ht,{ref:u,children:n}),portal:!0,open:a,constrainSize:!0,children:c.jsx(ae,{"aria-label":"Open image options menu","data-testid":"options-menu-button",icon:Ho,mode:"ghost",onClick:p,ref:m})})]})}var qse=Object.freeze,San=Object.defineProperty,RA=(e,t)=>qse(San(e,"raw",{value:qse(t||e.slice())})),Gse,Kse,Zse,Xse;const Qse=30,Ean=O(ee)(Gse||(Gse=RA([`
  position: relative;
  width: 100%;
  overflow: hidden;
  overflow: clip;
  min-height: 3.75rem;
  max-height: 20rem;

  & > div[data-container] {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex !important;
    align-items: center;
    justify-content: center;
  }

  & img {
    max-width: 100%;
    max-height: 100%;
  }
`]))),kan=O(Hr)(Kse||(Kse=RA([`
  position: absolute;
`]))),jan=O(W)(e=>{let{$drag:t,$tone:n}=e;const r=Mf.color.light[n].card.enabled.fg,o=At(Mf.color.light[n].card.enabled.bg,.8);return de(Zse||(Zse=RA([`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    backdrop-filter: `,`;
    color: `,`;
    background-color: `,`;
  `])),t?"blur(10px)":"",n?r:"",t?o:"transparent")}),Tan=O(W)(Xse||(Xse=RA([`
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
`]))),Aan=e=>{const n=new URLSearchParams(e.split("?")[1]).get("rect");return n?[n.split(",")[2],n.split(",")[3]].map(Number):e.split("-")[1].split(".")[0].split("x").map(Number)};function Dan(e){const{drag:t,readOnly:n,isRejected:r,src:o,...i}=e,[s,a]=h.useState(!1),[l,u]=h.useState(null),d=xw(l),f=(d==null?void 0:d.width)||0,m=t?r||n?"critical":"primary":"default",v=Qse*document.documentElement.clientHeight/100,[g,b]=Aan(o),x=g/b,w=(g>f?f/x:b)<v?null:"".concat(Qse,"vh");h.useEffect(()=>{a(!1)},[o]);const C=h.useCallback(()=>{a(!0)},[]);return c.jsxs(Ean,{...i,ref:u,style:{height:w},tone:"transparent",children:[c.jsxs(ee,{"data-container":!0,tone:"inherit",children:[!s&&c.jsx(Jse,{cardTone:"transparent",drag:!0,content:c.jsx(kan,{})}),c.jsx("img",{src:o,"data-testid":"hotspot-image-input",alt:e.alt,onLoad:C,referrerPolicy:"strict-origin-when-cross-origin"})]}),t&&c.jsx(Jse,{cardTone:m,drag:t,content:c.jsxs(c.Fragment,{children:[c.jsx(F,{marginBottom:3,children:c.jsx(oi,{children:c.jsx(Ian,{isRejected:r,readOnly:n})})}),c.jsx(Pan,{isRejected:r,readOnly:n})]})})]})}function Ian(e){let{isRejected:t,readOnly:n}=e;return t?c.jsx(kf,{}):n?c.jsx(BF,{}):c.jsx(Sl,{})}function Pan(e){let{isRejected:t,readOnly:n}=e,r="Drop image to upload";return t&&(r="Cannot upload this file here"),n&&(r="This field is read only"),c.jsx(B,{size:1,children:r})}function Jse(e){let{cardTone:t,drag:n,content:r}=e;return c.jsx(jan,{justify:"flex-end",padding:3,$drag:n,$tone:t,children:c.jsx(Tan,{direction:"column",align:"center",justify:"center",children:r})})}var eae=Object.freeze,Oan=Object.defineProperty,$an=(e,t)=>eae(Oan(e,"raw",{value:eae(t||e.slice())})),tae;const Ran=O(ae)(tae||(tae=$an([`
  width: 100%;
`])));function Man(e){let{onClearValue:t}=e;return c.jsxs(ee,{tone:"caution",padding:4,border:!0,radius:2,children:[c.jsxs(W,{gap:4,marginBottom:4,children:[c.jsx(F,{children:c.jsx(B,{size:1,children:c.jsx(Qr,{})})}),c.jsxs(ne,{space:3,children:[c.jsx(B,{size:1,weight:"semibold",children:"Invalid image value"}),c.jsx(B,{size:1,children:"The value of this field is not a valid image. Resetting this field will let you choose a new image."})]})]}),c.jsx(Ran,{icon:Iu,text:"Reset value",onClick:t,mode:"ghost"})]})}var Fan=Object.defineProperty,Lan=(e,t,n)=>t in e?Fan(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yn=(e,t,n)=>(Lan(e,typeof t!="symbol"?t+"":t,n),n);const Ban=()=>typeof window>"u"||!window.devicePixelRatio?1:Math.round(Math.max(1,window.devicePixelRatio));function Nan(e){let{children:t}=e;return t}const nae=["asset"],zan={portal:!0};class Van extends re.PureComponent{constructor(t){var n;super(t),n=this,yn(this,"_previewElement",null),yn(this,"_assetPath"),yn(this,"uploadSubscription",null),yn(this,"state",{isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,hotspotButtonElement:null,menuButtonElement:null,isMenuOpen:!1}),yn(this,"toast",null),yn(this,"setPreviewElement",r=>{this._previewElement=r}),yn(this,"setHotspotButtonElement",r=>{this.setState({hotspotButtonElement:r})}),yn(this,"setMenuButtonElement",r=>{this.setState({menuButtonElement:r})}),yn(this,"getUploadOptions",r=>{const{schemaType:o,resolveUploader:i}=this.props,s=i&&i(o,r);return s?[{type:o,uploader:s}]:[]}),yn(this,"uploadWith",function(r,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{schemaType:s,onChange:a,client:l}=n.props,{label:u,title:d,description:f,creditLine:p,source:m}=i,v={metadata:Nn(s,"options.metadata"),storeOriginalFilename:Nn(s,"options.storeOriginalFilename"),label:u,title:d,description:f,creditLine:p,source:m};n.cancelUpload(),n.setState({isUploading:!0}),a(Gi({_type:s.name})),n.uploadSubscription=r.upload(l,o,s,v).subscribe({next:g=>{g.patches&&a(g.patches)},error:g=>{var b;console.error(g),(b=n.toast)==null||b.push({status:"error",description:"The upload could not be completed at this time.",title:"Upload failed"}),n.clearUploadStatus()},complete:()=>{a([Qe(["hotspot"]),Qe(["crop"])]),n.setState({isUploading:!1})}})}),yn(this,"handleRemoveButtonClick",()=>{const{value:r}=this.props,o=Object.keys(r||{}),s=o.filter(l=>!["_type","_key","_upload","asset","crop","hotspot"].includes(l)).length===0,a=["asset"].concat(o.filter(l=>["crop","hotspot","_upload"].includes(l))).map(l=>Qe([l]));this.props.onChange(s&&!this.valueIsArrayElement()?Qe():a)}),yn(this,"handleFieldChange",r=>{const{onChange:o,schemaType:i}=this.props;if(!this.valueIsArrayElement()&&this.eventIsUnsettingLastFilledField(r)){o(Qe());return}o(r.prepend(Gi({_type:i.name})).patches)}),yn(this,"eventIsUnsettingLastFilledField",r=>{const o=r.patches[0];if(r.patches.length!==1||o.type!=="unset")return!1;const s=Object.keys(this.props.value||{}).filter(l=>!["_type","_key","crop","hotspot"].includes(l));return r.patches[0].path.length===1&&s.length===1&&s[0]===r.patches[0].path[0]}),yn(this,"valueIsArrayElement",()=>{const{path:r}=this.props;return typeof r.slice(-1)[0]!="string"}),yn(this,"handleOpenDialog",()=>{const{onFieldOpen:r}=this.props;r("hotspot")}),yn(this,"handleCloseDialog",()=>{var r;const{onFieldClose:o}=this.props;o("hotspot"),(r=this.state.hotspotButtonElement)==null||r.focus()}),yn(this,"handleSelectAssetFromSource",r=>{const{onChange:o,schemaType:i,resolveUploader:s}=this.props;dIe({assetFromSource:r,onChange:o,type:i,resolveUploader:s,uploadWith:this.uploadWith,isImage:!0}),this.setState({selectedAssetSource:null})}),yn(this,"handleFileTargetFocus",r=>{var o;r.currentTarget===r.target&&r.currentTarget===((o=this.props.elementProps.ref)==null?void 0:o.current)&&this.props.elementProps.onFocus(r)}),yn(this,"handleFilesOver",r=>{this.setState({hoveringFiles:r.filter(o=>o.kind!=="string")})}),yn(this,"handleFilesOut",()=>{this.setState({hoveringFiles:[]})}),yn(this,"handleCancelUpload",()=>{this.cancelUpload()}),yn(this,"handleClearUploadState",()=>{this.setState({isStale:!1}),this.clearUploadStatus()}),yn(this,"handleStaleUpload",()=>{this.setState({isStale:!0})}),yn(this,"handleClearField",()=>{this.props.onChange([Qe(["asset"]),Qe(["crop"]),Qe(["hotspot"])])}),yn(this,"handleSelectFiles",r=>{const{directUploads:o,readOnly:i}=this.props,{hoveringFiles:s}=this.state;o&&!i?this.uploadFirstAccepted(r):s.length>0&&this.handleFilesOut()}),yn(this,"handleSelectImageFromAssetSource",r=>{this.setState({selectedAssetSource:r})}),yn(this,"handleAssetSourceClosed",()=>{var r;this.setState({selectedAssetSource:null}),(r=this.state.menuButtonElement)==null||r.focus()}),yn(this,"renderHotspotInput",r=>{const{value:o,changed:i,id:s,imageUrlBuilder:a}=this.props,l=this.isImageToolEnabled()&&o&&o.asset;return c.jsx(fa,{__unstable_autoFocus:!1,header:"Edit hotspot and crop",id:"".concat(s,"_dialog"),onClickOutside:this.handleCloseDialog,onClose:this.handleCloseDialog,width:1,children:c.jsx(wA,{children:c.jsx(F,{padding:4,children:c.jsx(ne,{space:5,children:l&&(o==null?void 0:o.asset)&&c.jsx(ban,{...this.props,imageUrl:a.image(o.asset).url(),value:o,presence:r.presence,changed:i})})})})})}),yn(this,"renderPreview",()=>{const{value:r,schemaType:o,readOnly:i,directUploads:s,imageUrlBuilder:a,resolveUploader:l}=this.props;if(!r||!pb(r))return null;const{hoveringFiles:u}=this.state,d=u.filter(m=>l(o,m)),f=u.length-d.length,p=a.width(2e3).fit("max").image(r).dpr(Ban()).auto("format").url();return c.jsx(Dan,{drag:!(r!=null&&r._upload)&&u.length>0,isRejected:f>0||!s,readOnly:i,src:p,alt:"Preview of uploaded image"})}),yn(this,"setToast",r=>{this.toast=r}),this._assetPath=t.path.concat(nae)}isImageToolEnabled(){return Nn(this.props.schemaType,"options.hotspot")===!0}clearUploadStatus(){var t;(t=this.props.value)!=null&&t._upload&&this.props.onChange(Qe(["_upload"]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(t){const{schemaType:n,resolveUploader:r}=this.props,o=t.map(i=>({file:i,uploader:r(n,i)})).find(i=>i.uploader);o&&this.uploadWith(o.uploader,o.file),this.setState({isMenuOpen:!1})}renderAssetMenu(){const{value:t,assetSources:n,schemaType:r,readOnly:o,directUploads:i,imageUrlBuilder:s,observeAsset:a}=this.props,l=t==null?void 0:t.asset;if(!l)return null;const u=Nn(r,"options.accept","image/*"),d=t&&l&&this.isImageToolEnabled();let f=n&&n.length===0?null:c.jsx(Me,{icon:Yi,text:"Select",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(n[0])},disabled:o,"data-testid":"file-input-browse-button"});return n&&n.length>1&&(f=n.map(p=>c.jsx(Me,{text:p.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(p)},icon:p.icon||Sl,"data-testid":"file-input-browse-button-".concat(p.name),disabled:o},p.name))),c.jsx(s0,{observeAsset:a,reference:l,children:p=>{let{_id:m,originalFilename:v,extension:g}=p,b,x;if(pb(t)){const y=v||"download.".concat(g);x=s.image(m).forceDownload(y).url(),b=s.image(m).url()}return c.jsx(_an,{isMenuOpen:this.state.isMenuOpen,onEdit:this.handleOpenDialog,onMenuOpen:y=>this.setState({isMenuOpen:y}),setHotspotButtonElement:this.setHotspotButtonElement,setMenuButtonElement:this.setMenuButtonElement,showEdit:d,children:c.jsx(fIe,{onUpload:this.handleSelectFiles,browse:f,onReset:this.handleRemoveButtonClick,downloadUrl:x,copyUrl:b,readOnly:o,directUploads:i,accept:u})})}})}renderBrowser(){const{assetSources:t,readOnly:n,directUploads:r,id:o}=this.props;return t&&t.length===0?null:t&&t.length>1&&!n&&r?c.jsx(rn,{id:"".concat(o,"_assetImageButton"),ref:this.setMenuButtonElement,button:c.jsx(ae,{"data-testid":"file-input-multi-browse-button",icon:Yi,iconRight:Rl,mode:"ghost",text:"Select"}),menu:c.jsx(Ht,{children:t.map(i=>c.jsx(Me,{text:i.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(i)},icon:i.icon||Sl,disabled:n,"data-testid":"file-input-browse-button-".concat(i.name)},i.name))}),popover:zan}):c.jsx(ae,{fontSize:2,text:"Select",icon:Yi,mode:"ghost",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(t[0])},"data-testid":"file-input-browse-button",disabled:n})}renderUploadPlaceholder(){const{schemaType:t,readOnly:n,directUploads:r,resolveUploader:o}=this.props,{hoveringFiles:i}=this.state,s=i.filter(u=>o(t,u)),a=i.length-s.length,l=Nn(t,"options.accept","image/*");return c.jsx("div",{style:{padding:1},children:c.jsx(ee,{tone:n?"transparent":"inherit",border:!0,padding:3,style:i.length===0?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:c.jsx(pIe,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:n,hoveringFiles:i,acceptedFiles:s,rejectedFilesCount:a,type:"image",accept:l,directUploads:r})})})}renderUploadState(t){var n;const{isUploading:r}=this.state,o=(n=this._previewElement)==null?void 0:n.offsetHeight;return c.jsx(cIe,{uploadState:t,onCancel:r?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload,height:o})}renderAssetSource(){const{selectedAssetSource:t}=this.state,{value:n,schemaType:r,observeAsset:o}=this.props,i=Nn(r,"options.accept","image/*");if(!t)return null;const s=t.component;return n&&n.asset?c.jsx(s0,{observeAsset:o,reference:n.asset,children:a=>c.jsx(s,{selectedAssets:[a],assetType:"image",accept:i,selectionType:"single",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):c.jsx(s,{selectedAssets:[],selectionType:"single",assetType:"image",accept:i,onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}getFileTone(){const{schemaType:t,value:n,readOnly:r,directUploads:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i(t,u)),l=s.length-a.length;return s.length>0&&(l>0||!o)?"critical":!(n!=null&&n._upload)&&!r&&s.length>0?"primary":r||n!=null&&n._upload&&(n!=null&&n.asset)?"transparent":"default"}renderAsset(){const{value:t,readOnly:n,elementProps:r}=this.props,{hoveringFiles:o,isStale:i}=this.state,s=!!(t!=null&&t._upload||t!=null&&t.asset);return t&&typeof t.asset<"u"&&!(t!=null&&t._upload)&&!pb(t)?()=>c.jsx(Man,{onClearValue:this.handleClearField}):a=>c.jsxs(c.Fragment,{children:[i&&c.jsx(F,{marginBottom:2,children:c.jsx(mIe,{onClearStale:this.handleClearUploadState})}),c.jsx(ni,{path:a.path.concat(nae),hasFocus:!!a.focused,isChanged:a.changed,children:t!=null&&t._upload?this.renderUploadState(t._upload):c.jsxs(lIe,{...r,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!n,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:s||o.length>0,style:{padding:1},sizing:"border",radius:2,children:[!(t!=null&&t.asset)&&this.renderUploadPlaceholder(),!(t!=null&&t._upload)&&(t==null?void 0:t.asset)&&c.jsxs("div",{style:{position:"relative"},ref:this.setPreviewElement,children:[this.renderPreview(),this.renderAssetMenu()]})]})})]})}render(){const{members:t,renderAnnotation:n,renderBlock:r,renderField:o,renderInlineBlock:i,renderInput:s,renderItem:a,renderPreview:l}=this.props,{selectedAssetSource:u}=this.state,d=t.find(f=>f.kind==="field"&&f.name==="hotspot");return c.jsxs(ne,{space:5,"data-testid":"image-input",children:[c.jsx(hB,{ref:this.setToast}),t.map(f=>f.kind==="field"&&(f.name==="crop"||f.name==="hotspot")?null:f.kind==="field"?c.jsx(uC,{member:f,renderAnnotation:n,renderBlock:r,renderInlineBlock:i,renderInput:f.name==="asset"?this.renderAsset():s,renderField:f.name==="asset"?Nan:o,renderItem:a,renderPreview:l},f.key):f.kind==="fieldSet"?c.jsx(nN,{member:f,renderAnnotation:n,renderBlock:r,renderField:o,renderInlineBlock:i,renderInput:s,renderItem:a,renderPreview:l},f.key):f.kind==="error"?c.jsx(jA,{member:f},f.key):c.jsxs(c.Fragment,{children:["Unknown member kind: $",f.kind]})),(d==null?void 0:d.open)&&c.jsx(MDe,{...this.props,absolutePath:d.field.path,renderInput:this.renderHotspotInput}),u&&this.renderAssetSource()]})}}function Han(e){var t;const n=(t=e.schemaType.options)==null?void 0:t.sources,{image:r}=ri().__internal,o=Ps(),i=Sr(gn),a=ri().__internal.image.directUploads,l=h.useCallback((p,m)=>a?QB(p,m):null,[a]),u=re.useMemo(()=>n||r.assetSources,[r,n]),d=re.useMemo(()=>ET(i),[i]),f=h.useCallback(p=>wDe(o,p),[o]);return c.jsx(Van,{...e,client:i,assetSources:u,directUploads:r.directUploads,imageUrlBuilder:d,observeAsset:f,resolveUploader:l})}const wIe=()=>{},VO={isLoading:!0,result:void 0,error:void 0,retry:wIe},Uan={isLoading:!1,result:void 0,error:void 0,retry:wIe};function CIe(e,t){const[n,r]=h.useState(0),o=h.useCallback(()=>{r(l=>l+1)},[]),i=h.useMemo(()=>({_id:e._id,_type:e._type}),[e._id,e._type]),s=Ao(()=>i._id?t(i).pipe(ce(l=>({isLoading:!1,result:l,error:void 0,retry:o,retryAttempt:n})),ki(VO),Xn(l=>(console.error(l),be({isLoading:!1,result:void 0,error:l,retry:o,retryAttempt:n})))):be(Uan),[i,t,o,n],VO);return EB(e._id,e._id)!==e._id?VO:s}var rae=Object.freeze,Wan=Object.defineProperty,_Ie=(e,t)=>rae(Wan(e,"raw",{value:rae(t||e.slice())})),oae,iae;const Yan=O(W)(oae||(oae=_Ie([`
  /* this is a hack to avoid layout jumps while previews are loading
  or the message is not tall enough to fill the card
  there's probably better ways of solving this */
  min-height: 36px;
`]))),SIe=O(W)(iae||(iae=_Ie([`
  /* This limits the width of the tooltip content */
  max-width: 250px;
`])));function sae(e){return c.jsx(SIe,{padding:3,children:c.jsx(F,{flex:1,children:c.jsx(F,{children:c.jsx(B,{as:"p",size:1,children:e.children})})})})}function EIe(e){var t,n,r;const{refType:o,showStudioUrlIcon:i,hasStudioUrl:s,showTypeLabel:a,availability:l,preview:u,id:d,dataset:f,projectId:p}=e,m=(l==null?void 0:l.reason)==="NOT_FOUND",v=(l==null?void 0:l.reason)==="PERMISSION_DENIED",g=(t=u.published)==null?void 0:t.media,b=h.useMemo(()=>{if(g){const x=typeof(g==null?void 0:g.asset)<"u"&&pb(g),y=re.isValidElement(g);return!x&&!y?null:function(C){let{dimensions:_}=C;return y?g:c.jsx("img",{src:ET({dataset:f,projectId:p}).image(g).withOptions(_).url(),alt:"Image preview of referenced document",referrerPolicy:"strict-origin-when-cross-origin"})}}return o!=null&&o.icon?h.createElement(o.icon):null},[g,f,p,o==null?void 0:o.icon]);return c.jsxs(Yan,{align:"center",justify:"center",flex:1,"data-testid":"preview",children:[l!=null&&l.available?c.jsx(F,{flex:1,children:c.jsx(LTe,{title:(n=u.published)==null?void 0:n.title,subtitle:(r=u.published)==null?void 0:r.subtitle,media:b||!1})}):c.jsx(F,{flex:1,children:c.jsx(W,{align:"center",children:c.jsx(F,{flex:1,paddingY:2,children:c.jsx(B,{muted:!0,children:"Document unavailable"})})})}),c.jsx(F,{paddingLeft:3,children:c.jsxs(Jt,{space:4,children:[o&&a&&c.jsx(Nt,{size:1,muted:!0,children:o.title||o.type}),(v||m)&&c.jsx(F,{children:c.jsx(yt,{portal:!0,content:m?c.jsxs(sae,{children:["The referenced document no longer exist and might have been deleted.",c.jsx("br",{}),"(id: ",c.jsx("code",{children:d}),")"]}):c.jsx(sae,{children:"The referenced document could not be accessed due to insufficient permissions"}),children:c.jsx(sr,{tone:"default",children:v?c.jsx(kf,{}):c.jsx(Pv,{})})})}),!(m||v)&&i&&c.jsx(F,{children:c.jsx(yt,{portal:!0,content:c.jsx(SIe,{padding:2,children:s?c.jsx(B,{size:1,children:"This document opens in a new tab"}):c.jsxs(B,{size:1,children:["This document cannot be opened ",c.jsx("br",{})," (unable to resolve URL to Studio)"]})}),children:c.jsx(sr,{size:1,tone:"default",muted:!s,children:c.jsx(y0,{})})})})]})})]})}function hN(){return Sr(gn).config().projectId}function qan(e){var t;const{isLoading:n,result:r,error:o}=CIe(e.document,e.getReferenceInfo),i=hN();if(n)return c.jsxs(ne,{space:2,padding:1,children:[c.jsx(Si,{style:{maxWidth:320},radius:1,animated:!0}),c.jsx(Si,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(o)return c.jsx(ne,{space:2,padding:1,children:c.jsxs(Hc,{title:"Failed to load referenced document",children:["Error: ",o.message]})});if(!r)return null;if(((t=r.availability)==null?void 0:t.reason)==="PERMISSION_DENIED")return c.jsx(ne,{space:2,padding:1,children:"Insufficient permissions to view this document"});const s=e.referenceType.to.find(a=>a.type===r.type);return s?r&&s&&c.jsx(EIe,{id:r.id,availability:r.availability,preview:r.preview,refType:s,dataset:e.referenceType.dataset,projectId:i,showTypeLabel:e.referenceType.to.length>1}):c.jsxs(ne,{space:2,padding:1,children:[`Search returned a type that's not valid for this reference: "$`,r.type,'"']})}function aae(e){var t,n;const{value:r,type:o,showStudioUrlIcon:i,hasStudioUrl:s,referenceInfo:a}=e,l=hN();if(a.isLoading||a.error)return c.jsxs(ne,{space:2,padding:1,children:[c.jsx(Si,{style:{maxWidth:320},radius:1,animated:!a.error}),c.jsx(Si,{style:{maxWidth:200},radius:1,size:1,animated:!a.error})]});const u=o.to.length>1,d=(t=a.result)==null?void 0:t.type,f=o.to.find(p=>p.type===d);return(n=a.result.availability)!=null&&n.available&&!f?c.jsx(ne,{space:2,padding:2,children:c.jsxs(B,{as:"p",children:["The referenced document is of invalid type: (",d||"unknown",")",c.jsx("pre",{children:JSON.stringify(r,null,2)})]})}):c.jsx(EIe,{availability:a.result.availability,hasStudioUrl:s,showStudioUrlIcon:i,preview:a.result.preview,refType:f,projectId:l,dataset:o.dataset,id:r._ref,showTypeLabel:u})}var lae=Object.freeze,Gan=Object.defineProperty,kIe=(e,t)=>lae(Gan(e,"raw",{value:lae(t||e.slice())})),cae,uae;const Kan=O(hn)(cae||(cae=kIe([`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`]))),Zan=O(B)(uae||(uae=kIe([`
  word-break: break-word;
`]))),Xan=["top-start","bottom-start"],Qan=h.forwardRef(function(t,n){const r=t.options&&t.options.length>0,o=h.useCallback((i,s)=>{let{content:a,hidden:l,inputElement:u,onMouseEnter:d,onMouseLeave:f}=i;return c.jsx(Kan,{"data-testid":"autocomplete-popover",placement:"bottom-start",fallbackPlacements:Xan,arrow:!1,constrainSize:!0,onMouseEnter:d,onMouseLeave:f,content:c.jsx("div",{ref:s,children:r?a:c.jsx(F,{padding:4,children:c.jsx(W,{align:"center",height:"fill",justify:"center",children:c.jsxs(Zan,{align:"center",muted:!0,children:["No results for ",c.jsxs("strong",{children:["“",t.searchString,"”"]})]})})})}),open:!t.loading&&!l,ref:t.portalRef,portal:!0,referenceElement:t.referenceElement||u,matchReferenceWidth:!0})},[r,t.searchString,t.loading,t.portalRef,t.referenceElement]);return c.jsx(IL,{...t,ref:n,renderPopover:o})});var dae=Object.freeze,Jan=Object.defineProperty,eln=(e,t)=>dae(Jan(e,"raw",{value:dae(t||e.slice())})),fae;const tln=O(ae)(fae||(fae=eln([`
  width: 100%;
`])));function nln(e){let{value:t,onClearValue:n}=e;const r=h.useMemo(()=>!!(t!=null&&t._ref),[t==null?void 0:t._ref]);return c.jsxs(ee,{tone:"caution",padding:4,border:!0,radius:2,"data-testid":"alert-cross-dataset-reference-feature-disabled",children:[c.jsxs(W,{gap:4,marginBottom:r?4:void 0,children:[c.jsx(F,{children:c.jsx(B,{size:1,children:c.jsx(Qr,{})})}),c.jsxs(ne,{space:3,children:[c.jsx(B,{as:"h2",size:1,weight:"semibold",children:"Unavailable feature: Cross dataset reference"}),r&&c.jsxs(ne,{space:3,children:[c.jsxs(B,{as:"p",size:1,children:["This feature has been disabled. Read how to enable it in"," ",c.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:"documentation"})]}),c.jsx(B,{as:"p",size:1,children:"You can still clear this field's existing reference, but that cannot be revoked as long as the feature is disabled."})]}),!r&&c.jsxs(B,{as:"p",size:1,children:["Read how to enable it in"," ",c.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:"documentation"})]})]})]}),n&&r&&c.jsx(tln,{icon:Iu,text:"Reset value",onClick:n,mode:"ghost"})]})}const hae={hits:[],isLoading:!1},rln=()=>!0,pae=["_ref"],oln="crossDatasetReferences";function iln(e){var t,n,r;const{changed:o,focused:i,focusPath:s,getReferenceInfo:a,onChange:l,onPathFocus:u,onSearch:d,path:f,readOnly:p,schemaType:m,validation:v,value:g,elementProps:b}=e,x=hN(),[y,w]=h.useState(hae),C=h.useCallback(ie=>{if(!ie){l(Qe()),u([]);return}if(!y.hits.find(_e=>_e.id===ie))throw new Error("Selected an item that wasnt part of the result set");l(pt({_type:m.name,_ref:Zn(ie),_projectId:x,_dataset:m.dataset,_weak:m.weak,_key:g==null?void 0:g._key})),u([])},[g==null?void 0:g._key,y.hits,m.name,m.dataset,m.weak,x,l,u]),_=h.useCallback(()=>{l(Qe())},[l]),S=h.useCallback(ie=>{ie.keyCode===27&&(u==null||u([]))},[u]),E=h.useCallback(ie=>a(ie,m),[a,m]),j=h.useMemo(()=>({_id:g==null?void 0:g._ref}),[g==null?void 0:g._ref]),k=CIe(j,E),T=lOe(oln),A=h.useRef(null),D=s.length===1&&s[0]==="_ref",I=b.ref;Pi({hasFocusAt:D,ref:g==null?void 0:g._ref},(ie,ye)=>{var _e;const Ae=(ie==null?void 0:ie.ref)!==ye.ref;((ie==null?void 0:ie.hasFocusAt)!==ye.hasFocusAt||Ae)&&ye.hasFocusAt&&((_e=I.current)==null||_e.focus())});const P=g!=null&&g._weak?"weak":"strong",M=m.weak===!0?"weak":"strong",$=!!(g!=null&&g._ref),V=h.useCallback(()=>{l(m.weak===!0?pt(!0,["_weak"]):Qe(["_weak"]))},[l,m]),{push:L}=Ai(),H=h.useMemo(()=>v.filter(ie=>ie.level==="error"),[v]),U=h.useCallback(ie=>{ie.currentTarget===b.ref.current&&(u==null||u([Vge]))},[b.ref,u]),z=h.useCallback(ie=>{ie.currentTarget===b.ref.current&&(u==null||u(pae))},[b.ref,u]),Y=h.useCallback(()=>{u==null||u(pae)},[u]),te=h.useId(),N=GL(ie=>ie.pipe(ct(po),Kn(),tt(ye=>ho(be({isLoading:!0}),d(ye).pipe(ce(_e=>({hits:_e,searchString:ye,isLoading:!1})),Xn(_e=>(L({title:"Reference search failed",description:_e.message,status:"error",id:"reference-search-fail-".concat(te)}),console.error(_e),be({hits:[]})))))),Ua((ye,_e)=>({...ye,..._e}),hae),Wn(w)),[te,d,L]),G=h.useCallback(()=>{N("")},[N]),q=!k.isLoading&&$&&P!==M,K=(g==null?void 0:g._ref)&&((n=m.studioUrl)==null?void 0:n.call(m,{id:g==null?void 0:g._ref,type:(t=k==null?void 0:k.result)==null?void 0:t.type}))||null,Q=h.useCallback(ie=>c.jsx(bv,{as:"button",type:"button",radius:2,children:c.jsx(F,{paddingX:3,paddingY:1,children:c.jsx(qan,{referenceType:m,document:ie.hit.published,getReferenceInfo:E})})}),[m,E]),X=(r=k.result)==null?void 0:r.preview.published,Z=D||!(g!=null&&g._ref),oe=h.useRef(null),le=h.useRef(null),he=h.useRef(null);return cAe([oe,le,he],()=>{D&&u([])}),c.jsxs(c.Fragment,{children:[!T.isLoading&&!T.enabled&&c.jsx(nln,{value:g,onClearValue:_}),(T.isLoading||T.enabled)&&c.jsx(ne,{space:1,children:Z?c.jsx(ne,{space:2,ref:oe,children:c.jsx(ni,{path:f,isChanged:o,hasFocus:!!i,children:c.jsx("div",{ref:A,children:c.jsx(Qan,{...b,"data-testid":"autocomplete",loading:y.isLoading,referenceElement:A.current,portalRef:le,id:te||"",options:y.hits.map(ie=>({value:ie.id,hit:ie})),onFocus:z,radius:1,placeholder:"Type to search",onKeyDown:S,readOnly:p,disabled:k.isLoading,onQueryChange:N,searchString:y.searchString,onChange:C,filterOption:rln,renderOption:Q,openButton:{onClick:G}})})})}):c.jsx(ni,{path:f,isChanged:o,hasFocus:!!i,children:c.jsxs(ee,{padding:0,border:!0,flex:1,radius:1,tone:p?"transparent":k.error||H.length>0?"critical":"default",children:[c.jsxs(W,{align:"center",padding:1,children:[K?c.jsx(bv,{as:"a",target:"_blank",rel:"noopener noreferrer",href:K,"data-as":"a",flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:U,ref:b.ref,children:c.jsx(aae,{value:g,referenceInfo:k,showStudioUrlIcon:!0,hasStudioUrl:!!K,type:m})}):c.jsx(bv,{flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:U,ref:b.ref,children:c.jsx(aae,{value:g,referenceInfo:k,showStudioUrlIcon:!0,type:m})}),c.jsx(Jt,{paddingX:1,children:c.jsx(rn,{button:c.jsx(ae,{padding:2,mode:"bleed",icon:Ho,"data-testid":"menu-button"}),id:"".concat(te,"-menuButton"),menu:c.jsx(Ht,{children:!p&&c.jsxs(c.Fragment,{children:[c.jsx(Me,{text:"Clear",tone:"critical",icon:Iu,"data-testid":"menu-item-clear",onClick:_}),c.jsx(Me,{text:"Replace",icon:lj,"data-testid":"menu-item-replace",onClick:Y})]})}),placement:"right",popover:{portal:!0,tone:"default"}})})]}),q&&c.jsx(yf,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:c.jsxs(ne,{space:3,children:[c.jsxs(B,{as:"p",muted:!0,size:1,children:["This reference is ",c.jsx("em",{children:P}),", but according to the current schema it should be ",c.jsxs("em",{children:[M,"."]})]}),c.jsx(B,{as:"p",muted:!0,size:1,children:m.weak?c.jsxs(c.Fragment,{children:['It will not be possible to delete the "',X==null?void 0:X.title,'"-document without first removing this reference.']}):c.jsxs(c.Fragment,{children:['This makes it possible to delete the "',X==null?void 0:X.title,'"-document without first deleting this reference, leaving this field referencing a nonexisting document.']})}),c.jsx(ae,{onClick:V,text:c.jsxs(c.Fragment,{children:["Convert to ",M," reference"]}),tone:"caution"})]})}),k.error&&c.jsx(yf,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:c.jsxs(ne,{space:3,children:[c.jsxs(B,{as:"p",muted:!0,size:1,children:["Error: ",k.error.message]}),c.jsx(ae,{onClick:k.retry,text:c.jsx(c.Fragment,{children:"Retry"}),tone:"primary"})]})})]})})})]})}function sln(e,t,n,r){return SB(n.to.map(i=>({name:i.type,__experimental_search:i.__experimental_search})),e,r)(t,{includeDrafts:!1}).pipe(ce(i=>i.map(s=>s.hit)),ce(oB),ce(i=>i.map(s=>({id:s.id,type:s.type,published:s.published}))))}const aln="cross-dataset-refs",jIe={available:!0,reason:"READABLE"},lln={available:!1,reason:"PERMISSION_DENIED"},cln={available:!1,reason:"NOT_FOUND"};function uln(e){const{client:t,documentPreviewStore:n}=e,{dataset:r,projectId:o}=t.config(),i=r&&o?{dataset:r,projectId:o}:void 0;return function(a,l){return(a._type?be(a):n.observeDocumentTypeFromId(a._id,i).pipe(ce(u=>({_id:a._id,_type:u})))).pipe(tt(u=>{if(!u._type)return dln(t,a._id).pipe(ce(m=>({id:a._id,type:void 0,availability:m,preview:{published:void 0}})));const d=l.to.find(m=>m.type===u._type),f=[...xB(d==null?void 0:d.preview)||[],["_updatedAt"],["_createdAt"]],p=n.observePaths(a,f,i).pipe(ce(m=>m&&mk(m,d)));return Vo([p]).pipe(ce(m=>{let[v]=m;return{type:u._type,id:a._id,availability:jIe,preview:{published:Ct(v)?v:void 0}}}))}))}}function dln(e,t){const n={uri:e.getDataUrl("doc",t),json:!0,query:{excludeContent:"true"},tag:"".concat(aln,".availability")};return e.observable.request(n).pipe(ce(r=>{const i=o9(r.omitted||[],s=>s.id)[t];return i?i.reason==="existence"?cln:i.reason==="permission"?lln:null:jIe}))}async function fln(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=p0(t,o);return await e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function hln(e){const t=h.useRef(e);return t.current=e,t}function pln(e){const{path:t,schemaType:n}=e,r=ur(),o=r.getClient(gn),i=Ps(),s=r.getClient,a=h.useMemo(()=>o.withConfig({dataset:n.dataset,apiVersion:"2022-03-07",ignoreBrowserTokenWarning:!0}).clone(),[o,n.dataset]),l=TA([]),u=hln(l),d=h.useCallback(p=>Cr(fln(n.options,u.current,t,s)).pipe(vt(m=>{let{filter:v,params:g}=m;return sln(a,p,n,{...n.options,filter:v,params:g,tag:"search.cross-dataset-reference"})}),Xn(m=>{var v;const g=m.details&&m.details.type==="queryParseError";return(v=n.options)!=null&&v.filter&&g&&(m.message='Invalid reference filter, please check the custom "filter" option'),D0(m)})),[a,u,t,n,s]),f=h.useMemo(()=>uln({client:a,documentPreviewStore:i}),[a,i]);return c.jsx(iln,{...e,getReferenceInfo:f,onSearch:d})}function mln(e){const t=h.useRef(e);return t.current=e,t}async function gln(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=p0(t,o);return e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function pN(e){var t,n,r,o;const{path:i,schemaType:s}=e,a=ur(),l=a.getClient(gn),u=dr(),d=Ps(),f=h.useMemo(()=>l.withConfig({apiVersion:"2021-03-25"}),[l]),{EditReferenceLinkComponent:p,onEditReference:m,activePath:v,initialValueTemplateItems:g}=QAe(),b=TA([]),x=mln(b),y=(t=x.current)==null?void 0:t._type,w=h.useMemo(()=>{var I;return(I=u.get(y))==null?void 0:I.liveEdit},[y,u]),C=((n=s.options)==null?void 0:n.disableNew)===!0,_=a.getClient,S=h.useCallback(I=>Cr(gln(s.options,x.current,i,_)).pipe(vt(P=>{let{filter:M,params:$}=P;return lAe(f,I,s,{...s.options,filter:M,params:$,tag:"search.reference"})}),Xn(P=>{var M;const $=P.details&&P.details.type==="queryParseError";return(M=s.options)!=null&&M.filter&&$&&(P.message='Invalid reference filter, please check the custom "filter" option'),D0(P)})),[x,i,f,s,_]),E=(o=(r=e.value)==null?void 0:r._strengthenOnPublish)==null?void 0:o.template,j=h.useMemo(()=>h.forwardRef(function(P,M){return p?c.jsx(p,{...P,ref:M,parentRefPath:i,template:E}):null}),[p,i,E]),k=h.useCallback(I=>{m==null||m({parentRefPath:i,id:I.id,type:I.type,template:I.template})},[m,i]),T=vi(i,(v==null?void 0:v.path)||[])?v==null?void 0:v.state:"none",A=h.useMemo(()=>C?[]:(g||[]).filter(I=>s.to.some(P=>{var M;return P.name===((M=I.template)==null?void 0:M.schemaType)})).map(I=>{var P;return(P=I.template)!=null&&P.schemaType?{id:I.id,title:I.title||"".concat(I.template.schemaType," from template ").concat(I.template.id),type:I.template.schemaType,icon:I.icon,template:{id:I.template.id,params:I.parameters},permission:{granted:I.granted,reason:I.reason}}:void 0}).filter(po),[C,g,s.to]),D=h.useCallback(I=>aAe(d,I,s),[d,s]);return{selectedState:T,handleSearch:S,isCurrentDocumentLiveEdit:w,handleEditReference:k,EditReferenceLink:j,createOptions:A,getReferenceInfo:D}}function vln(e){const{getReferenceInfo:t,id:n,renderPreview:r}=e,{isLoading:o,result:i,error:s}=kA(n,t);if(o)return c.jsxs(ne,{space:2,padding:1,children:[c.jsx(Si,{style:{maxWidth:320},radius:1,animated:!0}),c.jsx(Si,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(s)return c.jsx(ne,{space:2,padding:1,children:c.jsx(Hc,{title:"Failed to load referenced document",children:c.jsxs(B,{muted:!0,size:1,children:["Error: ",s.message]})})});if(!i)return null;if(i.availability.reason==="PERMISSION_DENIED")return c.jsx(ne,{space:2,padding:1,children:"Insufficient permissions to view this document"});const a=e.type.to.find(l=>l.name===i.type);return a?i&&a&&c.jsx(pDe,{id:i.id,layout:"default",preview:i.preview,refType:a,renderPreview:r,showTypeLabel:e.type.to.length>1}):c.jsxs(ne,{space:2,padding:1,children:[`Search returned a type that's not valid for this reference: "$`,i.type,'"']})}const yln={display:"inline-flex"},bln={width:"100%"},xln={portal:!0,tone:"default",constrainSize:!0,fallbackPlacements:["bottom","left","top"],placement:"right",preventOverflow:!0};function wln(e){const{createOptions:t,onCreate:n,id:r,...o}=e;return t.some(s=>s.permission.granted)?t.length>1?c.jsx(rn,{button:c.jsx(ae,{...o,disabled:e.readOnly,text:"Create new…",mode:"ghost",icon:Js}),id:r,menu:c.jsx(Ht,{ref:e.menuRef,children:t.map(s=>c.jsx(yt,{disabled:s.permission.granted,content:c.jsx(F,{padding:2,children:c.jsx(Pc,{operationLabel:"create this type of document"})}),portal:!0,children:c.jsx("div",{children:c.jsx(Me,{disabled:!s.permission.granted,icon:s.icon,text:s.title,onClick:()=>n(s)})})},s.id))}),popover:xln}):c.jsx(ae,{...o,text:"Create new",mode:"ghost",disabled:!t[0].permission.granted||e.readOnly,onClick:()=>n(t[0]),icon:Js}):c.jsx(yt,{content:c.jsx(F,{padding:2,children:c.jsx(Pc,{operationLabel:"create a new reference"})}),children:c.jsx("div",{style:yln,children:c.jsx(ae,{text:"Create new",mode:"ghost",disabled:!0,icon:Js,style:bln})})})}var mae=Object.freeze,Cln=Object.defineProperty,TIe=(e,t)=>mae(Cln(e,"raw",{value:mae(t||e.slice())})),gae,vae;const _ln=O(hn)(gae||(gae=TIe([`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`]))),Sln=O(B)(vae||(vae=TIe([`
  word-break: break-word;
`]))),Eln=["top-start","bottom-start"],kln=h.forwardRef(function(t,n){const r=t.options&&t.options.length>0,o=h.useCallback((i,s)=>{let{content:a,hidden:l,inputElement:u,onMouseEnter:d,onMouseLeave:f}=i;var p;return c.jsx(_ln,{placement:"bottom-start",fallbackPlacements:Eln,arrow:!1,constrainSize:!0,onMouseEnter:d,onMouseLeave:f,content:c.jsx("div",{ref:s,children:r?a:c.jsx(F,{padding:4,children:c.jsx(W,{align:"center",height:"fill",justify:"center",children:c.jsxs(Sln,{align:"center",muted:!0,children:["No results for ",c.jsxs("strong",{children:["“",t.searchString,"”"]}),((p=t.searchString)==null?void 0:p.toLowerCase())==="capybara"?c.jsx(c.Fragment,{children:". What a shame. There should be more Capybaras."}):null]})})})}),open:!t.loading&&!l,ref:t.portalRef,portal:!0,referenceElement:t.referenceElement||u,matchReferenceWidth:!0})},[r,t.searchString,t.loading,t.portalRef,t.referenceElement]);return c.jsx(IL,{...t,ref:n,renderPopover:o})});var yae=Object.freeze,jln=Object.defineProperty,AIe=(e,t)=>yae(jln(e,"raw",{value:yae(t||e.slice())})),bae,xae;const Tln=de(bae||(bae=AIe([`
  grid-template-columns: minmax(0px, 1fr);
`]))),Aln=de(xae||(xae=AIe([`
  grid-template-columns: 1fr min-content;
`]))),Dln=O(ln)(e=>e.$narrow?Tln:Aln),Iln=h.forwardRef(function(t,n){const[r,o]=h.useState(null),i=h.useCallback(a=>{Pln(n,a),o(a)},[n]),s=xw(r);return c.jsx(Dln,{ref:i,gap:1,$narrow:((s==null?void 0:s.width)||0)<480,children:t.children})});function Pln(e,t){typeof e=="function"?e(t):e&&(e.current=t)}var wae=Object.freeze,Oln=Object.defineProperty,$ln=(e,t)=>wae(Oln(e,"raw",{value:wae(t||e.slice())})),Cae;const Rln=O(bv)(Cae||(Cae=$ln([`
  /* this is a hack to avoid layout jumps while previews are loading
  there's probably better ways of solving this */
  min-height: 36px;
`]))),_ae={hits:[],isLoading:!1},Mln=()=>!0;function Fln(e){return e!==null}function Lln(e){var t,n,r,o,i,s;const{createOptions:a,onChange:l,onEditReference:u,onSearch:d,schemaType:f,readOnly:p,id:m,onPathFocus:v,value:g,renderPreview:b,path:x,elementProps:y,focusPath:w}=e,{getReferenceInfo:C}=pN({path:x,schemaType:f,value:g}),[_,S]=h.useState(_ae),E=h.useCallback(Z=>{const oe=sd(),le=[Gi({}),pt(f.name,["_type"]),pt(oe,["_ref"]),pt(!0,["_weak"]),pt({type:Z.type,weak:f.weak,template:Z.template},["_strengthenOnPublish"])].filter(po);l(le),u({id:oe,type:Z.type,template:Z.template}),v([])},[l,u,v,f]),j=h.useCallback(Z=>{if(!Z){l(Qe()),v([]);return}const oe=_.hits.find(he=>he.id===Z);if(!oe)throw new Error("Selected an item that wasnt part of the result set");const le=[Gi({}),pt(f.name,["_type"]),pt(Zn(Z),["_ref"]),oe.published&&!f.weak?Qe(["_weak"]):pt(!0,["_weak"]),oe.published?Qe(["_strengthenOnPublish"]):pt({type:oe==null?void 0:oe.type,weak:f.weak},["_strengthenOnPublish"])].filter(po);l(le),v([])},[l,v,f.name,f.weak,_.hits]),k=h.useCallback(()=>{l(Qe())},[l]),T=h.useCallback(()=>{g!=null&&g._ref||k()},[k,g==null?void 0:g._ref]),A=h.useCallback(Z=>{Z.key==="Escape"&&v([])},[v]),D=kA(g==null?void 0:g._ref,C),I=h.useRef(null),{push:P}=Ai(),M=GL(Z=>Z.pipe(ct(Fln),tt(oe=>ho(be({isLoading:!0}),d(oe).pipe(ce(le=>({hits:le,searchString:oe,isLoading:!1})),Xn(le=>(P({title:"Reference search failed",description:le.message,status:"error",id:"reference-search-fail-".concat(m)}),console.error(le),be({hits:[]})))))),Ua((oe,le)=>({...oe,...le}),_ae),Wn(S)),[m,d,P]),$=h.useCallback(()=>{M("")},[M]),V=h.useCallback(Z=>{Z.key==="Escape"&&v([])},[v]),L=h.useCallback(Z=>{var oe,le;const he=((oe=Z.hit.draft)==null?void 0:oe._id)||((le=Z.hit.published)==null?void 0:le._id)||Z.value;return c.jsx(Rln,{forwardedAs:"button",type:"button",radius:2,tone:"inherit",children:c.jsx(F,{paddingX:3,paddingY:1,children:c.jsx(vln,{getReferenceInfo:C,id:he,renderPreview:b,type:f})})})},[f,C,b]),H=h.useCallback(()=>{var Z,oe,le,he;return((oe=(Z=D.result)==null?void 0:Z.preview.draft)==null?void 0:oe.title)||((he=(le=D.result)==null?void 0:le.preview.published)==null?void 0:he.title)||""},[(n=(t=D.result)==null?void 0:t.preview.draft)==null?void 0:n.title,(o=(r=D.result)==null?void 0:r.preview.published)==null?void 0:o.title]),U=h.useCallback(()=>v(["_ref"]),[v]),z=h.useCallback(Z=>{var oe;(oe=I.current)!=null&&oe.contains(Z.relatedTarget)||e.elementProps.onBlur(Z)},[e.elementProps]),Y=((s=(i=D==null?void 0:D.result)==null?void 0:i.availability)==null?void 0:s.reason)==="NOT_FOUND"&&!(g!=null&&g._strengthenOnPublish)&&(g==null?void 0:g._weak);Pi((w==null?void 0:w[0])==="_ref",(Z,oe)=>{var le;!Z&&oe&&((le=y.ref.current)==null||le.focus())});const te=h.useMemo(()=>_.hits.map(Z=>({value:Z.id,hit:Z})),[_.hits]),N=w.length===1&&w[0]==="_ref",{menuRef:G,containerRef:q}=dnn(),K=h.useRef(null),Q=h.useRef(null),X=h.useRef(null);return cAe([q,K,Q,X,G],()=>{N&&T()}),c.jsx(ne,{space:1,"data-testid":"reference-input",ref:K,children:c.jsxs(ne,{space:2,children:[Y?c.jsx(Hc,{"data-testid":"alert-nonexistent-document",title:"Nonexistent document reference",suffix:c.jsx(ne,{padding:2,children:c.jsx(ae,{text:"Clear",onClick:k})}),children:c.jsxs(B,{size:1,children:["This field is currently referencing a document that doesn't exist (ID:",c.jsx("code",{children:g._ref}),"). You can either remove the reference or replace it with another document."]})}):null,c.jsxs(Iln,{ref:I,children:[c.jsx(kln,{...y,onFocus:U,onBlur:z,"data-testid":"autocomplete",loading:_.isLoading,referenceElement:I.current,options:te,radius:1,placeholder:"Type to search",onKeyDown:A,readOnly:D.isLoading||p,onQueryChange:M,searchString:_.searchString,onChange:j,filterOption:Mln,renderOption:L,renderValue:H,openButton:{onClick:$},portalRef:Q,value:g==null?void 0:g._ref}),a.length>0&&c.jsx(wln,{id:"".concat(m,"-selectTypeMenuButton"),readOnly:p,createOptions:a,onCreate:E,onKeyDown:V,menuRef:X})]})]})})}async function Bln(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=p0(t,o);return await e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function Nln(e){const t=h.useRef(e);return t.current=e,t}function zln(e){var t,n,r,o;const i=ur(),s=i.getClient(gn),a=dr(),l=Ps(),{path:u,schemaType:d}=e,{EditReferenceLinkComponent:f,onEditReference:p,activePath:m,initialValueTemplateItems:v}=QAe(),g=TA([]),b=Nln(g),x=(t=b.current)==null?void 0:t._type,y=a.get(x),w=h.useMemo(()=>y==null?void 0:y.liveEdit,[y]),C=((n=d.options)==null?void 0:n.disableNew)===!0,_=i.getClient,S=h.useCallback(I=>Cr(Bln(d.options,b.current,u,_)).pipe(vt(P=>{let{filter:M,params:$}=P;return lAe(s,I,d,{...d.options,filter:M,params:$,tag:"search.reference"})}),Xn(P=>{var M;const $=P.details&&P.details.type==="queryParseError";return(M=d.options)!=null&&M.filter&&$&&(P.message='Invalid reference filter, please check the custom "filter" option'),D0(P)})),[b,u,s,d,_]),E=(o=(r=e.value)==null?void 0:r._strengthenOnPublish)==null?void 0:o.template,j=h.useMemo(()=>h.forwardRef(function(P,M){return f?c.jsx(f,{...P,ref:M,parentRefPath:u,template:E}):null}),[f,u,E]),k=h.useCallback(I=>{p==null||p({parentRefPath:u,id:I.id,type:I.type,template:I.template})},[p,u]),T=vi(u,(m==null?void 0:m.path)||[])?m==null?void 0:m.state:"none",A=h.useMemo(()=>C?[]:(v||[]).filter(I=>d.to.some(P=>{var M;return P.name===((M=I.template)==null?void 0:M.schemaType)})).map(I=>{var P,M,$;return(P=I.template)!=null&&P.schemaType?{id:I.id,title:I.title||"".concat(I.template.schemaType," from template ").concat((M=I.template)==null?void 0:M.id),type:I.template.schemaType,icon:I.icon,template:{id:($=I.template)==null?void 0:$.id,params:I.parameters},permission:{granted:I.granted,reason:I.reason}}:void 0}).filter(po),[C,v,d.to]),D=h.useCallback((I,P)=>aAe(l,I,P),[l]);return c.jsx(Lln,{...e,onSearch:S,liveEdit:w,getReferenceInfo:D,selectedState:T,editReferenceLinkComponent:j,createOptions:A,onEditReference:k})}function Vln(e){return pF(e.schemaType)}function Hln(e){return sRe(e.schemaType)}function wk(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e!="object"&&!Array.isArray(e))return e===t;if(e._key&&e._key===t._key)return!0;if(Array.isArray(e))return!e.length!==t.length?!1:e.every((o,i)=>wk(e[i],t[i]));const n=Object.keys(e),r=Object.keys(e);return n.length!==r.length?!1:n.every(o=>wk(e[o],t[o]))}function Sae(e,t){return e?e.some(n=>wk(n,t)):!1}function Uln(e,t){return e.of.find(n=>n.name===js(t))}const Wln=[];function Yln(e){var t,n;const{renderPreview:r,schemaType:o,onChange:i,onPathFocus:s,value:a=[],readOnly:l,elementProps:u,path:d,changed:f}=e,p=h.useMemo(()=>{var b;return(((b=o.options)==null?void 0:b.list)||Wln).map((x,y)=>_l(x)?x:{...x,_key:"auto-generated-".concat(y)})},[(t=o.options)==null?void 0:t.list]),m=h.useCallback((b,x)=>{if(!b&&_l(x)){i(Qe([{_key:x._key}]));return}const y=p.filter(w=>wk(x,w)?b:Sae(a,w));i(y.length>0?pt(y):Qe())},[i,p,a]),v=h.useCallback(b=>{s([b])},[s]),g=((n=o.options)==null?void 0:n.layout)==="grid";return c.jsx(ni,{path:d,isChanged:f,hasFocus:!1,children:c.jsx(ln,{gap:2,columns:g?Math.min(p.length,4):1,tabIndex:0,...u,children:p.map((b,x)=>{const y=Uln(o,b),w=Sae(a,b),C=!y;return c.jsxs(W,{align:"center",as:"label",muted:C,children:[c.jsx(Hj,{disabled:C,checked:w,onChange:_=>m(_.currentTarget.checked,b),onFocus:()=>v(x),readOnly:l}),c.jsx(F,{flex:1,marginLeft:2,children:y?r({layout:"default",schemaType:y,value:b}):c.jsx(ee,{tone:"caution",radius:2,children:c.jsx(RDe,{value:b,onFocus:()=>v(x)})})})]},x)})})})}var Eae=Object.freeze,qln=Object.defineProperty,Gln=(e,t)=>Eae(qln(e,"raw",{value:Eae(t||e.slice())})),kae;const Kln=O(ee)(kae||(kae=Gln([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function DIe(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=re.useState(!1),[a,l]=re.useState(null);Vr(()=>s(!1),[a]);const u=re.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=js(t);return c.jsx(hn,{open:i,ref:l,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:c.jsx(Kln,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:c.jsxs(ne,{space:4,children:[c.jsx(F,{children:c.jsx(B,{weight:"semibold",children:"Why is this happening?"})}),c.jsxs(B,{size:1,children:["The current schema does not declare items of type ",c.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),c.jsx(F,{children:c.jsxs(B,{size:1,children:[c.jsx(nj,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),c.jsxs(ne,{space:2,children:[c.jsx(B,{size:1,weight:"semibold",children:"JSON representation of this item:"}),c.jsx(ee,{padding:2,overflow:"auto",border:!0,children:c.jsx(wr,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:c.jsx(ee,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:c.jsxs(W,{align:"center",children:[c.jsx(F,{marginRight:3,children:c.jsx(B,{children:c.jsx(bl,{})})}),c.jsx(F,{flex:1,children:c.jsxs(B,{size:1,textOverflow:"ellipsis",children:["Item of type ",c.jsx("code",{children:f})," not valid for this list"]})})]})})})}function Zln(e){return!!(e&&typeof e=="object"&&"title"in e&&"value"in e)}function Xln(e){return e.map(t=>Zln(t)?{title:t.title||an(String(t.value)),value:t.value}:{title:an(String(t)),value:t})}function Qln(e,t){return e.of.find(n=>n.name===js(t.value))}function Jln(e){var t,n;const{schemaType:r,onChange:o,value:i=[],readOnly:s,path:a,changed:l,onIndexFocus:u,elementProps:d}=e,f=h.useMemo(()=>{var v;return Xln(((v=r.options)==null?void 0:v.list)||[])},[(t=r.options)==null?void 0:t.list]),p=(v,g)=>{const b=f.map(x=>x.value).filter(x=>x===g?v:i.includes(x));o(b.length>0?pt(b):Qe())},m=((n=r.options)==null?void 0:n.layout)==="grid";return c.jsx(ni,{path:a,isChanged:l,hasFocus:!1,children:c.jsx(ln,{gap:2,columns:m?Math.min(f.length,4):1,...d,children:f.map((v,g)=>{const b=Qln(r,v),x=i.includes(v.value),y=!b;return c.jsxs(W,{align:"center",as:"label",muted:y,children:[c.jsx(Hj,{disabled:y,checked:x,onChange:w=>p(w.currentTarget.checked,v.value),onFocus:()=>u(g),readOnly:s}),c.jsx(F,{padding:2,children:c.jsx(B,{children:v.title})}),!b&&c.jsx(DIe,{value:v,onFocus:()=>u(g)})]},g)})})})}function IIe(e){return Vln(e)?c.jsx(Yln,{...e}):c.jsx(Jln,{...e})}var jae=Object.freeze,ecn=Object.defineProperty,MA=(e,t)=>jae(ecn(e,"raw",{value:jae(t||e.slice())})),Tae,Aae,Dae,Iae;const tcn=O.div(Tae||(Tae=MA([`
  position: relative;
`]))),PIe=O.div(Aae||(Aae=MA([`
  z-index: 13;
  opacity: 0;
  transition: opacity 300ms linear;
`]))),OIe=O(ee)(Dae||(Dae=MA([`
  border: 1px solid var(--card-border-color);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 12;
  transition: opacity 150ms ease-in-out;
  opacity: 0;
  box-sizing: border-box;
`]))),ncn=O(W)(Iae||(Iae=MA([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  :hover,
  :focus {
    & `,` {
      opacity: 0.9;
    }

    & `,` {
      opacity: 1;
    }
  }
`])),OIe,PIe),rcn=()=>typeof window<"u"&&"ontouchstart"in window||typeof navigator<"u"&&navigator.maxTouchPoints>0;function ocn(e){const{children:t,message:n,onActivate:r,isOverlayActive:o}=e,[i,s]=h.useState(!1),a=h.useCallback(()=>{r&&r()},[r]),l=h.useCallback(p=>{o&&p.code==="Space"&&r&&(p.preventDefault(),r())},[o,r]),u=h.useCallback(()=>{s(!0)},[]),d=h.useCallback(()=>{s(!1)},[]),f=h.useMemo(()=>{const p=rcn();let m=p?"Tap":"Click";i&&!p&&(m+=" or press space");const v=n||"".concat(m," to activate");return c.jsx(B,{weight:"semibold",children:v})},[i,n]);return c.jsxs(tcn,{onBlur:d,onClick:a,onFocus:u,onKeyDown:l,children:[o&&c.jsxs(ncn,{"data-testid":"activate-overlay",tabIndex:0,align:"center",justify:"center",children:[c.jsx(OIe,{radius:1}),c.jsx(PIe,{children:f})]}),t]})}var Pae=Object.freeze,icn=Object.defineProperty,scn=(e,t)=>Pae(icn(e,"raw",{value:Pae(t||e.slice())})),Oae;const acn=O.span(Oae||(Oae=scn([`
  /* Make sure the annotation styling is visible */
  &[data-mark='code'] {
    mix-blend-mode: multiply;
    color: inherit;
  }
`])));function lcn(e){const{value:t,focused:n,selected:r,children:o,schemaType:i}=e,s=Hon[t],a=i.component,l=h.useCallback(u=>c.jsx(acn,{as:s,"data-mark":t,children:u.children}),[s,t]);return h.useMemo(()=>{const u={focused:n,renderDefault:l,schemaType:i,selected:r,title:i.title,value:t};return a?c.jsx(a,{...u,children:o}):c.jsx(l,{...u,children:o})},[a,l,o,n,i,r,t])}const ccn={portal:!0,constrainSize:!0};function $ae(e){const{disableRestoreFocusOnClose:t,menuButton:n,menuButtonProps:r,menuOptionsArray:o,onMenuClose:i}=e;return c.jsx(rn,{__unstable_disableRestoreFocusOnClose:t,id:"menu-button",onClose:i,popover:ccn,...r,button:n,menu:c.jsx(Ht,{children:o.map((s,a)=>{const{collapsedProps:l={},expandedProps:u={},tooltipProps:d={},tooltipText:f,dividerBefore:p,fontSize:m,padding:v,text:g,icon:b,selected:x,...y}=s.props;return c.jsxs(re.Fragment,{children:[p&&a!==0&&c.jsx(Ir,{}),c.jsx(Me,{text:g,icon:b,pressed:x,...y})]},s.key)})})})}function ucn(e){const{callback:t,children:n,options:r,...o}=e,[i,s]=h.useState(null);return h.useEffect(()=>{if(!i)return;const a=new IntersectionObserver(t,r);return a.observe(i),()=>{a.unobserve(i),a.disconnect()}},[i,t,r]),c.jsx(W,{ref:s,...o,children:n})}var Rae=Object.freeze,dcn=Object.defineProperty,fcn=(e,t)=>Rae(dcn(e,"raw",{value:Rae(t||e.slice())})),Mae;const hcn=O.div(Mae||(Mae=fcn([`
  border-right: 1px solid var(--card-border-color);
  height: auto;

  &[data-hidden] {
    opacity: 0;
  }
`])));function Fae(e){const{hidden:t,...n}=e;return c.jsx(hcn,{"data-ui":"CollapseMenuDivider","data-hidden":t?"":void 0,...n})}var Lae=Object.freeze,pcn=Object.defineProperty,a1=(e,t)=>Lae(pcn(e,"raw",{value:Lae(t||e.slice())})),Bae,Nae,zae,Vae,Hae,Uae;const Wae=3,$Ie=de(Bae||(Bae=a1([`
  list-style: none;
  display: flex;
  white-space: nowrap;

  &[data-hidden='true'] {
    opacity: 0;
    visibility: hidden;
  }
`]))),mcn=O(W)(Nae||(Nae=a1([`
  padding: `,`px;
  margin: -`,`px;
  box-sizing: border-box;
`])),Wae,Wae),gcn=O(W)(zae||(zae=a1([`
  border-radius: inherit;
  position: relative;
`]))),Yae=O(W)(Vae||(Vae=a1([`
  width: max-content;

  &[data-hidden='true'] {
    height: 0px;
    visibility: hidden;
  }
`]))),vcn=O(ucn)(Hae||(Hae=a1([`
  `,`
`])),$Ie),ycn=O(W)(Uae||(Uae=a1([`
  `,`
`])),$Ie);function bcn(e){return!!e}const mN=h.forwardRef(function(t,n){const{children:r,collapsed:o,collapseText:i=!0,disableRestoreFocusOnClose:s,gap:a,menuButtonProps:l,onMenuClose:u,...d}=t,[f,p]=h.useState(null),[m,v]=h.useState(null),g=xw(f),[b,x]=h.useState([]),y=h.useMemo(()=>g&&f&&m?g.width<m.scrollWidth:!1,[m,f,g]),w=h.useMemo(()=>(l==null?void 0:l.button)||c.jsx(ae,{icon:Ho,mode:"bleed"}),[l]),C=h.useMemo(()=>({root:f,threshold:1,rootMargin:"2px"}),[f]),_=h.useMemo(()=>re.Children.toArray(r).filter(bcn),[r]),S=h.useMemo(()=>_.filter(A=>{let{key:D}=A;return b.find(I=>I.key===D)}),[_,b]),E=h.useMemo(()=>o||S.length>0,[o,S.length]),j=h.useCallback(A=>S.some(D=>D.key===A),[S]),k=h.useCallback((A,D)=>{const I=j(D.key);if(!A.isIntersecting&&!I&&x(P=>[D,...P]),A.isIntersecting&&I){const P=S.filter(M=>{let{key:$}=M;return $!==D.key});x(P)}},[j,S]),T=h.useMemo(()=>_.map(A=>{const{collapsedProps:D,expandedProps:I}=A.props,P=y?D:I,M=y&&i?void 0:A.props.text;return h.cloneElement(A,{...P,text:M})}),[_,i,y]);return o?c.jsx($ae,{disableRestoreFocusOnClose:s,menuButton:w,menuButtonProps:l,menuOptionsArray:_,onMenuClose:u}):c.jsxs(mcn,{align:"center","data-ui":"CollapseMenu",overflow:"hidden",sizing:"border",ref:n,...d,children:[c.jsxs(gcn,{direction:"column",flex:1,justify:"center",ref:p,children:[c.jsx(Yae,{gap:a,children:T.map((A,D)=>{const{dividerBefore:I,tooltipText:P="",tooltipProps:M={}}=A.props,$=j(A.key);return c.jsxs(re.Fragment,{children:[I&&D!==0&&c.jsx(Fae,{hidden:$}),c.jsx(vcn,{options:C,callback:V=>k(V[0],A),"aria-hidden":$,"data-hidden":$,children:c.jsx(yt,{portal:!0,disabled:!P,content:c.jsx(F,{padding:2,sizing:"border",children:c.jsx(B,{size:1,children:P})}),...M,children:c.jsx(W,{children:h.cloneElement(A,{disabled:A.props.disabled||$,"aria-hidden":$})})})})]},A.key)})}),c.jsx(Yae,{"data-hidden":!0,"aria-hidden":"true",gap:a,ref:v,children:_.map((A,D)=>{const{dividerBefore:I}=A.props;return c.jsxs(re.Fragment,{children:[I&&D!==0&&c.jsx(Fae,{}),c.jsx(ycn,{children:h.cloneElement(A,{disabled:!0,"aria-hidden":!0})},A.key)]},A.key)})})]}),E&&c.jsx(W,{marginLeft:a,children:c.jsx($ae,{disableRestoreFocusOnClose:s,menuButton:w,menuButtonProps:l,menuOptionsArray:S,onMenuClose:u})})]})}),gN=h.forwardRef(function(t,n){const{collapsedProps:r={},expandedProps:o={},tooltipProps:i={},tooltipText:s,dividerBefore:a,...l}=t;return c.jsx(ae,{"data-ui":"CollapseMenuButton",...l,ref:n})});var qae=Object.freeze,xcn=Object.defineProperty,wcn=(e,t)=>qae(xcn(e,"raw",{value:qae(t||e.slice())})),Gae;const Ccn=O.div(Gae||(Gae=wcn([`
  width: 1em;
  height: 1em;
  border-radius: inherit;
  background-origin: content-box;
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  transform: scale(0.7);
`])));function _cn(e){const{icon:t,active:n}=e,r=h.useMemo(()=>({backgroundImage:"url(".concat(t,")"),filter:n?"invert(100%)":"invert(0%)"}),[n,t]);return c.jsx(Ccn,{style:r})}function Scn(e,t,n){return e.schemaTypes.decorators.map(o=>{const i=Object.keys(n.marks||{}).find(a=>{var l;return((l=n.marks)==null?void 0:l[a])===o.value});let s=[];return i&&(s=[i]),{type:"format",disabled:t,icon:o==null?void 0:o.icon,key:o.value,handle:()=>{Ce.toggleMark(e,o.value),Ce.focus(e)},hotkeys:s,title:o.title}})}function Ecn(e,t){return e.schemaTypes.lists.map(r=>({type:"listStyle",key:r.value,disabled:t,icon:r==null?void 0:r.icon,handle:()=>{Ce.toggleList(e,r.value)},title:r.title}))}function kcn(e){return Nn(e,"icon")||Nn(e,"type.icon")||Nn(e,"type.to.icon")||Nn(e,"type.to[0].icon")}function jcn(e,t,n){const r=e.schemaTypes,o=Ce.focusChild(e),i=o&&o.text;return r.annotations.map(s=>({type:"annotation",disabled:!i||t,icon:kcn(s),key:s.name,handle:a=>{a?(Ce.removeAnnotation(e,s),Ce.focus(e)):n(s)},title:s.title||Em(s.name)}))}function Tcn(e,t,n,r){return[{name:"format",actions:Scn(e,t,r)},{name:"list",actions:Ecn(e,t)},{name:"annotation",actions:jcn(e,t,n)}]}function Acn(e){return e.styles.map(t=>({key:"style-".concat(t.value),style:t.value,styleComponent:t&&t.component,title:t.title}))}function Kae(e,t){const n=Nn(e,"to[0].icon");return e.icon||e.type&&e.type.icon||n||t}function Dcn(e,t,n,r){const o=e.blockObjects.map((a,l)=>({handle:()=>n(a),icon:Kae(a,_ve),inline:!1,key:"block-".concat(l),type:a})),i=e.inlineObjects.map((a,l)=>({handle:()=>r(a),icon:Kae(a,Mve),inline:!0,key:"inline-".concat(l),type:a}));return o.concat(i).filter(a=>{var l;return!((l=a.type)!=null&&l.hidden)})}const Icn={link:jf},Pcn={strong:Sve,em:Bve,"strike-through":qve,underline:Gve,code:jve},Ocn={number:Vve,bullet:Uy};function $cn(e,t){return e.icon?typeof e.icon=="string"?c.jsx(_cn,{active:t,icon:e.icon}):e.icon:e.type==="annotation"?Icn[e.key]||bl:e.type==="listStyle"?Ocn[e.key]||bl:Pcn[e.key]||bl}function FA(){const e=mo(),t=q0();return h.useMemo(()=>Ce.focusBlock(e),[e,t])}function Rcn(e){let{hotkeys:t,onMemberOpen:n,resolveInitialValue:r,disabled:o}=e;const i=mo(),s=h.useCallback(async a=>{const l=await r(a),u=Ce.addAnnotation(i,a,l);u&&u.markDefPath&&n(u.markDefPath)},[i,n,r]);return h.useMemo(()=>i?Tcn(i,o,s,t):[],[o,i,s,t])}function Mcn(e){let{actions:t}=e;const n=mo(),r=q0();return Go(h.useMemo(()=>{const o=Ce.activeAnnotations(n).map(i=>i._type);return t.filter(i=>i.type==="annotation"?o.includes(i.key):i.type==="listStyle"?Ce.hasListStyle(n,i.key):Ce.isMarkActive(n,i.key)).map(i=>i.key)},[n,r]))}function Fcn(e){let{items:t}=e;const n=mo(),r=FA(),o=q0();return Go(h.useMemo(()=>t.filter(i=>Ce.hasBlockStyle(n,i.style)).map(i=>i.style),[r,o]))}const Lcn=h.memo(mN),Bcn={constrainSize:!0,portal:!0},Ncn={padding:2,mode:"bleed"},zcn=h.memo(function(t){const{disabled:n,groups:r,isFullscreen:o,collapsed:i}=t,s=FA(),a=mo(),l=(s==null?void 0:s._type)!==a.schemaTypes.block.name,u=!l&&Array.isArray(s.children)&&s.children.length===1&&(s==null?void 0:s.children[0].text)==="",d=n||l,f=h.useMemo(()=>r.reduce((b,x)=>b.concat(x.actions.map((y,w)=>w===0?{...y,firstInGroup:!0}:y)),[]),[r]),p=Mcn({actions:f}),m=h.useCallback(()=>{Ce.focus(a)},[a]),v=h.useMemo(()=>f.map(b=>{const x=b.type==="annotation"&&u,y=p.includes(b.key);return h.createElement(gN,{"data-testid":"action-button-".concat(b.key),disabled:d||x,...Ncn,dividerBefore:b.firstInGroup,icon:$cn(b,y),key:b.key,onClick:()=>b.handle(y),selected:y,text:b.title||b.key,tooltipText:b.title||b.key,tooltipProps:{disabled:d||x,placement:o?"bottom":"top",portal:"default"}})}),[f,p,d,u,o]),g=h.useMemo(()=>({button:c.jsx(ae,{icon:Ho,mode:"bleed",padding:2,disabled:d}),popover:Bcn}),[d]);return c.jsx(Lcn,{collapsed:i,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:g,onMenuClose:m,children:v})});var Zae=Object.freeze,Vcn=Object.defineProperty,RIe=(e,t)=>Zae(Vcn(e,"raw",{value:Zae(t||e.slice())})),Xae,Qae;const Hcn=h.memo(rn),Ucn=O(Me)(Xae||(Xae=RIe([`
  // Change the border color variable used by BlockQuote
  // to make the border visible when the MenuItem is selected
  &[data-selected] {
    [data-option='blockquote'] {
      --card-border-color: var(--card-muted-fg-color);
    }
  }
`]))),Wcn=O(ae)(Qae||(Qae=RIe([`
  width: 100%;
`]))),Ycn={constrainSize:!0,placement:"bottom-start",portal:"default"},MIe={h1:e=>c.jsx(GDe,{children:e}),h2:e=>c.jsx(KDe,{children:e}),h3:e=>c.jsx(ZDe,{children:e}),h4:e=>c.jsx(XDe,{children:e}),h5:e=>c.jsx(QDe,{children:e}),h6:e=>c.jsx(JDe,{children:e}),normal:e=>c.jsx(cN,{children:e}),blockquote:e=>c.jsx(eIe,{"data-option":"blockquote",children:e})},qcn=Object.keys(MIe),Gcn=e=>e.preventDefault(),HO={key:"style-none",style:"",title:"No style"},Kcn=h.memo(function(t){const{disabled:n,items:r}=t,o=mo(),i=FA(),s=n||(i?o.schemaTypes.block.name!==i._type:!1),a=Fcn({items:r}),{activeItems:l,items:u}=h.useMemo(()=>{const g=r.filter(x=>a.includes(x.style));let b=r;return g.length===0&&b.length>1&&(b=b.concat([HO]),g.push(HO)),{activeItems:g,items:b}},[a,r]),d=h.useMemo(()=>l.length>1?"Multiple":l.length===1?l[0].title:HO.title,[l]),f=h.useCallback(g=>{i&&g.style!==i.style&&setTimeout(()=>{Ce.toggleBlockStyle(o,g.style),Ce.focus(o)})},[o,i]),p=h.useCallback((g,b)=>{const x=qcn.includes(g),y=MIe[g];return x?y(b):c.jsx(B,{children:b})},[]),m=h.useMemo(()=>c.jsx(Wcn,{disabled:s,iconRight:Ml,mode:"bleed",onClick:Gcn,padding:2,text:d}),[s,d]),v=h.useMemo(()=>c.jsx(Ht,{disabled:s,children:u.map(g=>c.jsx(Ucn,{pressed:l.includes(g),onClick:s?void 0:()=>f(g),children:p(g.style,(g==null?void 0:g.title)||g.style)},g.key))}),[s,l,f,u,p]);return c.jsx(Hcn,{popover:Ycn,id:"block-style-select",button:m,menu:v})}),Zcn=h.memo(mN),Xcn={constrainSize:!0,portal:!0},Qcn=h.memo(function(t){const{disabled:n,items:r,isFullscreen:o,collapsed:i}=t,s=FA(),a=mo(),l=s&&s._type!==a.schemaTypes.block.name,u=h.useCallback(()=>{Ce.focus(a)},[a]),d=h.useMemo(()=>r.map(p=>{const m=p.type.title||U2e(p.type.name);return c.jsx(gN,{"aria-label":"Insert ".concat(m).concat(p.inline?" (inline)":" (block)"),padding:2,mode:"bleed",disabled:n||l&&p.inline===!0,icon:p.icon,onClick:p.handle,text:m,tooltipText:"Insert ".concat(m),tooltipProps:{disabled:n,placement:o?"bottom":"top",portal:"default"}},p.key)}),[r,n,l,o]),f=h.useMemo(()=>({button:c.jsx(ae,{icon:Js,mode:"bleed",padding:2,disabled:n}),popover:Xcn}),[n]);return c.jsx(Zcn,{collapsed:i,collapseText:!1,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:f,onMenuClose:u,children:d})});var Jae=Object.freeze,Jcn=Object.defineProperty,a0=(e,t)=>Jae(Jcn(e,"raw",{value:Jae(t||e.slice())})),ele,tle,nle,rle,ole,ile;const eun=O(W)(ele||(ele=a0([`
  width: 100%;
`]))),tun=O(F)(tle||(tle=a0([`
  width: 8em;
`]))),nun=O(W)(nle||(nle=a0([`
  border-right: 1px solid var(--card-border-color);
`]))),run=O(F)(ole||(ole=a0([`
  `,`
`])),e=>{let{$withInsertMenu:t}=e;return t&&de(rle||(rle=a0([`
      max-width: max-content;
      border-right: 1px solid var(--card-border-color);
    `])))}),oun=O(F)(ile||(ile=a0([`
  border-left: 1px solid var(--card-border-color);
`]))),iun=300,sun=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),aun=h.memo(function(t){let{actionGroups:n,blockStyles:r,disabled:o,insertMenuItems:i,isFullscreen:s,onToggleFullscreen:a}=t;const u=n.reduce((x,y)=>x+y.actions.length,0)>0,d=i.length>0,[f,p]=h.useState(null),m=xw(f),v=m?(m==null?void 0:m.width)<400:!1,g=r.length>1;NTe({rootElement:f});const b=h.useCallback(x=>{x.preventDefault(),x.stopPropagation()},[]);return c.jsxs(eun,{align:"center",ref:p,onMouseDown:b,children:[g&&c.jsx(nun,{flex:v?1:void 0,children:c.jsx(tun,{padding:s?2:1,children:c.jsx(Kcn,{disabled:o,items:r})})}),c.jsxs(W,{flex:1,children:[u&&c.jsx(run,{flex:v?void 0:1,padding:s?2:1,$withInsertMenu:d,children:c.jsx(zcn,{disabled:o,collapsed:v,groups:n,isFullscreen:s})}),d&&c.jsx(F,{flex:v?void 0:1,padding:s?2:1,children:c.jsx(Qcn,{disabled:o,collapsed:v,items:i,isFullscreen:s})})]}),c.jsx(oun,{padding:s?2:1,children:c.jsx(yt,{content:c.jsxs(W,{align:"center",padding:1,children:[c.jsx(F,{flex:1,paddingX:1,children:c.jsx(B,{size:1,children:"".concat(s?"Collapse":"Expand"," editor")})}),c.jsx(F,{marginLeft:1,children:c.jsx(OL,{keys:["".concat(sun?"Cmd":"Ctrl"),"Enter"]})})]}),placement:s?"bottom":"top",portal:"default",children:c.jsx(ae,{padding:2,icon:s?Tve:Rve,mode:"bleed",onClick:a})})})]})});function lun(e){const{hotkeys:t,isFullscreen:n,readOnly:r,onMemberOpen:o,onToggleFullscreen:i}=e,s=mo(),a=q0(),l=zN(),u=r||!a,{push:d}=Ai(),f=h.useCallback(x=>{let y=!1;const w=setTimeout(()=>{y=!0,d({id:"resolving-initial-value",status:"info",title:"Resolving initial value…"})},iun);return l(x,{}).then(C=>(y&&d({id:"resolving-initial-value",status:"info",duration:500,title:"Initial value resolved"}),C)).catch(C=>{d({title:"Could not resolve initial value",id:"resolving-initial-value",description:"Unable to resolve initial value for type: ".concat(x.name,": ").concat(C.message,"."),status:"error"})}).finally(()=>clearTimeout(w))},[d,l]),p=h.useCallback(async x=>{const y=await f(x),w=Ce.insertBlock(s,x,y);w&&o(w)},[s,o,f]),m=h.useCallback(async x=>{const y=await f(x),w=Ce.insertChild(s,x,y);w&&o(w)},[s,o,f]),v=Rcn({hotkeys:t,onMemberOpen:o,resolveInitialValue:f,disabled:!0}),g=h.useMemo(()=>Acn(s.schemaTypes),[s]),b=h.useMemo(()=>Dcn(s.schemaTypes,u,p,m),[u,s,p,m]);return c.jsx(aun,{actionGroups:v,blockStyles:g,disabled:u,insertMenuItems:b,isFullscreen:n,onToggleFullscreen:i})}var sle=Object.freeze,cun=Object.defineProperty,bf=(e,t)=>sle(cun(e,"raw",{value:sle(t||e.slice())})),ale,lle,cle,ule,dle,fle,hle,ple;const uun=O(ee)(ale||(ale=bf([`
  height: `,`;

  &:not([hidden]) {
    display: flex;
  }

  flex-direction: column;
`])),e=>{let{$fullscreen:t}=e;return t?"100%":"15em"}),dun=O(ee)(lle||(lle=bf([`
  z-index: 10;
  line-height: 0;
`]))),fun=O(ee)(cle||(cle=bf([`
  position: relative;
  overflow: hidden;
  overflow: clip;

  & > [data-portal] {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;

    & > * {
      pointer-events: initial;
    }
  }

  &::selection,
  *::selection {
    background-color: transparent;
  }
`]))),hun=O(sB)(ule||(ule=bf([`
  position: relative;
  overflow: auto;
  height: 100%;
  display: flex;
  flex-direction: column;

  & > * {
    flex: 1;
    min-height: auto;
  }
`]))),pun=O(ia)(dle||(dle=bf([`
  /* @todo: calculate from theme */
  /* max-width: 728px; */
`]))),mun=O(ee)(ple||(ple=bf([`
  height: 100%;
  width: 100%;
  counter-reset: `,`;
  overflow: hidden;
  overflow: clip;

  & > div {
    height: 100%;
  }

  & .pt-editable {
    display: block;
    width: 100%;
    height: 100%;

    `,`

    & > .pt-list-item-bullet + .pt-list-item-number,
    & > .pt-list-item-number + .pt-list-item-bullet {
      margin-top: `,`px;
      counter-reset: `,`;
    }

    & > :not(.pt-list-item) + .pt-list-item {
      margin-top: `,`px;
    }

    /* Reset the list count if the element is not a numbered list item */
    & > :not(.pt-list-item-number) {
      counter-reset: `,`;
    }

    `,`

    & > .pt-list-item + :not(.pt-list-item) {
      margin-top: `,`px;
    }

    & > :first-child {
      padding-top: `,`px;
    }

    & > :last-child {
      padding-bottom: `,`px;
    }

    /* & > .pt-block {
      & .pt-inline-object {
      }
    } */

    & .pt-drop-indicator {
      pointer-events: none;
      border: 1px solid var(--card-focus-ring-color) !important;
      height: 0px !important;
      border-radius: 1px;
      margin-top: -3px;
      left: calc(
        `,` - 1px
      );
      right: calc(
        `,` - 1px
      );
      width: calc(
        100% -
          `,` + 2px
      ) !important;
    }
  }
`])),oy.map(e=>ep(e)).join(" "),oy.map(e=>de(fle||(fle=bf([`
        & > .pt-list-item-number[class~='pt-list-item-level-`,`'] {
          counter-increment: `,`;
        }
      `])),e,ep(e))),e=>{let{theme:t}=e;return t.sanity.space[3]},oy.map(e=>ep(e)).join(" "),e=>{let{theme:t}=e;return t.sanity.space[2]},oy.map(e=>ep(e)).join(" "),oy.slice(1).map(e=>de(hle||(hle=bf([`
        & > .pt-list-item-level-`," + .pt-list-item-level-",` {
          counter-reset: `,`;
        }
      `])),e,e-1,ep(e))),e=>{let{theme:t}=e;return t.sanity.space[3]},e=>{let{$isFullscreen:t,theme:n}=e;return n.sanity.space[t?5:3]},e=>{let{$isFullscreen:t,theme:n}=e;return n.sanity.space[t?9:5]},e=>{let{$isFullscreen:t,theme:n}=e;return ge(t?n.sanity.space[5]:n.sanity.space[3])},e=>{let{$isFullscreen:t,theme:n}=e;return ge(t?n.sanity.space[5]:n.sanity.space[3])},e=>{let{$isFullscreen:t,theme:n}=e;return ge(t?n.sanity.space[5]*2:n.sanity.space[3]*2)});function gun(){const e=mo();return h.useMemo(()=>{var t;const n=(t=e.schemaTypes.block.options)==null?void 0:t.spellCheck,r=typeof navigator>"u"?!1:/Chrome\/96/.test(navigator.userAgent);return n===void 0&&r===!0?!1:n},[e])}function vun(e){return h.useMemo(()=>(t,n)=>{if(Ce.getSelection(t)){const o=n.startContainer.parentElement;if(!o)return;Cx(o,{scrollMode:"if-needed",boundary:e,block:"start",inline:"nearest"})}},[e])}const yun=e=>{const{block:t,focused:n,children:r,selected:o,schemaType:i}=e,s=h.useMemo(()=>(t.style&&FO[t.style]?FO[t.style]:FO[0])||cN,[t.style]),a=h.useCallback(l=>c.jsx(s,{children:c.jsx(pd,{"data-testid":"text-style--".concat(t.style),children:l.children})}),[s,t.style]);return h.useMemo(()=>{const l=i.component,{title:u,value:d}=i,f={block:t,focused:n,renderDefault:a,schemaType:i,selected:o,title:u,value:d};return l?c.jsx(l,{...f,children:r}):c.jsx(a,{...f,children:r})},[a,t,r,n,i,o])},mle=e=>c.jsx(c.Fragment,{children:e.children}),bun=e=>{const{block:t,children:n,schemaType:r,selected:o,focused:i,level:s,value:a}=e,{title:l,component:u}=r;return h.useMemo(()=>{const d={block:t,focused:i,level:s,renderDefault:mle,schemaType:r,selected:o,title:l,value:a};return u?c.jsx(u,{...d,children:n}):c.jsx(mle,{...d,children:n})},[u,t,n,i,s,r,o,l,a])},xun={outline:"none"},wun=e=>c.jsx(lcn,{...e}),Cun=e=>c.jsx(yun,{...e}),_un=e=>c.jsx(bun,{...e});function Sun(e){const{hotkeys:t,initialSelection:n,isActive:r,isFullscreen:o,onCopy:i,onItemOpen:s,onPaste:a,onToggleFullscreen:l,path:u,readOnly:d,renderAnnotation:f,renderBlock:p,renderChild:m,scrollElement:v,setPortalElement:g,setScrollElement:b,ariaDescribedBy:x}=e,{isTopLayer:y}=Rc(),w=h.useRef(null),{element:C}=eh();As(h.useCallback(T=>{!y||!o||T.key==="Escape"&&l()},[l,o,y]));const _=h.useCallback(()=>c.jsx("span",{"data-testid":"pt-input-placeholder",children:"Empty"}),[]),S=gun(),E=vun(v),j=h.useMemo(()=>c.jsx(gke,{hotkeys:t,onCopy:i,onPaste:a,ref:w,renderAnnotation:f,renderBlock:p,renderChild:m,renderDecorator:wun,renderListItem:_un,renderPlaceholder:_,renderStyle:Cun,scrollSelectionIntoView:E,selection:n,style:xun,spellCheck:S,"aria-describedby":x}),[t,n,i,a,f,p,m,_,E,S,x]),k=h.useCallback(T=>{s(u.concat(T))},[s,u]);return c.jsxs(uun,{$fullscreen:o,"data-testid":"pt-editor",children:[r&&c.jsx(dun,{"data-testid":"pt-editor__toolbar-card",shadow:1,children:c.jsx(lun,{hotkeys:t,isFullscreen:o,onMemberOpen:k,onToggleFullscreen:l,readOnly:d})}),c.jsxs(fun,{flex:1,tone:d?"transparent":"default",children:[c.jsx(hun,{ref:b,children:c.jsx(pun,{padding:o?2:0,sizing:"border",width:1,children:c.jsx(mun,{$isFullscreen:o,tone:d?"transparent":"default",children:c.jsx(vm,{element:o?v:C,children:j})})})}),c.jsx("div",{"data-portal":"",ref:g})]})]})}var gle=Object.freeze,Eun=Object.defineProperty,FIe=(e,t)=>gle(Eun(e,"raw",{value:gle(t||e.slice())})),vle,yle;const kun=O.div(e=>{let{theme:t}=e;const{focusRing:n,input:r}=t.sanity,o=t.sanity.color.base,s={color:t.sanity.color.input.default.enabled.border,width:r.border.width};return de(vle||(vle=FIe([`
    --input-box-shadow: `,`;

    position: relative;

    & [data-wrapper] {
      overflow: hidden;
      overflow: clip;
      position: relative;
      z-index: 1;
      padding: `,`px;
    }

    & [data-border] {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      box-shadow: var(--input-box-shadow);
      z-index: 2;
      border-radius: 1px;
      pointer-events: none;
    }

    &:not([data-read-only])[data-focused] [data-border] {
      --input-box-shadow: `,`;
    }
  `])),dN(s),r.border.width,fN({base:o,border:s,focusRing:n}))}),jun=O(es)(yle||(yle=FIe([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
`])));function Tun(e){const t=mo(),[n]=h.useState(()=>e);return n!==e&&console.warn("Make sure that hotkeys are a stable object across renders, or there will be issues with key handling in the Portable Text Editor."),h.useMemo(()=>{const r={marks:{}};return t.schemaTypes.decorators.forEach(o=>{switch(o.value){case"strong":r.marks["mod+b"]=o.value;break;case"em":r.marks["mod+i"]=o.value;break;case"underline":r.marks["mod+u"]=o.value;break;case"code":r.marks["mod+'"]=o.value;break}}),{marks:{...r.marks,...(n||{}).marks},custom:n.custom}},[t,n])}function Aun(e){const{focusPath:t,boundaryElement:n,onItemClose:r}=e,o=won(),i=mo(),s=q0();h.useLayoutEffect(()=>{var a,l,u,d,f;if(t.length===0)return;const p=o.find(m=>m.member.open);if(p&&((a=p.elementRef)!=null&&a.current)){if(n&&(Cx(n,{scrollMode:"if-needed",block:"start",inline:"start"}),Cx(p.elementRef.current,{scrollMode:"if-needed",boundary:n,block:"start",inline:"start"})),s!=null&&s.focus.path&&Cn(s.focus.path,t))return;const m=p.kind==="textBlock",v=t.length===1;if(m||v){const g=m&&_l(t[2])?t[2]._key:void 0,b=g&&Array.isArray((l=p.node.value)==null?void 0:l.children)?(u=p.node.value)==null?void 0:u.children.find(C=>C._key===g):void 0,x=b&&b._type==="span"&&t.length===4&&t[1]==="children"&&t[3]==="text"||!1,y=m&&(t.length===3&&t[1]==="children"||x);let w=[];y?w=t.slice(0,3):m&&v&&Array.isArray((d=p.node.value)==null?void 0:d.children)?w=[t[0],"children",{_key:(f=p.node.value)==null?void 0:f.children[0]._key}]:v&&(w=[{_key:p.key}]),w.length&&(Ce.select(i,{anchor:{path:w,offset:0},focus:{path:w,offset:0}}),m&&Ce.focus(i))}}},[n,i,t,r,o,s==null?void 0:s.focus.path])}function Dun(e){const{changed:t,focused:n,focusPath:r=Vn,hasFocusWithin:o,hotkeys:i,isActive:s,isFullscreen:a,onActivate:l,onCopy:u,onItemClose:d,onItemOpen:f,onItemRemove:p,onPaste:m,onPathFocus:v,onToggleFullscreen:g,path:b,readOnly:x,renderAnnotation:y,renderBlock:w,renderBlockActions:C,renderCustomMarkers:_,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,value:A}=e,D=mo(),I=eh().element,[P,M]=h.useState(null),[$,V]=h.useState(null),L=h.useCallback(()=>{g()},[g]),H=h.useMemo(()=>({...i,custom:{"mod+enter":g,...(i==null?void 0:i.custom)||{}}}),[i,g]),U=Tun(H),z=A&&C?C:void 0,Y=A&&_?_:void 0,[te,N]=h.useState(null),G=h.useCallback(_e=>{const{children:Ae,focused:xe,path:Ze,selected:rt,schemaType:at,value:nt}=_e;return c.jsx(oin,{floatingBoundary:I,focused:xe,isFullscreen:a,onItemClose:d,onItemOpen:f,onItemRemove:p,onPathFocus:v,path:b.concat(Ze),readOnly:x,referenceBoundary:$,renderAnnotation:y,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderBlockActions:z,renderCustomMarkers:Y,renderPreview:T,renderBlock:w,schemaType:at,selected:rt,value:nt,children:Ae})},[z,Y,$,a,d,f,p,v,I,b,x,y,w,S,E,j,k,T]),q=h.useCallback(_e=>{const{focused:Ae,path:xe,selected:Ze,schemaType:rt,value:at}=_e;return c.jsx(Von,{floatingBoundary:I,focused:Ae,isFullscreen:a,onItemClose:d,onItemOpen:f,onItemRemove:p,onPathFocus:v,path:b.concat(xe),readOnly:x,referenceBoundary:$,relativePath:xe,renderAnnotation:y,renderBlock:w,renderBlockActions:z,renderCustomMarkers:Y,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,schemaType:rt,selected:Ze,value:at})},[I,$,a,d,f,p,v,b,x,y,w,z,Y,S,E,j,k,T]),K=h.useCallback(_e=>{const{value:Ae}=_e;return Ae._type===D.schemaTypes.block.name?G(_e):q(_e)},[D.schemaTypes.block.name,q,G]),Q=h.useCallback(_e=>{const{children:Ae,focused:xe,path:Ze,selected:rt,schemaType:at,value:nt}=_e;return nt._type===D.schemaTypes.span.name?Ae:c.jsx(min,{floatingBoundary:I,focused:xe,onItemClose:d,onItemOpen:f,onPathFocus:v,path:b.concat(Ze),readOnly:x,referenceBoundary:$,relativePath:Ze,renderAnnotation:y,renderBlock:w,renderCustomMarkers:_,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,schemaType:at,selected:rt,value:nt})},[I,$,D.schemaTypes.span.name,d,f,v,b,x,y,w,_,S,E,j,k,T]),X=h.useCallback(_e=>{const{children:Ae,focused:xe,path:Ze,selected:rt,schemaType:at,value:nt}=_e;return c.jsx(Sin,{editorNodeFocused:xe,floatingBoundary:I,focused:!!n,onItemClose:d,onItemOpen:f,onPathFocus:v,path:b.concat(Ze),readOnly:x,referenceBoundary:$,renderAnnotation:y,renderBlock:w,renderCustomMarkers:_,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,schemaType:at,selected:rt,value:nt,children:Ae})},[I,$,n,d,f,v,b,x,y,w,_,S,E,j,k,T]),Z=e.elementProps["aria-describedby"],oe=h.useMemo(()=>{if(o)return{anchor:{path:r,offset:0},focus:{path:r,offset:0}}},[]),le=h.useMemo(()=>c.jsx(Sun,{ariaDescribedBy:Z,initialSelection:oe,hotkeys:U,isActive:s,isFullscreen:a,onItemOpen:f,onCopy:u,onPaste:m,onToggleFullscreen:L,path:b,readOnly:x,renderAnnotation:X,renderBlock:K,renderChild:Q,setPortalElement:N,scrollElement:$,setScrollElement:V}),[Z,U,X,K,Q,L,oe,s,a,u,f,m,b,x,$]),he=Uj(),ie=h.useMemo(()=>({collapsed:P,default:he.element,editor:te,expanded:he.element}),[he.element,te,P]);Aun({focusPath:r,boundaryElement:$,onItemClose:d});const ye=n||o;return c.jsx(k0,{__unstable_elements:ie,children:c.jsx(ocn,{onActivate:l,isOverlayActive:!s,children:c.jsx(ni,{disabled:a,hasFocus:!!n,isChanged:t,path:b,children:c.jsxs(kun,{"data-focused":ye?"":void 0,"data-read-only":x?"":void 0,children:[c.jsx(F,{"data-wrapper":"",ref:M,children:c.jsx(ym,{__unstable_name:a?"expanded":"collapsed",children:a?c.jsx(jun,{children:le}):le})}),c.jsx("div",{"data-border":""})]})})})})}function Iun(e){const{onChange:t,onIgnore:n,resolution:r,readOnly:o}=e,i=h.useCallback(()=>{r&&t({type:"mutation",patches:r.patches})},[t,r]);return r?c.jsx(Hc,{suffix:c.jsxs(ne,{padding:2,children:[r.action&&c.jsxs(ln,{columns:[1,2],gap:1,children:[c.jsx(ae,{mode:"ghost",onClick:n,text:"Ignore"}),!o&&c.jsx(ae,{onClick:i,text:r.action,tone:"caution"})]}),c.jsx(F,{padding:3,children:r.action&&c.jsx(B,{as:"p",muted:!0,size:1,children:"NOTE: It’s generally safe to perform the action above, but if you are in doubt, get in touch with those responsible for configuring your studio."})})]}),title:c.jsx(c.Fragment,{children:"Invalid Portable Text Editor value"}),children:c.jsxs(ne,{space:3,children:[c.jsx(B,{as:"p",muted:!0,size:1,children:r.description}),c.jsx(ee,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:c.jsx(wr,{language:"json",children:JSON.stringify(r.item,null,2)})})]})}):null}function Pun(e){const{path:t}=e,{patchChannel:n}=ri().__internal;return{subscribe:h.useCallback(o=>n.subscribe(i=>{let{snapshot:s,patches:a}=i;const l=a.filter(u=>k4(u.path,t)).map(u=>({...u,path:u.path.slice(t.length)}));l.length&&o({shouldReset:Run(t,a),snapshot:Ct(s)?Mun(s,t):{},patches:l})}),[t,n])}}function Oun(e,t){const n=typeof e;return n!==typeof t?!1:n==="object"?Nf(e,t):e===t}function k4(e,t){if(e===t)return!0;if(!Array.isArray(e)||!Array.isArray(t)||e.length<t.length)return!1;for(let n=0,r=t.length;n<r;n++)if(!Oun(t[n],e[n]))return!1;return!0}function $un(e,t){return e.length===0||k4(t,e)&&!k4(e,t)}function Run(e,t){return t.some(n=>$un(n.path,e)&&(n.type==="set"||n.type==="unset"))}function Mun(e,t){return t.reduce((n,r)=>typeof r=="object"?tje(n,r):Nn(n,r),e)}function Fun(e){const{elementProps:t,hotkeys:n,markers:r=Vn,members:o,onChange:i,onCopy:s,onItemRemove:a,onInsert:l,onPaste:u,onPathFocus:d,path:f,readOnly:p,renderBlockActions:m,renderCustomMarkers:v,schemaType:g,value:b}=e,{onBlur:x}=t;h.useImperativeHandle(t.ref,()=>({focus(){w.current&&Ce.focus(w.current)}}));const{subscribe:y}=Pun({path:f}),w=h.useRef(null),[C,_]=h.useState(!1),[S,E]=h.useState(null),[j,k]=h.useState(!1),[T,A]=h.useState(!1),[D,I]=h.useState(!1),[P,M]=h.useState(!1),$=Ai(),V=h.useRef([]),L=h.useMemo(()=>new Ar,[]),H=h.useMemo(()=>L.asObservable(),[L]),U=h.useRef(null),z=h.useCallback(()=>{w.current&&k(K=>!K)},[]);h.useEffect(()=>{S&&b!==S.value&&E(null)},[S,b]),h.useEffect(()=>y(K=>{let{patches:Q,snapshot:X}=K;L.next({patches:Q,snapshot:X})}),[L,y]);const Y=h.useMemo(()=>{var K;const Q=[];for(const Z of o)if(Z.kind==="item")if(!DA(Z.item.schemaType))Q.push({kind:"objectBlock",member:Z,node:Z.item});else{(Z.item.validation.length>0||Z.item.changed||(K=Z.item.presence)!=null&&K.length)&&Q.push({kind:"textBlock",member:Z,node:Z.item});const le=Z.item.members.find(ie=>ie.kind==="field"&&ie.name==="children");if(le&&le.kind==="field"&&tN(le))for(const ie of le.field.members)ie.kind==="item"&&ie.item.schemaType.name!=="span"&&Q.push({kind:"inlineObject",member:ie,node:ie.item});const he=Z.item.members.filter(von).find(ie=>ie.name==="markDefs");if(he)for(const ie of he.field.members)ie.kind==="item"&&ie.item.schemaType.jsonType==="object"&&Q.push({kind:"annotation",member:ie,node:ie.item})}const X=Q.map(Z=>{const oe=_n(Z.node.path),le=V.current.find(ie=>ie.key===oe);let he;return Z.kind!=="textBlock"&&(he=c.jsx(MDe,{absolutePath:Z.node.path,...e})),le?((Z.member.open||le.node.value!==Z.node.value)&&(le.input=he),le.member=Z.member,le.node=Z.node,le):{kind:Z.kind,key:oe,member:Z.member,node:Z.node,elementRef:h.createRef(),input:he}});return V.current=X,X},[o,e]);h.useEffect(()=>{P&&A(!0)},[P]);const te=h.useCallback(K=>{switch(K.type){case"mutation":i(ble(K.patches));break;case"connection":K.value==="offline"?I(!0):K.value==="online"&&I(!1);break;case"selection":h.startTransition(()=>{K.selection&&d(K.selection.focus.path)});break;case"focus":A(!0),M(!0);break;case"blur":x(K.event),M(!1);break;case"undo":case"redo":i(ble(K.patches));break;case"invalidValue":E(K);break;case"error":$.push({status:K.level,description:K.description});break}},[x,i,d,$]);h.useEffect(()=>{_(!1)},[b]);const N=h.useCallback(()=>{_(!0)},[]),G=h.useMemo(()=>S&&S.resolution?c.jsx(F,{marginBottom:2,children:c.jsx(Iun,{onChange:te,onIgnore:N,resolution:S.resolution,readOnly:D||p})}):null,[te,N,S,D,p]),q=h.useCallback(()=>{T||(A(!0),w.current&&Ce.focus(w.current))},[T]);return c.jsxs(F,{ref:U,children:[!C&&G,(!S||C)&&c.jsx(bon,{markers:r,children:c.jsx(xon,{memberItems:Y,children:c.jsx(Ce,{ref:w,patches$:H,onChange:te,maxBlocks:void 0,readOnly:D||p,schemaType:g,value:b,children:c.jsx(Dun,{...e,hasFocusWithin:P,hotkeys:n,isActive:T,isFullscreen:j,onActivate:q,onItemRemove:a,onCopy:s,onInsert:l,onPaste:u,onToggleFullscreen:z,renderBlockActions:m,renderCustomMarkers:v})})})})]})}function ble(e){return e.map(t=>({...t,patchType:em}))}function j4(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function Lun(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&j4(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var xle=Object.freeze,Bun=Object.defineProperty,LIe=(e,t)=>xle(Bun(e,"raw",{value:xle(t||e.slice())})),wle,Cle;const Nun=O(ee)(e=>{const{theme:t}=e,{focusRing:n,input:r,radius:o}=t.sanity,i=t.sanity.color.input,s=ge(t.sanity.space[1]);return{position:"relative",borderRadius:"".concat(o[1],"px"),color:i.default.enabled.fg,boxShadow:j4({color:i.default.enabled.border,width:r.border.width}),"& > .content":{position:"relative",lineHeight:0,margin:"-".concat(s," 0 0 -").concat(s)},"& > .content > div":{display:"inline-block",verticalAlign:"top",padding:"".concat(s," 0 0 ").concat(s)},"&:not([data-read-only])":{cursor:"text"},"@media(hover:hover):not([data-disabled]):not([data-read-only]):hover":{borderColor:i.default.hovered.border},"&:not([data-disabled]):not([data-read-only])[data-focused]":{boxShadow:Lun({border:{color:i.default.enabled.border,width:r.border.width},focusRing:n})},"*:disabled + &":{color:i.default.disabled.fg,backgroundColor:i.default.disabled.bg,boxShadow:j4({color:i.default.disabled.border,width:r.border.width})}}}),zun=O.input(e=>{const{theme:t}=e,n=t.sanity.fonts.text,r=t.sanity.color.input,o=t.sanity.space[2],i=t.sanity.fonts.text.sizes[2];return{appearance:"none",background:"none",border:0,borderRadius:0,outline:"none",fontSize:ge(i.fontSize),lineHeight:i.lineHeight/i.fontSize,fontFamily:n.family,fontWeight:n.weights.regular,margin:0,display:"block",minWidth:"1px",maxWidth:"100%",boxSizing:"border-box",paddingTop:ge(o-i.ascenderHeight),paddingRight:ge(o),paddingBottom:ge(o-i.descenderHeight),paddingLeft:ge(o),"&:not(:invalid):not(:disabled)":{color:r.default.enabled.fg},"&:not(:invalid):disabled":{color:r.default.disabled.fg}}}),Vun=O(F)(e=>{const{theme:t}=e,n=t.sanity.color.input;return de(wle||(wle=LIe([`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    pointer-events: none;
    --card-fg-color: `,`;
  `])),n.default.enabled.placeholder)}),Hun=O(F)(Cle||(Cle=LIe([`
  // This is needed to make textOverflow="ellipsis" work properly for the Text primitive
  max-width: 100%;
`]))),BIe=h.forwardRef((e,t)=>{const{disabled:n,onChange:r,onFocus:o,placeholder:i,readOnly:s,value:a=[],...l}=e,u=h.useMemo(()=>i||(typeof window<"u"&&"ontouchstart"in window?"Enter tag…":"Enter tag and press ENTER…"),[i]),[d,f]=h.useState(""),p=!n&&!s,[m,v]=h.useState(!1),g=lr(t),b=h.useRef(null),x=h.useCallback(E=>{if(Mc(E.target)&&E.target.closest('[data-ui="Tag"]'))return;const k=g.current;k&&setTimeout(()=>k.focus(),0)},[g]),y=h.useCallback(()=>{v(!1)},[]),w=h.useCallback(E=>{f(E.currentTarget.value)},[]),C=h.useCallback(E=>{v(!0),o&&o(E)},[o]),_=h.useCallback(E=>{if(E.key==="Enter"&&(E.preventDefault(),E.stopPropagation(),r&&d)){const j=a.concat([{value:d}]);f(""),r&&r(j)}},[d,r,a]),S=h.useCallback(E=>{if(!r)return;const j=a.slice(0);j.splice(E,1),r(j)},[r,a]);return h.useEffect(()=>{const E=g.current;E&&(E.style.width="0",E.style.width="".concat(E.scrollWidth,"px"))},[g,d]),c.jsxs(Nun,{"data-disabled":n?"":void 0,"data-focused":m?"":void 0,"data-read-only":s?"":void 0,"data-ui":"TagInput",onPointerDown:x,overflow:"auto",padding:1,ref:b,children:[p&&c.jsx(Vun,{hidden:!!(d||a.length),padding:3,children:c.jsx(B,{textOverflow:"ellipsis",children:u})}),c.jsxs("div",{className:"content",children:[a.map((E,j)=>c.jsx(Hun,{children:c.jsx(Uun,{enabled:p,index:j,muted:!p,onRemove:S,tag:E})},"tag-".concat(j))),c.jsx("div",{children:c.jsx(zun,{...l,disabled:!p,onBlur:y,onChange:w,onFocus:C,onKeyDown:_,ref:g,type:"text",value:d})},"tag-input")]})]})});BIe.displayName="TagInput";function Uun(e){const{enabled:t,index:n,muted:r,onRemove:o,tag:i}=e,s=h.useCallback(()=>{o(n)},[n,o]);return c.jsx(ee,{"data-ui":"Tag",padding:1,radius:2,tone:"transparent",children:c.jsxs(W,{align:"center",children:[c.jsx(F,{flex:1,padding:1,children:c.jsx(B,{muted:r,textOverflow:"ellipsis",children:i.value})}),t&&c.jsx(F,{marginLeft:1,children:c.jsx(ae,{icon:la,mode:"bleed",onClick:s,padding:1})})]})})}function Wun(e){const{onChange:t,readOnly:n,value:r=[],elementProps:o,path:i,changed:s}=e,a=h.useMemo(()=>r==null?void 0:r.map(u=>({value:u})),[r]),l=h.useCallback(u=>{t(u.length===0?Qe():pt(u.map(d=>d.value)))},[t]);return c.jsx(ni,{path:i,isChanged:s,hasFocus:!1,children:c.jsx(BIe,{onChange:l,readOnly:n,value:a,...o})})}const Yun={portal:!0,tone:"default"};function NIe(e){const{member:t,sortable:n,onRemove:r}=e,o=h.useId();return c.jsx(F,{paddingX:1,children:c.jsx(_A,{dragHandle:n,tone:"caution",menu:c.jsx(rn,{button:c.jsx(ae,{padding:2,mode:"bleed",icon:Ho}),id:"".concat(o,"-menuButton"),menu:c.jsx(Ht,{children:c.jsx(Me,{text:"Remove",tone:"critical",icon:fo,onClick:r})}),popover:Yun}),children:t.error.type==="INVALID_ITEM_TYPE"?c.jsx(DIe,{value:t.error.value}):c.jsxs("div",{children:["Unexpected Error: ",t.error.type]})})})}function qun(e){const{hoveringFiles:t,types:n,resolveUploader:r}=e,o=t.filter(a=>n.some(l=>r(l,a))),i=t.length-o.length,s=n.length>1;return c.jsx(c.Fragment,{children:o.length>0?c.jsxs(c.Fragment,{children:[c.jsxs(Jt,{space:2,children:[c.jsx(B,{children:c.jsx(uj,{})}),c.jsxs(B,{children:["Drop to upload"," ",s&&c.jsxs(c.Fragment,{children:[o.length," file",o.length>1?"s":""]})]})]}),i>0&&c.jsx(F,{marginTop:4,children:c.jsxs(Jt,{space:2,children:[c.jsx(B,{muted:!0,size:1,children:c.jsx(kf,{})}),c.jsxs(B,{muted:!0,size:1,children:[i," file",i>1?"s":""," can't be uploaded here"]})]})})]}):c.jsxs(Jt,{space:2,children:[c.jsx(B,{children:c.jsx(kf,{})}),c.jsxs(B,{children:["Can't upload ",t.length>1?"any of these files":"this file"," here"]})]})})}var _le=Object.freeze,Gun=Object.defineProperty,Kun=(e,t)=>_le(Gun(e,"raw",{value:_le(t||e.slice())})),Sle;const Zun=O(es)(Sle||(Sle=Kun([`
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background-color: var(--card-bg-color);
  opacity: 0.8;
`])));var Ele=Object.freeze,Xun=Object.defineProperty,Qun=(e,t)=>Ele(Xun(e,"raw",{value:Ele(t||e.slice())})),kle;const Jun=O.div(kle||(kle=Qun([`
  position: relative;
`])));function edn(e,t,n){return e.map(r=>({type:r,uploader:t(r,n)})).filter(r=>r.uploader)}function tdn(e){const t=sIe(e);return re.forwardRef(function(r,o){const{children:i,resolveUploader:s,onUpload:a,types:l,...u}=r,{push:d}=Ai(),f=re.useCallback((b,x)=>{const{type:y,uploader:w}=x;a==null||a({file:b,schemaType:y,uploader:w})},[a]),p=re.useCallback(b=>{if(!s)return;const x=b.map(C=>({file:C,uploaderCandidates:edn(l,s,C)})),y=x.filter(C=>C.uploaderCandidates.length>0),w=x.filter(C=>C.uploaderCandidates.length===0);if(w.length>0){const C=w.length>1;d({closable:!0,status:"warning",title:"The following item".concat(C?"s":""," can't be uploaded because there's no known conversion from content type").concat(C?"s":""," to array item:"),description:w.map((_,S)=>c.jsxs(W,{padding:2,children:[c.jsx(F,{marginLeft:1,children:c.jsx(B,{weight:"semibold",children:_.file.name})}),c.jsx(F,{paddingLeft:2,children:c.jsxs(B,{size:1,children:["(",_.file.type,")"]})})]},S))})}y.forEach(C=>{f(C.file,Cm(C.uploaderCandidates,_=>_.uploader.priority)[0])})},[d,s,l,f]),[m,v]=re.useState([]),g=re.useCallback(()=>v([]),[]);return c.jsx(Jun,{children:c.jsxs(t,{...u,ref:o,onFiles:p,onFilesOver:v,onFilesOut:g,children:[s&&m.length>0&&c.jsx(Zun,{zOffset:10,children:c.jsx(qun,{hoveringFiles:m,types:l,resolveUploader:s})}),i]})})})}const vN=aIe(tdn(ee));function ndn(e,t,n){return rdn(e,t,r=>r===n)}function rdn(e,t,n){let r=t-1,o=t;const i=e.length;for(;r>-1||o<i;){const s=e[o];if(o<i&&n(s,o))return o;const a=e[r];if(r>-1&&n(a,r))return r;r--,o++}return-1}const odn={portal:!0,tone:"default"},idn=re.forwardRef(function(t,n){const{sortable:r,value:o,insertableTypes:i,onInsert:s,onRemove:a,readOnly:l,inputId:u,validation:d,children:f,presence:p,schemaType:m}=t,v=d.filter(C=>C.level==="error").length>0,g=d.filter(C=>C.level==="warning").length>0,b=h.useCallback((C,_)=>{s({position:C,items:[oN(_)]})},[s]),x=h.useCallback(()=>{o&&s({position:"after",items:[o]})},[s,o]),y=h.useMemo(()=>{if(v)return"critical";if(g)return"caution"},[v,g]),w=c.jsx(rn,{button:c.jsx(ae,{padding:2,mode:"bleed",icon:Ho}),id:"".concat(u,"-menuButton"),popover:odn,menu:c.jsxs(Ht,{children:[c.jsx(Me,{text:"Remove",tone:"critical",icon:fo,onClick:a}),c.jsx(Me,{text:"Duplicate",icon:Au,onClick:x}),c.jsx(EA,{types:i,onInsert:b})]})});return c.jsx(_A,{tone:y,menu:!l&&w,dragHandle:!l&&r,presence:p.length===0?null:c.jsx(lC,{presence:p,maxAvatars:1}),validation:d.length>0?c.jsx(F,{marginLeft:1,paddingX:1,paddingY:3,children:c.jsx(o1,{validation:d})}):null,children:c.jsx(W,{align:m?"flex-end":"center",ref:n,children:c.jsx(W,{align:"flex-end",flex:1,children:c.jsx(F,{flex:1,marginRight:2,children:f})})})})});function sdn(e){const{schemaType:t,readOnly:n,children:r,onValueCreate:o,onItemAppend:i}=e,s=h.useId(),a=re.useCallback(d=>{i(o(d))},[o,i]),l=re.useCallback(()=>{a(t.of[0])},[t,a]),u=h.useMemo(()=>({constrainSize:!0,portal:!0}),[]);return n?c.jsx(yt,{portal:!0,content:c.jsx(F,{padding:2,sizing:"border",children:c.jsx(B,{size:1,children:"This field is read-only"})}),children:c.jsx(ln,{children:c.jsx(ae,{icon:Js,mode:"ghost",disabled:!0,text:t.of.length===1?"Add item":"Add item..."})})}):c.jsxs(ln,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[t.of.length===1?c.jsx(ae,{icon:Js,mode:"ghost",onClick:l,text:"Add item"}):c.jsx(rn,{button:c.jsx(ae,{icon:Js,mode:"ghost",text:"Add item…"}),id:s||"",menu:c.jsx(Ht,{children:t.of.map((d,f)=>{var p,m;const v=_f(d)&&(d.to||[]).length===1&&d.to[0].icon,g=d.icon||((p=d.type)==null?void 0:p.icon)||v;return c.jsx(Me,{text:d.title||((m=d.type)==null?void 0:m.name),onClick:()=>a(d),icon:g},f)})}),popover:u}),r]})}var adn=Object.defineProperty,ldn=(e,t,n)=>t in e?adn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Th=(e,t,n)=>(ldn(e,typeof t!="symbol"?t+"":t,n),n);class zIe extends re.PureComponent{constructor(t){super(t),Th(this,"_element",null),Th(this,"handleAppend",n=>{const{value:r=[],onIndexFocus:o,onItemAppend:i}=this.props;i(n),o(r.length)}),Th(this,"handlePrepend",n=>{const{onIndexFocus:r,value:o=[],onItemPrepend:i}=this.props;i(n),r(o.length)}),Th(this,"handleSortEnd",n=>{const{onIndexFocus:r,onMoveItem:o,value:i}=this.props;i&&o(n),r(n.toIndex)}),Th(this,"handleItemMoveStart",()=>{this.setState({disableTransition:!1})}),Th(this,"handleItemMoveEnd",()=>{this.setState({disableTransition:!0})}),Th(this,"renderArrayItem",n=>{var r;const{schemaType:o}=this.props,i=((r=o.options)==null?void 0:r.sortable)!==!1;return c.jsx(idn,{...n,sortable:i,insertableTypes:o.of})}),this.state={disableTransition:!1}}focus(){this._element&&this._element.focus()}getSnapshotBeforeUpdate(t){var n;const{focusPath:r=[],value:o=[]}=t,{focusPath:i=[],value:s=[]}=this.props;if(r[0]===i[0]&&o.length!==s.length){const a=i[0],l=window.getSelection();if(!((l==null?void 0:l.focusNode)instanceof HTMLElement))return null;const u=(n=l.focusNode)==null?void 0:n.querySelector("input,textarea");return u instanceof HTMLInputElement?{prevFocusedIndex:a,restoreSelection:{text:l.toString(),start:u.selectionStart,end:u.selectionEnd,value:u.value}}:{}}return null}componentDidUpdate(t,n,r){var o;const{onIndexFocus:i}=this.props;if(r!=null&&r.restoreSelection&&t.value){const s=t.value[r.prevFocusedIndex],a=ndn(this.props.value||[],r.prevFocusedIndex,s);if(a===-1)return;const l=(o=this._element)==null?void 0:o.querySelector("[data-item-index='".concat(a,"'] input,textarea"));if(l instanceof HTMLInputElement){l.focus();try{l.setSelectionRange(r.restoreSelection.start,r.restoreSelection.end)}catch{}}i(a)}}render(){const{schemaType:t,members:n,readOnly:r,renderInput:o,onUpload:i,onItemRemove:s,resolveUploader:a,elementProps:l,arrayFunctions:u=sdn,path:d,changed:f}=this.props,p=!r&&Nn(t,"options.sortable")!==!1,m=n.map(v=>({id:"".concat(v.key,"-").concat(v.kind==="item"?v.item.value:"error"),member:v}));return c.jsxs(ne,{space:3,"data-testid":"array-primitives-input",children:[c.jsx(vN,{types:t.of,resolveUploader:a,onUpload:i,...l,tabIndex:0,children:c.jsx(ne,{space:1,children:m.length===0?c.jsx(ee,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:c.jsx(B,{align:"center",muted:!0,size:1,children:t.placeholder||c.jsx(c.Fragment,{children:"No items"})})}):c.jsx(ee,{padding:1,border:!0,children:c.jsx(KB,{onItemMove:this.handleSortEnd,onItemMoveStart:this.handleItemMoveStart,onItemMoveEnd:this.handleItemMoveEnd,items:m.map(v=>v.id),sortable:p,gap:1,children:m.map((v,g)=>{let{member:b,id:x}=v;return c.jsxs(ZB,{id:x,sortable:p,disableTransition:this.state.disableTransition,children:[b.kind==="item"&&c.jsx(ni,{path:b.item.path,isChanged:f,hasFocus:!1,children:c.jsx(Drn,{member:b,renderItem:this.renderArrayItem,renderInput:o})}),b.kind==="error"&&c.jsx(NIe,{sortable:p,member:b,onRemove:()=>s(g)})]},b.key)})})})})}),c.jsx(u,{onChange:this.props.onChange,onItemAppend:this.handleAppend,onItemPrepend:this.handlePrepend,onValueCreate:oN,readOnly:this.props.readOnly,schemaType:this.props.schemaType,value:this.props.value})]})}}var jle=Object.freeze,cdn=Object.defineProperty,LA=(e,t)=>jle(cdn(e,"raw",{value:jle(t||e.slice())})),Tle,Ale,Dle,Ile;const udn=O(W)(Tle||(Tle=LA([`
  min-height: 35px;
`]))),ddn=O(W)(Ale||(Ale=LA([`
  position: absolute;
  top: 0;
  right: 0;
  height: 35px;
`]))),T4=O(ee)(Dle||(Dle=LA([`
  position: absolute;
  top: 0;
  left: 0;
`]))),fdn=O(ee)(Ile||(Ile=LA([`
  transition: border-color 250ms;
  box-sizing: border-box;
  position: relative;

  @media (hover: hover) {
    `,` {
      opacity: 0;
    }

    &:hover,
    &:focus-within {
      `,` {
        opacity: 1;
      }
    }
  }

  .`,` & {
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &[aria-selected='true'] {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`])),T4,T4,GB);function VIe(e){const{validation:t,selected:n,tone:r,presence:o,children:i,dragHandle:s,menu:a,footer:l,...u}=e;return c.jsxs(fdn,{forwardedAs:W,direction:"column",border:!0,selected:n,"aria-selected":n,radius:2,tone:r,...u,children:[i,s&&c.jsx(T4,{margin:1,radius:2,display:"flex",tone:"inherit","data-ui":"DragHandleCard",children:c.jsx(dDe,{grid:!0,padding:2,mode:"ghost"})}),o&&c.jsx(ddn,{align:"center",marginX:1,children:o}),c.jsxs(udn,{align:"center",paddingX:1,sizing:"border",justify:"space-between",children:[c.jsx(W,{children:t}),c.jsx(F,{children:l}),a]})]})}var Ple=Object.freeze,hdn=Object.defineProperty,pdn=(e,t)=>Ple(hdn(e,"raw",{value:Ple(t||e.slice())})),Ole;const mdn=O(ee)(Ole||(Ole=pdn([`
  border-top-right-radius: inherit;
  border-top-left-radius: inherit;
  height: 100%;
  position: relative;

  @media (hover: hover) {
    &:hover {
      filter: brightness(95%);
    }
  }

  &:focus:focus-visible {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`])));function gdn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const vdn={portal:!0,tone:"default"},ydn={position:"absolute",top:0,left:0,bottom:0,right:0};function bdn(e){var t,n,r,o,i,s;const{schemaType:a,parentSchemaType:l,path:u,readOnly:d,onRemove:f,value:p,open:m,onInsert:v,onFocus:g,onOpen:b,onClose:x,changed:y,focused:w,children:C,inputProps:{renderPreview:_}}=e,S=!d&&((t=l.options)==null?void 0:t.sortable)!==!1,E=l.of,j=h.useRef(null);xA(j,m),Pi(w,(Y,te)=>{var N;!Y&&te&&j.current&&((N=j.current)==null||N.focus())});const k=p._resolvingInitialValue,T=h.useCallback(()=>{v({items:[{...p,_key:Mx()}],position:"after"})},[v,p]),A=h.useCallback((Y,te)=>{v({items:[s1(te)],position:Y})},[v]),D=e1(u,!0),I=h.useMemo(()=>D.length===0?null:c.jsx(lC,{presence:D,maxAvatars:1}),[D]),P=AB(u,!0),M=h.useMemo(()=>P.length===0?null:c.jsx(F,{marginLeft:1,paddingX:1,paddingY:3,children:c.jsx(o1,{validation:P,__unstable_showSummary:!0})}),[P]),$=P.some(Y=>Y.level==="error"),V=P.some(Y=>Y.level==="warning"),L=h.useMemo(()=>d?null:c.jsx(rn,{button:c.jsx(ae,{padding:2,mode:"bleed",icon:Ho}),id:"".concat(e.inputId,"-menuButton"),menu:c.jsxs(Ht,{children:[c.jsx(Me,{text:"Remove",tone:"critical",icon:fo,onClick:f}),c.jsx(Me,{text:"Duplicate",icon:Au,onClick:T}),c.jsx(EA,{types:E,onInsert:A})]}),popover:vdn}),[T,A,f,E,e.inputId,d]),H=gdn({readOnly:d,hasErrors:$,hasWarnings:V}),U=c.jsx(VIe,{menu:L,presence:I,validation:M,tone:H,radius:2,border:!0,focused:w,dragHandle:S,selected:m,children:c.jsxs(mdn,{tone:"inherit",overflow:"auto",forwardedAs:"button","data-ui":"PreviewCard","data-as":"button",type:"button",flex:1,tabIndex:0,disabled:k,onClick:b,ref:j,onFocus:g,__unstable_focusRing:!0,children:[_({schemaType:a,value:p,layout:"media",withBorder:!1,withShadow:!1}),k&&c.jsx(ee,{as:W,style:ydn,children:c.jsxs(W,{align:"center",justify:"center",gap:1,padding:1,children:[c.jsx(F,{padding:3,children:c.jsx(Hr,{muted:!0})}),c.jsx(B,{muted:!0,size:1,children:"Resolving initial value…"})]})})]})}),z=r0(a);return c.jsxs(c.Fragment,{children:[c.jsx(ni,{path:u,isChanged:y,hasFocus:!!w,children:U}),m&&c.jsx(LDe,{header:d?"View ".concat(z):"Edit ".concat(z),type:((r=(n=l==null?void 0:l.options)==null?void 0:n.modal)==null?void 0:r.type)||"dialog",width:(s=(i=(o=l==null?void 0:l.options)==null?void 0:o.modal)==null?void 0:i.width)!=null?s:1,id:p._key,onClose:x,autofocus:w,legacy_referenceElement:j.current,children:C})]})}var $le=Object.freeze,xdn=Object.defineProperty,wdn=(e,t)=>$le(xdn(e,"raw",{value:$le(t||e.slice())})),Rle;const Cdn=O(ee)(Rle||(Rle=wdn([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function _dn(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=re.useState(!1),[a,l]=re.useState(null);Vr(()=>s(!1),[a]);const u=re.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=js(t);return c.jsx(hn,{open:i,ref:l,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:c.jsx(Cdn,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:c.jsxs(ne,{space:4,children:[c.jsx(F,{children:c.jsx(B,{weight:"semibold",children:"Why is this happening?"})}),c.jsxs(B,{size:1,children:["The current schema does not declare items of type ",c.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),c.jsx(F,{children:c.jsxs(B,{size:1,children:[c.jsx(nj,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),c.jsxs(ne,{space:2,children:[c.jsx(B,{size:1,weight:"semibold",children:"JSON representation of this item:"}),c.jsx(ee,{padding:2,overflow:"auto",border:!0,children:c.jsx(wr,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:c.jsx(ee,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,style:{height:"100%"},onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:c.jsxs(ne,{space:4,marginTop:2,children:[c.jsx(F,{margin:1,children:c.jsx(B,{align:"center",size:4,children:c.jsx(bl,{})})}),c.jsxs(B,{align:"center",size:1,children:["Items of type ",c.jsx("code",{children:f})," is not valid for this list"]})]})})})}const Sdn={portal:!0,tone:"default"};function Edn(e){const{member:t,sortable:n}=e,r=h.useId(),{onChange:o}=ma(),i=h.useCallback(()=>{o(st.from([Qe([{_key:t.key}])]))},[o,t.key]);return c.jsx(VIe,{dragHandle:n,tone:"caution",style:{height:"100%"},menu:c.jsx(rn,{button:c.jsx(ae,{padding:2,mode:"bleed",icon:Ho}),id:"".concat(r,"-menuButton"),menu:c.jsx(Ht,{children:c.jsx(Me,{text:"Remove",tone:"critical",icon:fo,onClick:i})}),popover:Sdn}),children:t.error.type==="INVALID_ITEM_TYPE"?c.jsx(_dn,{value:t.error.value,vertical:!0}):c.jsxs("div",{children:["Unexpected Error: ",t.error.type]})})}const kdn=[];function jdn(e){var t;const{arrayFunctions:n=kB,elementProps:r,members:o,onChange:i,onInsert:s,onItemMove:a,onUpload:l,readOnly:u,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderPreview:g,resolveUploader:b,schemaType:x,value:y=kdn}=e,w=h.useCallback(j=>{s({items:[j],position:"before",referenceItem:0})},[s]),C=h.useCallback(j=>{s({items:[j],position:"after",referenceItem:-1})},[s]),_=((t=x.options)==null?void 0:t.sortable)!==!1,S=h.useCallback(j=>c.jsx(bdn,{...j}),[]),E=h.useMemo(()=>o.map(j=>j.key),[o]);return c.jsxs(ne,{space:3,children:[c.jsx(vN,{types:x.of,resolveUploader:b,onUpload:l,...r,tabIndex:0,children:c.jsxs(ne,{"data-ui":"ArrayInput__content",space:3,children:[(o==null?void 0:o.length)===0&&c.jsx(ee,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:c.jsx(B,{align:"center",muted:!0,size:1,children:x.placeholder||c.jsx(c.Fragment,{children:"No items"})})}),(o==null?void 0:o.length)>0&&c.jsx(ee,{border:!0,radius:1,children:c.jsx(KB,{columns:[2,3,4],gap:3,padding:1,margin:1,items:E,onItemMove:a,sortable:_,children:o.map(j=>c.jsxs(ZB,{sortable:_,id:j.key,flex:1,children:[j.kind==="item"&&c.jsx(rN,{member:j,renderAnnotation:d,renderBlock:f,renderInlineBlock:m,renderItem:S,renderField:p,renderInput:v,renderPreview:g}),j.kind==="error"&&c.jsx(Edn,{sortable:_,member:j})]},j.key))})})]})}),c.jsx(n,{onChange:i,onItemAppend:C,onItemPrepend:w,onValueCreate:s1,readOnly:u,schemaType:x,value:y})]})}function Tdn(e,t){const n=h.useRef(e),r=n.current,o=t(r,e);return h.useEffect(()=>{o||(n.current=e)}),o?r:e}const Adn=[];function Ddn(e){var t;const{arrayFunctions:n=kB,elementProps:r,members:o,onChange:i,onInsert:s,onItemMove:a,onUpload:l,focusPath:u,readOnly:d,renderAnnotation:f,renderBlock:p,renderField:m,renderInlineBlock:v,renderInput:g,renderItem:b,renderPreview:x,resolveUploader:y,schemaType:w,value:C=Adn}=e,[_,S]=h.useState(null),{space:E}=Ds().sanity,j=h.useCallback(G=>{s({items:[G],position:"before",referenceItem:0})},[s]),k=h.useCallback(G=>{s({items:[G],position:"after",referenceItem:-1})},[s]),T=Tdn(h.useMemo(()=>o.map(G=>G.key),[o]),Nf),{scrollElement:A,containerElement:D}=Nrn(),I=h.useRef(null),P=h.useMemo(()=>Or(u[0])?u[0]._key:u[0],[u]),M=h.useCallback(G=>{const q={...G};if(_!==null&&(q.startIndex=Math.min(G.startIndex,_),q.endIndex=Math.max(G.endIndex,_)),P){const K=T.findIndex(Q=>Q===P);K!==-1&&(q.startIndex=Math.min(q.startIndex,K),q.endIndex=Math.max(q.endIndex,K))}return zCe(q)},[_,P,T]),$=h.useCallback((G,q)=>{if(!G.scrollElement)return;const K=G.scrollElement,Q=()=>{var X,Z,oe,le;const he=(Z=(X=D.current)==null?void 0:X.getBoundingClientRect().top)!=null?Z:0,ie=(le=(oe=I.current)==null?void 0:oe.getBoundingClientRect().top)!=null?le:0,ye=Math.floor(ie-he);q(K.scrollTop-ye)};return Q(),G.scrollElement.addEventListener("scroll",Q,{capture:!1,passive:!0}),()=>{K.removeEventListener("scroll",Q)}},[D]),V=h.useCallback(()=>53,[]),L=UCe({count:o.length,estimateSize:V,getScrollElement:h.useCallback(()=>A,[A]),observeElementOffset:$,rangeExtractor:M,getItemKey:h.useCallback(G=>T[G],[T]),scrollToFn:(G,q,K)=>{G!==K.scrollOffset&&VCe(G,q,K)}}),H=L.getVirtualItems(),U=h.useCallback(G=>{var q,K;const{active:Q}=G;S((K=(q=Q.data.current)==null?void 0:q.sortable)==null?void 0:K.index)},[]),z=h.useCallback(()=>{S(null)},[]),Y=((t=w.options)==null?void 0:t.sortable)!==!1,te=1,N=1;return c.jsxs(ne,{space:3,ref:I,children:[c.jsx(vN,{types:w.of,resolveUploader:y,onUpload:l,...r,tabIndex:0,children:c.jsx(ne,{"data-ui":"ArrayInput__content",space:3,children:o.length===0?c.jsx(ee,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:c.jsx(B,{align:"center",muted:!0,size:1,children:w.placeholder||c.jsx(c.Fragment,{children:"No items"})})}):c.jsx(ee,{border:!0,radius:1,style:{height:"".concat(L.getTotalSize()+H.length*E[te]+E[N],"px"),width:"100%",position:"relative"},children:c.jsx(KB,{axis:"y",gap:te,paddingY:N,items:T,onItemMove:a,onItemMoveStart:U,onItemMoveEnd:z,sortable:Y,style:{position:"absolute",top:0,left:0,width:"100%",transform:"translateY(".concat(H[0].start,"px)")},children:H.map(G=>{const q=o[G.index];return c.jsxs(ZB,{ref:L.measureElement,sortable:Y,"data-index":G.index,id:q.key,children:[q.kind==="item"&&c.jsx(rN,{member:q,renderAnnotation:f,renderBlock:p,renderField:m,renderInlineBlock:v,renderInput:g,renderItem:b,renderPreview:x}),q.kind==="error"&&c.jsx(NIe,{sortable:Y,member:q,onRemove:()=>e.onItemRemove(q.key)})]},G.key)})})})})}),c.jsx(n,{onChange:i,onItemAppend:k,onItemPrepend:j,onValueCreate:s1,readOnly:d,schemaType:w,value:C})]})}function HIe(e){var t;return((t=e.schemaType.options)==null?void 0:t.layout)==="grid"?c.jsx(jdn,{...e}):c.jsx(Ddn,{...e})}const Idn=["string","number","boolean"];function Pdn(e){return e.of.every(t=>Idn.includes(t.jsonType))}function Odn(e){return e.of.length===1&&gc("string",e.of[0])}function $dn(e){var t;return((t=e.options)==null?void 0:t.layout)==="tags"}function Rdn(e){return e.of.some(t=>gc("block",t))}function Mdn(e){var t;return!!((t=e.options)!=null&&t.list)}function Fdn(e){return Odn(e)&&$dn(e)?Wun:Mdn(e)?IIe:Pdn(e)?zIe:Rdn(e)?Fun:HIe}function Ldn(e){return gF(e)?e:{title:Em("".concat(e)),value:e}}const Mle={title:"",value:void 0};function UIe(e){var t,n;const{value:r,readOnly:o,validationError:i,schemaType:s,onChange:a,path:l,changed:u,focused:d,elementProps:f}=e,p=h.useMemo(()=>{var _;return(((_=s.options)==null?void 0:_.list)||[]).map(Ldn)},[(t=s.options)==null?void 0:t.list]),m=p.find(_=>_.value===r),v=s.options&&s.options.layout==="radio",g=h.useCallback(_=>{const S=Number(_);return p[S]},[p]),b=h.useCallback(_=>String(p.indexOf(_)),[p]),x=h.useId(),y=re.useCallback(_=>{a(st.from(typeof(_==null?void 0:_.value)>"u"?Qe():pt(_.value)))},[a]),w=h.useCallback(_=>{const S=g(_.currentTarget.value);if(!S){y(Mle);return}y(S)},[y,g]),C=v?c.jsx(Bdn,{...f,value:m,inputId:x,items:p,direction:((n=s.options)==null?void 0:n.direction)||"vertical",customValidity:i,onChange:y,readOnly:o}):c.jsx(Lf,{...f,customValidity:i,value:b(m),readOnly:o,onChange:w,children:[Mle,...p].map((_,S)=>c.jsx("option",{value:S-1,children:_.title},"".concat(S-1)))});return c.jsx(ni,{path:l,isChanged:u,hasFocus:!!d,children:C})}const Bdn=h.forwardRef(function(t,n){const{items:r,value:o,onChange:i,onFocus:s,readOnly:a,customValidity:l,direction:u,inputId:d}=t,f=u==="horizontal"?Jt:ne;return c.jsx(ee,{border:!0,padding:3,radius:1,children:c.jsx(f,{space:3,role:"group",children:r.map((p,m)=>c.jsx(Ndn,{customValidity:l,inputId:d,item:p,onChange:i,onFocus:s,readOnly:a,ref:m===0?n:null,value:o},m))})})}),Ndn=h.forwardRef(function(t,n){const{customValidity:r,inputId:o,item:i,onChange:s,onFocus:a,readOnly:l,value:u}=t,d=h.useCallback(()=>{s(i)},[i,s]);return c.jsxs(W,{as:"label",align:"center",children:[c.jsx(hXe,{ref:n,checked:u===i,onChange:d,onFocus:a,readOnly:l,customValidity:r,name:o}),c.jsx(F,{marginLeft:2,children:c.jsx(B,{size:1,weight:"semibold",children:i.title})})]})});function WIe(e){const{validationError:t,elementProps:n}=e;return c.jsx(Xr,{...n,customValidity:t,"data-testid":"string-input"})}function zdn(e){return BDe(e,"list")?UIe:WIe}const Vdn=(e,t)=>{if(typeof e=="function")throw new Error('Schema type "'.concat((t==null?void 0:t.name)||"<not-found>","\"'s `validation` was not run though `inferFromSchema`"));return e?Array.isArray(e)?e:[e]:[]};function FS(e,t){for(const n of Vdn(e==null?void 0:e.validation,e))for(const r of n._rules)if(r.flag===t)return r;return null}function YIe(e){const{schemaType:t,validationError:n,elementProps:r}=e,o=FS(t,"min"),i=FS(t,"integer"),s=FS(t,"precision"),a=typeof(o==null?void 0:o.constraint)=="number"&&(o==null?void 0:o.constraint)>=0,l=i||(s==null?void 0:s.constraint)===0,u=a?l?"numeric":"decimal":"text";return c.jsx(Xr,{...r,type:"number",step:"any",inputMode:u,customValidity:n,placeholder:t.placeholder,pattern:a?"[d]*":void 0,max:Number.MAX_SAFE_INTEGER,min:Number.MIN_SAFE_INTEGER,"data-testid":"number-input"})}function Hdn(e){return BDe(e,"list")?UIe:YIe}var Fle=Object.freeze,Udn=Object.defineProperty,qIe=(e,t)=>Fle(Udn(e,"raw",{value:Fle(t||e.slice())})),Lle,Ble;const Wdn=O(F)(Lle||(Lle=qIe([`
  align-self: center;
`]))),Ydn=O(F)(Ble||(Ble=qIe([`
  line-height: 0;
`])));function qdn(e){var t;const{id:n,value:r,schemaType:o,readOnly:i,elementProps:s,validation:a}=e,l=((t=o.options)==null?void 0:t.layout)||"switch",u=typeof r!="boolean",d=r||!1,f=l==="checkbox"?Hj:Yxe,p=i?"transparent":void 0;return c.jsx(ee,{border:!0,"data-testid":"boolean-input",radius:1,tone:p,children:c.jsxs(W,{children:[c.jsx(Ydn,{padding:3,children:c.jsx(f,{label:o.title,...s,checked:d,disabled:i,indeterminate:u,style:{margin:-4}})}),c.jsx(F,{flex:1,paddingY:3,children:c.jsx(lDe,{description:o.description,inputId:n,validation:a,title:o.title})}),c.jsx(Wdn,{paddingX:3,paddingY:1,children:c.jsx(Rtn,{maxAvatars:1,position:"top"})})]})})}function Gdn(e){const{validationError:t,elementProps:n}=e;return c.jsx(Xr,{...n,type:"email",inputMode:"email",customValidity:t})}function Kdn(e){const{fieldNames:t,onChange:n,readOnly:r,value:o}=e,i=t.length,s=h.useCallback(a=>{n(Qe([a]))},[n]);return c.jsxs(Hc,{status:"warning",title:c.jsxs(c.Fragment,{children:[i===1&&c.jsx(c.Fragment,{children:"Unknown field found"}),i>1&&c.jsx(c.Fragment,{children:"Unknown fields found"})]}),children:[c.jsx(B,{as:"p",muted:!0,size:1,children:i===1?c.jsx(c.Fragment,{children:"Encountered a field that is not defined in the schema."}):c.jsxs(c.Fragment,{children:["Encountered ",i," fields that are not defined in the schema."]})}),c.jsxs(Rm,{marginTop:4,open:hd,title:c.jsx(c.Fragment,{children:"Developer info"}),children:[c.jsx(F,{marginBottom:3,children:c.jsx(B,{as:"p",muted:!0,size:1,children:i===1?c.jsx(c.Fragment,{children:"This field is not defined in the schema, which could mean that the field definition has been removed or that someone else has added it to their own local project and have not deployed their changes yet."}):c.jsx(c.Fragment,{children:"These fields are not defined in the document’s schema, which could mean that the field definitions have been removed or that someone else has added them to their own local project and have not deployed their changes yet."})})}),c.jsx(ne,{as:"ul",space:3,children:t.map(a=>c.jsx(Zdn,{fieldName:a,onUnsetClick:s,readOnly:r,value:o==null?void 0:o[a]},a))})]})]})}function Zdn(e){let{fieldName:t,onUnsetClick:n,readOnly:r,value:o}=e;const i=h.useCallback(()=>{n(t)},[t,n]);return c.jsx(ee,{as:"li",padding:3,radius:2,shadow:1,tone:"caution",children:c.jsxs(ne,{space:2,children:[c.jsxs(ee,{border:!0,radius:1,children:[c.jsx(ee,{borderBottom:!0,padding:3,children:c.jsx(wr,{weight:"medium",children:t})}),c.jsx(F,{overflow:"auto",padding:3,children:c.jsx(wr,{language:"json",children:JSON.stringify(o,null,2)})})]}),r&&c.jsxs(B,{as:"p",muted:!0,size:1,children:["This field is ",c.jsx("strong",{children:"read only"})," according to the document’s schema and cannot be unset. If you want to be able to unset this in Studio, make sure you remove the"," ",c.jsx("code",{children:"readOnly"})," field from the enclosing type in the schema."]}),!r&&c.jsx(ae,{icon:fo,onClick:i,tone:"critical",text:c.jsx(c.Fragment,{children:"Remove field"})})]})})}var Nle=Object.freeze,Xdn=Object.defineProperty,Qdn=(e,t)=>Nle(Xdn(e,"raw",{value:Nle(t||e.slice())})),zle;const Jdn=O(ee)(zle||(zle=Qdn([`
  margin-bottom: `,`px;
  padding-bottom: `,`px;
`])),e=>{let{$level:t,theme:n}=e;return t===0?0:n.sanity.space[5]*-1},e=>{let{$level:t,theme:n}=e;return n.sanity.space[4]}),efn=h.forwardRef(function(t,n){const{onClick:r}=t,o=re.useCallback(()=>{r==null||r(t.name)},[t.name,r]);return c.jsx(rwe,{"data-testid":"group-tab-".concat(name),size:1,id:"".concat(t.name,"-tab"),label:t.title,ref:n,...t,onClick:o})}),tfn=e=>{const{name:t,title:n,...r}=e,{selected:o}=e;return c.jsx("option",{title:n,value:t,id:"".concat(t,"-tab"),"aria-controls":r["aria-controls"],"data-testid":"group-select-".concat(t),"aria-selected":o?"true":"false",children:n||t})};var Vle=Object.freeze,nfn=Object.defineProperty,rfn=(e,t)=>Vle(nfn(e,"raw",{value:Vle(t||e.slice())})),Hle;const ofn=O(TZe)(Hle||(Hle=rfn([`
  /* Hide on small screens */
  &[data-eq-max~='0'] [data-ui='TabList'] {
    display: none;
  }

  /* Hide on medium to large screens */
  [data-ui='Select'] {
    display: none;
  }

  /* Show on small screens */
  &[data-eq-max~='0'] [data-ui='Select'] {
    display: block;
  }
`]))),ifn=e=>{let{inputId:t,groups:n,onClick:r,shouldAutoFocus:o=!0,disabled:i}=e;return c.jsx(owe,{space:2,"data-testid":"field-group-tabs",children:n.map(s=>c.jsx(efn,{"aria-controls":"".concat(t,"-field-group-fields"),autoFocus:o&&s.selected,disabled:i||s.disabled,icon:s==null?void 0:s.icon,name:s.name,onClick:r,selected:!!s.selected,title:s.title||s.name},"".concat(t,"-").concat(s.name,"-tab")))})},sfn=e=>{let{disabled:t,groups:n,inputId:r,onSelect:o,shouldAutoFocus:i=!0}=e;var s;const a=h.useCallback(l=>{o(l.currentTarget.value)},[o]);return c.jsx(Lf,{"aria-label":"Field groups",autoFocus:i,"data-testid":"field-group-select",disabled:t,fontSize:2,muted:!0,onChange:a,value:(s=n.find(l=>l.selected))==null?void 0:s.name,children:n.map(l=>c.jsx(tfn,{"aria-controls":"".concat(r,"-field-group-fields"),disabled:l.disabled,name:l.name,selected:!!l.selected,title:l.title||l.name},"".concat(r,"-").concat(l.name,"-tab")))})},afn=re.memo(function(t){let{disabled:n=!1,onClick:r,...o}=t;const i=h.useCallback(s=>{r==null||r(s)},[r]);return c.jsxs(ofn,{"data-testid":"field-group-root",children:[c.jsx(ifn,{...o,disabled:n,onClick:i}),c.jsx(sfn,{...o,disabled:n,onSelect:i})]})}),Ule=h.memo(function(t){const{schemaType:n,groups:r,members:o,onChange:i,renderAnnotation:s,renderBlock:a,renderInlineBlock:l,renderInput:u,renderField:d,renderItem:f,renderPreview:p,level:m,value:v,id:g,onFieldGroupSelect:b}=t,{columns:x}=n.options||{},y=h.useMemo(()=>{if(!n.fields)return null;const C=n.fields.map(S=>S.name),_=Object.keys(v||{}).filter(S=>!S.startsWith("_")&&!C.includes(S));return _.length===0?null:c.jsx(Kdn,{fieldNames:_,value:v,onChange:i})},[i,n.fields,v]),w=h.useCallback(()=>c.jsx(Frn,{members:o,renderAnnotation:s,renderBlock:a,renderField:d,renderInlineBlock:l,renderInput:u,renderItem:f,renderPreview:p}),[o,s,a,d,l,u,f,p]);return o.length===0?null:c.jsxs(ne,{space:5,children:[r.length>0?c.jsx(Jdn,{$level:m,"data-testid":"field-groups",children:c.jsx(afn,{groups:r,inputId:g,onClick:b,shouldAutoFocus:!1})}):null,x?c.jsx(ln,{columns:x,gap:4,marginTop:1,children:w()}):w(),y]})});function lfn(e){const{date:t,focused:n,isCurrentMonth:r,isToday:o,onSelect:i,selected:s}=e,a=h.useCallback(()=>{i(t)},[t,i]);return c.jsx("div",{"aria-selected":s,"data-ui":"CalendarDay",children:c.jsx(ee,{"aria-label":t.toDateString(),"aria-pressed":s,as:"button",__unstable_focusRing:!0,"data-weekday":!0,"data-focused":n?"true":"",role:"button",tabIndex:-1,onClick:a,padding:3,radius:2,selected:s,tone:o||s?"primary":"default",children:c.jsx(B,{muted:!s&&!r,style:{textAlign:"center"},weight:r?"medium":"regular",children:t.getDate()})})})}const cfn=["January","February","March","April","May","June","July","August","September","October","November","December"],ufn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dfn=b7(0,24),ffn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],hfn=[1,2,3,4,5,6],pfn=e=>{const t=RSe(e);return $Se({start:t,end:FSe(t)})},mfn=e=>e.map(t=>[t,...hfn.map(n=>zi(t,n))]),gfn=e=>mfn(pfn(e)).map(t=>({number:MSe(t[0]),days:t}));function vfn(e){return c.jsx(F,{"aria-hidden":e.hidden||!1,"data-ui":"CalendarMonth",children:c.jsxs(ln,{gap:1,style:{gridTemplateColumns:"repeat(7, minmax(44px, 46px))"},children:[ufn.map(t=>c.jsx(F,{paddingY:2,children:c.jsx(B,{size:1,weight:"medium",style:{textAlign:"center"},children:t})},t)),gfn(e.date).map((t,n)=>t.days.map((r,o)=>{const i=e.focused&&Ld(r,e.focused),s=e.selected&&Ld(r,e.selected),a=Ld(r,new Date),l=e.focused&&HSe(r,e.focused);return c.jsx(lfn,{date:r,focused:i,isCurrentMonth:l,isToday:a,onSelect:e.onSelect,selected:s},"".concat(n,"-").concat(o))}))]})})}const Wle={dayPresets:!1,timePresets:!1},GIe=re.forwardRef(function(t,n){let{onChange:r,onBlur:o,onKeyPress:i,value:s,...a}=t;const[l,u]=re.useState(),d=re.useCallback(v=>{u(v.currentTarget.value)},[]),f=re.useCallback(v=>{v.currentTarget.value!=="".concat(s)&&r&&r(v),u(void 0)},[r,s]),p=re.useCallback(v=>{f(v),o&&o(v)},[f,o]),m=re.useCallback(v=>{v.key==="Enter"&&f(v),i&&i(v)},[f,i]);return c.jsx(Xr,{...a,"data-testid":"date-input",ref:n,value:l===void 0?s:l,onChange:d,onBlur:p,onKeyPress:m})}),yfn=e=>{let{onChange:t,...n}=e;const r=re.useCallback(o=>{const i=parseInt(o.currentTarget.value,10);isNaN(i)||t(i)},[t]);return c.jsx(GIe,{...n,onChange:r,inputMode:"numeric"})},bfn=c.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1}),xfn=h.forwardRef(function(t,n){const{selectTime:r,onFocusedDateChange:o,selectedDate:i=new Date,focusedDate:s=i,timeStep:a=1,onSelect:l,...u}=t,d=h.useCallback(S=>o(S),[o]),f=h.useCallback(S=>d(hEt(WSe(s,S),1)),[s,d]),p=h.useCallback(S=>f(Number(S.currentTarget.value)),[f]),m=h.useCallback(S=>d(X8(s,S)),[s,d]),v=h.useCallback(S=>d(pEt(s,S)),[s,d]),g=h.useCallback(S=>{l(aS(dP(S,i.getHours()),i.getMinutes()))},[l,i]),b=h.useCallback(S=>{const E=Number(S.currentTarget.value);l(aS(i,E))},[l,i]),x=h.useCallback(S=>{const E=Number(S.currentTarget.value);l(dP(i,E))},[l,i]);h.useCallback((S,E)=>{l(dP(aS(i,E),S))},[l,i]);const y=lr(n),w=h.useCallback(()=>{var S,E;(E=(S=y.current)==null?void 0:S.querySelector('[data-focused="true"]'))==null||E.focus()},[y]),C=h.useCallback(S=>{var E,j;if(ffn.includes(S.key)){if(S.preventDefault(),S.target.hasAttribute("data-calendar-grid")){w();return}S.key==="ArrowUp"&&o(zi(s,-7)),S.key==="ArrowDown"&&o(zi(s,7)),S.key==="ArrowLeft"&&o(zi(s,-1)),S.key==="ArrowRight"&&o(zi(s,1)),(j=(E=y.current)==null?void 0:E.querySelector("[data-preserve-focus]"))==null||j.focus()}},[y,w,o,s]);h.useEffect(()=>{w()},[w]),h.useEffect(()=>{var S;((S=document.activeElement)==null?void 0:S.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&w()},[y,w,s]),h.useCallback(()=>g(zi(new Date,-1)),[g]),h.useCallback(()=>g(new Date),[g]),h.useCallback(()=>g(zi(new Date,1)),[g]);const _=h.useCallback(()=>l(new Date),[l]);return c.jsxs(F,{"data-ui":"Calendar",...u,ref:y,children:[c.jsxs(F,{padding:2,children:[Wle.dayPresets,c.jsxs(W,{children:[c.jsx(F,{flex:1,children:c.jsx(wfn,{moveFocusedDate:m,onChange:p,value:s==null?void 0:s.getMonth()})}),c.jsx(F,{marginLeft:2,children:c.jsx(Cfn,{moveFocusedDate:m,onChange:v,value:s.getFullYear()})})]}),c.jsxs(F,{"data-calendar-grid":!0,onKeyDown:C,marginTop:2,overflow:"hidden",tabIndex:0,children:[c.jsx(vfn,{date:s,focused:s,onSelect:g,selected:i}),bfn]})]}),r&&c.jsxs(F,{padding:2,style:{borderTop:"1px solid var(--card-border-color)"},children:[c.jsxs(W,{align:"center",children:[c.jsxs(W,{align:"center",flex:1,children:[c.jsx(F,{children:c.jsx(Lf,{"aria-label":"Select hour",value:i==null?void 0:i.getHours(),onChange:x,children:dfn.map(S=>c.jsx("option",{value:S,children:"".concat(S).padStart(2,"0")},S))})}),c.jsx(F,{paddingX:1,children:c.jsx(B,{children:":"})}),c.jsx(F,{children:c.jsx(Lf,{"aria-label":"Select minutes",value:i==null?void 0:i.getMinutes(),onChange:b,children:b7(0,60,a).map(S=>c.jsx("option",{value:S,children:"".concat(S).padStart(2,"0")},S))})})]}),c.jsx(F,{marginLeft:2,children:c.jsx(ae,{text:"Set to current time",mode:"bleed",onClick:_})})]}),Wle.timePresets]})]})});function wfn(e){const{moveFocusedDate:t,onChange:n,value:r}=e,o=h.useCallback(()=>t(-1),[t]),i=h.useCallback(()=>t(1),[t]);return c.jsxs(W,{flex:1,children:[c.jsx(ae,{"aria-label":"Go to previous month",onClick:o,mode:"bleed",icon:oj,paddingX:2,radius:0}),c.jsx(F,{flex:1,children:c.jsx(Lf,{radius:0,value:r,onChange:n,children:cfn.map((s,a)=>c.jsx("option",{value:a,children:s},a))})}),c.jsx(ae,{"aria-label":"Go to next month",mode:"bleed",icon:Qu,onClick:i,paddingX:2,radius:0})]})}function Cfn(e){const{moveFocusedDate:t,onChange:n,value:r}=e,o=h.useCallback(()=>t(-12),[t]),i=h.useCallback(()=>t(12),[t]);return c.jsxs(W,{children:[c.jsx(ae,{"aria-label":"Previous year",onClick:o,mode:"bleed",icon:oj,paddingX:2,radius:0}),c.jsx(yfn,{value:r,onChange:n,radius:0,style:{width:65}}),c.jsx(ae,{"aria-label":"Next year",onClick:i,mode:"bleed",icon:Qu,paddingX:2,radius:0})]})}const _fn=re.forwardRef(function(t,n){const{value:r=new Date,onChange:o,...i}=t,[s,a]=re.useState(),l=re.useCallback(u=>{o(u),a(void 0)},[o]);return c.jsx(xfn,{...i,ref:n,selectedDate:r,onSelect:l,focusedDate:s||r,onFocusedDateChange:a})}),Sfn=h.forwardRef(function(t,n){const{value:r,inputValue:o,onInputChange:i,onChange:s,selectTime:a,timeStep:l,...u}=t,[d,f]=h.useState(null),p=lr(n),m=h.useRef(null),[v,g]=h.useState(!1);Vr(()=>g(!1),[d]);const b=h.useCallback(()=>{var C,_;(C=p.current)==null||C.focus(),(_=p.current)==null||_.select()},[p]),x=h.useCallback(C=>{C.key==="Escape"&&g(!1)},[]),y=h.useCallback(()=>g(!0),[]),w=c.jsx(F,{padding:1,children:c.jsx(ae,{ref:m,icon:_g,mode:"bleed",padding:2,onClick:y,style:{display:"block"},"data-testid":"select-date-button"})});return c.jsx(GIe,{ref:p,...u,value:o,onChange:i,suffix:v?c.jsx(Ff,{zOffset:1e3,children:c.jsx(hn,{constrainSize:!0,"data-testid":"date-input-dialog",portal:!0,content:c.jsx(F,{overflow:"auto",children:c.jsx(od,{onDeactivation:b,children:c.jsx(_fn,{selectTime:a,timeStep:l,onKeyUp:x,value:r,onChange:s})})}),open:!0,placement:"bottom",ref:f,radius:2,children:w})}):w})}),Efn=new Date,KIe=re.forwardRef(function(t,n){const{id:r,deserialize:o,formatInputValue:i,onChange:s,parseInputValue:a,placeholder:l,readOnly:u,selectTime:d,serialize:f,timeStep:p,value:m,...v}=t,[g,b]=re.useState(null);h.useEffect(()=>{b(null)},[m]);const x=re.useCallback(S=>{const E=S.currentTarget.value,j=E===""?null:a(E);j===null?(s(null),typeof m>"u"&&g&&b(null)):j.isValid?s(f(j.date)):b(E)},[a,s,m,g,f]),y=re.useCallback(S=>{s(S?f(S):null)},[f,s]),w=lr(n),C=g?a(g):m?o(m):null,_=g||(C!=null&&C.isValid?i(C.date):m);return u?c.jsx(Xr,{value:_,readOnly:!0}):c.jsx(Sfn,{...v,id:r,selectTime:d,timeStep:p,placeholder:l||"e.g. ".concat(i(Efn)),ref:w,value:C==null?void 0:C.date,inputValue:_||"",readOnly:!!u,onInputChange:x,onChange:y,customValidity:C==null?void 0:C.error})});function kfn(e){return e instanceof Date&&!isNaN(e.valueOf())}const jfn="YYYY-MM-DD",Tfn="HH:mm";function Afn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dateFormat:e.dateFormat||jfn,timeFormat:e.timeFormat||Tfn,timeStep:"timeStep"in e&&Number(e.timeStep)||1,calendarTodayLabel:e.calendarTodayLabel||"Today"}}function A4(e){return e.toISOString()}function Dfn(e){const t=new Date(e);return kfn(t)?{isValid:!0,date:t}:{isValid:!1,error:'Invalid date value: "'.concat(e,'"')}}function Ifn(e,t){if(!t||t===1)return e;const n=Z5t(e),r=GSt(n),o=r%t;return A4(o!==0?aS(n,r-o):n)}function Pfn(e){const{onChange:t,schemaType:n,value:r,elementProps:o}=e,{dateFormat:i,timeFormat:s,timeStep:a}=Afn(n.options),l=h.useCallback(f=>{let p=f;p!==null&&a>1&&(p=Ifn(p,a)),t(p===null?Qe():pt(p))},[t,a]),u=re.useCallback(f=>zT(f,"".concat(i," ").concat(s)),[i,s]),d=re.useCallback(f=>O9(f,"".concat(i," ").concat(s)),[i,s]);return c.jsx(KIe,{...o,onChange:l,deserialize:Dfn,formatInputValue:u,parseInputValue:d,placeholder:n.placeholder,selectTime:!0,serialize:A4,timeStep:a,value:r})}const yN="YYYY-MM-DD",Ofn=yN;function $fn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dateFormat:e.dateFormat||Ofn,calendarTodayLabel:e.calendarTodayLabel||"Today"}}const Rfn=e=>O9(e,yN),Mfn=e=>zT(e,yN);function Ffn(e){const{readOnly:t,onChange:n,schemaType:r,elementProps:o,value:i}=e,{dateFormat:s}=$fn(r.options),a=h.useCallback(d=>{n(d===null?Qe():pt(d))},[n]),l=h.useCallback(d=>zT(d,s),[s]),u=h.useCallback(d=>O9(d,s),[s]);return c.jsx(KIe,{...o,deserialize:Rfn,formatInputValue:l,onChange:a,parseInputValue:u,placeholder:r.placeholder,readOnly:t,selectTime:!1,serialize:Mfn,value:i})}var Yle=Object.freeze,Lfn=Object.defineProperty,Bfn=(e,t)=>Yle(Lfn(e,"raw",{value:Yle(t||e.slice())})),qle;const Nfn=O(qxe)(qle||(qle=Bfn([`
  &[data-as='textarea'] {
    resize: vertical;
  }
`])));function zfn(e){const{schemaType:t,validationError:n,value:r,elementProps:o}=e;return c.jsx(Nfn,{customValidity:n,value:r||"",placeholder:t.placeholder,rows:typeof t.rows=="number"?t.rows:10,...o})}function Vfn(e){var t,n;const{schemaType:r,validationError:o,elementProps:i}=e,s=FS(r,"uri"),a=(n=(t=s==null?void 0:s.constraint)==null?void 0:t.options)!=null&&n.allowRelative?"text":"url";return c.jsx(Xr,{type:a,inputMode:"url",customValidity:o,...i})}const Hfn=(e,t)=>{var n;const r=(n=t.options)==null?void 0:n.maxLength;return e?rje(e,{truncate:typeof r=="number"?r:200,symbols:!0}):""};async function Ufn(e,t,n){var r;return e&&(((r=t.options)==null?void 0:r.slugify)||Hfn)(e,t,n)}function Wfn(e,t){const[n,r]=re.useState(null),o=re.useRef(0),i=re.useCallback(s=>{const a=++o.current;r({status:"pending"}),Promise.resolve().then(()=>e(s)).then(l=>{a===o.current&&r({status:"complete",result:l})},l=>{a===o.current&&r({status:"error",error:l})})},[e,...t]);return[n,i]}function Yfn(){const{getClient:e}=ur(),t=dr(),n=ii(),r=aOe(),o=sOe();return h.useMemo(()=>({projectId:r,dataset:o,getClient:e,schema:t,currentUser:n}),[e,t,n,r,o])}function qfn(e,t,n){const r=e.slice(0,-1),o=p0(t,r);return{parentPath:r,parent:o,...n}}async function Gfn(e,t,n){return typeof e=="function"?e(t,n):p0(t,e)}function Kfn(e){var t;const{getDocument:n}=ri().__internal,{path:r,value:o,schemaType:i,validation:s,onChange:a,readOnly:l,elementProps:u}=e,d=(t=i.options)==null?void 0:t.source,f=h.useMemo(()=>s.filter(y=>y.level==="error"),[s]),p=Yfn(),m=h.useCallback(y=>{if(!y){a(st.from(Qe([])));return}a(st.from([Gi({_type:i.name}),pt(y,["current"])]))},[a,i.name]),[v,g]=Wfn(()=>{if(!d)return Promise.reject(new Error('Source is missing. Check source on type "'.concat(i.name,'" in schema')));const y=n()||{_type:i.name},w=qfn(r,y,p);return Gfn(d,y,w).then(C=>Ufn(C||"",i,w)).then(C=>m(C))},[d,n,i,r,p,m]),b=(v==null?void 0:v.status)==="pending",x=re.useCallback(y=>m(y.currentTarget.value),[m]);return c.jsx(ne,{space:3,children:c.jsxs(W,{children:[c.jsxs(F,{flex:1,children:[c.jsx(Xr,{customValidity:f.length>0?f[0].message:"",disabled:b,onChange:x,value:(o==null?void 0:o.current)||"",readOnly:l,...u}),(v==null?void 0:v.status)==="error"&&c.jsx(ee,{padding:2,tone:"critical",children:v.error.message})]}),d&&c.jsx(F,{marginLeft:1,children:c.jsx(ae,{mode:"ghost",type:"button",disabled:l||b,onClick:g,text:(v==null?void 0:v.status)==="pending"?"Generating…":"Generate"})})]})})}function Zfn(e){return h.useMemo(()=>{var n;return Array.isArray((n=e.schemaType.options)==null?void 0:n.list)},[e.schemaType])?c.jsx(IIe,{...e}):Hln(e)?c.jsx(zIe,{...e}):c.jsx(HIe,{...e})}const Gle={document:Ule,object:Ule,array:Zfn,boolean:qdn,number:YIe,text:zfn,email:Gdn,datetime:Pfn,date:Ffn,url:Vfn,image:Han,file:ksn,string:WIe,slug:Kfn,crossDatasetReference:pln};function Xfn(e){if(gc("array",e))return Fdn(e);if(gc("reference",e))return zln;if(gc("string",e))return zdn(e);if(gc("number",e))return Hdn(e)}function Qfn(e){var t;if((t=e.components)!=null&&t.input)return e.components.input;const n=Xfn(e);if(n)return n;const o=iN(e,new Set).reduce((s,a)=>(s[a.name]=a,s),{}),i=Object.values(o).find(s=>Gle[s.name]);if(i)return Gle[i.name];throw new Error("Could not find input component for schema type `".concat(e.name,"`"))}function Jfn(e){var t;return(t=e.components)!=null&&t.preview?e.components.preview:tC}function Mm(e){const{componentResolver:t,componentProps:n}=e;if(!n.schemaType)throw new Error("the `schemaType` property must be defined");const r=t(n.schemaType),o=h.useCallback(i=>{var s;if(!((s=i.schemaType)!=null&&s.type))throw new Error("Attempted to render form component of non-existent parent type");const{components:a,...l}=i.schemaType,u=t(l);return h.createElement(u,i)},[t]);return h.createElement(r,{...n,renderDefault:o})}function ehn(e){return Mm({componentProps:e,componentResolver:Qfn})}function thn(e){return Mm({componentProps:e,componentResolver:son})}function nhn(e){return Mm({componentProps:e,componentResolver:qrn})}function rhn(e){return Mm({componentProps:e,componentResolver:Jfn})}function ohn(e){return Mm({componentProps:e,componentResolver:Ein})}function ihn(e){return Mm({componentProps:e,componentResolver:kin})}function shn(e){return Mm({componentProps:e,componentResolver:jin})}function ahn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.input}function lhn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.field}function chn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.preview}function uhn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.item}function dhn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.block}function fhn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.inlineBlock}function hhn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.annotation}function phn(){return Bl({defaultComponent:ehn,pick:ahn})}function mhn(){return Bl({defaultComponent:thn,pick:lhn})}function ZIe(){return Bl({defaultComponent:rhn,pick:chn})}function ghn(){return Bl({defaultComponent:nhn,pick:uhn})}function vhn(){return Bl({defaultComponent:ohn,pick:dhn})}function yhn(){return Bl({defaultComponent:ihn,pick:fhn})}function bhn(){return Bl({defaultComponent:shn,pick:hhn})}function dC(e){const t=ZIe();return c.jsx(nAe,{...e,component:t})}const xhn=e=>{let{asset:t,assetType:n,referringDocuments:r}=e;const o=r.length,i=o>0,s=t.originalFilename?c.jsx("strong",{children:t.originalFilename}):"this ".concat(n);return i?c.jsxs(c.Fragment,{children:[c.jsx(ee,{borderBottom:!0,marginTop:2,paddingBottom:2,marginBottom:1,children:c.jsxs(B,{as:"h2",size:[1,1,2,2],weight:"regular",textOverflow:"ellipsis",children:[o," ",o===1?"document is":"documents are"," using ",s]})}),r.map(a=>c.jsx(whn,{document:a},a._id))]}):c.jsxs(B,{size:[1,1,2,2],as:"h2",weight:"regular",children:["No documents are using ",s]})},whn=e=>{let{document:t}=e;const n=dr(),r=h.useCallback(o=>c.jsx(_m,{...o,params:{id:t._id,type:t._type},intent:"edit"}),[t]);return c.jsx(ee,{as:r,paddingY:2,paddingX:1,radius:2,"data-as":"a",tabIndex:0,children:c.jsx(W,{align:"center",gap:2,children:c.jsx(dC,{layout:"default",value:{_type:"reference",_ref:t._id},schemaType:n.get(t._type)})})},t._id)},Kle={maxWidth:"100%",height:"120px",objectFit:"contain",objectPosition:"center"},Zle={gridColumn:"span 1",overflow:"hidden",display:"flex",alignSelf:"center",justifyContent:"center"},Xle={height:"100%"},Chn=e=>{let{asset:t,assetType:n,hasResults:r=!1}=e;const o=n==="image",i=t.originalFilename?c.jsxs(c.Fragment,{children:["The ",n," ",c.jsx("strong",{children:t.originalFilename})]}):"this ".concat(n);return r?c.jsx(ee,{tone:"caution",padding:[3,3,4],border:!0,radius:2,marginBottom:3,children:c.jsxs(ln,{columns:3,gap:[2,3,4],children:[c.jsxs(W,{gap:[3,4],align:"center",style:{gridColumn:o?"span 2":"span 3"},children:[c.jsx(B,{children:c.jsx(Qr,{})}),c.jsxs(B,{size:1,children:[i," cannot be deleted because it's being used. In order to delete the ",n," you need the remove all uses of it."]})]}),o&&c.jsx(ee,{__unstable_checkered:!0,border:!0,radius:1,style:Zle,children:c.jsx(W,{align:"center",justify:"center",style:Xle,children:c.jsx("img",{src:"".concat(t.url,"?w=200"),style:Kle,alt:"Preview of image",referrerPolicy:"strict-origin-when-cross-origin"})})})]})}):c.jsx(ee,{paddingX:[2,3,4],paddingY:[3,3,3,4],children:c.jsxs(ln,{columns:3,gap:3,children:[c.jsx(W,{style:{gridColumn:o?"span 2":"span 3"},align:"center",children:c.jsxs(B,{children:["You are about to delete the ",n,t.originalFilename&&c.jsxs(c.Fragment,{children:[" ",c.jsx("strong",{children:t.originalFilename})]})," ","and its metadata.",c.jsx("br",{}),c.jsx("br",{}),"Are you sure?"]})}),o&&c.jsx(ee,{__unstable_checkered:!0,border:!0,radius:1,style:Zle,children:c.jsx(W,{align:"center",justify:"center",style:Xle,children:c.jsx("img",{src:"".concat(t.url,"?w=200"),style:Kle,alt:"Preview of image",referrerPolicy:"strict-origin-when-cross-origin"})})})]})})},UO="confirmDelete",WO="listUsage";function D4(e){let{asset:t,assetType:n="image",mode:r=WO,isDeleting:o=!1,onClose:i,onDelete:s}=e;const{isLoading:a,referringDocuments:l}=FGt(t._id),d=r===WO?"Documents using ".concat(n):"Delete ".concat(n),[f,p]=h.useState(!1),[m,v]=h.useState(!0),[g,b]=h.useState([]),x=r===UO,y=g.length>0,w=r===WO||y,C=r===UO&&!y,_=x?c.jsxs(ln,{padding:2,gap:2,columns:2,children:[c.jsx(ae,{mode:"bleed",text:"Cancel",onClick:i}),c.jsx(ae,{text:"Delete",tone:"critical",icon:fo,onClick:s,loading:o,disabled:!f})]}):void 0;return h.useEffect(()=>{const S=l.reduce((j,k)=>k._id.startsWith("drafts.")?j.concat(k._id.slice(7)):j,[]),E=l.filter(j=>!S.includes(j._id));b(E),p(E.length===0&&!a),v(a)},[a,l]),c.jsxs(fa,{__unstable_autoFocus:!m,footer:_,header:d,id:"asset-dialog",onClickOutside:i,onClose:i,width:1,children:[m&&c.jsx(F,{padding:4,children:c.jsx(MGt,{text:"Loading..."})}),!m&&c.jsxs(ne,{paddingX:C?0:[2,3,4],paddingY:C?0:[3,3,3,4],space:1,children:[r===UO&&c.jsx(Chn,{asset:t,assetType:n,hasResults:y}),w&&c.jsx(xhn,{asset:t,referringDocuments:g,assetType:n})]})]})}function XIe(e){let{isSelected:t,border:n=!0,onAction:r}=e;const o=t?"default":"bleed",i=t?"primary":"default";return c.jsx(rn,{button:c.jsx(ae,{padding:2,mode:n?"ghost":o,icon:Ho,tone:n?"default":i}),id:"asset-menu",portal:!0,menu:c.jsxs(Ht,{children:[c.jsx(Me,{text:"Show uses",icon:jf,onClick:()=>{r({type:"showUsage"})}}),c.jsx(Me,{text:"Delete",icon:fo,tone:"critical",onClick:()=>{r({type:"delete"})}})]}),placement:"right"})}var Qle=Object.freeze,_hn=Object.defineProperty,BA=(e,t)=>Qle(_hn(e,"raw",{value:Qle(t||e.slice())})),Jle,ece,tce,nce;const Shn=typeof window>"u"||!window.devicePixelRatio?1:Math.round(window.devicePixelRatio),Ehn=O.img(Jle||(Jle=BA([`
  position: absolute;
  z-index: 1;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`]))),khn=O(ee)(ece||(ece=BA([`
  position: relative;
  z-index: 1;
  padding-bottom: 100%;
`]))),I4=O.div(tce||(tce=BA([`
  position: relative;
  display: inherit;
`]))),jhn=O.div(nce||(nce=BA([`
  box-sizing: border-box;
  position: absolute;
  z-index: 2;
  top: 3px;
  right: 3px;

  & button[data-selected] {
    display: block;
  }

  @media (hover: hover) {
    // If hover is supported, hide the buttons until the user hovers or focuses the asset
    // Use opacity to enable the buttons to still be focusable
    & button {
      opacity: 0;
    }

    `,`:hover & {
      button {
        opacity: 1;
      }
    }

    `,`:focus-within & {
      button {
        opacity: 1;
      }
    }
  }
`])),I4,I4),Thn=re.memo(function(t){const n=Sr(gn),r=Ai(),o=h.useRef(),{asset:i,onClick:s,onKeyPress:a,onDeleteFinished:l,isSelected:u}=t,[d,f]=h.useState(!1),[p,m]=h.useState(!1),[v,g]=h.useState(!1);h.useEffect(()=>()=>{o.current&&o.current.unsubscribe()},[]);const b=h.useCallback(()=>{m(!0)},[m]),x=h.useCallback(()=>{f(!1),m(!1)},[f,m]),y=h.useCallback(()=>{f(!0)},[f]),w=h.useCallback(D=>{r.push({closable:!0,status:"error",title:"Image could not be deleted",description:D.message})},[r]),C=h.useCallback(()=>{r.push({status:"success",title:"Image was deleted"})},[r]),_=h.useCallback(()=>{g(!0),o.current=n.observable.delete(i._id).subscribe({next:()=>{g(!1),l(i._id),m(!1),C()},error:D=>{g(!1),w(D),console.error("Could not delete asset",D)}})},[i._id,w,C,l,n.observable]),S=h.useCallback(D=>{D.type==="delete"&&b(),D.type==="showUsage"&&y()},[b,y]),{originalFilename:E,_id:j,url:k}=i,T=200*Math.max(1,Shn),A=k.includes(".gif")?"".concat(k,"?h=").concat(T,"&fit=max&fm=jpg"):"".concat(k,"?h=").concat(T,"&fit=max");return c.jsxs(I4,{children:[c.jsx(ae,{tone:"primary",selected:u,tabIndex:0,"data-id":j,mode:"ghost",onKeyPress:a,padding:0,style:{padding:2},children:c.jsxs(khn,{__unstable_checkered:!0,children:[c.jsx(Ehn,{alt:E,src:A,onClick:s,"data-id":j}),v&&c.jsx(RGt,{})]})}),c.jsx(jhn,{children:c.jsx(XIe,{isSelected:u,onAction:S})}),(d||p)&&c.jsx(D4,{asset:i,mode:p?"confirmDelete":"listUsage",onClose:x,onDelete:_,isDeleting:v})]})}),Ahn=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],Dhn=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],Ihn=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],Phn=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],rce=(e,t,n)=>{let r=e;return typeof t=="string"||Array.isArray(t)?r=e.toLocaleString(t,n):(t===!0||n!==void 0)&&(r=e.toLocaleString(void 0,n)),r};function Ohn(e){let{bits:t=!1,binary:n=!1,signed:r=!1,minimumFractionDigits:o,maximumFractionDigits:i,locale:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e;if(!Number.isFinite(a))throw new TypeError("Expected a finite number, got ".concat(typeof a,": ").concat(a));const l=t?n?Phn:Ihn:n?Dhn:Ahn;if(r&&a===0)return" 0 ".concat(l[0]);const u=a<0,d=u?"-":r?"+":"";u&&(a=-a);let f;if(o!==void 0&&(f={minimumFractionDigits:o}),i!==void 0&&(f={maximumFractionDigits:i,...f}),a<1){const g=rce(a,s,f);return"".concat(d+g," ").concat(l[0])}const p=Math.min(Math.floor(n?Math.log(a)/Math.log(1024):Math.log10(a)/3),l.length-1);a/=(n?1024:1e3)**p,f||(a=a.toPrecision(3));const m=rce(Number(a),s,f),v=l[p];return"".concat(d+m," ").concat(v)}const YO={"image/bmp":{title:"Bitmap Image"},"image/jpeg":{title:"JPEG Image"},"image/gif":{title:"GIF Image"},"image/vnd.microsoft.icon":{title:"Icon"},"image/png":{title:"PNG Image"},"image/svg+xml":{title:"SVG Image"},"image/webp":{title:"WebP Image"},"image/tiff":{title:"TIFF Image"},"image/heic":{title:"HEIC Image"},"audio/midi":{title:"MIDI Audio"},"audio/midi-x":{title:"MIDI Audio"},"audio/mpeg":{title:"MP3 Audio"},"audio/ogg":{title:"OGG Audio"},"audio/wav":{title:"WAV Audio"},"audio/webm":{title:"WebM Audio"},"audio/aac":{title:"AAC Audio"},"video/x-msvideo":{title:"AVI Video"},"video/mp4":{title:"MP4 Video"},"video/mpeg":{title:"MPEG Video"},"video/ogg":{title:"OGG Video"},"video/webm":{title:"WebM Video"},"video/quicktime":{title:"QuickTime Video"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{title:"Excel Spreadsheet"},"application/vnd.ms-excel":{title:"Excel Spreadsheet"},"text/plain":{title:"Text"},"text/javascript":{title:"JavaScript"},"text/markdown":{title:"Markdown"},"text/csv":{title:"CSV"},"text/css":{title:"CSS"},"application/pdf":{title:"PDF Document"},"application/xml":{title:"XML Document"},"text/xml":{title:"XML Document"},"application/zip":{title:"ZIP Archive"},"application/vnd.rar":{title:"RAR Archive"},"application/x-7z-compressed":{title:"7-zip Archive"},"application/octet-stream":{title:"Binary"}};function $hn(e){const t=e.replace("x-","").split("/")[1];return t.charAt(0).toUpperCase()+t.slice(1)}function Rhn(e){return YO!=null&&YO[e]?YO[e].title:$hn(e)}var oce=Object.freeze,Mhn=Object.defineProperty,Tu=(e,t)=>oce(Mhn(e,"raw",{value:oce(t||e.slice())})),ice,sce,ace,lce,cce,uce,dce,fce,hce;const P4=O.span(ice||(ice=Tu([`
  background-color: transparent;
  flex-shrink: 0;
`]))),wg=O(W)(sce||(sce=Tu([""]))),Fhn=O(B)(ace||(ace=Tu([""]))),Lhn=O(ee)(cce||(cce=Tu([`
  &:hover-within `,` {
    --card-muted-fg-color: var(--card-muted-fg-color);
    --card-fg-color: var(--card-fg-color);
  }

  `,`
`])),Fhn,e=>e.isSelected&&de(lce||(lce=Tu([`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);
    `])))),pce=O(ae)(fce||(fce=Tu([`
  box-shadow: none;
  min-width: 0;
  cursor: pointer;
  position: initial;

  &:before,
  &:after {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    z-index: 2;
  }

  &:before {
    z-index: 0;
    pointer-events: none;
    border-radius: 0.1875rem;
  }

  `,`

  `,`
`])),e=>e.isSelected&&de(uce||(uce=Tu([`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);

      &:before {
        background-color: var(--card-focus-ring-color);
      }

      `,` {
        --card-muted-fg-color: var(--card-bg-color);
      }

      `,` {
        --card-muted-fg-color: var(--card-bg-color);
        --card-fg-color: var(--card-bg-color);
      }
    `])),P4,wg),e=>!e.isSelected&&de(dce||(dce=Tu([`
      &:hover:before {
        background-color: var(--card-bg-color);
      }

      &:focus:before {
        background-color: var(--card-code-bg-color);
      }

      &:focus-within:before {
        background-color: var(--card-bg-color);
      }
    `])))),Bhn=O(B)(hce||(hce=Tu([`
  overflow-wrap: anywhere;
`]))),mce={position:"relative"},gce={flexShrink:0},qO={minWidth:0},vce={zIndex:3,marginTop:"-0.5rem",marginBottom:"-0.5rem"},Nhn="Cannot delete current file",zhn=e=>{const t=Sr(gn),n=Ai(),r=h.useRef(),[o,i]=h.useState(!1),[s,a]=h.useState(!1),[l,u]=h.useState(!1),[d,f]=h.useState(!1),{asset:p,onClick:m,onKeyPress:v,onDeleteFinished:g,isSelected:b,isMobile:x}=e,{originalFilename:y,_id:w,mimeType:C,size:_,_createdAt:S}=p,E=Wf(S,{agoSuffix:!0}),j=Rhn(C),k=Ohn(_),T=(y||"").length>37,A=()=>{a(!0)},D=H=>{n.push({closable:!0,status:"error",title:"File could not be deleted",description:H.message})},I=()=>{n.push({status:"success",title:"File was deleted"})},P=()=>{u(!0),r.current=t.observable.delete(p._id).subscribe({next:()=>{u(!1),g==null||g(p._id),a(!1),I()},error:H=>{u(!1),D(H),console.error("Could not delete asset",H)}})},M=()=>{i(!1),a(!1)},$=()=>{i(!0)},V=()=>{f(!d)},L=H=>{H.type==="delete"&&A(),H.type==="showUsage"&&$()};return x?c.jsxs(ee,{paddingBottom:2,style:mce,children:[c.jsxs(ln,{columns:4,gap:1,style:{position:"relative",gridTemplateColumns:"1fr 30px",opacity:l?.5:1},children:[c.jsx(pce,{asset:p,mode:"bleed",padding:0,"data-id":w,onClick:m,paddingY:1,children:c.jsxs(W,{gap:2,flex:2,align:"center",children:[c.jsx(ee,{as:P4,padding:2,tone:"transparent",radius:2,children:c.jsx(B,{muted:!0,size:2,style:gce,children:c.jsx(Rp,{})})}),c.jsx(B,{size:1,align:"left",textOverflow:"ellipsis",style:qO,children:y})]})}),c.jsx(W,{justify:"flex-end",align:"center",paddingRight:1,style:vce,children:c.jsx(ae,{mode:"bleed",fontSize:1,padding:2,onClick:V,icon:d?Eve:Rl})})]}),d&&c.jsxs(c.Fragment,{children:[c.jsxs(ln,{marginTop:3,columns:3,gap:1,children:[c.jsxs(ne,{space:2,children:[c.jsx(Nt,{size:1,muted:!0,children:"Size"}),c.jsx(B,{size:1,muted:!0,children:k})]}),c.jsxs(ne,{space:2,children:[c.jsx(Nt,{size:1,muted:!0,children:"Type"}),c.jsx(B,{size:1,muted:!0,children:j})]}),c.jsxs(ne,{space:2,children:[c.jsx(Nt,{size:1,muted:!0,children:"Date added"}),c.jsx(B,{size:1,muted:!0,children:E})]})]}),c.jsxs(ne,{space:2,marginTop:3,children:[c.jsx(ae,{fontSize:1,tone:"default",mode:"ghost",text:"Show uses",onClick:$,icon:jf}),c.jsx(ae,{fontSize:1,tone:"critical",mode:"ghost",text:"Delete",icon:fo,disabled:b,title:b?Nhn:"Delete file",onClick:A})]})]}),(o||s)&&c.jsx(D4,{assetType:"file",asset:p,mode:s?"confirmDelete":"listUsage",onClose:M,onDelete:P,isDeleting:l})]}):c.jsxs(Lhn,{asset:p,paddingBottom:1,style:mce,radius:0,overflow:"hidden",isSelected:b,"aria-selected":"true",children:[c.jsxs(ln,{columns:4,gap:1,"data-id":w,paddingY:1,style:{position:"relative",gridTemplateColumns:"3fr 1fr 1fr 2fr 30px",opacity:l?.5:1},children:[c.jsx(pce,{asset:p,mode:"bleed","data-id":w,onClick:m,padding:0,onKeyPress:v,title:"Select the file ".concat(y),isSelected:b,children:c.jsxs(wg,{gap:2,flex:2,paddingRight:1,align:"center",onClick:m,onKeyPress:v,"data-id":w,title:"Select the file ".concat(y),children:[c.jsx(ee,{as:P4,padding:2,tone:"transparent",radius:2,style:gce,children:c.jsx(B,{muted:!0,size:2,children:c.jsx(Rp,{})})}),T&&c.jsx(yt,{content:c.jsx(F,{padding:2,children:c.jsx(B,{size:1,children:y})}),fallbackPlacements:["right","left"],placement:"top",portal:!0,children:c.jsx(B,{size:1,align:"left",textOverflow:"ellipsis",style:qO,children:y})}),!T&&c.jsx(B,{size:1,align:"left",textOverflow:"ellipsis",style:qO,children:y})]})}),c.jsx(wg,{align:"center",children:c.jsx(B,{size:1,muted:!0,children:k})}),c.jsx(wg,{align:"center",children:c.jsx(F,{children:c.jsx(Bhn,{size:1,muted:!0,textOverflow:"ellipsis",children:j})})}),c.jsx(wg,{align:"center",children:c.jsx(B,{as:"time",size:1,muted:!0,dateTime:S,children:E})}),c.jsx(wg,{justify:"flex-end",align:"center",paddingX:1,paddingY:1,style:vce,children:c.jsx(XIe,{border:!1,isSelected:!1,onAction:L})})]}),(o||s)&&c.jsx(D4,{assetType:"file",asset:p,mode:s?"confirmDelete":"listUsage",onClose:M,onDelete:P,isDeleting:l})]})},Vhn={paddingLeft:"2.2rem"},yce={gridTemplateColumns:"3fr 1fr 1fr 2fr 30px"};function Hhn(e){const n=gm()<2,{assets:r,onClick:o,onKeyPress:i,onDeleteFinished:s,selectedAssets:a,isLoading:l}=e;return c.jsxs(F,{padding:4,children:[c.jsx(ee,{borderBottom:!0,paddingBottom:2,marginBottom:1,children:n?c.jsx(ln,{style:yce,children:c.jsx(F,{flex:2,paddingLeft:5,children:c.jsx(Nt,{muted:!0,size:1,children:"Filename"})})}):c.jsxs(ln,{gap:1,style:yce,children:[c.jsx(F,{flex:2,style:Vhn,children:c.jsx(Nt,{muted:!0,size:1,children:"Filename"})}),c.jsx(F,{flex:1,children:c.jsx(Nt,{muted:!0,size:1,children:"Size"})}),c.jsx(F,{flex:1,children:c.jsx(Nt,{muted:!0,size:1,children:"Type"})}),c.jsx(F,{flex:1,children:c.jsx(Nt,{muted:!0,size:1,children:"Date added"})})]})}),c.jsxs(ne,{children:[l&&r.length===0&&c.jsx(F,{paddingTop:4,paddingBottom:2,children:c.jsx(W,{justify:"center",children:c.jsx(Hr,{muted:!0})})}),r.map(u=>c.jsx(zhn,{asset:u,isMobile:n,isSelected:a.some(d=>d._id===u._id),onClick:o,onKeyPress:i,onDeleteFinished:s},u._id))]})]})}var bce=Object.freeze,Uhn=Object.defineProperty,QIe=(e,t)=>bce(Uhn(e,"raw",{value:bce(t||e.slice())})),xce,wce;const LS=200,JIe="sanity.imageAsset",Whn="sanity.fileAsset",Yhn=e=>{const t=["image/*","audio/*","video/*"],r=e.split(",").map(o=>o.trim()).reduce((o,i)=>t.includes(i)?{...o,wildcards:"mimeType match '".concat(i,"' || ").concat(o.wildcards)}:i.indexOf(".")===0?{...o,extensions:"'".concat(i.replace(".",""),"', ").concat(o.extensions)}:{...o,mimes:"'".concat(i,"', ").concat(o.mimes)},{mimes:"",extensions:"",wildcards:""});return`&&
  (
    `.concat(r.wildcards,` 
    extension in [`).concat(r.extensions,`] ||
    mimeType in [`).concat(r.mimes,`]
  )`)},qhn=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:LS,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:JIe,r=arguments.length>3?arguments[3]:void 0;const i=r.length>0?Yhn(r):"";return`
  *[_type == "`.concat(n,'" ').concat(i,"] | order(_updatedAt desc) [").concat(e,"...").concat(t,`] {
    _id,
    _updatedAt,
    _createdAt,
    url,
    originalFilename,
    mimeType,
    extension,
    size,
    metadata {dimensions}
  }
`)},Ghn=O(ln)(xce||(xce=QIe([`
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
`]))),Khn=O(ee)(wce||(wce=QIe([`
  border-top: 1px solid var(--card-border-color);
  position: sticky;
  bottom: 0;
  z-index: 200;
`]))),Zhn=function(t,n){const r=Sr(gn),o=h.useMemo(()=>r.withConfig({apiVersion:"2023-02-14"}),[r]),i=h.useRef("default-asset-source-".concat(PSe())),s=h.useRef(0),a=h.useRef(),[l,u]=h.useState([]),[d,f]=h.useState(!1),[p,m]=h.useState(!1),[v,g]=h.useState(!0),{selectedAssets:b,assetType:x="image",dialogHeaderTitle:y="Select image",onClose:w,onSelect:C,accept:_}=t,S=_?_.split(",").map(L=>L.trim()).join(", "):"",E=!v&&_&&_.length>0,j=_&&_==="image/*"&&x==="image",k=h.useCallback(L=>{const H=L*LS,U=H+LS,z=x==="image",Y=z?"asset.image-list":"asset.file-list",te=z?JIe:Whn;g(!0),typeof _<"u"&&(a.current=o.observable.fetch(qhn(H,U,te,_),{},{tag:Y}).subscribe(N=>{f(N.length<LS),u(G=>G.concat(N)),g(!1)}))},[x,_,o]),T=h.useCallback(L=>{u(H=>H.filter(U=>U._id!==L))},[u]),A=h.useCallback(L=>{l.find(U=>U._id===L)&&C([{kind:"assetDocumentId",value:L}])},[l,C]),D=h.useCallback(L=>{L.preventDefault(),A(L.currentTarget.getAttribute("data-id"))},[A]),I=h.useCallback(L=>{L.key==="Enter"&&(L.preventDefault(),A(L.currentTarget.getAttribute("data-id")))},[A]),P=h.useCallback(()=>{w&&w()},[w]),M=h.useCallback(L=>{L.preventDefault(),k(++s.current)},[k]);h.useEffect(()=>(k(s.current),()=>{a.current&&a.current.unsubscribe()}),[k]),h.useEffect(()=>{!v&&(!s.current||s.current===0)&&m(!0)},[v]);const $=h.useMemo(()=>c.jsxs(F,{padding:4,children:[c.jsx(Ghn,{gap:2,children:l.map(L=>c.jsx(Thn,{asset:L,isSelected:b.some(H=>H._id===L._id),onClick:D,onKeyPress:I,onDeleteFinished:T},L._id))}),v&&l.length===0&&c.jsx(W,{justify:"center",children:c.jsx(Hr,{muted:!0})}),!v&&l.length===0&&c.jsx(B,{align:"center",muted:!0,children:"No images"})]}),[l,T,D,I,v,b]),V=h.useMemo(()=>c.jsx(Hhn,{isLoading:v,assets:l,selectedAssets:b,onClick:D,onKeyPress:I,onDeleteFinished:T}),[v,l,b,D,I,T]);return c.jsxs(fa,{__unstable_autoFocus:p,header:y,id:i.current,onClickOutside:P,onClose:P,ref:n,width:2,children:[E&&!j&&c.jsx(ee,{tone:"primary",marginTop:4,marginX:4,padding:[3,3,4],border:!0,radius:2,children:c.jsxs(W,{gap:[3,4],align:"center",children:[c.jsx(B,{children:c.jsx(cm,{})}),c.jsxs(B,{size:1,children:["Only showing assets of accepted types: ",c.jsx("b",{children:S})]})]})}),x==="image"&&$,x==="file"&&V,l.length>0&&!d&&c.jsx(Khn,{tone:"default",padding:4,children:c.jsx(W,{direction:"column",children:c.jsx(ae,{type:"button",icon:$F,loading:v,onClick:M,text:"Load more",tone:"primary"})})})]})},ePe=re.memo(re.forwardRef(Zhn)),tPe={name:"sanity-default",title:"Uploaded files",component:ePe,icon:OF},nPe={name:"sanity-default",title:"Uploaded images",component:ePe,icon:Sl};function Xhn(e){return e.reduce((t,n)=>(t[n.name]=n,t),{})}function fh(e,t){return e[t]}function Qhn(e){return e.reduce((t,n)=>(n.type==="field"&&t.push(n.fieldType),t),[])}const Jhn=[{fieldPath:"_updatedAt",icon:_g,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Updated at",name:"updatedAt",type:"pinned"},{fieldPath:"_createdAt",icon:_g,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Created at",name:"createdAt",type:"pinned"},{icon:jf,operators:[{name:"referencesDocument",type:"item"},{name:"referencesAssetImage",type:"item"},{name:"referencesAssetFile",type:"item"}],title:"Contains document, image or file",name:"references",type:"pinned"},{fieldType:"array",icon:Uy,name:"array",operators:[{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:Uy,name:"arrayList",operators:[{name:"arrayListIncludes",type:"item"},{name:"arrayListNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:Uy,name:"arrayReferences",operators:[{name:"arrayReferenceIncludes",type:"item"},{name:"arrayReferenceNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"boolean",icon:rj,name:"boolean",operators:[{name:"booleanEqual",type:"item"},{type:"divider"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"date",icon:_g,name:"date",operators:[{name:"dateLast",type:"item"},{type:"divider"},{name:"dateRange",type:"item"},{name:"dateAfter",type:"item"},{name:"dateBefore",type:"item"},{type:"divider"},{name:"dateEqual",type:"item"},{name:"dateNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"datetime",icon:_g,name:"datetime",operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"email",icon:cg,name:"email",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"file",icon:Rp,name:"file",operators:[{name:"assetFileEqual",type:"item"},{name:"assetFileNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"image",icon:Sl,name:"image",operators:[{name:"assetImageEqual",type:"item"},{name:"assetImageNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"number",icon:zve,name:"number",operators:[{name:"numberEqual",type:"item"},{name:"numberNotEqual",type:"item"},{type:"divider"},{name:"numberGt",type:"item"},{name:"numberGte",type:"item"},{name:"numberLt",type:"item"},{name:"numberLte",type:"item"},{type:"divider"},{name:"numberRange",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"array",icon:Cve,name:"portableText",operators:[{name:"portableTextMatches",type:"item"},{name:"portableTextNotMatches",type:"item"},{type:"divider"},{name:"portableTextEqual",type:"item"},{name:"portableTextNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"reference",icon:jf,name:"reference",operators:[{name:"referenceEqual",type:"item"},{name:"referenceNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"slug",icon:cg,name:"slug",operators:[{name:"slugMatches",type:"item"},{name:"slugNotMatches",type:"item"},{type:"divider"},{name:"slugEqual",type:"item"},{name:"slugNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:cg,name:"string",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:Ml,name:"stringList",operators:[{name:"stringListEqual",type:"item"},{name:"stringListNotEqual",type:"item"},{type:"divider"},{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"text",icon:cg,name:"text",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"url",icon:cg,name:"url",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"}];function epn(e){let{documentId:t,schemaType:n}=e;const r=Ps(),{draft:o,published:i,isLoading:s}=Ao(()=>pA(r,n,t,""),[t,r,n]),a=h.useMemo(()=>({_id:t,_type:n.name}),[t,n.name]),l=wB({draft:o,published:i,value:a});return s?c.jsx(A0,{animated:!0,marginLeft:1,radius:2,style:{width:"10ch",height:"1em"}}):c.jsx(c.Fragment,{children:l.title||t.slice(0,8)})}const Ck="yyyy-MM-dd";function tpn(e){let{value:t}=e;return c.jsx(c.Fragment,{children:t?"True":"False"})}function Cce(e){let{value:t}=e;const n=t!=null&&t.date?new Date(t.date):null;return!n||!Bu(n)?null:c.jsx(c.Fragment,{children:Zo(n,Ck)})}function _ce(e){let{value:t}=e;const n=t!=null&&t.date?new Date(t.date):null;return!n||!Bu(n)?null:c.jsx(c.Fragment,{children:Zo(n,Ck)})}function npn(e){let{value:t}=e;var n;return c.jsxs(c.Fragment,{children:[Math.floor((n=t==null?void 0:t.unitValue)!=null?n:0)," ",t.unit]})}function Sce(e){let{value:t}=e;const n=t!=null&&t.dateMin?new Date(t.dateMin):null,r=t!=null&&t.dateMax?new Date(t.dateMax):null;return!r||!n||!Bu(r)||!Bu(n)?null:c.jsxs(c.Fragment,{children:[Zo(n,Ck)," → ",Zo(r,Ck)]})}function ig(e){let{value:t}=e;return c.jsx(c.Fragment,{children:t})}function sg(e){let{value:t}=e;return c.jsxs(c.Fragment,{children:[t," ",Nr("item",t)]})}function rpn(e){let{value:t}=e;return c.jsxs(c.Fragment,{children:[t.min," → ",t.max]})}function opn(e){let{value:t}=e;return c.jsxs(c.Fragment,{children:[t.min," → ",t.max," items"]})}function hl(e){let{value:t}=e;const n=dr(),r=t._ref,o=n.get(t._type);return o?c.jsx(epn,{documentId:r,schemaType:o}):null}function xi(e){let{value:t}=e;return c.jsx(c.Fragment,{children:t})}const rPe=h.createContext(void 0);function Ot(){const e=h.useContext(rPe);if(e===void 0)throw new Error("useSearchState must be used within an SearchProvider");return e}function Ta(e){let{value:t,onChange:n}=e;const[r,o]=h.useState(t??""),{state:{fullscreen:i}}=Ot(),s=h.useCallback(a=>{o(a.currentTarget.value);const l=parseFloat(a.currentTarget.value);n(Number.isFinite(l)?l:null)},[n]);return c.jsx(Xr,{fontSize:i?2:1,onChange:s,placeholder:"Value",radius:2,step:"any",type:"number",value:r})}function oPe(e){let{onChange:t,value:n}=e;var r,o;const[i,s]=h.useState((r=n==null?void 0:n.max)!=null?r:""),[a,l]=h.useState((o=n==null?void 0:n.min)!=null?o:""),{state:{fullscreen:u}}=Ot(),d=h.useCallback(p=>{var m;s(p.currentTarget.value);const v=parseFloat(p.currentTarget.value);t({max:Number.isFinite(v)?v:null,min:(m=n==null?void 0:n.min)!=null?m:null})},[n==null?void 0:n.min,t]),f=h.useCallback(p=>{var m;l(p.currentTarget.value);const v=parseFloat(p.currentTarget.value);t({max:(m=n==null?void 0:n.max)!=null?m:null,min:Number.isFinite(v)?v:null})},[n==null?void 0:n.max,t]);return c.jsxs(W,{gap:2,children:[c.jsx(F,{flex:1,children:c.jsx(Xr,{fontSize:u?2:1,onChange:f,placeholder:"Min value",radius:2,step:"any",type:"number",value:a})}),c.jsx(F,{flex:1,children:c.jsx(Xr,{fontSize:u?2:1,onChange:d,placeholder:"Max value",radius:2,step:"any",type:"number",value:i})})]})}function NA(e,t){const n=t.split("."),r=n[0];if(r&&Ga(e)){const o=e.fields.find(i=>i.name===r);if(o){const i=n.slice(1).join(".");return i?NA(o.type,i):o}}}var Ece=Object.freeze,ipn=Object.defineProperty,iPe=(e,t)=>Ece(ipn(e,"raw",{value:Ece(t||e.slice())})),kce,jce;const spn=O(F)(kce||(kce=iPe([`
  @supports (-webkit-overflow-scrolling: touch) {
    * [data-ui='Box'] {
      background-attachment: scroll;
    }
  }
`]))),apn=O(Nt)(jce||(jce=iPe([`
  max-width: 150px;
`])));function lpn(e){let{documentId:t,presence:n,schemaType:r}=e;const o=Ps(),{draft:i,published:s,isLoading:a}=Ao(()=>pA(o,r,t,""),[t,o,r]),l=h.useMemo(()=>({_id:t,_type:r.name}),[t,r.name]),u=h.useMemo(()=>a?null:c.jsxs(Jt,{space:3,children:[n&&n.length>0&&c.jsx(UB,{presence:n}),c.jsx(apn,{size:0,muted:!0,textOverflow:"ellipsis",children:r.title})]}),[a,n,r.title]);return c.jsx(spn,{children:c.jsx(tC,{...wB({draft:i,published:s,value:l}),isPlaceholder:a??!0,layout:"default",icon:r.icon,status:u})})}function bN(e){let{compact:t,disableIntentLink:n,documentId:r,documentType:o,onClick:i,...s}=e;const l=dr().get(o),u=VN(r),d=h.useMemo(()=>({id:r,type:l==null?void 0:l.name}),[r,l==null?void 0:l.name]),{onClick:f,href:p}=jw({intent:"edit",params:d}),m=h.useCallback(v=>{n||f(v),i==null||i()},[n,i,f]);return l?c.jsx(F,{...s,children:c.jsx(bv,{as:"a","data-as":"a",flex:1,href:n?void 0:p,onClick:m,padding:t?1:2,radius:2,tabIndex:-1,children:c.jsx(lpn,{documentId:r,presence:u,schemaType:l})})}):null}const cpn=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),upn="_debug_search_score",sPe=!1,Tce=1e3,aPe="k",dpn=cpn?"Cmd":"Ctrl",Bx=Mf.space[1],fpn=735,lPe=800,fC=5,l1=2;function zA(e){let{allowEmptyQueries:t,terms:n}=e;const r=t?!0:n.query.length>0,o=!!n.filter,i=n.types.length>0;return r||o||i}function hpn(e,t){return VA(e).filter(n=>ppn(n,t)).sort(O4)}function VA(e){return WKt(e).filter(t=>t.__experimental_omnisearch_visibility!==!1)}function O4(e,t){var n,r;return((n=e.title)!=null?n:e.name).localeCompare((r=t.title)!=null?r:t.name)}function ppn(e,t){var n;return!t||((n=e.title)!=null?n:e.name).toLowerCase().includes(t==null?void 0:t.toLowerCase())}const mpn=300,GO={error:null,hits:[],loading:!1,terms:{query:"",types:[]}};function gpn(e){return e!==null}function vpn(e){var t;return{...e,terms:{...e.terms,filter:(t=e.terms.filter)==null?void 0:t.trim(),query:e.terms.query.trim()}}}function cPe(e){let{allowEmptyQueries:t,initialState:n,onComplete:r,onError:o,onStart:i,schema:s}=e;const[a,l]=h.useState(n),u=Sr(gn),d=h.useMemo(()=>SB(VA(s),u,{tag:"search.global",unique:!0}),[u,s]),f=GL(m=>m.pipe(ct(gpn),ce(vpn),Kn(Yt),zwe(v=>Ei((v==null?void 0:v.debounceTime)||mpn)),Wn(i),tt(v=>ho(be({...GO,loading:!0,options:v.options,terms:v.terms}),Bet(()=>zA({allowEmptyQueries:t,terms:v.terms}),d(v.terms,v.options).pipe(ce(g=>({hits:g})),Wn(g=>{let{hits:b}=g;return r==null?void 0:r(b)}),Xn(g=>(o==null||o(g),be({...GO,error:g,loading:!1,options:v.options,terms:v.terms})))),be(Gn).pipe(Wn(()=>r==null?void 0:r([])))),be({loading:!1}))),Ua((v,g)=>({...v,...g}),GO),Wn(l)),[t,d]);return{handleSearch:h.useCallback(m=>f(m),[f]),searchState:a}}const ypn=40;function xN(e){let{availableCharacters:t=ypn,types:n}=e;const r=n.reduce(function(){let i=t;return function(s,a,l){const u=Ace(a);return i-=u.length,(l===0||t>u.length&&i>u.length)&&s.push(a),s}}(),[]),o=n.length-r.length;return n.length?["".concat(r.map(Ace).join(", ")),...o?["+".concat(o," more")]:[]].join(" "):"All types"}function Ace(e){var t;return(t=e.title)!=null?t:e.name}var Dce=Object.freeze,bpn=Object.defineProperty,xpn=(e,t)=>Dce(bpn(e,"raw",{value:Dce(t||e.slice())})),Ice;const wpn=()=>!0,Cpn=O(B)(Ice||(Ice=xpn([`
  word-break: break-word;
`]))),_pn=h.forwardRef(function(t,n){let{onSelect:r,types:o=[],value:i}=t;const s=h.useRef(null),a=dr(),{state:{fullscreen:l}}=Ot(),u=h.useId(),[d,f]=h.useState([]),{handleSearch:p,searchState:m}=cPe({allowEmptyQueries:!0,initialState:{hits:[],loading:!1,error:null,terms:{query:"",types:o}},onComplete:C=>{f(C.map(_=>({hit:_,value:_.hit._id})))},schema:a}),v=h.useCallback(()=>{p({debounceTime:0,options:{limit:100},terms:{query:"",types:o}})},[p,o]),g=h.useCallback(C=>{p(C?{options:{limit:100},terms:{query:C||"",types:o}}:{debounceTime:0,options:{limit:0},terms:{query:"",types:o}})},[p,o]),b=h.useCallback(C=>{var _;const S=(_=d.find(E=>E.value===C))==null?void 0:_.hit.hit;S&&(r==null||r({_ref:Zn(S._id),_type:S._type}))},[d,r]),x=h.useMemo(()=>{const C=xN({types:o});return o.length>0?"Search for ".concat(C):"Search all documents"},[o]),y=h.useCallback(C=>{const _=C.hit.hit._type;return c.jsx(bN,{compact:!0,disableIntentLink:!0,documentId:C.value,documentType:_})},[]),w=h.useCallback((C,_)=>{const{content:S,hidden:E,onMouseEnter:j,onMouseLeave:k}=C,T=d&&d.length>0;return c.jsx(hn,{arrow:!1,constrainSize:!0,content:c.jsx("div",{ref:_,children:T?S:m.terms.query&&c.jsx(F,{padding:4,children:c.jsx(W,{align:"center",height:"fill",justify:"center",children:c.jsxs(Cpn,{align:"center",muted:!0,children:["No results for ",c.jsxs("strong",{children:["“",m.terms.query,"”"]})]})})})}),matchReferenceWidth:!0,onMouseEnter:j,onMouseLeave:k,open:!m.loading&&!E,overflow:"auto",placement:"bottom-start",radius:l1,referenceElement:s.current})},[d,m.loading,m.terms.query]);return c.jsx("div",{ref:s,children:c.jsx(IL,{"aria-label":x,filterOption:wpn,fontSize:l?2:1,id:u,loading:m.loading,openButton:{onClick:v},options:d,onQueryChange:g,onSelect:b,placeholder:x,radius:2,ref:n,renderOption:y,renderPopover:w,value:i==null?void 0:i._ref})})});function jb(e){let{fieldDefinition:t,onChange:n,value:r}=e;const{onClose:o,state:{documentTypesNarrowed:i,fullscreen:s}}=Ot(),a=dr(),l=h.useCallback(p=>n(p),[n]),u=h.useMemo(()=>t?t.documentTypes.filter(p=>i.includes(p)).flatMap(p=>{const m=a.get(p);if(m){const v=NA(m,t.fieldPath);if(Ol(v==null?void 0:v.type))return v==null?void 0:v.type.of.filter(_f).flatMap(g=>g.to);if(_f(v==null?void 0:v.type))return v==null?void 0:v.type.to}return[]}).reduce((p,m)=>(p.findIndex(v=>v.name===(m==null?void 0:m.name))<0&&p.push(m),p),[]):[],[i,t,a]),d=h.useCallback(()=>l(null),[l]),f=h.useCallback(()=>{o==null||o()},[o]);return c.jsx(F,{style:{width:"min(calc(100vw - 40px), 420px)"},children:r!=null&&r._ref&&(r!=null&&r._type)?c.jsxs(ne,{space:3,children:[c.jsx(ee,{padding:1,radius:1,shadow:1,children:c.jsx(bN,{compact:!0,documentId:r._ref,documentType:r._type,onClick:f})}),c.jsx(ae,{fontSize:s?2:1,mode:"ghost",onClick:d,text:"Clear",tone:"critical"})]}):c.jsx(_pn,{onSelect:l,types:u,value:r})})}function Spn(e){let{onClick:t,selected:n,title:r,value:o}=e;const i=h.useCallback(()=>t(o),[t,o]);return c.jsx(Me,{onClick:i,padding:3,pressed:n,tone:"default",children:c.jsx(W,{align:"center",justify:"space-between",gap:3,children:c.jsxs(ne,{paddingRight:2,space:2,children:[c.jsx(B,{size:1,weight:"regular",children:r}),o&&c.jsx(wr,{muted:!0,size:0,children:o})]})})})}function _k(e){let{fieldDefinition:t,onChange:n,value:r}=e;const o=h.useId(),{state:{documentTypesNarrowed:i}}=Ot(),s=dr(),a=h.useMemo(()=>t?t.documentTypes.filter(f=>i.includes(f)).map(f=>{const p=s.get(f);if(p){const m=NA(p,t.fieldPath);return m==null?void 0:m.type.options}return null}).filter(po).map(f=>f.list).flatMap(f=>f==null?void 0:f.map(p=>Epn(p))).filter(po).reduce((f,p)=>{const m=f.findIndex(v=>v.value===(p==null?void 0:p.value));if(m>-1){const v=f[m];f[m]={...f[m],title:uo([...v.title,p.title]).sort()}}else f.push({...p,title:[p.title]});return f},[]):[],[i,t,s]),l=h.useCallback(u=>{n(u)},[n]);return c.jsx(rn,{button:c.jsx(ae,{mode:"ghost",padding:3,children:c.jsxs(W,{align:"center",gap:2,justify:"space-between",children:[c.jsx(B,{size:1,weight:"regular",children:r||"Select..."}),c.jsx(F,{marginLeft:1,children:c.jsx(B,{size:1,children:c.jsx(Ml,{})})})]})}),id:o||"",menu:c.jsx(Ht,{children:a.map((u,d)=>c.jsx(Spn,{onClick:l,selected:u.value===r,title:u.title.join(", "),value:u.value||""},d))}),popover:{constrainSize:!0,placement:"bottom-start",portal:!1,radius:2}})}function Epn(e){return gF(e)?e:{title:Em("".concat(e)),value:e}}const uPe=()=>c.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM7.04 15.328V13.624L12.08 11.872L15.32 10.816V10.72L12.08 9.664L7.04 7.912V6.208L17.36 9.88V11.656L7.04 15.328Z",fill:"currentColor"})}),dPe=()=>c.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M7.568 18.848V16.952L14.792 12.08V11.984L7.568 7.112V5.216L16.52 11.288V12.776L7.568 18.848Z",fill:"currentColor"})}),fPe=()=>c.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM17.36 15.328L7.04 11.656V9.88L17.36 6.208V7.912L12.32 9.664L9.08 10.72V10.816L12.32 11.872L17.36 13.624V15.328Z",fill:"currentColor"})}),hPe=()=>c.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M16.952 19.632L8 13.56V12.072L16.952 6V7.896L9.728 12.768V12.864L16.952 17.736V19.632Z",fill:"currentColor"})});function Ke(e){return JSON.stringify(e)}const kpn={arrayCountEqual:{buttonLabel:"has",buttonValueComponent:sg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") == ").concat(Ke(n)):null},initialValue:null,inputComponent:Ta,label:"quantity is",type:"arrayCountEqual"},arrayCountGt:{buttonLabel:"has >",buttonValueComponent:sg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") > ").concat(Ke(n)):null},icon:dPe,initialValue:null,inputComponent:Ta,label:"quantity greater than",type:"arrayCountGt"},arrayCountGte:{buttonLabel:"has ≥",buttonValueComponent:sg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") >= ").concat(Ke(n)):null},icon:uPe,initialValue:null,inputComponent:Ta,label:"quantity greater than or equal to",type:"arrayCountGte"},arrayCountLt:{buttonLabel:"has <",buttonValueComponent:sg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") < ").concat(Ke(n)):null},icon:hPe,initialValue:null,inputComponent:Ta,label:"quantity less than",type:"arrayCountLt"},arrayCountLte:{buttonLabel:"has ≤",buttonValueComponent:sg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") <= ").concat(Ke(n)):null},icon:fPe,initialValue:null,inputComponent:Ta,label:"quantity less than or equal to",type:"arrayCountLte"},arrayCountNotEqual:{buttonLabel:"does not have",buttonValueComponent:sg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") != ").concat(Ke(n)):null},initialValue:null,inputComponent:Ta,label:"quantity is not",type:"arrayCountNotEqual"},arrayCountRange:{buttonLabel:"has between",buttonValueComponent:opn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n==null?void 0:n.max)&&Number.isFinite(n==null?void 0:n.min)&&t?"count(".concat(t,") > ").concat(Ke(n==null?void 0:n.min)," && count(").concat(t,") < ").concat(Ke(n==null?void 0:n.max)):""},initialValue:null,inputComponent:oPe,label:"quantity is between",type:"arrayCountRange"},arrayListIncludes:{buttonLabel:"includes",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(Ke(n)," in ").concat(t):null},initialValue:null,inputComponent:_k,label:"includes",type:"arrayListIncludes"},arrayListNotIncludes:{buttonLabel:"does not include",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(Ke(n)," in ").concat(t,")"):null},initialValue:null,inputComponent:_k,label:"does not include",type:"arrayListNotIncludes"},arrayReferenceIncludes:{buttonLabel:"includes",buttonValueComponent:hl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(Ke(n._ref)," in ").concat(t,"[]._ref"):null},initialValue:null,inputComponent:jb,label:"includes",type:"arrayReferenceIncludes"},arrayReferenceNotIncludes:{buttonLabel:"does not include",buttonValueComponent:hl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"!(".concat(Ke(n._ref)," in ").concat(t,"[]._ref)"):null},initialValue:null,inputComponent:jb,label:"does not include",type:"arrayReferenceNotIncludes"}},pPe=h.createContext(null);function jpn(e){let{children:t,workspace:n}=e;return c.jsx(pPe.Provider,{value:n,children:t})}function Nl(){const e=h.useContext(pPe);if(!e)throw new Error("Workspace: missing context value");return e}const BS=h.createContext(null);function Tpn(e){let{children:t,...n}=e;const r=h.useContext(BS),{unstable_sources:o}=Nl();if("source"in n){const{source:i}=n;return c.jsx(BS.Provider,{value:i,children:t})}if("name"in n){const{name:i}=n,s=o.find(a=>a.name===i);if(!s)throw new Error("Could not find source with name `".concat(i,"` in current workspace"));return r===s?c.jsx(c.Fragment,{children:t}):c.jsx(BS.Provider,{value:s,children:t})}throw new Error("Invalid props passed into SourceProvider. A `name` or a `source` object is required.")}function ur(){const e=h.useContext(BS);if(!e)throw new Error("Could not find `source` context");return e}function Apn(e){return c.jsx(F,{...e,children:c.jsxs(W,{align:"flex-start",gap:3,children:[c.jsx(sr,{tone:"caution",children:c.jsx(Qr,{})}),c.jsxs(ne,{space:4,children:[c.jsx(sr,{size:1,tone:"caution",weight:"semibold",children:"No valid asset sources found."}),c.jsx(sr,{size:1,tone:"caution",children:"Currently, only the default asset source is supported."}),c.jsx(sr,{size:1,tone:"caution",children:"Please ensure it's enabled in your studio configuration file."})]})]})})}function Dpn(e){let{reference:t}=e;const n=Ps(),r=h.useCallback(o=>CDe(n,o),[n]);return c.jsx(s0,{observeAsset:r,reference:t,waitPlaceholder:c.jsx(Ppn,{}),children:o=>c.jsx(Ipn,{asset:o})})}function Ipn(e){let{asset:t}=e;return c.jsx(ee,{padding:2,shadow:1,children:c.jsxs(W,{align:"center",justify:"space-between",wrap:"nowrap",children:[c.jsx(ee,{padding:3,radius:1,shadow:1,tone:"transparent",children:c.jsx(B,{children:c.jsx(v0,{})})}),c.jsxs(ne,{flex:1,space:2,marginLeft:3,children:[c.jsx(B,{size:2,textOverflow:"ellipsis",muted:!0,children:(t==null?void 0:t.originalFilename)||t._id}),c.jsx(B,{size:1,muted:!0,children:vIe(t.size)})]})]})})}function Ppn(){return c.jsx(ee,{padding:2,shadow:1,children:c.jsxs(W,{align:"center",justify:"flex-start",children:[c.jsx(ee,{padding:3,radius:1,shadow:1,tone:"transparent",children:c.jsx(B,{children:c.jsx(v0,{})})}),c.jsxs(ne,{flex:1,space:2,marginLeft:3,children:[c.jsx(R5,{animated:!0,style:{width:"100%"},radius:1}),c.jsx(R5,{animated:!0,style:{width:"100%"},radius:1})]})]})})}var Pce=Object.freeze,Opn=Object.defineProperty,wN=(e,t)=>Pce(Opn(e,"raw",{value:Pce(t||e.slice())})),Oce,$ce,Rce;const $pn=O(ee)(Oce||(Oce=wN([`
  position: relative;
  padding-bottom: 100%;
`]))),Rpn=O.img($ce||($ce=wN([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`]))),Mpn=O(W)(Rce||(Rce=wN([`
  height: 100%;
  position: absolute;
  width: 100%;
`])));function Fpn(e){let{reference:t}=e;const n=Ps(),r=h.useCallback(o=>wDe(n,o),[n]);return c.jsx(s0,{observeAsset:r,reference:t,children:o=>c.jsx(Lpn,{asset:o})})}function Lpn(e){let{asset:t}=e;const[n,r]=h.useState(!1),o="".concat(t.url,"?h=800&fit=max"),i=h.useCallback(()=>r(!0),[]);return c.jsxs($pn,{__unstable_checkered:!0,border:!0,children:[!n&&c.jsx(Mpn,{align:"center",justify:"center",children:c.jsx(Hr,{})}),c.jsx(Rpn,{onLoad:i,src:o})]})}function Bpn(e){let{reference:t}=e;return t?t._type.startsWith("sanity.fileAsset")?c.jsx(Dpn,{reference:t}):t._type.startsWith("sanity.imageAsset")?c.jsx(Fpn,{reference:t}):null:null}var Mce=Object.freeze,Npn=Object.defineProperty,zpn=(e,t)=>Mce(Npn(e,"raw",{value:Mce(t||e.slice())})),Fce;const Vpn={file:"sanity.fileAsset",image:"sanity.imageAsset"},Hpn=O(F)(Fce||(Fce=zpn([`
  width: min(calc(100vw - 40px), 320px);
`])));function qg(e){return function(n){let{onChange:r,value:o}=n;const[i,s]=h.useState(null),[a,l]=h.useState(null),{state:{fullscreen:u}}=Ot(),{file:d,image:f}=ur().form,p=h.useMemo(()=>{switch(e){case"file":return d.assetSources.filter(E=>E.name===tPe.name);case"image":return f.assetSources.filter(E=>E.name===nPe.name);default:throw Error("Unknown asset source found")}},[d.assetSources,f.assetSources]),m=h.useId(),v=Sr(gn),g=h.useCallback(()=>{l(null),r(null)},[r]),b=h.useCallback(()=>{s(null)},[]),x=h.useCallback(E=>{const j=E[0];l(j),b()},[b]),y=h.useCallback(E=>s(E),[]);h.useEffect(()=>{(a==null?void 0:a.kind)==="assetDocumentId"&&typeof(a==null?void 0:a.value)=="string"&&e&&r({_ref:a.value,_type:Vpn[e]})},[v,r,a]);const w=i==null?void 0:i.component,C=u?2:1,_=o?"Change ".concat(e):"Select ".concat(e),S=Nn(e,"options.accept",e==="image"?"image/*":"");return c.jsx(Hpn,{children:c.jsxs(ne,{space:3,children:[i&&w&&c.jsx(ym,{children:c.jsx(w,{assetType:e,dialogHeaderTitle:"Select ".concat(e),onClose:b,onSelect:x,selectedAssets:[],selectionType:"single",accept:S})}),o&&c.jsx(Bpn,{reference:o}),c.jsxs(W,{gap:2,children:[p.length===0&&c.jsx(Apn,{padding:2}),p.length>0&&c.jsx(c.Fragment,{children:p.length>1?c.jsx(rn,{button:c.jsx(ae,{fontSize:C,icon:o?KS:Yi,iconRight:Rl,mode:"ghost",style:{flex:o?1:0},text:_}),id:m,menu:c.jsx(Ht,{children:p.map(E=>c.jsx(Me,{fontSize:C,icon:E.icon||Sl,onClick:()=>y(E),text:E.title},E.name))}),popover:{constrainSize:!0,portal:!1,radius:2}}):c.jsx(ae,{fontSize:C,icon:o?KS:Yi,mode:"ghost",onClick:()=>y(p[0]),style:{flex:o?1:0},text:_})}),o&&c.jsx(ae,{fontSize:u?2:1,mode:"ghost",onClick:g,style:{flex:1},text:"Clear",tone:"critical"})]})]})})}}const Upn={assetFileEqual:{buttonLabel:"is",buttonValueComponent:hl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref == ").concat(Ke(n._ref)):null},initialValue:null,inputComponent:qg("file"),label:"is",type:"assetFileEqual"},assetFileNotEqual:{buttonLabel:"is not",buttonValueComponent:hl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref != ").concat(Ke(n._ref)):null},initialValue:null,inputComponent:qg("file"),label:"is not",type:"assetFileNotEqual"},assetImageEqual:{buttonLabel:"is",buttonValueComponent:hl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref == ").concat(Ke(n._ref)):null},initialValue:null,inputComponent:qg("image"),label:"is",type:"assetImageEqual"},assetImageNotEqual:{buttonLabel:"is not",buttonValueComponent:hl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref != ").concat(Ke(n._ref)):null},initialValue:null,inputComponent:qg("image"),label:"is not",type:"assetImageNotEqual"}};function Wpn(e){let{onChange:t,value:n}=e;const{state:{fullscreen:r}}=Ot(),o=h.useCallback(i=>{t(i.currentTarget.value==="true")},[t]);return c.jsxs(Lf,{fontSize:r?2:1,onChange:o,radius:2,value:String(n??!0),children:[c.jsx("option",{value:"true",children:"True"}),c.jsx("option",{value:"false",children:"False"})]})}const Ypn={booleanEqual:{buttonLabel:"is",buttonValueComponent:tpn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return typeof n<"u"&&t?"".concat(t," == ").concat(Ke(n)):null},initialValue:!0,inputComponent:Wpn,label:"is",type:"booleanEqual"}},qpn={defined:{buttonLabel:"not empty",groqFilter:e=>{let{fieldPath:t}=e;return t?"defined(".concat(t,")"):null},label:"not empty",type:"defined"},notDefined:{buttonLabel:"empty",groqFilter:e=>{let{fieldPath:t}=e;return t?"!defined(".concat(t,")"):null},label:"empty",type:"notDefined"}};var Lce=Object.freeze,Gpn=Object.defineProperty,Kpn=(e,t)=>Lce(Gpn(e,"raw",{value:Lce(t||e.slice())})),Bce;const Nce="Include time",Zpn=O(B)(Bce||(Bce=Kpn([`
  cursor: default;
`])));function CN(e){let{onChange:t,value:n}=e;return c.jsxs(W,{align:"center",gap:2,justify:"flex-end",marginTop:1,children:[c.jsx(ne,{children:c.jsx(Zpn,{muted:!0,onClick:t,size:1,weight:"medium",children:Nce})}),c.jsx(Yxe,{checked:n,label:Nce,onChange:t})]})}const mPe=h.createContext(void 0);function _N(){const e=h.useContext(mPe);if(e===void 0)throw new Error("useCalendar must be used within an CalendarContext.Provider");return e}const Xpn=["January","February","March","April","May","June","July","August","September","October","November","December"],Qpn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];b7(0,24);const Jpn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],emn=[1,2,3,4,5,6];function tmn(e){const{focusedDate:t}=_N(),{fontSize:n,moveFocusedDate:r,onNowClick:o}=e,i=h.useCallback(()=>r(-1),[r]),s=h.useCallback(()=>r(1),[r]);return c.jsxs(W,{align:"center",flex:1,justify:"space-between",children:[c.jsxs(Jt,{paddingLeft:2,space:1,children:[c.jsx(B,{weight:"medium",children:Xpn[t.getMonth()]}),c.jsx(B,{weight:"medium",children:t.getFullYear()})]}),c.jsxs(F,{children:[c.jsx(ae,{fontSize:n,text:"Today",mode:"bleed",onClick:o}),c.jsx(ae,{"aria-label":"Go to previous month",onClick:i,mode:"bleed",icon:oj}),c.jsx(ae,{"aria-label":"Go to next month",mode:"bleed",icon:Qu,onClick:s})]})]})}var zce=Object.freeze,nmn=Object.defineProperty,gPe=(e,t)=>zce(nmn(e,"raw",{value:zce(t||e.slice())})),Vce,Hce;const rmn=O.svg(e=>{let{theme:t}=e;return de(Vce||(Vce=gPe([`
    bottom: 0;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;

    circle {
      stroke: `,`;
      stroke-width: 3;
      fill: none;
    }
  `])),t.sanity.color.card.enabled.border)}),omn=O(ee)(Hce||(Hce=gPe([`
  position: relative;

  &[data-focused='true'] {
    z-index: 1;
  }

  &[data-start-date='true'] {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }

  &[data-end-date='true'] {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  &[data-within-range='true'] {
    border-radius: 0;
  }
`])));function imn(e){let{date:t,onSelect:n}=e;const r=h.useCallback(()=>{n(t)},[t,n]),{date:o,endDate:i,focusedDate:s,fontSize:a,selectRange:l}=_N(),u=o&&Ld(t,o),d=l&&o&&Ld(t,o),f=l&&i&&Ld(t,i),p=HSe(t,s),m=s&&Ld(t,s),v=Ld(t,new Date),g=o&&i&&!d&&!f&&GR(t,o)&&LSe(t,i);return c.jsxs(omn,{__unstable_focusRing:!0,"aria-label":t.toDateString(),"aria-pressed":u,"data-end-date":f?!0:void 0,"data-focused":m?"true":"","data-ui":"CalendarDay","aria-selected":u,"data-start-date":d?!0:void 0,"data-within-range":g?!0:void 0,forwardedAs:"button",onClick:r,padding:3,radius:2,role:"button",selected:u||d||f,tabIndex:-1,tone:g?"primary":"default",children:[v&&c.jsx(rmn,{height:"100%",preserveAspectRatio:"xMidYMid meet",vectorEffect:"non-scaling-stroke",viewBox:"0 0 100 100",width:"100%",children:c.jsx("circle",{cx:"50",cy:"50",r:"40%"})}),c.jsx(B,{align:"center",muted:!u&&!p,size:a,weight:v?"medium":"regular",children:t.getDate()})]})}const smn=e=>{const t=RSe(e);return $Se({start:t,end:FSe(t)})},amn=e=>e.map(t=>[t,...emn.map(n=>zi(t,n))]),lmn=e=>amn(smn(e)).map(t=>({number:MSe(t[0]),days:t}));var Uce=Object.freeze,cmn=Object.defineProperty,umn=(e,t)=>Uce(cmn(e,"raw",{value:Uce(t||e.slice())})),Wce;const dmn=O(ln)(Wce||(Wce=umn([`
  grid-template-columns: repeat(7, minmax(44px, auto));
`])));function fmn(e){let{hidden:t,onSelect:n}=e;const{focusedDate:r,fontSize:o}=_N();return c.jsx(F,{"aria-hidden":t||!1,"data-ui":"CalendarMonth",children:c.jsxs(dmn,{children:[Qpn.map(i=>c.jsx(F,{paddingBottom:3,paddingTop:2,children:c.jsx(B,{align:"center",size:o,weight:"medium",children:i})},i)),lmn(r).map((i,s)=>i.days.map((a,l)=>c.jsx(imn,{date:a,onSelect:n},"".concat(s,"-").concat(l))))]})})}const hmn=c.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1});function pmn(e){const{date:t,endDate:n,fontSize:r,onSelect:o,selectRange:i,selectTime:s}=e,[a,l]=h.useState(null),[u,d]=h.useState(!1),[f,p]=h.useState(t||new Date),m=h.useRef(t||null),v=h.useRef(n||null),g=h.useCallback(()=>{var C;(C=a==null?void 0:a.querySelector('[data-focused="true"]'))==null||C.focus()},[a]),b=h.useCallback(C=>{const _=fEt(C,{hours:C.getHours(),minutes:C.getMinutes(),seconds:0,milliseconds:0}),S=t&&LSe(_,t),E=n&&GR(_,n);if(i){if(S||E){o({date:_,endDate:null});return}o(u?{date:t||null,endDate:_}:{date:_,endDate:t?null:n||null})}else o({date:_})},[t,n,o,u,i]),x=h.useCallback(()=>{const C=new Date;i?p(C):o({date:C})},[o,i,p]),y=h.useCallback(C=>{var _;if(Jpn.includes(C.key)){if(C.preventDefault(),C.target.hasAttribute("data-calendar-grid")){g();return}C.key==="ArrowUp"&&p(zi(f,-7)),C.key==="ArrowDown"&&p(zi(f,7)),C.key==="ArrowLeft"&&p(zi(f,-1)),C.key==="ArrowRight"&&p(zi(f,1)),(_=a==null?void 0:a.querySelector("[data-preserve-focus]"))==null||_.focus()}},[a,g,f,p]),w=h.useCallback(C=>p(X8(f,C)),[f,p]);return h.useEffect(()=>{g()},[g]),h.useEffect(()=>{var C;((C=document.activeElement)==null?void 0:C.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&g()},[g,f]),h.useEffect(()=>{var C,_;const S=(t==null?void 0:t.getTime())!==((C=m.current)==null?void 0:C.getTime()),E=(n==null?void 0:n.getTime())!==((_=v.current)==null?void 0:_.getTime()),j=S&&!E,k=!S&&E,T=t&&n&&GR(t,n);j&&(T&&(d(!0),o({date:t,endDate:null})),d(!!t),t&&p(t)),k&&(T&&(d(!0),o({date:n,endDate:null})),d(!!t&&!n),n&&p(n)),S&&E&&(d(!0),t&&p(t)),m.current=t||null,v.current=n||null},[t,n,o]),c.jsx(mPe.Provider,{value:{date:t,endDate:n,focusedDate:f,fontSize:r,selectRange:i,selectTime:s},children:c.jsxs(F,{"data-ui":"Calendar",ref:l,children:[c.jsx(W,{children:c.jsx(F,{flex:1,children:c.jsx(tmn,{fontSize:r,moveFocusedDate:w,onNowClick:x})})}),c.jsxs(F,{"data-calendar-grid":!0,onKeyDown:y,marginTop:2,overflow:"hidden",tabIndex:0,children:[c.jsx(fmn,{onSelect:b}),hmn]})]})})}function SN(e){let{date:t,endDate:n,onChange:r,selectRange:o,selectTime:i}=e;const{state:{fullscreen:s}}=Ot(),a=h.useCallback(l=>{r(l)},[r]);return c.jsx(pmn,{date:t,endDate:n,fontSize:s?2:1,onSelect:a,selectRange:o,selectTime:i})}var Yce=Object.freeze,mmn=Object.defineProperty,gmn=(e,t)=>Yce(mmn(e,"raw",{value:Yce(t||e.slice())})),qce;const vmn=O(F)(e=>{let{background:t,smallClearButton:n}=e;return de(qce||(qce=gmn([`
    width: 100%;

    input + span {
      background: `,`;
    }

    [data-qa='clear-button'] {
      background: none;
      box-shadow: none;
      display: flex; /* TODO: hack, currently used to vertically center <TextInput>'s clearButton */
      transform: `,`;
      &:hover {
        opacity: 0.5;
      }
    }
  `])),r=>{let{theme:o}=r;return t?o.sanity.color.card.disabled.bg2:"transparent"},n?"scale(0.8)":"scale(1)")}),EN=h.forwardRef(function(t,n){const{background:r,smallClearButton:o,...i}=t;return c.jsx(vmn,{background:r,smallClearButton:o,children:c.jsx(Xr,{...i,ref:n})})});function wu(e){let{date:t,dateOnly:n,roundDay:r}=e,o;switch(r){case"end":o=yE(t);break;case"start":o=Vf(t);break;default:o=t;break}return n?o.toISOString().split("T")[0]:o.toISOString()}var Gce=Object.freeze,ymn=Object.defineProperty,vPe=(e,t)=>Gce(ymn(e,"raw",{value:Gce(t||e.slice())})),Kce,Zce;const l2={date:{exampleDate:"Jan 1, 2000",pattern:"MMM d, yyyy"},datetime:{exampleDate:"Jan 1, 2000 12:00 AM",pattern:"MMM d, yyyy p"}},bmn=O.span(e=>{let{theme:t}=e;return de(Kce||(Kce=vPe([`
    font-weight: `,`;
  `])),t.sanity.fonts.text.weights.medium)}),xmn=O(B)(Zce||(Zce=vPe([`
  color: `,`;
`])),fe.red[500].hex);function Sk(e){let{isDateTime:t,onChange:n,placeholderDate:r,isDateTimeFormat:o,value:i,...s}=e;const a=h.useMemo(()=>o?l2.datetime.pattern:l2.date.pattern,[o]),[l,u]=h.useState(void 0),[d,f]=h.useState(()=>{if(!i)return"";const y=new Date(i);return Zo(y,a)}),p=h.useMemo(()=>Zo(r||new Date,a),[a,r]),m=h.useCallback(y=>{let{dateString:w,triggerOnChange:C}=y;if(!w)return;const _=q5t(w,a,new Date),S=Bu(_);S&&(C&&n(wu({date:_,dateOnly:!t})),f(Zo(_,a))),u(S?void 0:"Invalid ".concat(t?"datetime":"date"))},[a,t,n]),v=h.useCallback(()=>{m({dateString:d,triggerOnChange:!0})},[d,m]),g=h.useCallback(y=>{f(y.currentTarget.value)},[]),b=h.useCallback(()=>{n(null),u(void 0),f("")},[n]),x=h.useCallback(y=>{y.key==="Enter"&&m({dateString:d,triggerOnChange:!0})},[d,m]);return h.useEffect(()=>{const y=i&&new Date(i);y&&m({dateString:Zo(y,a),triggerOnChange:!1})},[a,m,o,i]),c.jsx(yt,{content:c.jsxs(W,{gap:2,children:[c.jsx(xmn,{size:1,children:c.jsx(ca,{})}),c.jsxs(B,{muted:!0,size:1,children:["Must be in the format"," ",c.jsx(bmn,{children:o?l2.datetime.exampleDate:l2.date.exampleDate})]})]}),disabled:!l,padding:3,placement:"top",portal:!0,children:c.jsx("div",{children:c.jsx(EN,{...s,clearButton:!!d,customValidity:l,onBlur:v,onChange:g,onClear:b,onKeyDown:x,placeholder:p,value:d})})})}function yPe(e){let{isDateTime:t,onChange:n,value:r}=e;const{state:{fullscreen:o}}=Ot(),i=h.useCallback(l=>{let{date:u}=l;if(u){const d=wu({date:u,dateOnly:!t});n({includeTime:r==null?void 0:r.includeTime,date:d})}else n(null)},[t,n,r==null?void 0:r.includeTime]),s=h.useCallback(()=>{const l=!(r!=null&&r.includeTime),u=r!=null&&r.date?new Date(r.date):null;let d=null;u&&(d=wu({date:u,dateOnly:!t})),n({includeTime:l,date:d})},[t,n,r]),a=h.useCallback(l=>{n({includeTime:r==null?void 0:r.includeTime,date:l||null})},[n,r==null?void 0:r.includeTime]);return c.jsxs(ne,{space:3,children:[c.jsx(Sk,{"aria-label":"Date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:a,radius:2,value:r==null?void 0:r.date}),c.jsx(SN,{date:r!=null&&r.date?new Date(r.date):void 0,onChange:i,selectTime:t}),t&&c.jsx(CN,{onChange:s,value:!!(r!=null&&r.includeTime)})]})}function Xce(e){return c.jsx(yPe,{...e,isDateTime:!1})}function HA(e){let{direction:t,isDateTime:n,onChange:r,value:o}=e;const{state:{fullscreen:i}}=Ot(),s=h.useMemo(()=>{switch(t){case"after":return"end";case"before":return"start";default:return}},[t]),a=h.useCallback(d=>{let{date:f}=d,p=null;f&&(p=wu({date:f,dateOnly:!n,roundDay:o!=null&&o.includeTime?void 0:s})),r({includeTime:o==null?void 0:o.includeTime,date:p})},[n,r,s,o==null?void 0:o.includeTime]),l=h.useCallback(()=>{const d=!(o!=null&&o.includeTime),f=o!=null&&o.date?new Date(o.date):null;let p=null;f&&(p=wu({date:f,dateOnly:!n,roundDay:d?"start":s})),r({includeTime:d,date:p})},[n,r,s,o]),u=h.useCallback(d=>{r({includeTime:o==null?void 0:o.includeTime,date:d||null})},[r,o==null?void 0:o.includeTime]);return c.jsxs(ne,{space:3,children:[c.jsx(Sk,{"aria-label":"Date",fontSize:i?2:1,isDateTime:n,isDateTimeFormat:n&&(o==null?void 0:o.includeTime),onChange:u,radius:2,value:o==null?void 0:o.date}),c.jsx(SN,{date:o!=null&&o.date?new Date(o.date):void 0,onChange:a,selectTime:n}),n&&c.jsx(CN,{onChange:l,value:!!(o!=null&&o.includeTime)})]})}function wmn(e){return c.jsx(HA,{...e,direction:"after",isDateTime:!1})}function Cmn(e){return c.jsx(HA,{...e,direction:"before",isDateTime:!1})}function Qce(e){let{onChange:t,value:n}=e;const[r,o]=h.useState((n==null?void 0:n.unitValue)||""),i=h.useRef("days"),s=h.useRef((n==null?void 0:n.unitValue)||null),{state:{fullscreen:a}}=Ot(),l=h.useCallback(()=>{t({unit:i==null?void 0:i.current,unitValue:s==null?void 0:s.current})},[t]),u=h.useCallback(f=>{i.current=f.currentTarget.value,l()},[l]),d=h.useCallback(f=>{o(f.currentTarget.value);const p=parseFloat(f.currentTarget.value);s.current=Number.isFinite(p)?p:null,l()},[l]);return c.jsxs(W,{gap:2,children:[c.jsx(F,{flex:1,children:c.jsx(Xr,{"aria-label":"Unit value",fontSize:a?2:1,onChange:d,pattern:"\\d*",radius:2,step:"1",type:"number",value:r})}),c.jsx(F,{flex:1,children:c.jsxs(Lf,{"aria-label":"Select unit",fontSize:a?2:1,onChange:u,radius:2,value:n==null?void 0:n.unit,children:[c.jsx("option",{value:"days",children:"Days"}),c.jsx("option",{value:"months",children:"Months"}),c.jsx("option",{value:"years",children:"Years"})]})})]})}const _mn=-7;function bPe(e){let{isDateTime:t,onChange:n,value:r}=e;const{state:{fullscreen:o}}=Ot(),i=h.useMemo(()=>zi(new Date,_mn),[]),s=h.useMemo(()=>new Date,[]),a=h.useCallback(f=>{let{date:p,endDate:m}=f;n(Jce({date:p,endDate:m,includeTime:r==null?void 0:r.includeTime,isDateTime:t}))},[t,n,r==null?void 0:r.includeTime]),l=h.useCallback(()=>{const f=!(r!=null&&r.includeTime);n(Jce({date:r!=null&&r.dateMin?new Date(r.dateMin):null,endDate:r!=null&&r.dateMax?new Date(r.dateMax):null,includeTime:f,isDateTime:t}))},[t,n,r]),u=h.useCallback(f=>{n({includeTime:r==null?void 0:r.includeTime,dateMax:f||null,dateMin:(r==null?void 0:r.dateMin)||null})},[n,r]),d=h.useCallback(f=>{n({includeTime:r==null?void 0:r.includeTime,dateMax:(r==null?void 0:r.dateMax)||null,dateMin:f||null})},[n,r]);return c.jsx("div",{children:c.jsxs(ne,{space:3,children:[c.jsxs(W,{direction:"column",gap:3,children:[c.jsx(Sk,{"aria-label":"Start date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:d,placeholderDate:i,radius:2,value:r==null?void 0:r.dateMin}),c.jsx(Sk,{"aria-label":"End date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:u,placeholderDate:s,radius:2,value:r==null?void 0:r.dateMax})]}),c.jsx(SN,{date:r!=null&&r.dateMin?new Date(r.dateMin):void 0,endDate:r!=null&&r.dateMax?new Date(r.dateMax):void 0,onChange:a,selectRange:!0,selectTime:t}),t&&c.jsx(CN,{onChange:l,value:!!(r!=null&&r.includeTime)})]})})}function Jce(e){let{date:t,endDate:n,includeTime:r,isDateTime:o}=e;return r?{includeTime:r,dateMax:n?wu({date:n,dateOnly:!o,roundDay:"start"}):null,dateMin:t?wu({date:t,dateOnly:!o,roundDay:"start"}):null}:{includeTime:r,dateMax:n?wu({date:n,dateOnly:!o,roundDay:"end"}):null,dateMin:t?wu({date:t,dateOnly:!o,roundDay:"start"}):null}}function Smn(e){return c.jsx(bPe,{...e,isDateTime:!1})}function eue(e){return c.jsx(yPe,{...e,isDateTime:!0})}function Emn(e){return c.jsx(HA,{...e,direction:"after",isDateTime:!0})}function kmn(e){return c.jsx(HA,{...e,direction:"before",isDateTime:!0})}function jmn(e){return c.jsx(bPe,{...e,isDateTime:!0})}const ba={dateAfter:{buttonLabel:"after",buttonValueComponent:_ce,initialValue:null,label:"is after"},dateBefore:{buttonLabel:"before",buttonValueComponent:_ce,initialValue:null,label:"is before"},dateEqual:{buttonLabel:"is",buttonValueComponent:Cce,initialValue:{date:null,includeTime:!1},label:"is"},dateLast:{buttonLabel:"last",buttonValueComponent:npn,label:"is in the last"},dateNotEqual:{buttonLabel:"is not",buttonValueComponent:Cce,initialValue:{date:null,includeTime:!1},label:"is not"},dateRange:{buttonLabel:"is between",initialValue:null,label:"is between"}},Tmn={dateAfter:{...ba.dateAfter,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," > ").concat(Ke(n==null?void 0:n.date)):null},inputComponent:wmn,type:"dateAfter"},dateBefore:{...ba.dateBefore,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," < ").concat(Ke(n==null?void 0:n.date)):null},inputComponent:Cmn,type:"dateBefore"},dateEqual:{...ba.dateEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," == ").concat(Ke(n.date)):null},inputComponent:Xce,type:"dateEqual"},dateLast:{...ba.dateLast,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=typeof(n==null?void 0:n.unitValue)=="number"?Math.floor(n.unitValue):void 0,o=Number.isFinite(r)?eZ(new Date,{days:(n==null?void 0:n.unit)==="days"?r:0,months:(n==null?void 0:n.unit)==="months"?r:0,years:(n==null?void 0:n.unit)==="years"?r:0}).toISOString().split("T")[0]:null;return o&&t?"".concat(t," > ").concat(Ke(o)):null},inputComponent:Qce,initialValue:{unit:"days",unitValue:7},type:"dateLast"},dateNotEqual:{...ba.dateNotEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," != ").concat(Ke(n.date)):null},inputComponent:Xce,type:"dateNotEqual"},dateRange:{...ba.dateRange,buttonValueComponent:Sce,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.dateMax&&(n!=null&&n.dateMin)&&t?"".concat(t," >= ").concat(Ke(n.dateMin)," && ").concat(t," <= ").concat(Ke(n.dateMax)):null},initialValue:{includeTime:!1,dateMax:JK().toISOString(),dateMin:null},inputComponent:Smn,type:"dateRange"},dateTimeAfter:{...ba.dateAfter,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"dateTime(".concat(t,") > dateTime(").concat(Ke(n.date),")"):null},inputComponent:Emn,type:"dateTimeAfter"},dateTimeBefore:{...ba.dateBefore,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"dateTime(".concat(t,") < dateTime(").concat(Ke(n.date),")"):null},inputComponent:kmn,type:"dateTimeBefore"},dateTimeEqual:{...ba.dateEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=(n==null?void 0:n.date)&&new Date(n.date);if(!r||!Bu(r)||!t)return null;const o=(n!=null&&n.includeTime?GK(r):Vf(r)).toISOString(),i=(n!=null&&n.includeTime?KK(r):yE(r)).toISOString();return"dateTime(".concat(t,") > dateTime(").concat(Ke(o),") && dateTime(").concat(t,") < dateTime(").concat(Ke(i),")")},inputComponent:eue,type:"dateTimeEqual"},dateTimeLast:{...ba.dateLast,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=typeof(n==null?void 0:n.unitValue)=="number"?Math.floor(n.unitValue):void 0,o=Number.isFinite(r)?eZ(new Date,{days:(n==null?void 0:n.unit)==="days"?r:0,months:(n==null?void 0:n.unit)==="months"?r:0,years:(n==null?void 0:n.unit)==="years"?r:0}).toISOString():null;return o&&t?"dateTime(".concat(t,") > dateTime(").concat(Ke(o),")"):null},initialValue:{unit:"days",unitValue:7},inputComponent:Qce,type:"dateTimeLast"},dateTimeNotEqual:{...ba.dateNotEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=(n==null?void 0:n.date)&&new Date(n.date);if(!r||!Bu(r)||!t)return null;const o=(n!=null&&n.includeTime?GK(r):Vf(r)).toISOString(),i=(n!=null&&n.includeTime?KK(r):yE(r)).toISOString();return"dateTime(".concat(t,") < dateTime(").concat(Ke(o),") || dateTime(").concat(t,") > dateTime(").concat(Ke(i),")")},inputComponent:eue,type:"dateTimeNotEqual"},dateTimeRange:{...ba.dateRange,buttonValueComponent:Sce,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.dateMax&&(n!=null&&n.dateMin)&&t?"dateTime(".concat(t,") >= dateTime(").concat(Ke(n.dateMin),") && dateTime(").concat(t,") <= dateTime(").concat(Ke(n.dateMax),")"):null},initialValue:{includeTime:!1,dateMax:JK().toISOString(),dateMin:null},inputComponent:jmn,type:"dateTimeRange"}},Amn={numberEqual:{buttonLabel:"is",buttonValueComponent:ig,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," == ").concat(Ke(n)):null},initialValue:null,inputComponent:Ta,label:"is",type:"numberEqual"},numberGt:{buttonLabel:">",buttonValueComponent:ig,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," > ").concat(Ke(n)):null},icon:dPe,initialValue:null,inputComponent:Ta,label:"greater than",type:"numberGt"},numberGte:{buttonLabel:"≥",buttonValueComponent:ig,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," >= ").concat(Ke(n)):null},icon:uPe,initialValue:null,inputComponent:Ta,label:"greater than or equal to",type:"numberGte"},numberLt:{buttonLabel:"<",buttonValueComponent:ig,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," < ").concat(Ke(n)):null},icon:hPe,initialValue:null,inputComponent:Ta,label:"less than",type:"numberLt"},numberLte:{buttonLabel:"≤",buttonValueComponent:ig,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," <= ").concat(Ke(n)):null},icon:fPe,initialValue:null,inputComponent:Ta,label:"less than or equal to",type:"numberLte"},numberNotEqual:{buttonLabel:"is not",buttonValueComponent:ig,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," != ").concat(Ke(n)):null},initialValue:null,inputComponent:Ta,label:"is not",type:"numberNotEqual"},numberRange:{buttonLabel:"is between",buttonValueComponent:rpn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n==null?void 0:n.max)&&Number.isFinite(n==null?void 0:n.min)&&t?"".concat(t," > ").concat(Ke(n==null?void 0:n.min)," && ").concat(t," < ").concat(Ke(n==null?void 0:n.max)):""},initialValue:null,inputComponent:oPe,label:"is between",type:"numberRange"}};function Oa(e){let{onChange:t,value:n}=e;const{state:{fullscreen:r}}=Ot(),o=h.useCallback(i=>t(i.currentTarget.value||null),[t]);return c.jsx(Xr,{fontSize:r?2:1,onChange:o,placeholder:"Value",radius:2,value:n||""})}const Dmn={portableTextEqual:{buttonLabel:"is",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") == ").concat(Ke(n)):null},initialValue:null,inputComponent:Oa,label:"is",type:"portableTextEqual"},portableTextMatches:{buttonLabel:"contains",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") match ").concat(Ke(n)):null},initialValue:null,inputComponent:Oa,label:"contains",type:"portableTextMatches"},portableTextNotEqual:{buttonLabel:"is not",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") != ").concat(Ke(n)):null},initialValue:null,inputComponent:Oa,label:"is not",type:"portableTextNotEqual"},portableTextNotMatches:{buttonLabel:"does not contain",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(pt::text(".concat(t,") match ").concat(Ke(n),")"):null},initialValue:null,inputComponent:Oa,label:"does not contain",type:"portableTextNotMatches"}},Imn={referenceEqual:{buttonLabel:"is",buttonValueComponent:hl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,"._ref == ").concat(Ke(n._ref)):null},initialValue:null,inputComponent:jb,label:"is",type:"referenceEqual"},referenceNotEqual:{buttonLabel:"is not",buttonValueComponent:hl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,"._ref != ").concat(Ke(n._ref)):null},initialValue:null,inputComponent:jb,label:"is not",type:"referenceNotEqual"},referencesAssetFile:{buttonLabel:"→",buttonValueComponent:hl,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Ke(t._ref),")"):null},initialValue:null,inputComponent:qg("file"),label:"file",type:"referencesAssetFile"},referencesAssetImage:{buttonLabel:"→",buttonValueComponent:hl,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Ke(t._ref),")"):null},initialValue:null,inputComponent:qg("image"),label:"image",type:"referencesAssetImage"},referencesDocument:{buttonLabel:"→",buttonValueComponent:hl,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Ke(t._ref),")"):null},initialValue:null,inputComponent:jb,label:"document",type:"referencesDocument"}},Pmn={slugEqual:{buttonLabel:"is",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current == ").concat(Ke(n)):null},initialValue:null,inputComponent:Oa,label:"is",type:"slugEqual"},slugMatches:{buttonLabel:"contains",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current match ").concat(Ke(n)):null},initialValue:null,inputComponent:Oa,label:"contains",type:"slugMatches"},slugNotEqual:{buttonLabel:"is not",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current != ").concat(Ke(n)):null},initialValue:null,inputComponent:Oa,label:"is not",type:"slugNotEqual"},slugNotMatches:{buttonLabel:"does not contain",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(t,".current match ").concat(Ke(n),")"):null},initialValue:null,inputComponent:Oa,label:"does not contain",type:"slugNotMatches"}},Omn={stringEqual:{buttonLabel:"is",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," == ").concat(Ke(n)):null},initialValue:null,inputComponent:Oa,label:"is",type:"stringEqual"},stringListEqual:{buttonLabel:"is",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," == ").concat(Ke(n)):null},initialValue:null,inputComponent:_k,label:"is",type:"stringListEqual"},stringListNotEqual:{buttonLabel:"is not",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," != ").concat(Ke(n)):null},initialValue:null,inputComponent:_k,label:"is not",type:"stringListNotEqual"},stringMatches:{buttonLabel:"contains",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," match ").concat(Ke(n)):null},initialValue:null,inputComponent:Oa,label:"contains",type:"stringMatches"},stringNotEqual:{buttonLabel:"is not",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," != ").concat(Ke(n)):null},initialValue:null,inputComponent:Oa,label:"is not",type:"stringNotEqual"},stringNotMatches:{buttonLabel:"does not contain",buttonValueComponent:xi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(t," match ").concat(Ke(n),")"):null},initialValue:null,inputComponent:Oa,label:"does not contain",type:"stringNotMatches"}},$mn={...kpn,...Upn,...Ypn,...Tmn,...qpn,...Amn,...Dmn,...Imn,...Pmn,...Omn},Rmn=Object.values($mn);function zl(e){const t=typeof e;if(t==="object"){if(e===null)return"null";if(Array.isArray(e))return"array";if(e instanceof Object&&e.constructor.name!=="Object")return e.constructor.name}return t}const UA=(e,t)=>{let{plugins:n=[],...r}=e;const o={config:r,path:[...t,r.name]};return[...n.flatMap(a=>UA(a,[...t,r.name])),o]},Mmn=[],Fmn=[],Lmn=[],Bmn=(e,t,n)=>{let{schema:r}=t;const o=r==null?void 0:r.types;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `schema.types` to be an array or a function, but received ".concat(zl(o)))},Nmn=async(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.productionUrl;return o?await o(e,n):e},zmn=(e,t,n)=>{let{tools:r}=t;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error("Expected `tools` to be an array or a function, but received ".concat(zl(r)))},Vmn=(e,t,n)=>{let{schema:r}=t;const o=r==null?void 0:r.templates;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `schema.templates` to be an array or a function, but received ".concat(zl(o)))},Hmn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.badges;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.badges` to be an array or a function, but received ".concat(zl(o)))},Umn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.actions;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.actions` to be an array or a function, but received ".concat(zl(o)))},Wmn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.newDocumentOptions;if(!o)return e;if(typeof o!="function")throw new Error("Expected `document.resolveNewDocumentOptions` to be a function, but received ".concat(zl(o)));return o(e,n)},Ymn=(e,t,n)=>{let{form:r}=t;var o;const i=(o=r==null?void 0:r.file)==null?void 0:o.assetSources;if(!i)return e;if(typeof i=="function")return i(e,n);if(Array.isArray(i))return[...e,...i];throw new Error("Expected `form.file.assetSources` to be an array or a function, but received ".concat(zl(i)))},qmn=(e,t,n)=>{let{form:r}=t;var o;const i=(o=r==null?void 0:r.image)==null?void 0:o.assetSources;if(!i)return e;if(typeof i=="function")return i(e,n);if(Array.isArray(i))return[...e,...i];throw new Error("Expected `form.image.assetSources` to be an array or a function, but received ".concat(zl(i)))},Gmn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.unstable_languageFilter;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.unstable_languageFilter` to be an array or a function, but received ".concat(zl(o)))},Kmn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.inspectors;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.inspectors` to be an array or a function, but received ".concat(zl(o)))},Zmn=e=>{const{config:t,context:n,initialValue:r}=e;return UA(t,[]).reduce((s,a)=>{let{config:l}=a;var u,d;const f=(d=(u=l.document)==null?void 0:u.unstable_comments)==null?void 0:d.enabled;if(!f&&typeof f!="boolean")return s;if(typeof f=="function")return f(n);if(typeof f=="boolean")return f;throw new Error("Expected `document.unstable_comments.enabled` to be a boolean or a function, but received ".concat(zl(f)))},r)};var Xmn=Object.defineProperty,Qmn=(e,t,n)=>t in e?Xmn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KO=(e,t,n)=>(Qmn(e,typeof t!="symbol"?t+"":t,n),n);class tue extends Error{constructor(t){let{propertyName:n,path:r,cause:o}=t;const i=Ct(o)&&typeof(o==null?void 0:o.message)=="string"?": ".concat(o.message):"";super("An error occurred while resolving `".concat(n,"` from ").concat(r.join(" > ")).concat(i)),KO(this,"propertyName"),KO(this,"path"),KO(this,"cause"),this.propertyName=n,this.cause=o,this.path=r}}function xa(e){let{config:t,context:n,initialValue:r,propertyName:o,...i}=e;const s=UA(t,[]);if("reducer"in i)return s.reduce((l,u)=>{let{config:d,path:f}=u;try{return i.reducer(l,d,n)}catch(p){throw new tue({propertyName:o,path:f,cause:p})}},r);const a=i.asyncReducer;return(async()=>{let l=r;for(const{config:u,path:d}of s)try{l=await a(l,u,n)}catch(f){throw new tue({propertyName:o,path:d,cause:f})}return l})()}var Jmn=Object.defineProperty,egn=(e,t,n)=>t in e?Jmn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZO=(e,t,n)=>(egn(e,typeof t!="symbol"?t+"":t,n),n);class $a extends Error{constructor(t){let{causes:n,name:r,type:o}=t;const i=n.filter(Boolean).map(s=>Ct(s)&&typeof(s==null?void 0:s.message)=="string"?s.message:String(s));super("Could not resolve ".concat(o).concat(r?" `".concat(r,"`"):"",`:
`).concat(i.map(s=>"	- ".concat(s)).join(`
`),`

`)),ZO(this,"name"),ZO(this,"type"),ZO(this,"causes"),this.name=r,this.causes=n,this.type=o}}class kN extends Error{constructor(t){super("SchemaError"),this.schema=t}}var nue=Object.freeze,tgn=Object.defineProperty,ngn=(e,t)=>nue(tgn(e,"raw",{value:nue(t||e.slice())})),rue;function oue(e){const t=e.split("").reduce((n,r)=>(n<<5)-n+r.charCodeAt(0)|0,0);return Math.abs(t*16807%2147483647)/2147483647}const rgn=O.text(rue||(rue=ngn([`
  font-family: `,`;
  font-weight: `,`;
  font-size: 16px;
  transform: translateY(1px);
`])),e=>{let{theme:t}=e;return t.sanity.fonts.heading.family},e=>{let{theme:t}=e;return t.sanity.fonts.heading.weights.bold});function ogn(e,t){const n=oue("".concat(e," ").concat(t)),r=bve.filter(m=>m!=="gray"),o=r[Math.floor(n*r.length)],i=["300","400","500","600","700"],s=oue(n.toString()),a=i[Math.floor(s*i.length)],l=fe[o][a].hex,u=e.split(/\s/g).map(m=>m.replace(/\\W/g,"")).filter(Boolean).slice(0,2).map(m=>m.charAt(0).toUpperCase()),d=kje(l,.4),f=lzt(l,.4),p=cJ(l,"readable",d)?cJ(l,"readable",f)?uzt(l):f:d;return c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[c.jsx("rect",{width:32,height:32,rx:2,fill:l}),c.jsx(rgn,{x:"50%",y:"50%",textAnchor:"middle",alignmentBaseline:"middle",dominantBaseline:"middle",fill:p,children:u})]})}const ign=e=>e.severity==="error";function sgn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return $r.isValidElementType(e)?h.createElement(e):h.isValidElement(e)?e:ogn(t,n)}const XO=new WeakMap;function agn(e,t){if(!Array.isArray(e)&&"missingConfigFile"in e)throw new $a({name:"",type:"configuration file",causes:["No `sanity.config.ts` file found","No `sanity.config.js` file found"]});const n=dgn(t==null?void 0:t.basePath),r=Array.isArray(e)?e:[e];try{Cgn({workspaces:r})}catch(i){throw new $a({name:"",type:"workspace",causes:[i.message]})}return{type:"prepared-config",workspaces:r.map(i=>{if(XO.has(i))return XO.get(i);const{unstable_sources:s=[],...a}=i,u=[a,...s].map(p=>{const{projectId:m,dataset:v}=p;let g;try{g=xa({propertyName:"schema.types",config:p,context:{projectId:m,dataset:v},initialValue:[],reducer:Bmn})}catch(_){throw new $a({name:p.name,type:"source",causes:[_]})}const b=IGt({name:p.name,types:g}),x=b._validation,y=x==null?void 0:x.filter(_=>_.problems.some(ign));if(x&&(y!=null&&y.length))throw new kN(b);const w=lgn(p),C=w.state.pipe(ce(_=>{let{client:S,authenticated:E,currentUser:j}=_;return ugn({config:p,client:S,currentUser:j,schema:b,authenticated:E,auth:w})}),To(1));return{name:p.name,projectId:p.projectId,dataset:p.dataset,title:p.title||an(p.name),auth:w,schema:b,source:C}}),d=a.title||an(a.name),f={type:"workspace-summary",auth:u[0].auth,basePath:fgn(n,a.basePath),dataset:a.dataset,schema:u[0].schema,icon:sgn(a.icon,d,"".concat(a.projectId," ").concat(a.dataset)),name:a.name||"default",projectId:a.projectId,theme:a.theme||Mf,title:d,subtitle:a.subtitle,__internal:{sources:u}};return XO.set(i,f),f})}}function lgn(e){if(bqt(e.auth))return e.auth;const t=e.unstable_clientFactory||y2e,{projectId:n,dataset:r,apiHost:o}=e;return yqt({apiHost:o,...e.auth,clientFactory:t,dataset:r,projectId:n})}function cgn(e,t){const n=e.withConfig({apiVersion:"2022-06-30"}),{dataset:r,url:o,requestTagPrefix:i="sanity.studio"}=n.config(),s="".concat(o.replace(/\/+$/,""),"/socket/").concat(r).replace(/^http/,"ws"),a="".concat(s,"?tag=").concat(i),l=t.token?{token$:t.token}:{};return Qvt(a,l)}function ugn(e){let{config:t,client:n,currentUser:r,schema:o,authenticated:i,auth:s}=e;var a,l,u,d;const{dataset:f,projectId:p}=t,m=cgn(n,s),v=[],g={},b=T=>{if(!T||!T.apiVersion)throw new Error("Missing required `apiVersion` option");return g[T.apiVersion]||(g[T.apiVersion]=n.withConfig(T)),g[T.apiVersion]},x={client:n,getClient:b,currentUser:r,dataset:f,projectId:p,schema:o},y=n;x.client=[...Object.keys(n),...Object.keys(y.__proto__)].reduce((T,A)=>{const D=Object.hasOwnProperty.call(n,A)?y[A]:y.__proto__[A];return Object.defineProperty(T,A,{get(){return console.warn('`configContext.client` is deprecated and will be removed in the next release! Use `context.getClient({apiVersion: "2021-06-07"})` instead'),D}})},{});let w;try{w=xa({config:t,context:x,propertyName:"schema.templates",reducer:Vmn,initialValue:o.getTypeNames().filter(T=>!/^sanity\./.test(T)).map(T=>o.get(T)).filter(po).filter(T=>{var A;return((A=T.type)==null?void 0:A.name)==="document"}).map(T=>({id:T.name,schemaType:T.name,title:T.title||T.name,icon:T.icon,value:T.initialValue||{_type:T.name}}))})}catch(T){throw new $a({name:t.name,type:"source",causes:[T]})}let C;try{C=xa({config:t,context:x,initialValue:[],propertyName:"tools",reducer:zmn})}catch(T){throw new $a({name:t.name,type:"source",causes:[T]})}if(C.some(T=>{let{name:A}=T;return A==="tool"}))throw new Error('A tool cannot have the name "tool". Please enter a different name.');const _=w.filter(T=>{var A;return!((A=T.parameters)!=null&&A.length)}).map(T=>({templateId:T.id,description:T.description,icon:T.icon,title:T.title})),S=w.reduce((T,A)=>(T.set(A.id,A),T),new Map),E=T=>{const{schemaType:A}=T,D=xa({config:t,context:{...x,creationContext:T},initialValue:_,propertyName:"document.resolveNewDocumentOptions",reducer:Wmn}),I=[];if(I.length)throw new $a({name:t.name,type:"source",causes:I});return D.map((P,M)=>{const $=S.get(P.templateId);if(!$)throw new Error("Could not find template with ID `".concat(P.templateId,"`"));const V=o.get($.schemaType);if(!V)throw new Error("Could not find matching schema type `".concat($.schemaType,"` for template `").concat($.id,"`"));const L=P.title||$.title,H=(V==null?void 0:V.title)===L||V==null?void 0:V.title;return{id:"".concat(P.templateId,"-").concat(M),templateId:P.templateId,type:"initialValueTemplateItem",title:L,subtitle:P.subtitle||H,description:P.description||$.description,icon:P.icon||$.icon||(V==null?void 0:V.icon),initialDocumentId:P.initialDocumentId,parameters:P.parameters,schemaType:$.schemaType}}).filter(P=>{var M;return!A||T.type==="document"?!0:A===((M=S.get(P.templateId))==null?void 0:M.schemaType)})};let j;try{j=E({type:"global"})}catch(T){v.push(T)}if(v.length)throw new $a({name:t.name,type:"source",causes:v});return{type:"source",name:t.name,title:t.title||an(t.name),schema:o,getClient:b,dataset:f,projectId:p,tools:C,currentUser:r,authenticated:i,templates:w,auth:s,document:{actions:T=>xa({config:t,context:{...x,...T},initialValue:Fmn,propertyName:"document.actions",reducer:Umn}),badges:T=>xa({config:t,context:{...x,...T},initialValue:Mmn,propertyName:"document.badges",reducer:Hmn}),unstable_fieldActions:T=>xa({config:t,context:{...x,...T},initialValue:Aqt,propertyName:"document.unstable_fieldActions",reducer:Tqt}),inspectors:T=>xa({config:t,context:{...x,...T},initialValue:Vn,propertyName:"document.inspectors",reducer:Kmn}),resolveProductionUrl:T=>xa({config:t,context:{...x,...T},initialValue:void 0,propertyName:"resolveProductionUrl",asyncReducer:Nmn}),resolveNewDocumentOptions:E,unstable_languageFilter:T=>xa({config:t,context:{...x,...T},initialValue:Lmn,propertyName:"document.unstable_languageFilter",reducer:Gmn}),unstable_comments:{enabled:T=>Zmn({context:T,config:t,initialValue:!1})}},form:{file:{assetSources:xa({config:t,context:x,initialValue:[tPe],propertyName:"formBuilder.file.assetSources",reducer:Ymn}),directUploads:((l=(a=t.form)==null?void 0:a.file)==null?void 0:l.directUploads)===void 0?!0:t.form.file.directUploads},image:{assetSources:xa({config:t,context:x,initialValue:[nPe],propertyName:"formBuilder.image.assetSources",reducer:qmn}),directUploads:((d=(u=t.form)==null?void 0:u.image)==null?void 0:d.directUploads)===void 0?!0:t.form.image.directUploads}},search:{filters:Jhn,operators:Rmn},__internal:{bifur:m,staticInitialValueTemplateItems:j,options:t}}}function dgn(e){const t=e||"";if(typeof t!="string"||t.length>0&&!t.startsWith("/"))throw new $a({name:"",type:"options",causes:["basePath must be a string, and must start with a slash"]});return t==="/"?"":t}function fgn(e,t){const n=[e,t||""].map(r=>r.replace(/^\/+/g,"").replace(/\/+$/g,"")).filter(Boolean).join("/");return"/".concat(n)}function hgn(e){const{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}=e;return h.useMemo(()=>({projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}),[t,n,r,o,i])}function pgn(e){const{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}=e;return{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}}function mgn(e){const{title:t}=e;return c.jsx(F,{padding:3,children:c.jsx(B,{weight:"bold",children:t})})}const WA=h.createContext(null),YA=h.createContext(null);function xPe(){return Xqe()?"dark":"light"}function wPe(e){let{children:t,scheme:n}=e;const r=xPe(),o=n==="system"?r:n;return c.jsx(O5,{scheme:o,theme:Mf,children:t})}const iue="sanityStudio:ui:colorScheme";function ggn(e){let{children:t,onSchemeChange:n,scheme:r}=e;return r?c.jsx(ygn,{scheme:r,onSchemeChange:n,children:t}):c.jsx(vgn,{onSchemeChange:n,children:t})}function vgn(e){let{children:t,onSchemeChange:n}=e;const r=h.useMemo(()=>{let i;const s=new Set;return{subscribe:a=>(i||(i=sue(localStorage.getItem(iue))||"system"),s.add(a),()=>{s.delete(a)}),getSnapshot:()=>i,setSnapshot:a=>{i=sue(a);for(const l of s)l()},getServerSnapshot:()=>"system"}},[]),o=h.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getServerSnapshot);return h.useEffect(()=>{typeof n=="function"&&n(o),localStorage.setItem(iue,o)},[n,o]),c.jsx(YA.Provider,{value:r.setSnapshot,children:c.jsx(WA.Provider,{value:o,children:c.jsx(wPe,{scheme:o,children:t})})})}function sue(e){switch(e){case"dark":case"light":return e;default:return"system"}}function ygn(e){let{children:t,onSchemeChange:n,scheme:r}=e;return c.jsx(YA.Provider,{value:typeof n=="function"?n:!1,children:c.jsx(WA.Provider,{value:r,children:c.jsx(wPe,{scheme:r,children:t})})})}function jN(){const e=h.useContext(YA);if(e===null)throw new Error("Could not find `ColorSchemeSetValueContext` context");return e}function CPe(){const e=h.useContext(WA);if(e===null)throw new Error("Could not find `ColorSchemeValueContext` context");return e}function _Pe(){const e=CPe(),t=xPe();return e==="system"?t:e}function Uc(){const e=_Pe(),t=jN();return h.useMemo(()=>({scheme:e,setScheme:t}),[e,t])}function SPe(e){const t=CPe();return h.useMemo(()=>[{title:"System",name:"system",label:"Use system appearance",selected:t==="system",onSelect:()=>e("system"),icon:Ive},{title:"Dark",name:"dark",label:"Use dark appearance",selected:t==="dark",onSelect:()=>e("dark"),icon:LF},{title:"Light",name:"light",label:"Use light appearance",selected:t==="light",onSelect:()=>e("light"),icon:HF}],[t,e])}const EPe=h.createContext(null);function bgn(e){let{config:t,children:n,basePath:r}=e;const{workspaces:o}=h.useMemo(()=>agn(t,{basePath:r}),[t,r]);return c.jsx(EPe.Provider,{value:o,children:n})}function Ly(e,t){let{name:n,title:r}=e;return typeof n=="string"&&n.trim().length>0?n:$4(r,t)}function $4(e,t){const n=typeof e=="string"&&e.trim().length>0?' (titled "'.concat(e,'")'):"";return"at index ".concat(t).concat(n)}function hC(){const e=h.useContext(EPe);if(!e)throw new Error("Could not find `workspaces` context");return e}var xgn=Object.defineProperty,wgn=(e,t,n)=>t in e?xgn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aue=(e,t,n)=>(wgn(e,typeof t!="symbol"?t+"":t,n),n);class yc extends Error{constructor(t,n){super(t),aue(this,"index"),aue(this,"identifier"),this.index=n==null?void 0:n.index,this.identifier=(n==null?void 0:n.workspace)&&Ly(n.workspace,n.index)}}function Cgn(e){let{workspaces:t}=e;if(t.length===0)throw new yc("At least one workspace is required.");_gn(t),Sgn(t)}function _gn(e){const t=e.length===1,n=new Map;e.forEach((r,o)=>{const{name:i,title:s}=r,a=$4(s,o);if(!i&&!t)throw new yc("All workspaces must have a `name`, unless only a single workspace is defined. "+"Workspace ".concat(a," did not define a `name`."),{workspace:r,index:o});const l=t&&typeof i>"u"?"default":i;if(typeof l!="string")throw new yc("Workspace at index ".concat(o," defined an invalid `name` - must be a string."),{workspace:r,index:o});const u=l.toLowerCase(),d=n.get(u);if(d){const f=$4(d.workspace.title,d.index);throw new yc("`name`s must be unique. Workspace ".concat(f," and ")+"workspace ".concat(a," both have the `name` `").concat(l,"`"),{workspace:r,index:o})}if(n.set(u,{index:o,workspace:r}),!/^[a-z0-9][a-z0-9_-]*$/i.test(l))throw new yc("All workspace `name`s must consist of only a-z, 0-9, underscore and dashes, and cannot begin with an underscore or dash. "+"Workspace ".concat(a," has the invalid name `").concat(l,"`"),{workspace:r,index:o})})}function Sgn(e){e.length>1&&e.every(Egn),e.every(kgn);const[t,...n]=e,r=(t.basePath||"/").substring(1).split("/").filter(Boolean).length;n.forEach((i,s)=>{const a=(i.basePath||"/").substring(1).split("/").length;if(r!==a)throw new yc("All workspace `basePath`s must have the same amount of segments. Workspace `".concat(Ly(t,s),"` had ").concat(r," segment").concat(r===1?"":"s"," `").concat(t.basePath,"` but workspace `").concat(Ly(i,s),"` had ").concat(a," segment").concat(a===1?"":"s"," `").concat(i.basePath,"`"),{workspace:i,index:s})});const o=new Map;e.forEach((i,s)=>{const a=(i.basePath||"").toLowerCase(),l=o.get(a);if(l)throw new yc("`basePath`s must be unique. Workspaces `".concat(l,"` and ")+"`".concat(Ly(i,s),"` both have the `basePath` `").concat(a,"`"),{workspace:i,index:s});o.set(a,Ly(i,s))})}function Egn(e,t){const{name:n,basePath:r}=e;if(r&&typeof r=="string")return!0;throw typeof r>"u"?new yc("If more than one workspace is defined, every workspace must have a `basePath` defined. "+"Workspace `".concat(n,"` is missing a `basePath`"),{workspace:e,index:t}):new yc("If more than one workspace is defined, every workspace must have a `basePath` defined. "+"Workspace `".concat(n,"` has an invalid `basePath` (must be a non-empty string)"),{workspace:e,index:t})}function kgn(e,t){const{name:n,basePath:r}=e;if(!(!r||r==="/")&&!/^\/[a-z0-9/_-]*[a-z0-9_-]+$/i.test(r))throw new yc("All workspace `basePath`s must start with a leading `/`, consist of only URL safe characters, and cannot end with a trailing `/`. "+"Workspace `".concat(n,"`'s basePath is `").concat(r,"`"),{workspace:e,index:t})}function jgn(){return c.jsx(ee,{height:"fill",children:c.jsx(W,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsx(ia,{width:0,children:c.jsx(ee,{padding:4,radius:2,shadow:1,tone:"caution",children:c.jsxs(W,{children:[c.jsx(F,{children:c.jsx(B,{size:1,children:c.jsx(Qr,{})})}),c.jsxs(ne,{flex:1,marginLeft:3,space:3,children:[c.jsx(B,{as:"h1",size:1,weight:"bold",children:"No configured tools"}),c.jsx(B,{as:"p",muted:!0,size:1,children:"Please configure a tool in your Studio configuration."}),c.jsx(B,{as:"p",muted:!0,size:1,children:c.jsx("a",{href:"https://www.sanity.io/docs/studio-tools",rel:"noreferrer",target:"_blank",children:"Learn how to add a tool →"})})]})]})})})})})}function Tgn(e){const{toolName:t}=e;return c.jsx(ee,{height:"fill",children:c.jsx(W,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsx(ia,{width:0,children:c.jsx(ee,{padding:4,radius:2,shadow:1,tone:"caution",children:c.jsxs(W,{children:[c.jsx(F,{children:c.jsx(B,{size:1,children:c.jsx(Qr,{})})}),c.jsx(ne,{flex:1,marginLeft:3,space:3,children:c.jsxs(B,{as:"h1",size:1,weight:"bold",children:["Tool not found: ",c.jsx("code",{children:t})]})})]})})})})})}function Tb(){return c.jsxs(W,{as:ee,justify:"center",align:"center",height:"fill",direction:"column",gap:4,children:[c.jsx(B,{muted:!0,children:"Loading…"}),c.jsx(Hr,{muted:!0})]})}var lue=Object.freeze,Agn=Object.defineProperty,kPe=(e,t)=>lue(Agn(e,"raw",{value:lue(t||e.slice())})),cue,uue;const Dgn={error:"critical",warning:"caution"},due=O.code(cue||(cue=kPe([`
  && {
    background: none;
    color: inherit;
  }
`]))),Ign=O(B)(uue||(uue=kPe([`
  white-space: pre-line;
`])));function jPe(e){const{problemGroups:t}=e,n=h.useMemo(()=>{const r=[];for(const o of t)for(const i of o.problems)r.push({group:o,problem:i});return r},[t]);return c.jsx(ne,{as:"ul",space:4,children:n.map((r,o)=>{let{group:i,problem:s}=r;const a=s.severity==="error",l=s.severity==="warning",u=Pgn(i);return c.jsxs(ee,{border:!0,padding:4,radius:2,tone:Dgn[s.severity],children:[c.jsxs(W,{children:[c.jsx(F,{marginRight:3,children:c.jsxs(B,{muted:!0,size:1,children:[a&&c.jsx(ca,{}),l&&c.jsx(Qr,{})]})}),c.jsx(F,{flex:1,children:c.jsx(B,{size:1,weight:"semibold",children:u?c.jsxs(c.Fragment,{children:[Em(u.type),' type "',u.name,'"']}):null})})]}),c.jsx(F,{marginTop:4,children:c.jsx(ee,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:c.jsx(PL,{separator:c.jsx(B,{muted:!0,size:1,children:"→"}),children:i.path.map((d,f)=>{if(d.kind==="type"){const p="".concat(Ogn(d.name),":").concat(d.type);return c.jsx(B,{title:p,size:1,textOverflow:"ellipsis",children:c.jsx(due,{children:p})},f)}return d.kind==="property"?c.jsx(B,{title:d.name,size:1,textOverflow:"ellipsis",children:c.jsx(due,{children:d.name})},f):null})})})}),c.jsx(F,{as:"ul",marginTop:4,children:c.jsx(F,{as:"li",children:c.jsxs(ne,{space:3,children:[c.jsx(Ign,{muted:!0,size:1,children:s.message}),s.helpId&&c.jsx(B,{muted:!0,size:1,children:c.jsx("a",{href:mSe(s.helpId),target:"_blank",rel:"noopener noreferrer",children:"View documentation →"})})]})})})]},o)})})}function Pgn(e){const t=e.path[0];return t.kind==="type"?{name:t.name,type:t.type}:null}function Ogn(e){if(e!=null&&e.startsWith("<unnamed_type_@_index")){const t=e.slice(1,-1).split("_");return"[".concat(t[4],"]")}return e}function $gn(e){return e.map(t=>t.kind==="type"?"".concat(t.name||"<unnamed>","(").concat(t.type,")"):t.kind==="property"?t.name:null).filter(Boolean).join(" > ")}function Rgn(e){const t=e._validation,n=t==null?void 0:t.filter(r=>r.problems.some(o=>o.severity==="warning"));(n==null?void 0:n.length)!==0&&(console.groupCollapsed("⚠️ Schema has ".concat(n==null?void 0:n.length," warnings")),n==null||n.forEach(r=>{const o=$gn(r.path);console.group("%cAt ".concat(o),"color: #FF7636"),r.problems.forEach(i=>{console.log(i.message)}),console.groupEnd()}),console.groupEnd())}function Mgn(e){let{schema:t}=e;var n;const r=((n=t._validation)==null?void 0:n.filter(o=>o.problems.some(i=>i.severity==="error")))||[];return h.useEffect(()=>Rgn(t),[t]),c.jsx(ee,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",children:c.jsx(ia,{width:1,children:c.jsxs(ne,{space:5,children:[c.jsx(oi,{as:"h1",children:"Schema errors"}),c.jsx(jPe,{problemGroups:r})]})})})}function Fgn(e){return c.jsx(ee,{height:"fill",sizing:"border",tone:"caution",display:"flex",children:c.jsx(W,{direction:"row",justify:"center",flex:1,align:"center",children:c.jsxs(ne,{space:4,children:[c.jsx(oi,{as:"h1",children:"Workspace not found"}),c.jsx(Jt,{children:c.jsx(ae,{text:"Go to default workspace",onClick:e.onNavigateToDefaultWorkspace,mode:"ghost"})})]})})})}const TPe=h.createContext(null);function Lgn(e){let{pathname:t,workspaces:n,basePathRegex:r}=e;const[o]=n;for(const{workspace:i,basePath:s,basePathRegex:a}of n)if(a.test(t)||s==="/")return{type:"match",workspace:i};return t==="/"?{type:"redirect",pathname:o.basePath}:r.test(t)?{type:"redirect",pathname:o.basePath}:{type:"not-found"}}function Bgn(e){const n=e.map(o=>o.basePath.substring(1).split("/")).reduce((o,i)=>{for(let s=0;s<o.length;s++){const a=o[s],l=i[s].toLowerCase();if(a!==l)return o.slice(0,s)}return o});function r(o){let[i,...s]=o;return i?"(\\/".concat(R7(i)).concat(r(s),"(\\/|$))?"):""}return new RegExp("^".concat(r(n),"$"),"i")}function Ngn(e){return h.useMemo(()=>zgn(e),[e])}function zgn(e){return e.map(t=>{const n=t.basePath||"/";return{workspace:t,name:t.name,basePath:n,basePathRegex:new RegExp("^".concat(R7(n),"(\\/|$)"),"i")}})}function Vgn(e,t){const n=Ngn(t),r=h.useMemo(()=>Bgn(n),[n]),[o]=h.useState(()=>e.location.pathname),i=h.useMemo(()=>({subscribe:s=>e.listen(s),getSnapshot:()=>e.location.pathname,getServerSnapshot:()=>o,selector:s=>Lgn({basePathRegex:r,pathname:s,workspaces:n}),isEqual:(s,a)=>{if(s.type!==a.type)return!1;switch(s.type){case"match":return s.workspace===a.workspace;case"redirect":return s.pathname===a.pathname;case"not-found":return!0;default:throw new Error("Unknown type: ".concat(s.type))}}}),[r,e,o,n]);return D7.useSyncExternalStoreWithSelector(i.subscribe,i.getSnapshot,i.getServerSnapshot,i.selector,i.isEqual)}const APe=h.createContext(null);function Hgn(e){let{children:t,history:n}=e;return c.jsx(APe.Provider,{value:n,children:t})}function Ugn(){const e=h.useContext(APe);if(!e)throw new Error("Could not find `RouterHistoryProvider` context");return e}const Wgn=h.memo(function(t){let{children:n,history:r,activeWorkspace:o,setActiveWorkspace:i}=t;const s=h.useMemo(()=>({activeWorkspace:o,setActiveWorkspace:i}),[o,i]);return c.jsx(TPe.Provider,{value:s,children:c.jsx(Hgn,{history:r,children:n})})}),Ygn=()=>typeof document>"u"?zzt():Nzt();function qgn(e){let{children:t,LoadingComponent:n,NotFoundComponent:r,unstable_history:o}=e;const i=hC(),s=h.useMemo(()=>o||Ygn(),[o]),a=h.useCallback(d=>{const f=i.find(p=>p.name===d);f&&s.push(f.basePath)},[s,i]),l=h.useCallback(()=>{a(i[0].name)},[a,i]),u=Vgn(s,i);switch(h.useEffect(()=>{u.type==="redirect"&&s.replace(u.pathname)},[s,u]),u.type){case"match":return c.jsx(Wgn,{activeWorkspace:u.workspace,history:s,setActiveWorkspace:a,children:t});case"redirect":return c.jsx(n,{});case"not-found":return c.jsx(r,{onNavigateToDefaultWorkspace:l});default:throw new Error("Unknown type: ".concat(u.type))}}function c1(){const e=h.useContext(TPe);if(!e)throw new Error("Could not find `ActiveWorkspaceMatcher` context");return e}var fue=Object.freeze,Ggn=Object.defineProperty,Kgn=(e,t)=>fue(Ggn(e,"raw",{value:fue(t||e.slice())})),hue;const pue={"logged-in":"","logged-out":"Signed out","no-access":""},Zgn=O(ee)(hue||(hue=Kgn([`
  width: 35px;
  height: 35px;

  svg {
    width: 100%;
    height: 100%;
  }
`]))),mue=e=>{if($r.isValidElementType(e))return h.createElement(e);if(h.isValidElement(e))return e};function R4(e){const{state:t,subtitle:n,selected:r,title:o,icon:i,iconRight:s}=e,a=h.useMemo(()=>mue(i),[i]),l=h.useMemo(()=>mue(s),[s]);return c.jsxs(W,{align:"center",flex:"none",gap:3,children:[c.jsx(Zgn,{radius:2,tone:"transparent",children:a}),c.jsxs(ne,{flex:1,space:2,children:[c.jsx(B,{textOverflow:"ellipsis",weight:"medium",children:o}),n&&c.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",children:n})]}),t&&pue[t]&&c.jsx(F,{paddingLeft:1,children:c.jsx(B,{size:1,muted:!0,textOverflow:"ellipsis",children:pue[t]})}),(r||l)&&c.jsxs(W,{align:"center",gap:4,paddingLeft:3,paddingRight:2,children:[r&&c.jsx(B,{children:c.jsx(Ba,{})}),l&&c.jsx(B,{muted:!0,children:l})]})]})}const DPe=ch(e=>Vo(e.map(t=>t.auth.state.pipe(ce(n=>[t.name,n])))).pipe(ce(t=>Object.fromEntries(t)))),Xgn="https://beta.sanity.io/docs/platform/studio/config/workspaces";var gue=Object.freeze,Qgn=Object.defineProperty,Jgn=(e,t)=>gue(Qgn(e,"raw",{value:gue(t||e.slice())})),vue;const yue=[{url:"https://slack.sanity.io/",title:"Community"},{url:"https://www.sanity.io/docs",title:"Docs"},{url:"https://www.sanity.io/legal/privacy",title:"Privacy"},{url:"https://www.sanity.io",title:"sanity.io"}],evn=O(B)(vue||(vue=Jgn([`
  a {
    color: inherit;
  }
`])));function bue(e){const{children:t,footer:n,header:r}=e;return c.jsxs(ne,{space:6,children:[c.jsx(ee,{border:!0,radius:3,overflow:"auto",children:c.jsxs(ne,{children:[typeof r=="object"&&c.jsx(F,{children:r}),typeof r=="string"&&c.jsx(F,{paddingY:4,children:c.jsx(oi,{align:"center",size:1,children:r})}),c.jsx(F,{paddingX:1,children:c.jsx(ee,{borderTop:!!r,borderBottom:!!n,children:t})}),n&&c.jsx(F,{children:n})]})}),c.jsxs(W,{direction:"column",gap:4,justify:"center",align:"center",paddingBottom:4,children:[c.jsx(B,{size:3,children:c.jsx(qzt,{})}),c.jsx(W,{align:"center",gap:2,children:yue.map((o,i)=>c.jsxs(re.Fragment,{children:[c.jsx(evn,{muted:!0,size:1,children:c.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",children:o.title})}),i<yue.length-1&&c.jsx(B,{size:1,muted:!0,children:"•"})]},o.title))})]})]})}function tvn(){var e;const t=hC(),{activeWorkspace:n,setActiveWorkspace:r}=c1(),[o]=DPe(t),[i,s]=h.useState((n==null?void 0:n.name)||null),a=t.length===1?t[0]:t.find(d=>d.name===i),l=(e=a==null?void 0:a.auth)==null?void 0:e.LoginComponent,u=h.useCallback(()=>s(null),[]);return o?l&&a?c.jsxs(ne,{space:2,children:[t.length>1&&c.jsx(W,{children:c.jsx(ae,{fontSize:1,icon:PF,mode:"bleed",onClick:u,padding:2,text:"Choose another workspace"})}),c.jsx(bue,{header:c.jsx(F,{padding:3,children:c.jsx(R4,{icon:a.icon,title:a.title,subtitle:a==null?void 0:a.subtitle})}),children:c.jsx(ne,{padding:2,paddingBottom:3,paddingTop:4,children:h.createElement(l,{...ji(a,["type","__internal"]),key:i})})})]}):c.jsx(bue,{header:"Choose your workspace",footer:c.jsx(ne,{padding:1,children:c.jsx(ae,{as:"a",href:Xgn,icon:Js,justify:"flex-start",mode:"bleed",rel:"noopener noreferrer",target:"__blank",text:"Add workspace"})}),children:c.jsx(ne,{space:1,paddingX:1,paddingY:2,children:t.map(d=>{const p=o[d.name].authenticated?"logged-in":d.auth.LoginComponent?"logged-out":"no-access",m=()=>{p==="logged-in"&&d.name!==n.name&&r(d.name),p==="logged-out"&&s(d.name)};return c.jsx(ee,{as:"button",radius:2,padding:2,onClick:m,children:c.jsx(R4,{icon:d==null?void 0:d.icon,iconRight:Qu,state:p,subtitle:d==null?void 0:d.subtitle,title:(d==null?void 0:d.title)||d.name})},d.name)})})}):c.jsx(Tb,{})}var xue=Object.freeze,nvn=Object.defineProperty,rvn=(e,t)=>xue(nvn(e,"raw",{value:xue(t||e.slice())})),wue;const ovn=O(Ht)(wue||(wue=rvn([`
  max-width: 350px;
  min-width: 250px;
`]))),Cue="Select workspace";function IPe(e){const{collapsed:t=!1}=e,[n,r]=h.useState(!1),{scheme:o}=Uc(),i=hC(),{activeWorkspace:s,setActiveWorkspace:a}=c1(),[l]=DPe(i),{navigateUrl:u}=rd(),d=h.useCallback(()=>r(!0),[]),f=h.useCallback(()=>r(!1),[]),p=h.useMemo(()=>({constrainSize:!0,scheme:o,portal:!0}),[o]),m=n||!t,v=t?Cue:void 0,g=t?void 0:Cue;return c.jsx(yt,{content:c.jsx(F,{padding:2,children:c.jsx(B,{size:1,children:"Select workspace"})}),disabled:m,placement:"bottom",portal:!0,scheme:o,children:c.jsx(ne,{children:c.jsx(rn,{button:c.jsx(ae,{icon:Ml,mode:"bleed",text:g,disabled:!l,"aria-label":v,justify:t?void 0:"flex-start"}),id:"workspace-menu",menu:c.jsxs(ovn,{children:[c.jsx(F,{paddingX:3,paddingY:3,children:c.jsx(Nt,{size:1,muted:!0,children:"Workspaces"})}),l&&i.map(b=>{const y=l[b.name].authenticated?"logged-in":b.auth.LoginComponent?"logged-out":"no-access",w=()=>{y==="logged-in"&&b.name!==s.name&&a(b.name),y==="logged-out"&&u({path:b.basePath})};return c.jsx(Me,{onClick:w,padding:2,pressed:b.name===s.name,children:c.jsx(R4,{icon:b==null?void 0:b.icon,selected:b.name===s.name,state:y,subtitle:b==null?void 0:b.subtitle,title:(b==null?void 0:b.title)||b.name})},b.name)})]}),onClose:f,onOpen:d,popover:p})})})}function PPe(){return c.jsx(ee,{height:"fill",overflow:"auto",children:c.jsx(W,{height:"fill",direction:"column",align:"center",justify:"center",paddingTop:4,children:c.jsx(ia,{width:0,children:c.jsx(tvn,{})})})})}function ivn(){return c.jsx(c.Fragment,{children:"TODO: implement config errors screen"})}function OPe(){const[e,t]=h.useState(null),[n,r]=h.useState(null);if(n)throw n;const{activeWorkspace:o}=c1(),i=h.useCallback(()=>{var l,u;(u=(l=o.auth).logout)==null||u.call(l)},[o]);h.useEffect(()=>{const l=o.auth.state.subscribe({next:u=>{let{currentUser:d}=u;t(d)},error:r});return()=>{l.unsubscribe()}},[o]);const s=qTe(e==null?void 0:e.provider),a=s?" through ".concat(s):"";return c.jsx(ee,{height:"fill",children:c.jsx(fa,{id:"not-authorized-dialog",header:"Not authorized",width:1,footer:c.jsx(ne,{paddingX:3,paddingY:2,children:c.jsx(ae,{text:"Sign out",onClick:i})}),children:c.jsxs(ne,{paddingX:4,paddingY:5,space:4,children:[c.jsx(B,{children:"You are not authorized to access this studio. Maybe you could ask someone to invite you to collaborate on this project?"}),c.jsxs(B,{children:["If you think this is an error, verify that you are signed in with the correct account. You are currently signed in as"," ",c.jsxs("strong",{children:[e==null?void 0:e.name," (",e==null?void 0:e.email,")"]}),a,"."]})]})})})}var _ue=Object.freeze,svn=Object.defineProperty,avn=(e,t)=>_ue(svn(e,"raw",{value:_ue(t||e.slice())})),Sue;const lvn=O.label(Sue||(Sue=avn([`
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  overflow: clip;
  position: absolute;
  white-space: nowrap;
  width: 1px;
`])));function cvn(e){const{projectId:t}=e,n=window.location.origin,r=h.useMemo(()=>{const o=new URL("https://sanity.io/manage/project/".concat(t,"/api"));return o.searchParams.set("cors","add"),o.searchParams.set("origin",n),o.searchParams.set("credentials",""),o.toString()},[n,t]);return h.useEffect(()=>{const o=()=>{window.location.reload()};return window.addEventListener("focus",o),()=>{window.removeEventListener("focus",o)}},[]),c.jsx(ee,{height:"fill",children:c.jsx(fa,{id:"cors-error-dialog",header:"Before you continue...",width:1,children:c.jsxs(ne,{paddingX:4,paddingY:5,space:4,children:[c.jsxs(B,{children:["To access your content, you need to ",c.jsx("b",{children:"add the following URL as a CORS origin"})," to your Sanity project."]}),c.jsx(lvn,{"aria-hidden":"true",children:"CORS URL to be added"}),c.jsx(Xr,{value:n,readOnly:!0}),c.jsx(ae,{as:"a",href:r,target:"_blank",rel:"noopener noreferrer",tone:"primary",children:c.jsxs(W,{align:"center",justify:"center",gap:3,children:[c.jsx(B,{weight:"medium",children:"Continue"}),c.jsx(B,{weight:"medium",children:c.jsx(y0,{})})]})})]})})})}function $Pe(e){let{children:t,heading:n="An error occured"}=e;const[{error:r},o]=h.useState({error:null}),i=Ct(r)&&typeof r.message=="string"&&r.message,s=Ct(r)&&typeof r.stack=="string"&&r.stack,a=h.useCallback(()=>o({error:null}),[o]);return Tzt(a),r instanceof pB?c.jsx(cvn,{projectId:r==null?void 0:r.projectId}):r instanceof kN?c.jsx(Mgn,{schema:r.schema}):r?c.jsx(ee,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",tone:"critical",children:c.jsx(ia,{width:3,children:c.jsxs(ne,{space:4,children:[c.jsx(oi,{children:n}),c.jsx("div",{children:c.jsx(ae,{onClick:a,text:"Retry",tone:"default"})}),c.jsx(ee,{border:!0,radius:2,overflow:"auto",padding:4,tone:"inherit",children:c.jsxs(ne,{space:4,children:[i&&c.jsx(wr,{size:1,children:c.jsxs("strong",{children:["Error: ",i]})}),s&&c.jsx(wr,{size:1,children:s})]})})]})})}):c.jsx(E0,{onCatch:o,children:t})}var Eue=Object.freeze,uvn=Object.defineProperty,dvn=(e,t)=>Eue(uvn(e,"raw",{value:Eue(t||e.slice())})),kue;const fvn=O(ee)(kue||(kue=dvn([`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 200;
`]))),RPe=h.createContext({onSearchFullscreenOpenChange:()=>"",searchFullscreenOpen:!1,searchFullscreenPortalEl:null});function hvn(){const{name:e,title:t,tools:n}=Nl(),r=hT(h.useCallback(v=>typeof v.tool=="string"?v.tool:void 0,[])),o=h.useMemo(()=>n.find(v=>v.name===r),[r,n]),[i,s]=h.useState(!1),[a,l]=h.useState(null),u=h.useMemo(()=>{const v=t||an(e);return r?"".concat(an(r)," | ").concat(v):v},[r,e,t]),d=!!(o!=null&&o.controlsDocumentTitle);h.useEffect(()=>{d||(document.title=u)},[u,d]);const f=h.useCallback(v=>{s(v)},[]),p=h.useMemo(()=>({searchFullscreenOpen:i,searchFullscreenPortalEl:a,onSearchFullscreenOpenChange:f}),[i,a,f]),m=rbn();return c.jsxs(W,{"data-ui":"ToolScreen",direction:"column",height:"fill","data-testid":"studio-layout",children:[c.jsx(RPe.Provider,{value:p,children:c.jsx(m,{})}),n.length===0&&c.jsx(jgn,{}),n.length>0&&!o&&r&&c.jsx(Tgn,{toolName:r}),i&&c.jsx(fvn,{ref:l,overflow:"auto"}),c.jsx($Pe,{heading:"The ".concat(o==null?void 0:o.name," tool crashed"),children:c.jsx(ee,{flex:1,hidden:i,children:o&&r&&c.jsx($ft,{scope:r,children:c.jsx(h.Suspense,{fallback:c.jsx(pvn,{}),children:h.createElement(o.component,{tool:o})})})})},o==null?void 0:o.name)]})}function pvn(){return c.jsxs(W,{justify:"center",align:"center",height:"fill",direction:"column",gap:4,children:[c.jsx(B,{muted:!0,children:"Loading…"}),c.jsx(Hr,{muted:!0})]})}var jue=Object.freeze,mvn=Object.defineProperty,gvn=(e,t)=>jue(mvn(e,"raw",{value:jue(t||e.slice())})),Tue;const vvn=O.div(Tue||(Tue=gvn([`
  position: absolute;
  width: 18px;
  height: 18px;
  background: var(--card-bg-color);
  bottom: -4px;
  right: -4px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  border: 1px solid var(--card-bg-color);
  box-sizing: content-box;

  svg {
    box-sizing: content-box;
    border: 1px solid var(--card-hairline-soft-color);
    border-radius: 50%;
    padding: 2px;
    width: 12px;
    height: 12px;
  }

  &[data-logo='github'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }

  &[data-logo='saml'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }
`]))),yvn=c.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsxs("g",{clipPath:"url(#clip0)",children:[c.jsx("path",{d:"M12 6.13764C12 5.72977 11.9663 5.31971 11.8943 4.91846H6.12036V7.22895H9.42684C9.28963 7.97412 8.84876 8.63332 8.20322 9.05221V10.5514H10.1759C11.3342 9.50637 12 7.9631 12 6.13764Z",fill:"#4285F4"}),c.jsx("path",{d:"M6.12019 12.0002C7.77118 12.0002 9.16349 11.4688 10.1779 10.5517L8.20529 9.05253C7.65646 9.41851 6.94793 9.62574 6.12244 9.62574C4.52544 9.62574 3.17136 8.56971 2.68552 7.1499H0.649902V8.69537C1.68908 10.7215 3.80567 12.0002 6.12019 12.0002V12.0002Z",fill:"#34A853"}),c.jsx("path",{d:"M2.68332 7.14986C2.4269 6.40469 2.4269 5.59778 2.68332 4.8526V3.30713H0.649951C-0.218278 5.00252 -0.218278 6.99995 0.649951 8.69533L2.68332 7.14986V7.14986Z",fill:"#FBBC04"}),c.jsx("path",{d:"M6.12019 2.37483C6.99291 2.3616 7.8364 2.68348 8.46845 3.27433L10.2161 1.56131C9.1095 0.542752 7.64071 -0.017233 6.12019 0.000404333C3.80566 0.000404333 1.68908 1.27911 0.649902 3.3074L2.68326 4.85288C3.16686 3.43087 4.52319 2.37483 6.12019 2.37483V2.37483Z",fill:"#EA4335"})]}),c.jsx("defs",{children:c.jsx("clipPath",{id:"clip0",children:c.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),bvn=c.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("g",{clipPath:"url(#clip0)",children:c.jsx("path",{d:"M11.195 3.13503C10.6711 2.22838 9.91808 1.47537 9.01144 0.951471C8.09222 0.414976 7.08837 0.146729 5.99987 0.146729C4.91137 0.146729 3.90752 0.414976 2.98831 0.951471C2.08163 1.47534 1.32862 2.22836 0.804744 3.13503C0.268248 4.05497 0 5.05883 0 6.14659C0 7.45399 0.381531 8.62978 1.14459 9.67394C1.90765 10.7181 2.89327 11.4408 4.10143 11.8419C4.24208 11.868 4.34624 11.8497 4.41392 11.7872C4.44666 11.7577 4.47263 11.7215 4.49006 11.681C4.50749 11.6405 4.51595 11.5967 4.51488 11.5527C4.51488 11.537 4.51361 11.3963 4.51105 11.1307C4.5085 10.8651 4.50722 10.6334 4.50722 10.4355L4.32745 10.4666C4.18407 10.4895 4.03885 10.4986 3.89375 10.494C3.71159 10.4908 3.53001 10.4725 3.35087 10.4393C3.16049 10.4045 2.98119 10.3246 2.82796 10.2064C2.66705 10.0846 2.54715 9.91661 2.48428 9.72484L2.40602 9.54506C2.34022 9.40286 2.25754 9.2691 2.15976 9.14666C2.04775 9.00072 1.93447 8.90176 1.81991 8.84977L1.76518 8.81064C1.72769 8.78356 1.6936 8.75205 1.66367 8.71679C1.63479 8.6841 1.61108 8.64719 1.59334 8.60734C1.57766 8.57085 1.5907 8.54085 1.63247 8.51731C1.67461 8.49405 1.75123 8.48256 1.86068 8.48256L2.01692 8.50582C2.12108 8.52662 2.24996 8.5891 2.40356 8.69326C2.5585 8.79876 2.68797 8.93748 2.78254 9.09932C2.90239 9.31294 3.04695 9.47575 3.21624 9.58775C3.38552 9.69976 3.55609 9.75576 3.72793 9.75576C3.87725 9.7578 4.02641 9.74479 4.17312 9.7169C4.29459 9.69195 4.41264 9.65254 4.52473 9.59952C4.57162 9.25037 4.69931 8.98212 4.90782 8.79477C4.63684 8.76849 4.36827 8.72157 4.10444 8.6544C3.84797 8.58382 3.60133 8.48141 3.37029 8.34958C3.12825 8.218 2.91442 8.04015 2.74095 7.82613C2.57421 7.6178 2.4374 7.34417 2.3305 7.00524C2.2236 6.6663 2.1707 6.27584 2.1718 5.83383C2.1718 5.20357 2.37757 4.66708 2.7891 4.22435C2.59629 3.75006 2.61453 3.21885 2.84383 2.63073C2.99487 2.58385 3.21879 2.61897 3.51559 2.73608C3.81239 2.85319 4.02983 2.95352 4.16792 3.03707C4.30601 3.12025 4.41665 3.19058 4.49983 3.24804C5.48153 2.9773 6.51821 2.9773 7.49991 3.24804L7.79679 3.0606C8.0249 2.92356 8.26549 2.80849 8.51535 2.71693C8.79135 2.61276 9.00231 2.58412 9.14825 2.63101C9.38248 3.21949 9.40327 3.7507 9.21064 4.22462C9.62199 4.66735 9.82776 5.20385 9.82795 5.83411C9.82795 6.27684 9.77459 6.66904 9.66787 7.01071C9.56116 7.35238 9.42325 7.62601 9.25415 7.8316C9.07785 8.04326 8.86311 8.21966 8.62124 8.35149C8.39008 8.48329 8.14337 8.5857 7.88682 8.65632C7.62412 8.72277 7.35674 8.76915 7.087 8.79505C7.35698 9.02927 7.49206 9.3994 7.49225 9.90543V11.5527C7.49115 11.5964 7.49929 11.6398 7.51612 11.6802C7.53295 11.7206 7.5581 11.7569 7.58993 11.7869C7.65505 11.8493 7.75794 11.8675 7.89858 11.8416C9.10693 11.4403 10.0926 10.7177 10.8557 9.67367C11.6188 8.62968 12.0003 7.4539 12.0003 6.14632C11.9997 5.05873 11.7313 4.05497 11.195 3.13503V3.13503Z",fill:"black"})}),c.jsx("defs",{children:c.jsx("clipPath",{id:"clip0",children:c.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),xvn=c.jsxs("svg",{width:"17",height:"9",viewBox:"0 0 17 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M0.0691681 5.98162C0.115833 7.24157 1.07247 8.00221 2.59841 8.00221C4.17102 8.00221 5.12299 7.19957 5.12299 5.86962C5.12299 4.83832 4.55367 4.25501 3.25172 3.96569L2.56108 3.80703C1.8331 3.64837 1.53445 3.38704 1.53445 2.91106C1.53445 2.40708 1.94977 2.09442 2.61708 2.09442C3.27505 2.09442 3.6997 2.43508 3.75103 2.99039H5.00166C4.95966 1.78643 4.01236 0.997795 2.60308 0.997795C1.14713 0.997795 0.218496 1.79577 0.218496 3.05105C0.218496 4.04968 0.815808 4.69366 2.03376 4.96898L2.73374 5.13231C3.51304 5.30497 3.8117 5.54763 3.8117 6.00495C3.8117 6.55093 3.34972 6.90092 2.62174 6.90092C1.85644 6.90092 1.38045 6.56493 1.31979 5.98162H0.0691681Z"}),c.jsx("path",{d:"M5.97695 5.98162C6.02362 7.24157 6.98025 8.00221 8.5062 8.00221C10.0788 8.00221 11.0308 7.19957 11.0308 5.86962C11.0308 4.83832 10.4615 4.25501 9.15951 3.96569L8.46886 3.80703C7.74089 3.64837 7.44223 3.38704 7.44223 2.91106C7.44223 2.40708 7.85755 2.09442 8.52486 2.09442C9.18284 2.09442 9.60749 2.43508 9.65882 2.99039H10.9094C10.8674 1.78643 9.92015 0.997795 8.51086 0.997795C7.05492 0.997795 6.12628 1.79577 6.12628 3.05105C6.12628 4.04968 6.72359 4.69366 7.94155 4.96898L8.64153 5.13231C9.42083 5.30497 9.71949 5.54763 9.71949 6.00495C9.71949 6.55093 9.2575 6.90092 8.52953 6.90092C7.76422 6.90092 7.28824 6.56493 7.22758 5.98162H5.97695Z"}),c.jsx("path",{d:"M16.9852 5.01565V3.98435C16.9852 2.11309 16.0099 0.997795 14.3953 0.997795C12.7807 0.997795 11.8054 2.11309 11.8054 3.98435V5.01565C11.8054 6.88692 12.7807 8.00221 14.3953 8.00221C16.0099 8.00221 16.9852 6.88692 16.9852 5.01565ZM14.3953 6.82625C13.5833 6.82625 13.154 6.21494 13.154 5.00165V3.99835C13.154 2.78506 13.5833 2.17375 14.3953 2.17375C15.2073 2.17375 15.6366 2.78506 15.6366 3.99835V5.00165C15.6366 6.21494 15.2073 6.82625 14.3953 6.82625Z"})]}),wvn=e=>{let{provider:t}=e;const n=t==null?void 0:t.startsWith("saml-"),r=n?"saml":t;return c.jsxs(vvn,{"data-logo":r,children:[t==="google"&&yvn,t==="github"&&bvn,t==="sanity"&&c.jsx(Kzt,{}),n&&xvn]})};var Aue=Object.freeze,Cvn=Object.defineProperty,MPe=(e,t)=>Aue(Cvn(e,"raw",{value:Aue(t||e.slice())})),Due,Iue;const Ek=1,_vn=O(Ht)(Due||(Due=MPe([`
  min-width: 200px;
  max-width: 300px;
`]))),Svn=O(F)(Iue||(Iue=MPe([`
  position: relative;
  min-width: `,`px;
  min-height: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.avatar.sizes[Ek].size},e=>{let{theme:t}=e;return t.sanity.avatar.sizes[Ek].size});function Evn(e){let{setScheme:t}=e;const n=SPe(t);return c.jsxs(c.Fragment,{children:[c.jsx(Ir,{}),c.jsx(F,{padding:2,children:c.jsx(Nt,{size:1,muted:!0,children:"Appearance"})}),n.map(r=>{let{icon:o,label:i,name:s,onSelect:a,selected:l,title:u}=r;return c.jsx(Me,{"aria-label":i,icon:o,onClick:a,pressed:l,text:u,iconRight:l&&c.jsx(Ba,{})},s)})]})}function kvn(){const{currentUser:e,projectId:t,auth:n}=Nl(),r=_Pe(),o=jN(),i=!!(e&&ITe(e,"administrator")),s=qTe(e==null?void 0:e.provider),a=h.useMemo(()=>({placement:"bottom-end",portal:!0,preventOverflow:!0,scheme:r,constrainSize:!0}),[r]);return c.jsx(rn,{button:c.jsx(ae,{mode:"bleed",padding:0,paddingX:1,children:c.jsxs(W,{align:"center",gap:1,children:[c.jsx(Ya,{user:"me",size:1}),c.jsx(B,{size:Ek,muted:!0,children:c.jsx(Rl,{})})]})}),id:"user-menu",menu:c.jsxs(_vn,{children:[c.jsx(ee,{padding:2,children:c.jsxs(W,{align:"center",children:[c.jsx(yt,{disabled:!s,portal:!0,content:s&&c.jsx(F,{padding:2,children:c.jsxs(B,{size:1,children:["Signed in with ",s]})}),children:c.jsxs(Svn,{marginRight:3,children:[c.jsx(Ya,{size:Ek,user:"me"}),(e==null?void 0:e.provider)&&c.jsx(wvn,{provider:e.provider})]})}),c.jsxs(ne,{space:2,flex:1,children:[c.jsx(B,{size:2,weight:"medium",textOverflow:"ellipsis",children:e==null?void 0:e.name}),c.jsx(B,{size:1,muted:!0,textOverflow:"ellipsis",children:e==null?void 0:e.email})]})]})}),o&&c.jsx(Evn,{setScheme:o}),c.jsx(Ir,{}),c.jsx(Me,{as:"a","aria-label":"Manage project",href:"https://sanity.io/manage/project/".concat(t),target:"_blank",text:"Manage project",icon:ij}),i&&c.jsx(Me,{as:"a","aria-label":"Invite members",href:"https://sanity.io/manage/project/".concat(t,"/members"),target:"_blank",text:"Invite members",icon:dj}),n.logout&&c.jsxs(c.Fragment,{children:[c.jsx(Ir,{}),c.jsx(Me,{iconRight:MF,text:"Sign out",disabled:!n.logout,...n.logout&&{onClick:n.logout}})]})]}),popover:a})}var Pue=Object.freeze,jvn=Object.defineProperty,Tvn=(e,t)=>Pue(jvn(e,"raw",{value:Pue(t||e.slice())})),Oue;const Avn=O(F)(Oue||(Oue=Tvn([`
  max-width: 300px;
`]))),FPe=33;function Dvn(e){const{option:t,currentUser:n,onClick:r,preview:o}=e,i=h.useMemo(()=>({template:t.templateId,type:t.schemaType}),[t.schemaType,t.templateId]),{onClick:s,href:a}=jw({intent:"create",params:i}),l=h.useCallback(u=>{s(u),r(t)},[s,r,t]);return c.jsx(yt,{disabled:t.hasPermission,portal:!0,content:c.jsx(Avn,{padding:2,children:c.jsx(Pc,{currentUser:n,operationLabel:"create this document"})}),children:c.jsx("div",{children:c.jsx(ee,{as:t.hasPermission?"a":"button",disabled:!t.hasPermission,href:a,marginBottom:1,onClick:l,padding:o==="inline"?3:4,radius:2,children:c.jsx(B,{size:o==="inline"?1:void 0,children:t.title})})})},t.id)}var $ue=Object.freeze,Ivn=Object.defineProperty,LPe=(e,t)=>$ue(Ivn(e,"raw",{value:$ue(t||e.slice())})),Rue,Mue;const QO=O(W)(Rue||(Rue=LPe([`
  min-height: 100px;
`]))),Pvn=O.strong(Mue||(Mue=LPe([`
  word-break: break-all;
`])));function Fue(e){const{currentUser:t,loading:n,onDocumentClick:r,options:o,preview:i,searchQuery:s,textInputElement:a}=e,l=o.length>0&&!n,u=h.useCallback(()=>{r()},[r]),d=h.useCallback(p=>{var m;return((m=o[p])==null?void 0:m.hasPermission)===!1},[o]),f=h.useCallback(p=>c.jsx(Dvn,{currentUser:t,onClick:u,option:p,preview:i},p.id),[t,u,i]);return n?c.jsx(QO,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsxs(Jt,{space:2,children:[c.jsx(Hr,{muted:!0,size:1}),c.jsx(B,{muted:!0,size:1,children:"Loading…"})]})}):!l&&s?c.jsx(QO,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsxs(B,{align:"center",muted:!0,size:1,children:["No results found for ",c.jsxs(Pvn,{children:["“",s,"”"]})]})}):l?c.jsx(Pm,{activeItemDataAttr:"data-hovered",ariaLabel:"New document",autoFocus:Jp?void 0:"input",getItemDisabled:d,inputElement:a,itemHeight:FPe,items:o,overscan:5,padding:i==="inline"?1:2,paddingBottom:0,renderItem:f}):c.jsx(QO,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsx(B,{align:"center",muted:!0,size:1,children:"No documents found"})})}function Ovn(e,t){const n=t.title.toLowerCase();return e.trim().toLowerCase().split(/[\s\-_]+/).every(i=>n.includes(i))}function $vn(e,t,n){const r=t.title.toLowerCase(),o=n.title.toLowerCase(),i=e.trim().toLowerCase();return r.startsWith(i)&&!o.startsWith(i)?-1:o.startsWith(i)&&!r.startsWith(i)?1:r.includes(i)&&!o.includes(i)?-1:o.includes(i)&&!r.includes(i)?1:0}function Rvn(e,t){return e.map(o=>({...o,title:(o==null?void 0:o.title)||o.id})).sort((o,i)=>o.title.localeCompare(i.title)).filter(o=>Ovn(t,o)).sort((o,i)=>$vn(t,o,i))}var Lue=Object.freeze,Mvn=Object.defineProperty,Fm=(e,t)=>Lue(Mvn(e,"raw",{value:Lue(t||e.slice())})),Bue,Nue,zue,Vue,Hue,Uue,Wue;const Fvn=O(hn)(()=>de(Bue||(Bue=Fm([`
    [data-ui='Popover__wrapper'] {
      width: 320px;
      display: flex;
      flex-direction: column;
      border-radius: `,`px;
      position: relative;
      overflow: hidden;
      overflow: clip;
    }
  `])),e=>{let{theme:t}=e;return t.sanity.radius[3]})),Lvn=O(fa)(()=>de(Nue||(Nue=Fm([`
    [data-ui='DialogCard'] {
      justify-content: flex-start;
    }
  `])))),Bvn=O(F)(zue||(zue=Fm([`
  max-width: 300px;
`]))),Yue=O(W)(Vue||(Vue=Fm([""]))),Nvn=O(ee)(Hue||(Hue=Fm([`
  min-height: max-content;
`]))),zvn=O(ee)(Uue||(Uue=Fm([`
  min-height: max-content;
`]))),Vvn=O(W)(e=>{const{$maxDisplayedItems:t,$itemHeight:n}=e;return de(Wue||(Wue=Fm([`
    --item-height: `,`px;
    --max-items: `,`;
    --list-padding: 0.5rem;

    position: relative;
    max-height: calc(var(--item-height) * var(--max-items) + var(--list-padding));
    min-height: calc((var(--item-height) * 1));
  `])),n,t)}),Hvn=10;function Uvn(e){const{canCreateDocument:t,modal:n="popover",loading:r,options:o}=e,[i,s]=h.useState(!1),[a,l]=h.useState(""),[u,d]=h.useState(null),[f,p]=h.useState(null),[m,v]=h.useState(null),[g,b]=h.useState(null),{scheme:x}=Uc(),y=ii(),w=o.length>0,C=!t||!w,_="Search",S="Create new document",E=h.useMemo(()=>Rvn(o,a),[o,a]),j=h.useCallback(L=>{l(L.currentTarget.value)},[]),k=h.useCallback(()=>s(L=>!L),[]),T=h.useCallback(()=>{s(!1),l(""),m==null||m.focus()},[m]),A=h.useCallback(L=>{L.key==="ArrowDown"&&!i&&s(!0)},[i]),D=h.useCallback(L=>{(L.key==="Escape"||L.key==="Tab")&&i&&T()},[T,i]);Vr(()=>{i&&T()},[m,f,u]);const I=h.useMemo(()=>({currentUser:y,loading:r,onDocumentClick:k,options:E,searchQuery:a,preview:n==="popover"?"inline":"default",textInputElement:g}),[y,E,k,r,n,g,a]),P=h.useMemo(()=>({border:!1,defaultValue:a,disabled:r,icon:Yi,onChange:j,placeholder:_,ref:b}),[j,r,_,a]),M=h.useMemo(()=>({"aria-label":S,disabled:C||r,icon:xp,mode:"bleed",onClick:k,ref:v,selected:i}),[C,k,r,i,S]),$=h.useMemo(()=>w?t?c.jsx(B,{size:1,children:"New document..."}):c.jsx(Pc,{currentUser:y,operationLabel:"create any document"}):c.jsx(B,{size:1,children:"No document types"}),[t,y,w]),V=h.useMemo(()=>({content:c.jsx(Bvn,{padding:2,children:$}),disabled:r||i,placement:"bottom",portal:!0,scheme:x}),[r,i,x,$]);return n==="dialog"?c.jsxs(c.Fragment,{children:[c.jsx(yt,{...V,children:c.jsx("div",{children:c.jsx(ae,{...M})})}),i&&c.jsx(Lvn,{header:S,id:"create-new-document-dialog",onClickOutside:T,onClose:T,ref:p,scheme:x,width:1,children:c.jsxs(Yue,{direction:"column",flex:1,height:"fill",children:[c.jsx(zvn,{padding:2,borderBottom:!0,children:c.jsx(Xr,{...P})}),c.jsx(W,{direction:"column",overflow:"hidden",children:c.jsx(Fue,{...I})})]})})]}):c.jsx(Fvn,{constrainSize:!0,onKeyDown:D,open:i,portal:!0,radius:3,ref:d,scheme:x,content:c.jsxs(Yue,{direction:"column",flex:1,forwardedAs:od,height:"fill",returnFocus:!0,children:[c.jsx(Nvn,{sizing:"border",children:c.jsxs(ne,{children:[c.jsx(F,{paddingX:3,paddingY:3,children:c.jsx(F,{paddingY:1,children:c.jsx(Nt,{size:1,muted:!0,children:S})})}),c.jsx(ee,{borderTop:!0,borderBottom:!0,padding:1,children:c.jsx(Xr,{...P,fontSize:1,radius:1})})]})}),c.jsx(Vvn,{$itemHeight:FPe,$maxDisplayedItems:Hvn,direction:"column",overflow:"hidden",children:c.jsx(Fue,{...I})})]}),children:c.jsx("div",{children:c.jsx(yt,{...V,children:c.jsx("div",{children:c.jsx(ae,{...M,"aria-expanded":i,"aria-haspopup":"true",onKeyDown:A})})})})})}function Wvn(){const{__internal:{staticInitialValueTemplateItems:e}}=ur(),[t,n]=EOe({templateItems:e}),r=(t==null?void 0:t.some(i=>e.some(s=>s.id===i.id)))||!1,o=h.useMemo(()=>e.map(i=>{var s;return{...i,title:(i==null?void 0:i.title)||i.id,hasPermission:((s=t==null?void 0:t.find(a=>a.id===i.id))==null?void 0:s.granted)||!1}}),[t,e]);return{canCreateDocument:r,loading:n,options:o}}var que=Object.freeze,Yvn=Object.defineProperty,qvn=(e,t)=>que(Yvn(e,"raw",{value:que(t||e.slice())})),Gue;const Gvn=O(ee)(Gue||(Gue=qvn([`
  background: transparent;
  margin: calc((-35px + 11px) / 2);
`]))),Kvn=h.memo(function(t){const{presence:n,focused:r,onFocus:o}=t,[i,s]=h.useState(null),a=V0(n.locations||[],["lastActiveAt"],["desc"]).find(f=>f.documentId),l=!!(a!=null&&a.documentId);h.useEffect(()=>{r&&i&&(i.focus(),i.setAttribute("data-selected","")),r||i==null||i.removeAttribute("data-selected")},[i,r]);const u=h.useCallback(()=>{o(n.user.id)},[o,n.user.id]),d=h.useMemo(()=>h.forwardRef(function(p,m){return a!=null&&a.path?c.jsx(_m,{...p,intent:"edit",params:{id:a==null?void 0:a.documentId,path:yr(a==null?void 0:a.path)},ref:m}):null}),[a]);return c.jsx(Me,{as:a?d:"div","data-as":a?"a":"div",onFocus:u,paddingY:l?4:3,paddingLeft:4,paddingRight:3,ref:s,children:c.jsxs(W,{align:"center",children:[c.jsx(Gvn,{children:c.jsx(Ya,{size:1,user:n.user,status:l?"editing":"inactive"},n.user.id)}),c.jsxs(ne,{space:2,marginLeft:4,children:[c.jsx(B,{textOverflow:"ellipsis",children:n.user.displayName}),!l&&c.jsx(B,{size:0,muted:!0,textOverflow:"ellipsis",children:"Not in a document"})]})]})})});var Kue=Object.freeze,Zvn=Object.defineProperty,TN=(e,t)=>Kue(Zvn(e,"raw",{value:Kue(t||e.slice())})),Zue,Xue,Que;const Xvn=4,Qvn=O(ee)(Zue||(Zue=TN([`
  background: transparent;
`]))),Jvn=O(Ht)(Xue||(Xue=TN([`
  max-width: 350px;
  min-width: 250px;
`]))),e0n=O(ne)(Que||(Que=TN([`
  position: sticky;
  bottom: 0;
`])));function t0n(e){const{collapse:t}=e,n=Bwn(),{projectId:r}=Nl(),{scheme:o}=Uc(),i=n.length>0,[s,a]=h.useState(),l=h.useCallback(p=>{a(p)},[]),u=h.useCallback(()=>{a("")},[]),d=h.useMemo(()=>t?c.jsx(uh,{icon:dj,mode:"bleed",tone:i?"positive":void 0}):c.jsx(ae,{mode:"bleed",padding:1,children:c.jsx(Qvn,{children:c.jsx(Vj,{maxLength:Xvn,"aria-label":"Who is here",children:n.map(p=>c.jsx(Ya,{user:p.user},p.user.id))})})}),[t,i,n]),f=h.useMemo(()=>({constrainSize:!0,portal:!0,scheme:o}),[o]);return c.jsx(rn,{button:d,id:"global-presence-menu",onClose:u,menu:c.jsxs(Jvn,{padding:1,children:[i&&c.jsx(ne,{children:n.map(p=>c.jsx(Kvn,{focused:s===p.user.id,onFocus:l,presence:p},p.user.id))}),!i&&c.jsx(F,{paddingX:3,paddingY:4,children:c.jsxs(ne,{space:3,children:[c.jsx(B,{weight:"semibold",size:2,children:"No one else is here"}),c.jsx(B,{size:1,muted:!0,children:"Invite people to the project to see their online status."})]})}),c.jsxs(e0n,{space:1,children:[c.jsx(Ir,{}),c.jsx(Me,{as:"a",href:"https://sanity.io/manage/project/".concat(r),iconRight:ij,onFocus:u,paddingY:4,rel:"noopener noreferrer",target:"_blank",text:"Manage members"})]})]}),popover:f})}var Jue=Object.freeze,n0n=Object.defineProperty,AN=(e,t)=>Jue(n0n(e,"raw",{value:Jue(t||e.slice())})),ede,tde,nde;const rde={duration:.2},r0n={open:{opacity:1},closed:{opacity:0}},o0n={open:{x:"0%"},closed:{x:"-100%"}},i0n=O(es)(ede||(ede=AN([`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),s0n=O(Nj(ee))(tde||(tde=AN([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--card-shadow-penumbra-color);
`]))),a0n=O(Nj(ee))(nde||(nde=AN([`
  position: relative;
  pointer-events: all;
  flex-direction: column;
  height: 100%;
  min-width: 200px;
  max-width: 280px;
  overflow: auto;
`])));function l0n(e){let{setScheme:t}=e;const n=SPe(t);return c.jsx(c.Fragment,{children:c.jsxs(ee,{borderTop:!0,flex:"none",padding:3,overflow:"auto",children:[c.jsx(F,{padding:2,children:c.jsx(Nt,{size:1,muted:!0,children:"Appearance"})}),c.jsx(ne,{as:"ul",marginTop:1,space:1,children:n.map(r=>{let{icon:o,label:i,name:s,onSelect:a,selected:l,title:u}=r;return c.jsx(ne,{as:"li",children:c.jsx(ae,{"aria-label":i,icon:o,iconRight:l&&c.jsx(Ba,{}),justify:"flex-start",mode:"bleed",onClick:a,selected:l,text:u})},s)})})]})})}const c0n=h.memo(function(t){const{activeToolName:n,isOpen:r,onClose:o,tools:i}=t,s=jN(),{auth:a,currentUser:l,projectId:u}=Nl(),d=hC(),f=oOe(),p=!!(l&&ITe(l,"administrator")),m=h.useCallback(v=>{v.key==="Escape"&&o()},[o]);return c.jsx(wL,{children:r&&c.jsx(od,{autoFocus:!0,returnFocus:!0,children:c.jsxs(i0n,{onKeyDown:m,children:[c.jsx(s0n,{animate:"open","data-open":r,exit:"closed",initial:"closed",onClick:o,transition:rde,variants:r0n}),c.jsxs(a0n,{animate:"open","data-open":r,display:"flex",exit:"closed",height:"fill",initial:"closed",shadow:1,transition:rde,variants:o0n,children:[c.jsx(ee,{borderBottom:!0,children:c.jsxs(ne,{space:3,padding:3,children:[c.jsxs(W,{align:"center",children:[c.jsx(W,{flex:1,align:"center",paddingRight:2,children:c.jsxs(W,{flex:1,align:"center",children:[c.jsx(F,{children:c.jsx(Ya,{size:1,user:"me"})}),c.jsx(F,{flex:1,marginLeft:2,title:(l==null?void 0:l.name)||(l==null?void 0:l.email),children:c.jsx(B,{textOverflow:"ellipsis",children:(l==null?void 0:l.name)||(l==null?void 0:l.email)})})]})}),c.jsx(F,{children:c.jsx(ae,{icon:la,mode:"bleed",onClick:o,title:"Close menu"})})]}),d.length>1&&c.jsx(IPe,{})]})}),c.jsxs(W,{direction:"column",flex:1,justify:"space-between",overflow:"auto",children:[c.jsx(ee,{flex:"none",padding:3,children:c.jsx(f,{activeToolName:n,closeSidebar:o,context:"sidebar",isSidebarOpen:r,tools:i})}),c.jsxs(W,{direction:"column",children:[s&&c.jsx(l0n,{setScheme:s}),c.jsx(ee,{borderTop:!0,flex:"none",padding:3,children:c.jsxs(ne,{as:"ul",space:1,children:[c.jsx(ne,{as:"li",children:c.jsx(ae,{"aria-label":"Manage project",as:"a",href:"https://sanity.io/manage/project/".concat(u),icon:ij,justify:"flex-start",mode:"bleed",target:"_blank",text:"Manage project"})}),p&&c.jsx(ne,{as:"li",children:c.jsx(ae,{"aria-label":"Invite members",as:"a",href:"https://sanity.io/manage/project/".concat(u,"/members"),icon:dj,justify:"flex-start",mode:"bleed",target:"_blank",text:"Invite members"})})]})})]})]}),a.logout&&c.jsx(ee,{flex:"none",padding:3,borderTop:!0,children:c.jsx(ne,{children:c.jsx(ae,{iconRight:MF,justify:"flex-start",mode:"bleed",onClick:a.logout,text:"Sign out"})})})]})]})})})});function u0n(){var e;const n=((e=dr()._validation)==null?void 0:e.filter(f=>f.problems.some(p=>p.severity==="warning")))||[],{scheme:r}=Uc(),o=h.useId(),[i,s]=h.useState(!1),[a,l]=h.useState(null),u=h.useCallback(()=>s(!0),[]),d=h.useCallback(()=>{s(!1),a&&a.focus()},[a]);return n.length===0?null:c.jsxs(c.Fragment,{children:[c.jsx(uh,{icon:Qr,label:"Found configuration issues",mode:"bleed",onClick:u,ref:l,selected:i,tone:"caution",tooltip:{scheme:r}}),i&&c.jsx(fa,{header:c.jsxs(ne,{space:3,children:[c.jsx(B,{weight:"semibold",children:"Configuration issues"}),c.jsx(B,{muted:!0,size:1,children:"Configuration checks are only performed during development and will not be visible in production builds"})]}),width:2,onClickOutside:d,onClose:d,scheme:r,id:o,children:c.jsxs(ne,{space:4,padding:4,children:[c.jsxs(oi,{as:"h2",size:1,children:["Found ",n.length," schema warnings"]}),c.jsx(jPe,{problemGroups:n})]})})]})}function ode(e){const{title:t,children:n,href:r,onClick:o}=e;return c.jsx(ae,{"aria-label":t,as:"a","data-testid":"logo",href:r,mode:"bleed",onClick:o,padding:0,children:n})}const d0n=Fi("mod+".concat(aPe)),f0n=Fi("escape");function h0n(e){let{open:t,onClose:n,onOpen:r}=e;const{isTopLayer:o}=Rc(),i=h.useCallback(()=>{n==null||n()},[n]),s=h.useCallback(a=>{d0n(a)&&(a.preventDefault(),t?i():r==null||r()),f0n(a)&&t&&o&&i()},[i,o,t,r]);As(s)}function BPe(e){let{children:t,hasValidTerms:n,onClose:r,onOpen:o,open:i}=e;const s=h.useRef(!1),{dispatch:a,searchCommandList:l,setOnClose:u,state:{result:d}}=Ot(),f=h.useCallback(()=>{var p;a({index:(p=l==null?void 0:l.getTopIndex())!=null?p:-1,type:"LAST_ACTIVE_INDEX_SET"}),r()},[a,r,l]);return h0n({onClose:f,onOpen:o,open:i}),h.useEffect(()=>{u(f)},[f,u]),h.useEffect(()=>{(!n||d.loaded)&&s.current&&a({index:0,type:"LAST_ACTIVE_INDEX_SET"})},[a,n,d.loaded]),h.useEffect(()=>{!n&&s.current&&!i&&a({type:"ORDERING_RESET"})},[a,n,i]),h.useEffect(()=>{s!=null&&s.current||(s.current=!0)},[]),i?c.jsx("div",{children:t}):null}function p0n(e){return e.reduce((t,n)=>(t[n.type]=n,t),{})}function Uf(e,t){return t?e[t]:void 0}function m0n(e,t){var n;return(n=Uf(e,t))==null?void 0:n.initialValue}function M4(e,t){var n;return{fieldId:t,filterName:e.name,operatorType:((n=e==null?void 0:e.operators.find(r=>r.type==="item"))==null?void 0:n.name)||""}}function Ah(e){let{fieldDefinitions:t,filterDefinitions:n,filters:r,operatorDefinitions:o}=e;return r.filter(i=>pC({filter:i,filterDefinitions:n,fieldDefinitions:t,operatorDefinitions:o})).map(i=>{var s;return(s=Uf(o,i.operatorType))==null?void 0:s.groqFilter({fieldPath:g0n({filter:i,fieldDefinitions:t,filterDefinitions:n}),value:i==null?void 0:i.value})}).filter(i=>!Ezt(i)).filter(po).join(" && ")}function Ku(e,t){return t!=null&&t.fieldId?e[t.fieldId]:void 0}function Ui(e){return[e.filterName,...e.fieldId?[e.fieldId]:[]].join("-")}function Dh(e){let{fieldDefinitions:t,filters:n,types:r}=e;const o=r.map(l=>l.name),i=Object.values(t).filter(l=>n.map(u=>u==null?void 0:u.fieldId).includes(l.id)).filter(l=>l.documentTypes.length>0).map(l=>l.documentTypes),s=Y5(...i),a=[];return o.length>0&&a.push(o),s.length>0&&a.push(s),Y5(...a).sort()}function g0n(e){let{filter:t,fieldDefinitions:n,filterDefinitions:r}=e;const o=Ku(n,t),i=fh(r,t.filterName);if(i)switch(i.type){case"field":return o==null?void 0:o.fieldPath;case"pinned":return i==null?void 0:i.fieldPath;default:return}}function pC(e){let{filter:t,filterDefinitions:n,fieldDefinitions:r,operatorDefinitions:o}=e;const i=fh(n,t.filterName),s=Uf(o,t.operatorType),a=Ku(r,t);return!(!i||!s||t.fieldId&&!a||i.type==="field"&&(!(a!=null&&a.fieldPath)||!t.fieldId||!s.groqFilter({fieldPath:a.fieldPath,value:t.value}))||i.type==="pinned"&&!s.groqFilter({fieldPath:i.fieldPath,value:t.value}))}var ide=Object.freeze,v0n=Object.defineProperty,y0n=(e,t)=>ide(v0n(e,"raw",{value:ide(t||e.slice())})),sde;const b0n=Fi("escape"),x0n=500,w0n=O.div(sde||(sde=y0n([`
  background: transparent;
  height: 100%;
  left: 0;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: -1;
`])));function DN(e){let{anchorElement:t,children:n,onClose:r}=e;const{isTopLayer:o}=Rc(),i=h.useCallback(a=>{b0n(a)&&o&&r()},[o,r]);As(i);const s=C0n(t||null);return c.jsxs(c.Fragment,{children:[c.jsx(w0n,{onClick:r}),c.jsx(od,{autoFocus:!1,returnFocus:!0,children:c.jsx(ee,{display:"flex",overflow:"hidden",radius:l1,style:{maxHeight:"min(calc(100vh - ".concat(s,"px - ").concat(fC,"px - ").concat(Bx,"px), ").concat(x0n,"px"),zIndex:1},children:c.jsx(W,{children:n})})})]})}function JO(e){const t=e.getBoundingClientRect();return t.y+t.height+fC}function C0n(e){const[t,n]=h.useState(e&&JO(e)),r=h.useCallback(()=>{e&&n(JO(e))},[e]);return h.useEffect(()=>{e&&n(JO(e))},[e]),h.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),t}var ade=Object.freeze,_0n=Object.defineProperty,NPe=(e,t)=>ade(_0n(e,"raw",{value:ade(t||e.slice())})),lde,cde;const S0n=O(F)(lde||(lde=NPe([`
  border-bottom: 1px solid `,`;
  flex-shrink: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.border}),E0n=O(W)(cde||(cde=NPe([`
  box-sizing: border-box;
`]))),zPe=h.forwardRef(function(t,n){let{ariaInputLabel:r,onChange:o,onClear:i,typeFilter:s}=t;const{state:{fullscreen:a}}=Ot();return c.jsx(S0n,{children:c.jsx(E0n,{align:"center",flex:1,padding:1,children:c.jsx(EN,{"aria-label":r,autoComplete:"off",border:!1,clearButton:!!s,fontSize:a?2:1,icon:Yi,muted:!0,onChange:o,onClear:i,placeholder:"Filter",ref:n,smallClearButton:!0,spellCheck:!1,radius:2,value:s})})})});function k0n(e){let{documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,schema:o,titleFilter:i,types:s}=e;const a=Object.values(n).filter(u=>D0n(u,i)).map(u=>{const d=fh(r,u.filterName);return d?M4(d,u.id):null}).filter(po),l=T0n({fieldDefinitions:n,filterDefinitions:r,titleFilter:i});return t.length===0?[...l,...Nx({fieldDefinitions:n,filterDefinitions:r,filters:a,headerTitle:"All fields",id:"field"})]:[...l,...j0n({documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,filters:a,schema:o,types:s})]}function Nx(e){let{fieldDefinitions:t,filterDefinitions:n,filters:r,id:o,headerTitle:i,tone:s}=e;const a={title:i||"",tone:s||"default",type:"header"},l=r.map(u=>({fieldDefinition:Ku(t,u),filterDefinition:fh(n,u.filterName),filter:u,group:o,tone:s||"default",type:"filter"}));return l.length>0?[...i?[a]:[],...l]:[]}function j0n(e){let{documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,filters:o,schema:i,types:s}=e;const a=o.filter(d=>{const f=Ku(n,d);return O0n(t,f)}),l=t.length>1&&s.length>1?Nx({fieldDefinitions:n,filterDefinitions:r,filters:a,headerTitle:"Shared fields",id:"shared",tone:"primary"}):[],u=t.map(d=>{const f=i.get(d);return{title:(f==null?void 0:f.title)||an(f==null?void 0:f.name)||"(Unknown type)",documentType:d}}).sort((d,f)=>d.title.localeCompare(f.title)).map(d=>{let{documentType:f,title:p}=d;const m=o.filter(v=>{const g=Ku(n,v);return A0n([f],g)});return Nx({fieldDefinitions:n,filterDefinitions:r,filters:m,id:p,headerTitle:p})}).flat();return[...l,...u]}function T0n(e){let{fieldDefinitions:t,filterDefinitions:n,titleFilter:r}=e;const o=Object.values(n).filter(P0n).filter(s=>ude(s,r)).map(s=>M4(s)),i=Object.values(n).filter(I0n).filter(s=>ude(s,r)).reduce((s,a)=>(s[a.group]=s[a.group]||[],s[a.group].push(M4(a)),s),{});return[...Nx({fieldDefinitions:t,filterDefinitions:n,filters:o,id:"pinned-ungrouped",tone:"primary"}),...Object.entries(i).flatMap(s=>{let[a,l]=s;return Nx({fieldDefinitions:t,filterDefinitions:n,filters:l,headerTitle:a,id:a,tone:"primary"})})]}function A0n(e,t){return t==null?void 0:t.documentTypes.some(n=>e.includes(n))}function D0n(e,t){return e.titlePath.join("/").toLowerCase().includes(t.toLowerCase())}function ude(e,t){return e.title.toLowerCase().includes(t.toLowerCase())}function I0n(e){return e.type==="pinned"&&typeof(e==null?void 0:e.group)<"u"}function P0n(e){return e.type==="pinned"&&typeof(e==null?void 0:e.group)>"u"}function O0n(e,t){return lx(e,(t==null?void 0:t.documentTypes)||[]).length===0}function VPe(e){let{filter:t,maxLength:n}=e;const{state:{definitions:r}}=Ot(),o=h.useMemo(()=>{const i=fh(r.filters,t.filterName);switch(i==null?void 0:i.type){case"field":{const s=Ku(r.fields,t);return s!=null&&s.titlePath?s.titlePath[s.titlePath.length-1]:null}case"pinned":return i.title;default:return null}},[r,t]);return o?n&&o.length>n?c.jsxs("span",{children:[o.slice(0,n),"…"]}):c.jsx("span",{children:o}):null}function $0n(e){let{filter:t}=e;var n;const{state:{definitions:r}}=Ot(),o=(n=fh(r.filters,t.filterName))==null?void 0:n.icon;return o?h.createElement(o):c.jsx(bl,{})}function HPe(e){let{filter:t,small:n=!0}=e;var r;const{state:{definitions:o}}=Ot(),i=Ku(o.fields,t);return c.jsxs(ne,{space:n?2:3,children:[(i==null?void 0:i.titlePath)&&((r=i.titlePath)==null?void 0:r.length)>1&&c.jsx(F,{marginLeft:4,children:c.jsx(B,{muted:!0,size:n?0:1,children:i.titlePath.slice(0,-1).map((s,a)=>c.jsxs(re.Fragment,{children:[c.jsx("span",{children:s}),a!==i.titlePath.length-2&&c.jsx("span",{style:{opacity:.75,paddingLeft:"0.25em",paddingRight:"0.25em"},children:c.jsx(Qu,{})})]},a))})}),c.jsxs(W,{align:"flex-start",gap:3,children:[c.jsx(F,{style:{flexShrink:0},children:c.jsx(B,{size:n?1:2,children:c.jsx($0n,{filter:t})})}),c.jsx(B,{size:n?1:2,weight:"medium",children:c.jsx(VPe,{filter:t})})]})]})}function UPe(e){return h.isValidElement(e)?R0n(oUt(e)):typeof e=="string"?e:""}function R0n(e){var t;return((t=new DOMParser().parseFromString(e,"text/html"))==null?void 0:t.body.textContent)||""}const e3=10;function M0n(e){let{children:t,fieldDefinition:n,filterDefinition:r,visible:o}=e;const{state:{documentTypesNarrowed:i}}=Ot(),s=dr(),a=h.useMemo(()=>n!=null&&n.documentTypes?n.documentTypes.map(u=>{const d=s.get(u);return(d==null?void 0:d.title)||an(d==null?void 0:d.name)}).filter(po).sort():[],[n==null?void 0:n.documentTypes,s]),l=h.useMemo(()=>{if(n!=null&&n.documentTypes){const u=n.documentTypes.map(f=>{const p=s.get(f);if(p){const m=NA(p,n.fieldPath);return(m==null?void 0:m.type.description)&&UPe(m==null?void 0:m.type.description)}return null}).filter(po).sort(),d=uo(u);if(d.length===1)return d[0]}},[n==null?void 0:n.documentTypes,n==null?void 0:n.fieldPath,s]);return c.jsx(yt,{content:c.jsx(ee,{tone:"default",radius:2,style:{maxWidth:"250px"},children:c.jsxs(ne,{padding:3,space:4,children:[n&&c.jsxs(ne,{space:2,children:[c.jsx(Nt,{muted:!0,size:0,children:"Field name"}),c.jsx(Jt,{children:c.jsx(ee,{tone:"caution",padding:1,radius:2,children:c.jsx(wr,{size:0,children:n==null?void 0:n.name})})})]}),l&&c.jsxs(ne,{space:3,children:[c.jsx(Nt,{muted:!0,size:0,children:"Field description"}),c.jsx(B,{muted:!0,size:0,children:dde(l)})]}),(r==null?void 0:r.description)&&c.jsx(B,{muted:!0,size:0,children:dde(r.description)}),!i.length&&a.length>0&&c.jsxs(ne,{space:2,children:[c.jsxs(W,{align:"center",gap:1,children:[c.jsx(Nt,{muted:!0,size:0,children:"Used in document types"}),c.jsx(ee,{padding:1,radius:2,tone:"transparent",children:c.jsx(B,{size:0,muted:!0,children:a.length})})]}),c.jsxs(B,{size:0,weight:"regular",muted:!0,children:[a.slice(0,e3).join(", "),(a==null?void 0:a.length)>e3?" +".concat(a.length-e3," more"):""]})]})]})}),disabled:!o,fallbackPlacements:["left"],placement:"right",portal:!0,children:t})}function dde(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:256;return e.length>t?"".concat(e.slice(0,t-1),"…"):e}const F0n=re.memo(function(t){let{item:n,onClose:r,...o}=t;const[i,s]=h.useState(!1),{dispatch:a,state:{filters:l}}=Ot(),u=h.useCallback(()=>{a({filter:n.filter,type:"TERMS_FILTERS_ADD"}),r==null||r()},[a,n.filter,r]),d=!!l.find(g=>Ui(g)===Ui(n.filter)),f=h.useRef(),p=h.useCallback(()=>{f.current=setTimeout(()=>s(!0),500)},[]),m=h.useCallback(()=>{s(!1),clearTimeout(f.current)},[]);h.useEffect(()=>()=>clearTimeout(f.current),[]);const v=!!(n.fieldDefinition||n.filterDefinition.description);return c.jsx(F,{...o,children:c.jsx(ae,{disabled:d,fontSize:1,justify:"flex-start",mode:"bleed",onClick:d?void 0:u,onMouseEnter:p,onMouseLeave:m,padding:0,style:{position:"relative",whiteSpace:"normal",width:"100%"},tabIndex:-1,tone:n==null?void 0:n.tone,children:c.jsx(M0n,{fieldDefinition:n.fieldDefinition,filterDefinition:n.filterDefinition,visible:v&&i,children:c.jsx(F,{padding:3,children:c.jsx(HPe,{filter:n.filter})})})})})}),L0n=re.memo(function(t){let{item:n}=t;return c.jsx(F,{paddingTop:1,children:c.jsx(ee,{borderBottom:!0,padding:3,tone:n==null?void 0:n.tone,children:c.jsx(Nt,{muted:!0,size:0,textOverflow:"ellipsis",children:n.title})})})});function B0n(e){let{onClose:t}=e;const[n,r]=h.useState(null),[o,i]=h.useState(""),s=h.useCallback(x=>i(x.currentTarget.value),[i]),a=h.useCallback(()=>i(""),[]),l=dr(),{state:{documentTypesNarrowed:u,definitions:d,filters:f,terms:{types:p}}}=Ot(),m=h.useMemo(()=>k0n({documentTypesNarrowed:u,fieldDefinitions:d.fields,filterDefinitions:d.filters,schema:l,titleFilter:o,types:p}),[u,d.fields,d.filters,l,o,p]),v=h.useCallback(x=>x.type==="filter"?c.jsx(F0n,{item:x,onClose:t,paddingBottom:1}):x.type==="header"?c.jsx(L0n,{item:x}):null,[t]),g=h.useCallback(x=>{const y=m[x];return y.type!=="filter"||!!f.find(w=>Ui(w)===Ui(y.filter))},[m,f]),b=h.useCallback(x=>{const y=m[x];switch(y.type){case"filter":return[...y.group?[y.group]:[],Ui(y.filter)].join("-");case"header":return"".concat(y.type,"-").concat(y.title);default:return x}},[m]);return c.jsxs(W,{direction:"column",style:{width:"300px"},children:[c.jsx(zPe,{ariaInputLabel:"Filter by title",onChange:s,onClear:a,ref:r,typeFilter:o}),c.jsxs(W,{children:[m.length>0&&c.jsx(Pm,{activeItemDataAttr:"data-hovered",ariaLabel:"Filters",autoFocus:"input",getItemDisabled:g,getItemKey:b,inputElement:n,itemHeight:45,items:m,overscan:20,padding:1,paddingBottom:0,renderItem:v}),m.length==0&&c.jsx(F,{padding:3,children:c.jsxs(B,{muted:!0,size:1,textOverflow:"ellipsis",children:["No matches for '",o,"'"]})})]})]})}function fde(){const[e,t]=h.useState(!1),[n,r]=h.useState(null),{state:{fullscreen:o}}=Ot(),i=h.useCallback(()=>t(!1),[]),s=h.useCallback(()=>t(!0),[]);return c.jsx(hn,{__unstable_margins:[fC,0,0,0],content:c.jsx(DN,{anchorElement:n,onClose:i,children:c.jsx(B0n,{onClose:i})}),open:e,placement:"bottom-start",radius:l1,portal:!0,children:c.jsx(ae,{fontSize:1,icon:Js,mode:"bleed",onClick:s,padding:o?3:2,ref:r,selected:e,space:2,text:"Add filter"})})}const N0n=re.memo(function(t){let{selected:n,type:r,...o}=t;var i,s;const{dispatch:a}=Ot(),l=h.useCallback(()=>{a({type:"TERMS_TYPE_ADD",schemaType:r})},[a,r]),u=h.useCallback(()=>{a({type:"TERMS_TYPE_REMOVE",schemaType:r})},[a,r]),d=h.useCallback(()=>{n?u():l()},[l,u,n]);return c.jsx(F,{...o,children:c.jsx(ae,{fontSize:1,iconRight:n&&Ba,justify:"flex-start",mode:"bleed",onClick:d,style:{width:"100%"},tabIndex:-1,text:(s=r.title)!=null?s:r.name,tone:n?"primary":"default"},(i=r.title)!=null?i:r.name)})});var hde=Object.freeze,z0n=Object.defineProperty,V0n=(e,t)=>hde(z0n(e,"raw",{value:hde(t||e.slice())})),pde;const H0n=O(F)(pde||(pde=V0n([`
  border-top: 1px solid `,`;
  flex-shrink: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.border});function U0n(){const[e,t]=h.useState(null),[n,r]=h.useState(""),o=h.useRef(null),i=dr(),{dispatch:s,state:{terms:{types:a}}}=Ot(),[l,u]=h.useState(a),d=Y0n(i,a,l,n),f=h.useCallback(y=>r(y.currentTarget.value),[r]),p=h.useCallback(()=>r(""),[]),m=h.useCallback(()=>{var y,w;u([]),s({type:"TERMS_TYPES_CLEAR"}),(y=o==null?void 0:o.current)==null||y.focusInputElement(),(w=o==null?void 0:o.current)==null||w.scrollToIndex(0)},[s]),v=h.useCallback(y=>{const w=d[y];switch(w.type){case"divider":return"".concat(w.type,"-").concat(y);case"header":return"".concat(w.type,"-").concat(w.title);case"item":return"".concat(w.type,"-").concat(w.item.name);default:return y}},[d]),g=h.useCallback(y=>y.type==="divider"?c.jsx(F,{paddingY:1,children:c.jsx(Ir,{})}):y.type==="header"?c.jsx(F,{margin:1,paddingBottom:2,paddingTop:3,children:c.jsx(Nt,{muted:!0,size:0,children:y.title})}):y.type==="item"?c.jsx(N0n,{paddingBottom:1,selected:y.selected,type:y.item}):null,[]),b=h.useCallback(y=>d[y].type!=="item",[d]),x=h.useCallback(y=>{const w=d[y];return w.type==="item"&&w.selected},[d]);return c.jsxs(W,{direction:"column",style:{width:"250px"},children:[c.jsx(zPe,{ariaInputLabel:"Filter by document type",onChange:f,onClear:p,ref:t,typeFilter:n}),c.jsxs(W,{children:[d.length>0&&c.jsx(Pm,{activeItemDataAttr:"data-hovered",ariaLabel:"Document types",ariaMultiselectable:!0,autoFocus:"input",getItemDisabled:b,getItemSelected:x,getItemKey:v,inputElement:e,itemHeight:37,items:d,overscan:20,padding:1,paddingBottom:0,ref:o,renderItem:g}),!d.length&&c.jsx(F,{padding:3,children:c.jsxs(B,{muted:!0,size:1,textOverflow:"ellipsis",children:["No matches for '",n,"'"]})})]}),!n&&a.length>0&&c.jsx(W0n,{onClick:m,selectedTypes:a})]})}function W0n(e){let{onClick:t,selectedTypes:n}=e;return c.jsx(H0n,{padding:1,children:c.jsx(ne,{children:c.jsx(ae,{"aria-label":"Clear checked filters","data-name":"type-filter-button",disabled:n.length===0,fontSize:1,mode:"bleed",onClick:t,padding:3,text:"Clear",tone:"primary"})})})}function Y0n(e,t,n,r){return h.useMemo(()=>{const[o,i]=Y8(hpn(e,r),u=>n.includes(u)),s=o.length>0,a=o.length>0,l=[];return s&&l.push({title:"Selected",type:"header"}),o.forEach(u=>l.push({item:u,selected:t.includes(u),type:"item"})),s&&a&&l.push({type:"divider"}),i.forEach(u=>l.push({item:u,selected:t.includes(u),type:"item"})),l},[e,t,n,r])}var mde=Object.freeze,q0n=Object.defineProperty,G0n=(e,t)=>mde(q0n(e,"raw",{value:mde(t||e.slice())})),gde;const K0n=O(ae)(e=>{let{theme:t}=e;const{regular:n}=t.sanity.fonts.text.weights;return de(gde||(gde=G0n([`
    [data-ui='Text'] {
      font-weight: `,`;
    }
  `])),n)}),Z0n=["top-start","bottom-start"];function X0n(){const[e,t]=h.useState(!1),[n,r]=h.useState(null),[o,i]=h.useState(null),{state:{fullscreen:s,terms:{types:a}}}=Ot(),l=h.useCallback(()=>t(!1),[]),u=h.useCallback(()=>t(!0),[]);Vr(l,[n,o]);const d=h.useMemo(()=>xN({types:a}),[a]);return c.jsx(hn,{__unstable_margins:[fC,0,0,0],content:c.jsx(DN,{anchorElement:n,onClose:l,children:c.jsx(U0n,{})}),open:e,placement:"bottom-start",fallbackPlacements:Z0n,portal:!0,radius:l1,ref:i,children:c.jsx(K0n,{fontSize:1,iconRight:Ml,mode:"ghost",onClick:u,padding:s?3:2,ref:r,selected:e,style:{maxWidth:"100%"},text:d,tone:"default"})})}var vde=Object.freeze,Q0n=Object.defineProperty,J0n=(e,t)=>vde(Q0n(e,"raw",{value:vde(t||e.slice())})),yde;const t3=O(F)(yde||(yde=J0n([`
  flex-shrink: `,`;
`])),e=>{let{$flexShrink:t=0}=e;return t});function WPe(e){let{filter:t,fontSize:n=1,showContent:r=!0}=e;const{state:{definitions:o,fullscreen:i}}=Ot(),s=Uf(o.operators,t.operatorType),a=s==null?void 0:s.buttonValueComponent;return c.jsxs(W,{align:"center",gap:1,children:[c.jsx(t3,{$flexShrink:i?1:0,children:c.jsx(sr,{tone:"default",size:n,textOverflow:"ellipsis",weight:"semibold",children:c.jsx(VPe,{filter:t,maxLength:i?25:40})})}),r&&(s==null?void 0:s.buttonLabel)&&c.jsx(t3,{$flexShrink:0,children:c.jsx(sr,{tone:"default",size:n,textOverflow:"ellipsis",weight:"regular",children:s.buttonLabel})}),r&&a&&c.jsx(t3,{$flexShrink:1,children:c.jsx(sr,{tone:"default",size:n,textOverflow:"ellipsis",weight:"semibold",children:c.jsx(a,{value:t==null?void 0:t.value})})})]})}function e1n(e){return c.jsx(F,{...e,children:c.jsxs(W,{align:"flex-start",gap:3,children:[c.jsx(sr,{tone:"critical",children:c.jsx(ca,{})}),c.jsxs(ne,{space:4,children:[c.jsx(sr,{size:1,tone:"critical",weight:"semibold",children:"An error occurred whilst displaying this filter."}),c.jsx(sr,{size:1,tone:"critical",children:"This may indicate invalid options defined in your schema."})]})]})})}function t1n(e){let{onClick:t,operator:n,selected:r}=e;const o=h.useCallback(()=>t(n.type),[t,n.type]);return c.jsx(Me,{onClick:o,padding:3,pressed:r,tone:"default",children:c.jsxs(W,{align:"center",justify:"space-between",gap:3,children:[c.jsx(F,{paddingRight:2,children:c.jsx(B,{size:1,weight:"regular",children:n.label})}),(n==null?void 0:n.icon)&&c.jsx(B,{muted:!0,size:1,children:h.createElement(n.icon)})]})})}function n1n(e){let{filter:t,operator:n}=e;var r;const o=h.useId(),{dispatch:i,state:s}=Ot(),a=(r=fh(s.definitions.filters,t.filterName))==null?void 0:r.operators,l=h.useCallback(u=>{i({filterKey:Ui(t),operatorType:u,type:"TERMS_FILTERS_SET_OPERATOR"})},[i,t]);return!n||!a||a.length<=1?null:c.jsx(Jt,{children:c.jsx(rn,{button:c.jsx(ae,{mode:"ghost",padding:3,children:c.jsxs(W,{align:"center",gap:2,justify:"space-between",children:[c.jsx(B,{size:s.fullscreen?2:1,weight:"regular",children:n.label}),c.jsx(F,{marginLeft:1,children:c.jsx(B,{size:1,children:c.jsx(Ml,{})})})]})}),id:o||"",menu:c.jsx(Ht,{children:a.map((u,d)=>{if(u.type==="item"){const f=Uf(s.definitions.operators,u.name);return f?c.jsx(t1n,{onClick:l,operator:f,selected:n.type===u.name},d):null}return u.type==="divider"?c.jsx(Ir,{},d):null})}),placement:"bottom-start",popover:{constrainSize:!0,portal:!1,radius:2}})})}function r1n(e){let{filter:t}=e;const[n,r]=h.useState(null),{dispatch:o,state:{definitions:i,fullscreen:s}}=Ot(),a=fh(i.filters,t.filterName),l=Uf(i.operators,t.operatorType),u=Ku(i.fields,t),d=Ui(t),f=h.useCallback(()=>{o({filterKey:Ui(t),type:"TERMS_FILTERS_REMOVE"})},[o,t]),p=h.useCallback(g=>{o({filterKey:d,type:"TERMS_FILTERS_SET_VALUE",value:g})},[o,d]),m=h.useCallback(g=>{r(g)},[]),v=l==null?void 0:l.inputComponent;return n?c.jsx(e1n,{padding:4}):c.jsx(E0,{onCatch:m,children:c.jsx(od,{autoFocus:!Jp,returnFocus:!0,children:c.jsxs(W,{direction:"column-reverse",children:[v&&c.jsx(ee,{borderTop:!0,padding:3,children:c.jsx(v,{fieldDefinition:u,onChange:p,value:t.value},t.operatorType)}),c.jsx(ee,{padding:3,children:c.jsxs(ne,{space:3,children:[c.jsxs(W,{align:"flex-start",gap:3,justify:"space-between",children:[c.jsx(F,{paddingBottom:1,paddingLeft:1,paddingRight:2,paddingTop:s?2:1,children:c.jsx(HPe,{filter:t,small:!s})}),s&&c.jsx(ae,{fontSize:2,icon:fo,mode:"bleed",onClick:f,padding:2,tone:"critical"})]}),(a==null?void 0:a.description)&&c.jsx(ee,{border:!0,padding:3,radius:2,tone:"transparent",children:c.jsx(B,{muted:!0,size:1,children:a.description})}),c.jsx(n1n,{filter:t,operator:l})]})})]})})})}var bde=Object.freeze,o1n=Object.defineProperty,i1n=(e,t)=>bde(o1n(e,"raw",{value:bde(t||e.slice())})),xde;const s1n=O(W)(xde||(xde=i1n([`
  max-width: 480px;
  min-width: 150px;
  overflow: hidden;
  overflow: clip;
  width: 100%;
`])));function a1n(e){let{filter:t}=e;return c.jsxs(s1n,{direction:"column",children:[c.jsx(r1n,{filter:t}),sPe]})}var wde=Object.freeze,l1n=Object.defineProperty,qA=(e,t)=>wde(l1n(e,"raw",{value:wde(t||e.slice())})),Cde,_de,Sde,Ede;const c1n=O(ae)(Cde||(Cde=qA([`
  border-radius: `,`;
`])),e=>{let{theme:t}=e;return"0 ".concat(ge(t.sanity.radius[2])," ").concat(ge(t.sanity.radius[2])," 0")}),u1n=O(ee)(_de||(_de=qA([`
  position: absolute;
  right: 0;
`]))),d1n=O.div(Sde||(Sde=qA([`
  align-items: center;
  display: inline-flex;
  max-width: 100%;
  position: relative;
`]))),f1n=O(ae)(Ede||(Ede=qA([`
  border: none;
  width: 100%;
`])));function h1n(e){let{filter:t,initialOpen:n}=e;const[r,o]=h.useState(n),{dispatch:i,state:{definitions:s,fullscreen:a}}=Ot(),l=h.useCallback(()=>o(!1),[]),u=h.useCallback(()=>o(!0),[]),d=h.useCallback(()=>i({filterKey:Ui(t),type:"TERMS_FILTERS_REMOVE"}),[i,t]),f=h.useCallback(m=>{["Backspace","Delete"].includes(m.key)&&d()},[d]),p=pC({fieldDefinitions:s.fields,filter:t,filterDefinitions:s.filters,operatorDefinitions:s.operators});return c.jsx(hn,{__unstable_margins:[fC,0,0,0],content:c.jsx(DN,{onClose:l,children:c.jsx(a1n,{filter:t})}),constrainSize:!0,open:r,overflow:"auto",placement:"bottom-start",portal:!0,radius:l1,children:c.jsxs(d1n,{children:[c.jsx(ee,{__unstable_focusRing:!0,display:"flex",radius:2,tone:p?"primary":"transparent",children:c.jsx(f1n,{mode:"bleed",onClick:u,onKeyDown:f,paddingLeft:a?3:2,paddingRight:a?3:5,paddingY:a?3:2,children:c.jsx(WPe,{filter:t,showContent:p})})}),!a&&c.jsx(u1n,{__unstable_focusRing:!0,display:"flex",radius:2,tone:p?"primary":"transparent",children:c.jsx(c1n,{"aria-label":"Delete filter",fontSize:1,icon:la,mode:"bleed",onClick:d,onKeyDown:f,padding:2,radius:2})})]})})}function YPe(){const{dispatch:e,state:{filters:t,fullscreen:n,lastAddedFilter:r,terms:{types:o}}}=Ot(),i=h.useRef(!1),s=h.useCallback(()=>{e({type:"TERMS_FILTERS_CLEAR"}),e({type:"TERMS_TYPES_CLEAR"})},[e]),a=t.length>0||o.length>0;h.useEffect(()=>{i.current=!0},[]);const l=r&&Ui(r),u=()=>c.jsx(ae,{fontSize:1,mode:"bleed",onClick:s,padding:n?3:2,text:"Clear filters",tone:"critical"});return c.jsxs(c.Fragment,{children:[c.jsxs(W,{align:"flex-start",gap:3,justify:"space-between",padding:2,children:[c.jsxs(W,{flex:1,gap:2,wrap:"wrap",children:[c.jsx(X0n,{}),t==null?void 0:t.map(d=>{const f=Ui(d);return c.jsx(h1n,{filter:d,initialOpen:i.current&&l===f},f)}),!n&&c.jsx(fde,{})]}),a&&!n&&c.jsx(u,{})]}),n&&c.jsxs(W,{justify:"space-between",paddingBottom:2,paddingX:2,children:[c.jsx(fde,{}),a&&c.jsx(u,{})]}),sPe]})}function p1n(){return c.jsx(W,{align:"center",direction:"column",gap:4,paddingX:4,paddingY:5,children:c.jsxs(Jt,{space:3,children:[c.jsx(B,{muted:!0,children:"Use"}),c.jsx(B,{muted:!0,children:c.jsx(sj,{})}),c.jsx(B,{muted:!0,children:"to refine your search"})]})})}function m1n(e){let{availableCharacters:t,types:n}=e;const r=h.useMemo(()=>xN({availableCharacters:t,types:n}),[t,n]);return c.jsx(ee,{border:!0,padding:2,radius:2,children:c.jsx(B,{muted:!0,size:1,children:r})})}var kde=Object.freeze,g1n=Object.defineProperty,v1n=(e,t)=>kde(g1n(e,"raw",{value:kde(t||e.slice())})),jde;const y1n=O(ee)(jde||(jde=v1n([`
  cursor: default;
`])));function b1n(e){let{filter:t}=e;return c.jsx(y1n,{border:!0,padding:2,radius:2,tone:"primary",children:c.jsx(WPe,{filter:t})})}var Tde=Object.freeze,x1n=Object.defineProperty,GA=(e,t)=>Tde(x1n(e,"raw",{value:Tde(t||e.slice())})),Ade,Dde,Ide,Pde;const w1n=40,qPe=O(ae)(Ade||(Ade=GA([`
  border-radius: `,`;
  cursor: default;
  width: 100%;
`])),e=>{let{theme:t}=e;return ge(t.sanity.radius[2])}),C1n=O(F)(Dde||(Dde=GA([`
  flex-shrink: 3;
`]))),_1n=O(F)(Ide||(Ide=GA([`
  flex-shrink: 2;
`]))),S1n=O.div(Pde||(Pde=GA([`
  opacity: 0.8;
  visibility: hidden;

  @media (hover: hover) {
    `,`:hover & {
      visibility: visible;
    }
    &:hover {
      opacity: 0.4;
    }
  }
`])),qPe);function E1n(e){let{index:t,maxVisibleTypePillChars:n=w1n,value:r,...o}=e;var i;const{dispatch:s,recentSearchesStore:a}=Ot(),l=n-r.query.length,u=h.useCallback(()=>{if(s({type:"TERMS_SET",filters:r==null?void 0:r.filters,terms:r}),a){const f=a==null?void 0:a.addSearch(r,r==null?void 0:r.filters);s({recentSearches:f,type:"RECENT_SEARCHES_SET"})}},[s,a,r]),d=h.useCallback(f=>{if(f.stopPropagation(),a){const p=a==null?void 0:a.removeSearchAtIndex(t);s({recentSearches:p,type:"RECENT_SEARCHES_SET"})}},[s,t,a]);return c.jsx(F,{...o,children:c.jsx(qPe,{mode:"bleed",onClick:u,paddingLeft:3,paddingRight:1,paddingY:1,tabIndex:-1,children:c.jsxs(W,{align:"stretch",children:[c.jsxs(Jt,{paddingY:2,children:[c.jsx(B,{muted:!0,size:1,children:c.jsx(kve,{})}),c.jsx(B,{children:"​"})]}),c.jsxs(W,{align:"stretch",flex:1,gap:2,justify:"flex-start",marginLeft:3,wrap:"wrap",children:[r.query&&c.jsx(_1n,{paddingY:2,children:c.jsx(B,{muted:!0,textOverflow:"ellipsis",children:r.query})}),r.types.length>0&&c.jsx(C1n,{children:c.jsx(m1n,{availableCharacters:l,types:r.types})}),(i=r==null?void 0:r.filters)==null?void 0:i.map((f,p)=>c.jsx(b1n,{filter:f},p))]}),c.jsx(W,{align:"center",children:c.jsx(S1n,{onClick:d,children:c.jsx(W,{padding:2,children:c.jsx(B,{size:1,children:c.jsx(la,{})})})})})]})})})}var Ode=Object.freeze,k1n=Object.defineProperty,j1n=(e,t)=>Ode(k1n(e,"raw",{value:Ode(t||e.slice())})),$de;const T1n=36,A1n=20,D1n=40,I1n=O(ee)($de||($de=j1n([`
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
`])));function GPe(e){let{inputElement:t}=e;const{dispatch:n,recentSearchesStore:r,state:{filtersVisible:o,fullscreen:i,recentSearches:s}}=Ot(),a=h.useRef(null),l=h.useCallback(()=>{var m;if(r){const v=r.removeSearch();n({recentSearches:v,type:"RECENT_SEARCHES_SET"})}(m=a==null?void 0:a.current)==null||m.focusInputElement()},[n,r]),u=gm(),d=h.useMemo(()=>u<2?A1n:D1n,[u]),f=h.useCallback((m,v)=>{let{virtualIndex:g}=v;return c.jsx(E1n,{index:g,maxVisibleTypePillChars:d,paddingBottom:1,value:m})},[d]),p=!!s.length;return c.jsx(I1n,{borderTop:p||!p&&!o&&i,flex:1,children:s.length?c.jsxs(c.Fragment,{children:[c.jsx(F,{paddingBottom:2,paddingTop:4,paddingX:3,children:c.jsx(Nt,{muted:!0,size:1,children:"Recent searches"})}),c.jsx(F,{children:c.jsx(Pm,{activeItemDataAttr:"data-hovered",ariaLabel:"Recent searches",inputElement:t,initialIndex:0,itemHeight:T1n,items:s,paddingX:2,paddingY:1,renderItem:f})}),c.jsx(F,{paddingBottom:2,paddingTop:1,paddingX:2,children:c.jsx(ae,{fontSize:1,justify:"flex-start",mode:"bleed",onClick:l,padding:2,tone:"default",children:c.jsx(B,{muted:!0,size:1,children:"Clear recent searches"})})})]}):!o&&i&&c.jsx(p1n,{})})}var Rde=Object.freeze,P1n=Object.defineProperty,KA=(e,t)=>Rde(P1n(e,"raw",{value:Rde(t||e.slice())})),Mde,Fde,Lde,Bde;const O1n=tj(Mde||(Mde=KA([`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`]))),$1n=O(aj)(Fde||(Fde=KA([`
  animation: `,` 500ms linear infinite;
`])),O1n),R1n=O(F)(Lde||(Lde=KA([`
  position: relative;
`]))),M1n=O.div(Bde||(Bde=KA([`
  background: `,`;
  border-radius: 100%;
  height: 6px;
  position: absolute;
  right: 2px;
  top: 2px;
  width: 6px;
`])),e=>{let{theme:t}=e;var n;return(n=t.sanity.color.selectable)==null?void 0:n.primary.enabled.fg}),KPe=h.forwardRef(function(t,n){let{ariaInputLabel:r,onClose:o}=t;const i=h.useRef(!1),{dispatch:s,state:{filters:a,filtersVisible:l,fullscreen:u,result:{loading:d},terms:{types:f,query:p}}}=Ot(),m=h.useCallback(()=>s({type:"FILTERS_VISIBLE_SET",visible:!l}),[s,l]),v=h.useCallback(x=>s({type:"TERMS_QUERY_SET",query:x.currentTarget.value}),[s]),g=h.useCallback(()=>{s({type:"TERMS_QUERY_SET",query:""})},[s]);h.useEffect(()=>{u||s({type:"FILTERS_VISIBLE_SET",visible:!0})},[s,u]),h.useEffect(()=>{i.current=!0},[]);const b=a.length>0||f.length>0;return c.jsx(ee,{flex:"none",children:c.jsxs(W,{align:"center",flex:1,gap:u?2:1,padding:u?2:1,children:[u&&c.jsx(ee,{children:c.jsx(ae,{"aria-label":"Close search",icon:PF,mode:"bleed",onClick:o})}),c.jsx(F,{flex:1,children:c.jsx(EN,{"aria-label":r,autoComplete:"off",background:u,border:!1,clearButton:!!p,fontSize:2,icon:d?$1n:Yi,onChange:v,onClear:g,placeholder:"Search",radius:u?2:1,ref:n,smallClearButton:u,spellCheck:!1,value:p})}),u&&c.jsxs(R1n,{children:[c.jsx(ae,{"aria-expanded":l,"aria-label":"Toggle filters",height:"fill",icon:sj,mode:"bleed",onClick:m,padding:3,selected:l,tone:"default"}),b&&c.jsx(M1n,{})]})]})})});function F1n(){return c.jsx(ia,{width:0,children:c.jsxs(ne,{"aria-live":"assertive",space:4,paddingX:4,paddingY:5,children:[c.jsx(B,{align:"center",muted:!0,weight:"semibold",children:"No results found"}),c.jsx(B,{align:"center",muted:!0,size:1,children:"Try another keyword or adjust your filters"})]})})}function L1n(){return c.jsxs(W,{align:"center","aria-live":"assertive",direction:"column",flex:1,gap:3,marginY:2,padding:4,children:[c.jsx(F,{marginBottom:1,children:c.jsx(sr,{tone:"critical",children:c.jsx(Qr,{})})}),c.jsx(sr,{size:2,tone:"critical",weight:"semibold",children:"Something went wrong while searching"}),c.jsx(sr,{size:1,tone:"critical",children:"Please try again or check your connection"})]})}const tp={createdAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_createdAt"},title:"Created: Oldest first"},createdDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_createdAt"},title:"Created: Newest first"},relevance:{customMeasurementLabel:"relevance",sort:{direction:"desc",field:"_updatedAt"},title:"Best match"},updatedAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_updatedAt"},title:"Updated: Oldest first"},updatedDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_updatedAt"},title:"Updated: Newest first"}};var Nde=Object.freeze,B1n=Object.defineProperty,N1n=(e,t)=>Nde(B1n(e,"raw",{value:Nde(t||e.slice())})),zde;const Vde=[tp.relevance,{type:"divider"},tp.createdAsc,tp.createdDesc,{type:"divider"},tp.updatedAsc,tp.updatedDesc],z1n=O(W)(zde||(zde=N1n([`
  box-sizing: border-box;
`])));function Hde(e){return e.type==="divider"}function V1n(e){let{ordering:t}=e;const{dispatch:n,state:{ordering:r}}=Ot(),o=h.useCallback(()=>{n({ordering:t,type:"ORDERING_SET"})},[n,t]),i=h.useMemo(()=>Yt(r,t),[r,t]);return c.jsx(Me,{onClick:o,padding:3,pressed:i,tone:"default",children:c.jsx(W,{align:"center",justify:"space-between",paddingRight:2,children:c.jsx(B,{size:1,weight:"medium",children:t.title})})})}function H1n(){const{state:{ordering:e}}=Ot(),t=h.useId(),n=Vde.find(r=>Yt(e,r)&&!Hde(r));return n?c.jsx(ee,{borderBottom:!0,children:c.jsx(z1n,{align:"center",flex:1,padding:2,children:c.jsx(rn,{button:c.jsx(ae,{mode:"bleed",padding:2,children:c.jsxs(W,{align:"center",gap:1,justify:"space-between",children:[c.jsx(F,{marginRight:1,children:c.jsx(B,{size:1,children:c.jsx(VF,{})})}),c.jsx(Jt,{space:2,children:c.jsx(B,{size:1,weight:"medium",children:n.title})})]})}),id:t||"",menu:c.jsx(Ht,{children:Vde.map((r,o)=>Hde(r)?c.jsx(Ir,{},o):c.jsx(V1n,{ordering:r},o))}),placement:"bottom-start",popover:{portal:!0,radius:2}})})}):null}var Ude=Object.freeze,U1n=Object.defineProperty,W1n=(e,t)=>Ude(U1n(e,"raw",{value:Ude(t||e.slice())})),Wde;const Y1n=O(ee)(Wde||(Wde=W1n([`
  cursor: help;
  left: 0;
  position: absolute;
  top: 0;
`])));function q1n(e){let{data:t}=e;const{score:n}=t;let r="default";n<=.1?r="critical":n>=.5&&(r="primary");const o=t.stories.filter(i=>i.score>0);return c.jsx(c.Fragment,{children:c.jsx(yt,{content:c.jsx(F,{padding:2,children:c.jsx(ne,{space:2,children:o.length?c.jsx(c.Fragment,{children:o.map(i=>c.jsxs(Jt,{space:3,children:[c.jsx(wr,{size:0,weight:"semibold",children:i.path}),c.jsx(wr,{size:0,children:i.why})]},i.path))}):c.jsx(wr,{size:0,children:"No matches"})})}),placement:"bottom-start",portal:!0,children:c.jsx(Y1n,{padding:1,shadow:1,tone:r,children:c.jsxs(wr,{size:0,children:["score: ",n]})})})})}var Yde=Object.freeze,G1n=Object.defineProperty,K1n=(e,t)=>Yde(G1n(e,"raw",{value:Yde(t||e.slice())})),qde;const Z1n=59,X1n=4,Q1n=O(W)(qde||(qde=K1n([`
  opacity: `,`;
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
  transition: 300ms opacity;
  width: 100%;
`])),e=>{let{$loading:t}=e;return t?.5:1});function ZPe(e){let{inputElement:t}=e;const{dispatch:n,onClose:r,recentSearchesStore:o,setSearchCommandList:i,state:{debug:s,filters:a,fullscreen:l,lastActiveIndex:u,result:d,terms:f}}=Ot(),p=!!d.hits.length,m=!d.hits.length&&d.loaded,v=d.error,g=h.useCallback(()=>{if(o){const x=o.addSearch(f,a);n({recentSearches:x,type:"RECENT_SEARCHES_SET"})}r==null||r()},[n,a,r,o,f]),b=h.useCallback(x=>c.jsxs(c.Fragment,{children:[c.jsx(bN,{documentId:Zn(x.hit._id)||"",documentType:x.hit._type,onClick:g,paddingBottom:2}),s&&c.jsx(q1n,{data:x})]}),[s,g]);return c.jsx(W,{children:c.jsx(ee,{borderTop:l||!!(v||p||m),flex:1,children:c.jsxs(W,{direction:"column",height:"fill",children:[p&&c.jsx(H1n,{}),c.jsx(Q1n,{$loading:d.loading,"aria-busy":d.loading,flex:1,children:v?c.jsx(L1n,{}):c.jsxs(c.Fragment,{children:[p&&c.jsx(Pm,{activeItemDataAttr:"data-hovered",ariaLabel:"Search results",fixedHeight:!0,initialIndex:u,inputElement:t,itemHeight:Z1n,items:d.hits,overscan:X1n,padding:2,paddingBottom:0,ref:i,renderItem:b}),m&&c.jsx(F1n,{})]})})]})})})}var Gde=Object.freeze,J1n=Object.defineProperty,XPe=(e,t)=>Gde(J1n(e,"raw",{value:Gde(t||e.slice())})),Kde,Zde;const eyn=O(ee)(Kde||(Kde=XPe([`
  flex-direction: column;
  overflow: hidden;
  overflow: clip;
  pointer-events: all;
  position: relative;
`]))),tyn=O(F)(Zde||(Zde=XPe([`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 1;
`])));function nyn(e){let{onClose:t,onOpen:n,open:r}=e;const[o,i]=h.useState(null),{scheme:s}=Uc(),{state:{filtersVisible:a,terms:l}}=Ot(),u=zA({terms:l});return c.jsx(BPe,{hasValidTerms:u,onClose:t,onOpen:n,open:r,children:c.jsx(ym,{children:c.jsx(od,{autoFocus:!Jp,returnFocus:!0,children:c.jsx(tyn,{children:c.jsxs(eyn,{display:"flex",height:"fill",scheme:s,tone:"default",children:[c.jsx(KPe,{ariaInputLabel:u?"Search results":"Recent searches",onClose:t,ref:i}),a&&c.jsx(ee,{borderTop:!0,flex:"none",children:c.jsx(YPe,{})}),u?c.jsx(ZPe,{inputElement:o}):c.jsx(GPe,{inputElement:o})]})})})})})}var Xde=Object.freeze,ryn=Object.defineProperty,IN=(e,t)=>Xde(ryn(e,"raw",{value:Xde(t||e.slice())})),Qde,Jde,efe;const oyn=O(W)(Qde||(Qde=IN([`
  position: absolute;
  right: 0;
  top: 0;

  & > :first-child {
    margin-right: 1px;
  }
`]))),iyn=O(W)(Jde||(Jde=IN([`
  min-width: 253px;
  max-width: 350px;
  position: relative;
`]))),syn=O(Xr)(efe||(efe=IN([`
  padding-right: 60px;
`]))),ayn=h.forwardRef(function(t,n){let{onOpen:r}=t;const{dispatch:o,state:{terms:i}}=Ot(),s=h.useCallback(l=>{o({type:"TERMS_QUERY_SET",query:l.currentTarget.value}),r()},[o,r]),a=h.useCallback(l=>{l.key==="Enter"&&r()},[r]);return c.jsxs(iyn,{align:"center",children:[c.jsx(syn,{"aria-autocomplete":"list","aria-expanded":"false",autoComplete:"off",icon:Yi,"data-testid":"studio-search",onChange:s,onClick:r,onKeyDown:a,placeholder:"Search",radius:2,ref:n,role:"combobox",value:i.query}),c.jsxs(oyn,{align:"center",height:"fill",marginRight:2,children:[c.jsx(oR,{children:dpn}),c.jsx(oR,{children:aPe.toUpperCase()})]})]})});var tfe=Object.freeze,lyn=Object.defineProperty,NS=(e,t)=>tfe(lyn(e,"raw",{value:tfe(t||e.slice())})),nfe,rfe,ofe,ife;const cyn=O.div(nfe||(nfe=NS([`
  background-color: `,`;
  bottom: 0;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.shadow.ambient}),uyn=O(ee)(ife||(ife=NS([`
  `,`
  display: flex !important;
  flex-direction: column;
  max-height: `,`;
  position: absolute;
  top: `,`px;
  width: min(calc(100vw - `,"px), ",`px);
`])),e=>{let{$position:t}=e;return t.x?de(rfe||(rfe=NS([`
          left: `,`px;
        `])),t.x):de(ofe||(ofe=NS([`
          left: 50%;
          transform: translateX(-50%);
        `])))},e=>{let{$position:t}=e;return"min(calc(100vh - ".concat(t.y,"px - ").concat(Bx,"px), ").concat(fpn,"px)")},e=>{let{$position:t}=e;return t.y},Bx*2,lPe);function dyn(e){let{disableFocusLock:t,onClose:n,onOpen:r,open:o,position:i}=e;const[s,a]=h.useState(null),[l,u]=h.useState(null),{isTopLayer:d,zIndex:f}=Rc(),{scheme:p}=Uc(),{onClose:m,state:{filtersVisible:v,terms:g}}=Ot(),b=zA({terms:g}),x=h.useCallback(()=>{d&&m&&o&&m()},[d,m,o]);return Vr(x,[s]),c.jsx(BPe,{hasValidTerms:b,onClose:n,onOpen:r,open:o,children:c.jsx(ym,{children:c.jsxs(od,{autoFocus:!Jp,disabled:t,returnFocus:!0,children:[c.jsx(cyn,{style:{zIndex:f}}),c.jsxs(uyn,{$position:i,overflow:"hidden",radius:l1,ref:a,scheme:p,shadow:2,style:{zIndex:f},children:[c.jsx(KPe,{ariaInputLabel:b?"Search results":"Recent searches",onClose:n,ref:u}),v&&c.jsx(ee,{borderTop:!0,flex:"none",children:c.jsx(YPe,{})}),b?c.jsx(ZPe,{inputElement:l}):c.jsx(GPe,{inputElement:l})]})]})})})}function fyn(){const[e,t]=h.useState(null),[n,r]=h.useState(!1),o=h.useCallback(()=>r(!1),[]),i=h.useCallback(()=>r(!0),[]),s=hyn(e);return c.jsxs(c.Fragment,{children:[c.jsx(ayn,{onOpen:i,ref:t}),s&&c.jsx(dyn,{onClose:o,onOpen:i,open:n,position:s})]})}function sfe(e){const t=e.getBoundingClientRect();return{x:window.innerWidth-t.x>lPe?t.x-Bx:null,y:t.y-Bx}}function hyn(e){const[t,n]=h.useState(null),r=h.useCallback(()=>{e&&n(sfe(e))},[e]);return h.useEffect(()=>{e&&n(sfe(e))},[e]),h.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),t}const pyn="search::recent",myn=5,zx=2;function gyn(e){let{dataset:t,fieldDefinitions:n,filterDefinitions:r,operatorDefinitions:o,projectId:i,schema:s,user:a,version:l=zx}=e;if(!t||!i||!QPe||!a)return;const u="".concat(pyn,"__").concat(i,":").concat(t,":").concat(a.id);return{addSearch:(d,f)=>{const m=(f||[]).map(x=>({fieldId:x.fieldId,filterName:x.filterName,operatorType:x.operatorType,value:x.value})).filter(x=>pC({fieldDefinitions:n,filter:x,filterDefinitions:r,operatorDefinitions:o})),v={created:new Date().toISOString(),filters:m,terms:{query:d.query.trim(),typeNames:d.types.map(x=>x.name)}},g=JSON.stringify(ji(v,"created")),b={version:l,recentSearches:[v,...Ab(u,l).recentSearches.filter(x=>JSON.stringify(ji(x,"created"))!==g)].slice(0,myn)};return window.localStorage.setItem(u,JSON.stringify(b)),sy({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:l})},getRecentSearches:()=>sy({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:l}),removeSearch:()=>{const f={...Ab(u,l),recentSearches:[]};return window.localStorage.setItem(u,JSON.stringify(f)),sy({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:l})},removeSearchAtIndex:d=>{const f=Ab(u,l);if(d<0||d>f.recentSearches.length)return sy({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:l});const p={...f,recentSearches:[...f.recentSearches.slice(0,d),...f.recentSearches.slice(d+1)]};return window.localStorage.setItem(u,JSON.stringify(p)),sy({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:l})}}}function Ab(e,t){const n=QPe?window.localStorage.getItem(e):void 0;return n?JSON.parse(n):{version:t,recentSearches:[]}}function sy(e){let{lsKey:t,schema:n,fieldDefinitions:r,filterDefinitions:o,operatorDefinitions:i,version:s}=e;const a=vyn({lsKey:t,storedSearch:Ab(t,s)});return yyn({studioSchema:n,storedSearch:a,lsKey:t,filterDefinitions:o,fieldDefinitions:r,operatorDefinitions:i,version:s}).recentSearches.filter(l=>!!l.terms).map((l,u)=>({__recent:{index:u,timestamp:new Date(l.created).getTime()},filters:l.filters,query:l.terms.query,types:l.terms.typeNames.map(d=>n.get(d)).filter(d=>!!(d&&d.jsonType==="object"))}))}function vyn(e){let{lsKey:t,storedSearch:n}=e;if(n.version!==zx){const r={version:zx,recentSearches:[]};return window.localStorage.setItem(t,JSON.stringify(r)),r}return n}function yyn(e){let{fieldDefinitions:t,filterDefinitions:n,lsKey:r,operatorDefinitions:o,storedSearch:i,studioSchema:s,version:a}=e;const l=VA(s).map(f=>f.name),u=i.recentSearches.filter(f=>f.terms.typeNames.every(p=>l.includes(p))&&f.filters.every(p=>pC({fieldDefinitions:t,filter:p,filterDefinitions:n,operatorDefinitions:o}))),d={version:zx,recentSearches:u};return d.recentSearches.length<i.recentSearches.length&&window.localStorage.setItem(r,JSON.stringify(d)),Ab(r,a)}const QPe=(()=>{const e="__tmp__can_use";try{return typeof localStorage>"u"?!1:(localStorage.setItem(e,"---"),localStorage.removeItem(e),!0)}catch{return!1}})(),byn=3;function xyn(e,t){var n;const r=VA(e).map(a=>a.name),{documentTypes:o,objectTypes:i}=(((n=e._original)==null?void 0:n.types)||[]).filter(a=>afe(a)?r.includes(a.name):!0).filter(a=>a.name!=="slug").filter(a=>!a.name.startsWith("sanity.")).reduce((a,l)=>(afe(l)&&(a.documentTypes[l.name]=l),eOe(l)&&(a.objectTypes[l.name]=l),a),{documentTypes:{},objectTypes:{}})||{documentTypes:{},objectTypes:{}},s=Qhn(t);return _yn(s,o,i)}function wyn(e){return e.reduce((t,n)=>(t[n.id]=n,t),{})}function Cyn(e){return[e.type,e.fieldPath,e.filterName,e.documentTypes.join(",")].join("-")}function _yn(e,t,n){function r(i){let{acc:s,defType:a,depth:l=0,documentType:u,prevFieldPath:d,prevTitlePath:f}=i;var p;const m=l<=byn,v=a.name.startsWith("_"),g=a!=null&&a.title?UPe(a.title):an(a.name),b=d?"".concat(d,".").concat(a.name):a.name,x=f?[...f,g]:[g];if(!m)return;const y=n[a.type],w=t[a.type],C=eOe(a)?a:null,_=w||y||C;if(_){(p=_==null?void 0:_.fields)==null||p.forEach(S=>r({acc:s,defType:S,depth:l+1,documentType:u,prevFieldPath:b,prevTitlePath:x}));return}e.includes(a.type)&&s.push({documentTypes:u&&!v?[u]:[],fieldPath:b,filterName:Tyn(a),id:"",name:a.name,titlePath:x,title:g,type:a.type})}return Object.values(t).reduce((i,s)=>{const a=s.fields.reduce((l,u)=>(r({acc:l,defType:u,documentType:s.name}),l),[]);return i.push(...a),i},[]).reduce((i,s)=>{const a=i.findIndex(l=>l.fieldPath===s.fieldPath&&l.title===s.title&&l.type===s.type);return a>-1?i[a]={...i[a],documentTypes:[...i[a].documentTypes,...s.documentTypes]}:i.push(s),i},[]).map(Syn).sort(Ayn)}function Syn(e){return{...e,id:Cyn(e)}}function Eyn(e){var t;return JPe(e)?e.of.every(n=>["boolean","number","string"].includes(n.type))&&((t=e.options)!=null&&t.list?e.options.list.length>0:!1):!1}function JPe(e){return e.type==="array"}function afe(e){return e.type==="document"}function eOe(e){return e.type==="object"}function kyn(e){return e.type==="string"}function jyn(e){var t;return kyn(e)&&(t=e.options)!=null&&t.list?e.options.list.length>0:!1}function Tyn(e){if(jyn(e))return"stringList";if(JPe(e)){if(e.of.some(t=>t.type==="reference"))return"arrayReferences";if(e.of.find(t=>t.type==="block"))return"portableText";if(Eyn(e))return"arrayList"}return e.type}function Ayn(e,t){const n=e.titlePath.slice(0,-1).join("/"),r=t.titlePath.slice(0,-1).join("/");return e.title.localeCompare(t.title)||n.localeCompare(r)||e.fieldPath.localeCompare(t.fieldPath)}function tOe(e){return typeof e.__recent<"u"}const F4="core:studio:navbar:search:";Hd(F4);function Dyn(e){const t="".concat(F4).concat(e);return Hd&&Hd.enabled(t)?Hd(t):Hd(F4)}function Iyn(){return typeof window>"u"?!1:window.location.hash.slice(1).split(";").includes(upn)}function Pyn(e){let{currentUser:t,fullscreen:n,recentSearches:r=[],definitions:o}=e;return{currentUser:t,debug:Iyn(),documentTypesNarrowed:[],filters:[],filtersVisible:!0,fullscreen:n,lastActiveIndex:-1,ordering:tp.relevance,pageIndex:0,recentSearches:r,result:{error:null,hasMore:null,hits:[],loaded:!1,loading:!1},terms:{query:"",types:[]},definitions:o}}const Oyn=Dyn("reducer");function $yn(e,t){let n="🔍";switch(t.type.startsWith("SEARCH_REQUEST")&&(n="🚨"),t.type.startsWith("RECENT_SEARCHES")&&(n="💾"),Oyn(n,t),t.type){case"FILTERS_VISIBLE_SET":return{...e,filtersVisible:t.visible};case"LAST_ACTIVE_INDEX_SET":return{...e,lastActiveIndex:t.index};case"ORDERING_RESET":return{...e,ordering:tp.relevance,terms:Ih(e.terms)};case"ORDERING_SET":return{...e,ordering:t.ordering,terms:Ih(e.terms)};case"PAGE_INCREMENT":return{...e,pageIndex:e.pageIndex+1,terms:Ih(e.terms)};case"RECENT_SEARCHES_SET":return{...e,recentSearches:t.recentSearches};case"SEARCH_CLEAR":return{...e,pageIndex:0,result:{...e.result,hasMore:null,hits:[]}};case"SEARCH_REQUEST_COMPLETE":return{...e,result:{...e.result,error:null,hasMore:t.hits.length>0,hits:e.pageIndex>0?[...e.result.hits,...t.hits]:t.hits,loaded:!0,loading:!1}};case"SEARCH_REQUEST_ERROR":return{...e,result:{...e.result,error:t.error,loaded:!1,loading:!1}};case"SEARCH_REQUEST_START":return{...e,result:{...e.result,loaded:!1,loading:!0}};case"TERMS_FILTERS_ADD":{const r={...t.filter,value:m0n(e.definitions.operators,t.filter.operatorType)},o=[...e.filters,r];return{...e,documentTypesNarrowed:Dh({fieldDefinitions:e.definitions.fields,filters:o,types:e.terms.types}),filters:o,lastAddedFilter:r,terms:{...e.terms,filter:Ah({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:o,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_CLEAR":{const r=[];return{...e,documentTypesNarrowed:Dh({fieldDefinitions:e.definitions.fields,filters:r,types:e.terms.types}),filters:r,terms:{...e.terms,filter:Ah({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_REMOVE":{const r=e.filters.findIndex(i=>Ui(i)===t.filterKey),o=[...e.filters.slice(0,r),...e.filters.slice(r+1)];return{...e,documentTypesNarrowed:Dh({fieldDefinitions:e.definitions.fields,filters:o,types:e.terms.types}),filters:o,terms:{...e.terms,filter:Ah({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:o,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_SET_OPERATOR":{const r=e.filters.find(u=>Ui(u)===t.filterKey),o=Uf(e.definitions.operators,r==null?void 0:r.operatorType),i=Uf(e.definitions.operators,t.operatorType),s=i==null?void 0:i.initialValue,a=(o==null?void 0:o.inputComponent)!=(i==null?void 0:i.inputComponent),l=e.filters.map(u=>Ui(u)===t.filterKey?{...u,operatorType:t.operatorType,...a?{value:s}:{}}:u);return{...e,filters:l,terms:{...e.terms,filter:Ah({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:l,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_SET_VALUE":{const r=e.filters.map(o=>Ui(o)===t.filterKey?{...o,value:t.value}:o);return{...e,filters:r,terms:{...e.terms,filter:Ah({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_QUERY_SET":return{...e,pageIndex:0,result:{...e.result,loaded:!1},terms:Ih({...e.terms,query:t.query})};case"TERMS_SET":{const r=t.filters||[],o=[...e.terms.types||[],...t.terms.types].sort(O4);return{...e,documentTypesNarrowed:Dh({fieldDefinitions:e.definitions.fields,filters:r,types:o}),filters:r,lastAddedFilter:null,pageIndex:0,result:{...e.result,loaded:!1},terms:{...t.terms,filter:Ah({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_TYPE_ADD":{const r=[...e.terms.types||[],t.schemaType].sort(O4),o=Dh({fieldDefinitions:e.definitions.fields,filters:[],types:r}),i=e.filters.filter(s=>{const a=Ku(e.definitions.fields,s);return a?a.documentTypes.length===0?!0:o.every(l=>a.documentTypes.findIndex(u=>u===l)>-1):!0});return{...e,documentTypesNarrowed:o,filters:i,pageIndex:0,result:{...e.result,loaded:!1},terms:Ih({...e.terms,filter:Ah({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,operatorDefinitions:e.definitions.operators,filters:i}),types:r})}}case"TERMS_TYPE_REMOVE":{const r=(e.terms.types||[]).filter(o=>o!==t.schemaType);return{...e,documentTypesNarrowed:Dh({fieldDefinitions:e.definitions.fields,filters:e.filters,types:r}),pageIndex:0,result:{...e.result,loaded:!1},terms:Ih({...e.terms,types:r})}}case"TERMS_TYPES_CLEAR":{const r=[];return{...e,documentTypesNarrowed:Dh({fieldDefinitions:e.definitions.fields,filters:e.filters,types:r}),pageIndex:0,result:{...e.result,loaded:!1},terms:Ih({...e.terms,types:[]})}}default:return e}}function Ih(e){if(tOe(e)){const{__recent:t,...n}=e;return n}return e}function Ryn(e){let{children:t,fullscreen:n}=e;const r=h.useRef(null),[o,i]=h.useState(null),s=Sr(gn),a=dr(),l=ii(),{search:{operators:u,filters:d}}=ur(),{dataset:f,projectId:p}=s.config(),{fieldDefinitions:m,filterDefinitions:v,operatorDefinitions:g}=h.useMemo(()=>({fieldDefinitions:wyn(xyn(a,d)),filterDefinitions:Xhn(d),operatorDefinitions:p0n(u)}),[d,u,a]),b=h.useMemo(()=>gyn({dataset:f,fieldDefinitions:m,filterDefinitions:v,operatorDefinitions:g,projectId:p,schema:a,user:l,version:zx}),[l,f,m,v,g,p,a]),x=h.useMemo(()=>b==null?void 0:b.getRecentSearches(),[b]),y=h.useMemo(()=>Pyn({currentUser:l,fullscreen:n,recentSearches:x,definitions:{fields:m,operators:g,filters:v}}),[l,m,v,n,g,x]),[w,C]=h.useReducer($yn,y),{documentTypesNarrowed:_,filters:S,ordering:E,pageIndex:j,result:k,terms:T}=w,A=h.useRef(!1),D=h.useRef(y.ordering),I=h.useRef(y.pageIndex),P=h.useRef(y.terms),{handleSearch:M,searchState:$}=cPe({initialState:{...k,terms:T},onComplete:z=>C({hits:z,type:"SEARCH_REQUEST_COMPLETE"}),onError:z=>C({error:z,type:"SEARCH_REQUEST_ERROR"}),onStart:()=>C({type:"SEARCH_REQUEST_START"}),schema:a}),V=zA({terms:T}),L=_.map(z=>a.get(z)),H=S.filter(z=>pC({fieldDefinitions:m,filter:z,filterDefinitions:v,operatorDefinitions:g})),U=h.useCallback(z=>{r.current=z},[]);return h.useEffect(()=>{const z=!Yt(E,D.current),Y=j!==I.current,te=!Yt(T,P.current);if(z||Y||te){const N=(E==null?void 0:E.customMeasurementLabel)||"".concat(E.sort.field," ").concat(E.sort.direction);M({options:{comments:[...tOe(T)?["findability-recent-search:".concat(T.__recent.index)]:[],"findability-selected-types:".concat(T.types.length),"findability-sort:".concat(N),"findability-source: global","findability-filter-count:".concat(H.length)],limit:Tce,offset:j*Tce,skipSortByScore:E.ignoreScore,sort:[E.sort]},terms:{...T,...L?{types:L}:{}}}),I.current=j}D.current=E,P.current=T},[H.length,S,L,M,V,E,j,$.terms,T]),h.useEffect(()=>{!V&&(A!=null&&A.current)&&k.hits.length>0&&C({type:"SEARCH_CLEAR"}),A.current=!0},[C,V,k.hits,T.query,T.types]),c.jsx(rPe.Provider,{value:{dispatch:C,onClose:r==null?void 0:r.current,recentSearchesStore:b,searchCommandList:o,setSearchCommandList:i,setOnClose:U,state:{...w,fullscreen:n}},children:t})}const nOe="3.19.1";function Myn(e){return e.withConfig({apiVersion:"1"}).observable.request({url:"/help",query:{m:["sanity@".concat(nOe)]},tag:"module.version-check",json:!0}).pipe(ce(n=>({...n})))}function Fyn(){const e=Sr({apiVersion:"1"}),t=h.useMemo(()=>Myn(e),[e]);return DTe(t)}function Lyn(e){let{error:t,isLoading:n,value:r}=e;var o;const i=(o=r==null?void 0:r.resources)==null?void 0:o.sectionArray,s=r==null?void 0:r.latestVersion;return n?c.jsx(W,{align:"center",justify:"center",padding:3,children:c.jsx(Hr,{})}):c.jsxs(c.Fragment,{children:[(r===void 0||t)&&c.jsx("div",{children:Byn}),!t&&(i==null?void 0:i.map(a=>a?c.jsx(Nyn,{subSection:a},a._key):null)),c.jsxs(F,{padding:3,children:[c.jsxs(B,{size:1,muted:!0,weight:"medium",textOverflow:"ellipsis",children:["Sanity Studio version ",nOe]}),!t&&s&&c.jsx(F,{paddingTop:2,children:c.jsxs(B,{size:1,muted:!0,textOverflow:"ellipsis",children:["Latest version is ",s]})})]})]})}const Byn=c.jsxs(c.Fragment,{children:[c.jsx(Me,{as:"a",text:"Join our community",size:0,href:"https://www.sanity.io/exchange/community",target:"_blank",muted:!1}),c.jsx(Me,{as:"a",text:"Help and support",size:0,href:"https://www.sanity.io/contact/support",target:"_blank",muted:!1}),c.jsx(Me,{as:"a",text:"Contact sales",size:0,href:"https://www.sanity.io/contact/sales?ref=studio",target:"_blank",muted:!1}),c.jsx(Ir,{})]});function Nyn(e){let{subSection:t}=e;var n;return c.jsxs(c.Fragment,{children:[t.sectionTitle&&c.jsx(ee,{padding:2,paddingTop:3,marginLeft:1,children:c.jsx(Nt,{muted:!0,size:1,children:t.sectionTitle})}),(n=t==null?void 0:t.items)==null?void 0:n.map(r=>{if(!r||!r.title)return null;switch(r._type){case"externalLink":return r.url?c.jsx(Me,{as:"a",tone:"default",text:r.title,size:0,href:r.url,target:"_blank"},r._key):null;case"internalAction":return r.type?r.type==="show-welcome-modal"&&c.jsx(Me,{text:r.title,size:0},r._key):null;default:return null}}),c.jsx(Ir,{})]})}var lfe=Object.freeze,zyn=Object.defineProperty,Vyn=(e,t)=>lfe(zyn(e,"raw",{value:lfe(t||e.slice())})),cfe;const Hyn=O(Ht)(cfe||(cfe=Vyn([`
  max-width: 300px;
  min-width: 200px;
`])));function Uyn(){const{scheme:e}=Uc(),[t,n]=h.useState(!1),{value:r,error:o,isLoading:i}=Fyn(),s=h.useCallback(()=>n(!0),[]),a=h.useCallback(()=>n(!1),[]);return c.jsx(W,{children:c.jsx(yt,{content:c.jsx(F,{padding:2,children:c.jsx(B,{size:1,children:"Help and resources "})}),scheme:e,placement:"bottom",portal:!0,disabled:t,children:c.jsx("div",{children:c.jsx(rn,{button:c.jsx(ae,{"aria-label":"Help and resources",icon:Pv,mode:"bleed",fontSize:2}),id:"menu-button-resources",menu:c.jsx(Hyn,{children:c.jsx(Lyn,{error:o,isLoading:i,value:r})}),popover:{constrainSize:!0,placement:"bottom",portal:!0,scheme:e},onClose:a,onOpen:s})})})})}var ufe=Object.freeze,Wyn=Object.defineProperty,PN=(e,t)=>ufe(Wyn(e,"raw",{value:ufe(t||e.slice())})),dfe,ffe,hfe;const Yyn=O(es)(dfe||(dfe=PN([`
  min-height: auto;
  position: relative;

  &[data-search-open='true'] {
    top: 0;
    position: sticky;
  }
`]))),qyn=O(ee)(ffe||(ffe=PN([`
  line-height: 0;
`]))),Gyn=O(W)(hfe||(hfe=PN([`
  width: max-content;
`])));function Kyn(){const{name:e,tools:t,...n}=Nl(),r=S0().theme,o=hC(),i=hT(),{scheme:s}=Uc(),{href:a,onClick:l}=XCe({state:{}}),u=gm(),d=typeof i.tool=="string"?i.tool:void 0,f=Wvn(),{onSearchFullscreenOpenChange:p,searchFullscreenOpen:m,searchFullscreenPortalEl:v}=h.useContext(RPe),g=obn(),b=oOe(),[x,y]=h.useState(!1),w=h.useRef(i),C=h.useRef(e);h.useEffect(()=>{(w.current.tool!==i.tool||e!==C.current)&&y(!1),w.current=i,C.current=e},[e,i]);const[_,S]=h.useState(null),[E,j]=h.useState(null),k=h.useMemo(()=>({brandingCenter:u<=1,resources:u>1,collapsedPresenceMenu:u<=1,loginStatus:u>1,searchFullscreen:u<=1,configIssues:u>1&&hd,workspaces:u>=3&&o.length>1,tools:u>=3}),[u,o.length]),T=typeof e=="string"&&e!=="root"?an(e):null,A=n.title||T||"Studio";h.useEffect(()=>{p(m)},[m,p]),h.useEffect(()=>{p&&!k.searchFullscreen&&p(!1)},[p,k.searchFullscreen]);const D=h.useCallback(()=>{p(!0)},[p]),I=h.useCallback(()=>{p(!1),E==null||E.focus()},[p,E]),P=h.useCallback(()=>{y(!1),_==null||_.focus()},[_]),M=h.useCallback(()=>{y(!0)},[]);return c.jsxs(Yyn,{zOffset:100,"data-search-open":m,children:[c.jsx(qyn,{"data-testid":"navbar","data-ui":"Navbar",padding:2,scheme:"dark",shadow:r.__legacy||s==="dark"?1:void 0,sizing:"border",children:c.jsxs(W,{align:"center",justify:"space-between",children:[c.jsxs(Gyn,{align:"center",flex:k.brandingCenter?void 0:1,children:[!k.tools&&c.jsx(F,{marginRight:1,children:c.jsx(ae,{mode:"bleed",icon:FF,onClick:M,ref:S})}),!k.brandingCenter&&c.jsx(F,{marginRight:1,children:c.jsx(ode,{href:a,onClick:l,title:A,children:c.jsx(g,{title:A})})}),k.workspaces&&c.jsx(F,{marginRight:2,children:c.jsx(IPe,{collapsed:!0})}),c.jsx(F,{marginRight:k.brandingCenter?void 0:2,children:c.jsx(Uvn,{...f,modal:k.brandingCenter?"dialog":"popover"})}),c.jsx(Ff,{children:c.jsx(Ryn,{fullscreen:k.searchFullscreen,children:c.jsxs(vm,{element:document.body,children:[c.jsx(k0,{element:v,children:k.searchFullscreen&&c.jsx(nyn,{onClose:I,onOpen:D,open:m})}),!k.searchFullscreen&&c.jsx(fyn,{})]})})}),k.tools&&c.jsx(ee,{flex:1,marginX:2,overflow:"visible",paddingRight:1,children:c.jsx(b,{activeToolName:d,closeSidebar:P,context:"topbar",isSidebarOpen:!1,tools:t})})]}),k.brandingCenter&&c.jsx(F,{marginX:1,children:c.jsx(ode,{href:a,onClick:l,title:A,children:c.jsx(g,{title:A})})}),c.jsxs(W,{gap:2,children:[(k.configIssues||k.resources)&&c.jsx(ee,{borderRight:!0,children:c.jsxs(W,{gap:1,paddingX:2,children:[k.configIssues&&c.jsx(u0n,{}),k.resources&&c.jsx(Uyn,{})]})}),c.jsxs(W,{align:"center",gap:1,children:[c.jsx(t0n,{collapse:k.collapsedPresenceMenu}),k.tools&&c.jsx(kvn,{}),k.searchFullscreen&&c.jsx(ae,{"aria-label":"Open search",icon:Yi,mode:"bleed",onClick:D,ref:j})]})]})]})}),!k.tools&&c.jsx(c0n,{activeToolName:d,isOpen:x,onClose:P,tools:t})]})}const rOe=h.forwardRef(function(t,n){const{name:r,...o}=t,i=hT(h.useCallback(s=>({...s,tool:r,[r]:void 0}),[r]));return c.jsx(fT,{state:i,...o,ref:n})});function Zyn(e){const{activeToolName:t,tools:n}=e,{scheme:r}=Uc(),[o,i]=h.useState(null);NTe({rootElement:o,navigation:["arrows"]});const s=h.useMemo(()=>({popover:{constrainSize:!0,portal:!0,scheme:r}}),[r]),a=h.useMemo(()=>n.map((l,u)=>{const d=(l==null?void 0:l.title)||an(l.name)||void 0,f=h.forwardRef(function(m,v){return c.jsx(rOe,{...m,ref:v,name:l.name})});return c.jsx(gN,{as:f,"data-as":"a",collapsedProps:{tooltipText:l.title},icon:l.icon||bl,mode:"bleed",selected:t===l.name,text:d,tooltipProps:{scheme:r}},"".concat(l.name,"-").concat(u))}),[t,r,n]);return c.jsx(mN,{"data-testid":"tool-collapse-menu",gap:1,menuButtonProps:s,ref:i,children:a})}function Xyn(e){const{activeToolName:t,isVisible:n,tools:r}=e;return h.useMemo(()=>c.jsx(ne,{as:"ul",space:1,children:r.map(o=>{const i=(o==null?void 0:o.title)||an(o.name)||void 0,s=h.forwardRef(function(l,u){return c.jsx(rOe,{...l,ref:u,name:o.name})});return c.jsx(ne,{as:"li",children:c.jsx(ae,{as:s,icon:o.icon||Hve,justify:"flex-start",mode:"bleed",selected:t===o.name,tabIndex:n?0:-1,text:i})},o.name)})}),[t,n,r])}function Qyn(e){const{context:t,isSidebarOpen:n,...r}=e;return t==="sidebar"?c.jsx(Xyn,{isVisible:n,...r}):c.jsx(Zyn,{...r})}function Jyn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.toolMenu}function ebn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.navbar}function tbn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.layout}function nbn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.logo}function oOe(){return Bl({defaultComponent:Qyn,pick:Jyn})}function rbn(){return Bl({defaultComponent:Kyn,pick:ebn})}function obn(){return Bl({defaultComponent:mgn,pick:nbn})}function ibn(){return Bl({defaultComponent:hvn,pick:tbn})}const pfe=SUt.__sanityErrorChannel;function sbn(){const{push:e}=Ai();return h.useEffect(()=>{if(pfe)return pfe.subscribe(t=>{t.error&&(abn(t.error)||(console.error(t.error),e({id:t.error.message,closable:!0,description:t.error.message,duration:5e3,title:"Uncaught error",status:"error"})))})},[e]),null}function abn(e){return e instanceof kN||e instanceof pB||e instanceof $a}function lbn(e){let{children:t,AuthenticateComponent:n=PPe,LoadingComponent:r=Tb,NotAuthenticatedComponent:o=OPe}=e;const[i,s]=h.useState(null);if(i)throw i;const[a,l]=h.useState("loading"),{activeWorkspace:u}=c1();return h.useEffect(()=>{var d,f;(f=(d=u.auth).handleCallbackUrl)==null||f.call(d).catch(s)},[u.auth]),h.useEffect(()=>{const d=u.auth.state.subscribe({next:f=>{let{authenticated:p,currentUser:m}=f;var v;if(((v=m==null?void 0:m.roles)==null?void 0:v.length)===0){l("unauthorized");return}l(p?"logged-in":"logged-out")},error:s});return()=>{d.unsubscribe()}},[u]),a==="loading"?c.jsx(r,{}):a==="unauthorized"?c.jsx(o,{}):a==="logged-out"?c.jsx(n,{}):c.jsx(c.Fragment,{children:t})}function cbn(e){let{children:t}=e;const n=c1().activeWorkspace.theme;if(n.__legacy){const r=n.__dark?"dark":"light";return c.jsx(YA.Provider,{value:!1,children:c.jsx(WA.Provider,{value:r,children:c.jsx(O5,{scheme:r,theme:n,tone:"transparent",children:c.jsx(Ff,{children:t})})})})}return c.jsx(O5,{theme:n,tone:"transparent",children:c.jsx(Ff,{children:t})})}const ubn={toast:[100,11e3]};var mfe=Object.freeze,dbn=Object.defineProperty,iOe=(e,t)=>mfe(dbn(e,"raw",{value:mfe(t||e.slice())})),gfe,vfe;O(W)(gfe||(gfe=iOe([""])));O(F).attrs({padding:4})(vfe||(vfe=iOe([""])));function fbn(e){const{basePath:t="/",tools:n}=e,r=mi.create("/:tool",o=>{const i=n.find(s=>s.name===o.tool);return i?mi.scope(i.name,"/",i.router):mi.create("/")});return mi.create(t,[mi.intents("/intent"),r])}function ON(e){const n={}.toolSwitcher||{},r=n.order||[],o=n.hidden||[];if(!r.length&&!o.length)return e;const i=e.reduce((l,u)=>{const d=u.title||"<unknown>";if(!u.name)return console.warn('Tool "'.concat(d,'" does not have the required "name" property')),l;if(l[u.name]){const p=l[u.name].tool.title;return console.warn('Tools with duplicate name "'.concat(u.name,'" found ("').concat(d,'" and "').concat(p,'")')),l}const f=r.indexOf(u.name);return l[u.name]={tool:u,index:f===-1?1/0:f},l},{}),s=l=>o.indexOf(l.name)===-1,a=e.filter(s);return a.sort((l,u)=>{const d=i[l.name],f=i[u.name],p=d?d.index:1/0,m=f?f.index:1/0;return p===m?0:p-m}),a}function hbn(e,t){const r=ON(e)[0];return!t||t.tool||!r?t:Object.assign({},t,{tool:r.name})}function pbn(e,t){return t&&(ON(e).find(n=>n.name===t.space)?{...t,tool:t.space,space:void 0}:t)}function mbn(e,t){return hbn(e,pbn(e,t))}function gbn(e,t,n){const{intent:r,params:o,payload:i}=n;if(typeof r!="string")throw new Error("intent must be a string");if(!Ct(o))throw new Error("intent params must be a string");const s=ON(e),a=t!=null&&t.tool?s.find(u=>u.name===t.tool):null,l=(a?[a,...s]:s).find(u=>u&&typeof u.canHandleIntent=="function"&&u.canHandleIntent(r,o,t&&t[u.name]));if(l!=null&&l.getIntentState){const u=l.getIntentState(r,o,t&&t[l.name],i);return{type:"state",isNotFound:!1,state:{...t,tool:l.name,[l.name]:u}}}return{type:"intent",isNotFound:!0,intent:{name:r,params:o}}}function vbn(e,t){return{type:"state",state:e.decode(t)||{},isNotFound:e.isNotFound(t)}}function ybn(e){let{children:t,LoadingComponent:n,workspace:r}=e;const{basePath:o,tools:i}=r,s=Ugn(),a=h.useMemo(()=>fbn({basePath:o,tools:i}),[o,i]),[l,u]=bbn(s,a,i);return l?c.jsx(Rft,{onNavigate:u,router:a,state:l,children:t}):c.jsx(n,{})}function bbn(e,t,n){var r;const o=h.useMemo(()=>{const l=t.getBasePath(),u=new RegExp("^".concat(R7(l),"(\\/|$)"),"i"),d=f=>l==="/"?!0:u.test(f);return{subscribe:f=>e.listen(f),getSnapshot:()=>e.location.pathname,getServerSnapshot:()=>null,selector:f=>typeof f=="string"&&d(f)?vbn(t,f):null}},[e,t]),i=D7.useSyncExternalStoreWithSelector(o.subscribe,o.getSnapshot,o.getServerSnapshot,o.selector,Yt),s=h.useRef(i);h.useEffect(()=>{var l;if((i==null?void 0:i.type)==="state"&&!((l=i.state)!=null&&l.intent)){const u=mbn(n,i.state);u&&u!==i.state&&e.replace(t.encode(u))}},[i==null?void 0:i.state,i==null?void 0:i.type,e,t,n]),h.useEffect(()=>{const l=yfe(i,t,n,s);l?e.replace(l):s.current=i},[i,e,t,n]);const a=h.useMemo(()=>l=>{let{path:u,replace:d}=l;const f=o.selector(u),p=yfe(f,t,n,s),m=typeof p=="string"?p:u;d?e.replace(m):e.push(m)},[e,t,o,n]);return[(r=i==null?void 0:i.state)!=null?r:null,a]}function yfe(e,t,n,r){var o,i;if((e==null?void 0:e.type)==="state"&&((o=e.state)!=null&&o.intent)){const s=gbn(n,((i=r.current)==null?void 0:i.type)==="state"?r.current.state:{},e.state);if((s==null?void 0:s.type)==="state")return t.encode(s.state)}return null}function xbn(e){let{children:t,LoadingComponent:n}=e;const[r,o]=h.useState(null);if(r)throw r;const{activeWorkspace:i}=c1(),[s,a]=h.useState(null);return h.useEffect(()=>{const l=Vo(i.__internal.sources.map(u=>{let{source:d}=u;return d.pipe(Xn(f=>{if(f instanceof $a)return be(f);throw f}))})).pipe(ce(u=>{const d=u.filter(f=>f instanceof $a);if(d.length)throw new $a({name:i.name,causes:d,type:"workspace"});return u}),ce(u=>{let[d,...f]=u;return{...i,...d,unstable_sources:[d,...f],type:"workspace"}})).subscribe({next:a,error:o});return()=>l.unsubscribe()},[i]),s?c.jsx(jpn,{workspace:s,children:c.jsx(Tpn,{source:s.unstable_sources[0],children:c.jsx(ybn,{LoadingComponent:n,workspace:s,children:t})})}):c.jsx(n,{})}function wbn(e){let{ConfigErrorsComponent:t,...n}=e;const[{error:r},o]=h.useState({error:null});if(r)throw r;return c.jsx(E0,{onCatch:o,children:c.jsx(xbn,{...n})})}Mp.registerLanguage(Pzt);Mp.registerLanguage(nBe);Mp.registerLanguage($zt);Mp.registerLanguage(Mzt);Mp.registerLanguage(Lzt);function Cbn(e){let{children:t,config:n,basePath:r,onSchemeChange:o,scheme:i,unstable_history:s,unstable_noAuthBoundary:a}=e;const l=c.jsx(wbn,{LoadingComponent:Tb,ConfigErrorsComponent:ivn,children:c.jsx(JYt,{children:t})});return c.jsx(ggn,{onSchemeChange:o,scheme:i,children:c.jsxs(RL,{paddingY:7,zOffset:ubn.toast,children:[c.jsx(sbn,{}),c.jsx($Pe,{children:c.jsx(bgn,{config:n,basePath:r,children:c.jsx(qgn,{unstable_history:s,NotFoundComponent:Fgn,LoadingComponent:Tb,children:c.jsx(cbn,{children:c.jsx(ZZt,{children:a?l:c.jsx(lbn,{LoadingComponent:Tb,AuthenticateComponent:PPe,NotAuthenticatedComponent:OPe,children:l})})})})})})]})})}function _bn(){const e=ibn();return c.jsx(e,{})}function bfe(e){const{basePath:t,config:n,onSchemeChange:r,scheme:o,unstable_globalStyles:i,unstable_history:s,unstable_noAuthBoundary:a}=e;return c.jsxs(Cbn,{basePath:t,config:n,onSchemeChange:r,scheme:o,unstable_history:s,unstable_noAuthBoundary:a,children:[i&&c.jsx(jqt,{}),c.jsx(_bn,{})]})}function Sbn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!e)throw new Error("Missing root element to mount application into");const r=typeof n=="boolean"?{reactStrictMode:n}:n,{reactStrictMode:o=!1,basePath:i}=r,s=Aje(e);return s.render(o?c.jsx(h.StrictMode,{children:c.jsx(bfe,{config:t,basePath:i,unstable_globalStyles:!0})}):c.jsx(bfe,{config:t,basePath:i,unstable_globalStyles:!0})),()=>s.unmount()}function Sr(e){const t=ur();return e?t.getClient(e):(console.warn('Calling `useClient()` without specifying an API version is deprecated and will stop working in the next dev-preview release - please migrate to use `useClient({apiVersion: "2021-06-07"})`.'),t.getClient({apiVersion:"2021-06-07"}))}const xfe="connecting";function Ebn(e,t){const n=Vl();return Ao(()=>n.pair.documentEvents(e,t).pipe(ce(r=>r.type),ce(r=>r!=="reconnect"),tt(r=>r?be("connected"):Ei(200).pipe(YL("reconnecting"))),ki(xfe),Kn()),[n.pair,e,t],xfe)}function sOe(){return ur().dataset}function Wc(e,t){const n=Vl();return Ao(()=>n.pair.editOperations(e,t),[t,n.pair,e])}function kbn(e,t){const n=Vl();return Ao(()=>n.pair.operationEvents(e,t),[n.pair,e,t])}function $N(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"default";const r=Vl();return Ao(()=>{const o=r.pair.editState(e,t).pipe(Wa());return n==="low"?xn(o.pipe(ys(1)),o.pipe(Zwe(1),zwe(()=>Ei(1e3)))):r.pair.editState(e,t)},[r.pair,e,t,n])}function aOe(){return ur().projectId}function dr(){return ur().schema}const jbn={isSyncing:!0},wfe={isSyncing:!1};function Tbn(e,t){const n=Vl();return Ao(()=>n.pair.consistencyStatus(e,t).pipe(ce(r=>r?wfe:jbn)),[n.pair,t,e],wfe)}function mC(){return ur().templates}const n3=1e3*5,Cfe=1e3*20,L4=1e3*60,c2=L4*60;function Wf(e){let{minimal:t,agoSuffix:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=Abn(e,{minimal:t,agoSuffix:n}),[,o]=h.useReducer(i=>i+1,0);return h.useEffect(()=>{let i;function s(a){i=window.setTimeout(()=>{o(),i=window.setTimeout(()=>s(a),a)},a)}return r.refreshInterval!==null&&s(r.refreshInterval),()=>{i!==null&&clearTimeout(i)}},[o,r.refreshInterval]),r.timestamp}function Abn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=e instanceof Date?e:new Date(e);if(!n.getTime())return{timestamp:"",refreshInterval:null};const r=Date.now(),o=VSt(r,n),i=WSt(r,n);if(o||i)return t.minimal&&i===0?{timestamp:Zo(n,"MMM d"),refreshInterval:null}:t.minimal?{timestamp:Zo(n,"MMM d, yyyy"),refreshInterval:null}:{timestamp:Zo(n,"MMM d, yyyy, hh:mm a"),refreshInterval:null};const s=USt(r,n),a=Nr("week",s);if(s)return t.minimal?{timestamp:t.agoSuffix?"".concat(s,"w ago"):"".concat(s,"w"),refreshInterval:c2}:{timestamp:t.agoSuffix?"".concat(s," ").concat(a," ago"):"".concat(s," ").concat(a),refreshInterval:c2};const l=OSe(r,n),u=Nr("days",l);if(l){if(t.minimal){const x=t.agoSuffix?"".concat(l,"d ago"):"".concat(l,"d");return{timestamp:l===1?"yesterday":x,refreshInterval:c2}}const b=t.agoSuffix?"".concat(l," ").concat(u," ago"):"".concat(l," ").concat(u);return{timestamp:l===1?"yesterday":b,refreshInterval:c2}}const d=LSt(r,n),f=Nr("hour",d);if(d)return t.minimal?{timestamp:t.agoSuffix?"".concat(d,"h ago"):"".concat(d,"h"),refreshInterval:L4}:{timestamp:t.agoSuffix?"".concat(d," ").concat(f," ago"):"".concat(d," ").concat(f),refreshInterval:L4};const p=BSt(r,n),m=Nr("minute",p);if(p)return t.minimal?{timestamp:t.agoSuffix?"".concat(p,"m ago"):"".concat(p,"m"),refreshInterval:Cfe}:{timestamp:t.agoSuffix?"".concat(p," ").concat(m," ago"):"".concat(p," ").concat(m),refreshInterval:Cfe};const v=HSt(r,n),g=Nr("second",v);return v>10?t.minimal?{timestamp:t.agoSuffix?"".concat(v,"s ago"):"".concat(v,"s"),refreshInterval:n3}:{timestamp:t.agoSuffix?"".concat(v," ").concat(g," ago"):"".concat(v," ").concat(g),refreshInterval:n3}:{timestamp:"just now",refreshInterval:n3}}const Dbn={validation:[],isValidating:!1};function RN(e,t){const n=Vl();return Ao(()=>n.pair.validation(e,t),[n.pair,e,t],Dbn)}const _fe={isLoading:!0,enabled:!0,features:[]};function Ibn(e){let{versionedClient:t}=e;return t.observable.request({uri:"/features",tag:"features"})}let r3;function lOe(e){const t=Sr(gn);return r3||(r3=Ibn({versionedClient:t}).pipe(To())),Ao(()=>r3.pipe(ce(function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return{isLoading:!1,enabled:!!(r!=null&&r.includes(e)),features:r}}),ki(_fe),Xn(r=>(console.error(r),be({isLoading:!1,enabled:!0,features:[]})))),[e],_fe)}const Pbn=ch(e=>{let[t,n]=e;return Cr(t.getUser(n).catch(r=>(console.error(r),null)))});function u1(e){const t=HN();return Pbn(h.useMemo(()=>[t,e],[e,t]))}function ii(){const{currentUser:e}=ur();return e}const Sfe=e=>{const t=e.LOCAL,n=e.document.HEAD;return t&&{...t,_type:(n||t)._type,_rev:(n||t)._rev,_updatedAt:new Date().toISOString()}},Efe=e=>({type:"snapshot",document:e}),kfe=e=>e.document,Obn=e=>{const t=new Ar,n=new Gj(!0),r=new Ar,o=new Ar,i=new Ar,s=new Ar,a=x=>{const y=new k9t(x);return y.onMutation=w=>{let{mutation:C,remote:_}=w;r.next({type:"mutation",document:Sfe(y),mutations:C.mutations,origin:_?"remote":"local"})},y.onRemoteMutation=w=>{i.next({type:"remoteMutation",head:y.document.HEAD,transactionId:w.transactionId,timestamp:w.timestamp,author:w.identity,effects:w.effects})},y.onRebase=(w,C,_)=>{o.next({type:"rebase",document:w,remoteMutations:C,localMutations:_})},y.onConsistencyChanged=w=>{n.next(w)},y.commitHandler=w=>s.next(w),y},l=e.pipe(Ua((x,y)=>y.type==="snapshot"?(x&&x.commit(),a(y.document||null)):x===null?(console.warn('Ignoring event of type "%s" since buffered document has not yet been set up with snapshot',y.type),null):x,null),ct(x=>x!==null),Kn(),ml(1),pl()),u=e.pipe(ct(x=>x.type==="mutation"),ib(l),ce(x=>{let[y,w]=x;return w.arrive(new Ec(y)),Sfe(w)})),d=t.pipe(ib(l),Wn(x=>{let[y,w]=x;y.type==="mutation"&&w.add(new Ec({mutations:y.mutations})),y.type==="commit"&&w.commit()}),Wp(Gn),Wa()),f=x=>t.next(x),p=x=>f({type:"mutation",mutations:x}),m=x=>p([x]),v=()=>{l.pipe(ys(1),Wn(x=>x.commit())).subscribe()},g=xn(l.pipe(ce(x=>x.LOCAL)),r.pipe(ce(kfe)),o.pipe(ce(kfe)),u).pipe(ce(Efe),ml(1),pl()),b=xn(l.pipe(ce(x=>x.document.HEAD),ce(Efe)),i).pipe(ml(1),pl());return{updates$:xn(g,d,r,o),consistency$:n.pipe(Kn(),ml(1),pl()),remoteSnapshot$:b,commitRequest$:s,addMutation:m,addMutations:p,commit:v}},$bn=e=>t=>{const{_id:n,_rev:r,_updatedAt:o,...i}=t;return{_id:e,...i}},jfe=(e,t)=>{const n=Obn(t),r=$bn(e),o={delete:{id:e}};return{events:n.updates$,consistency$:n.consistency$,remoteSnapshot$:n.remoteSnapshot$,commitRequest$:n.commitRequest$,patch:i=>i.map(s=>({patch:{...s,id:e}})),create:i=>({create:r(i)}),createIfNotExists:i=>({createIfNotExists:r(i)}),createOrReplace:i=>({createOrReplace:r(i)}),delete:()=>o,mutate:i=>n.addMutations(i),commit:()=>n.commit()}},Rbn={type:"pending",phase:"begin"},Mbn={type:"pending",phase:"end"};function Fbn(e){return e.type==="mutation"}function Lbn(e){return e.transactionTotalEvents>1}function Bbn(e){const t=u7(e.filter(n=>n.type==="mutation"),n=>n.transactionId);return Object.values(t).every(n=>n.length===n[0].transactionTotalEvents)}function Nbn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{publishedId:r,draftId:o}=t;return jo(()=>e.observable.listen("*[_id == $publishedId || _id == $draftId]",{publishedId:r,draftId:o},{includeResult:!1,events:["welcome","mutation","reconnect"],effectFormat:"mendoza",tag:n.tag||"document.pair-listener"})).pipe(wR(s=>s.type==="welcome"?i().pipe(wR(a=>[Tfe(o,a.draft),Tfe(r,a.published)])):be(s)),Ua((s,a)=>{if(!Fbn(a))return{next:[a],buffer:[]};const l=s.buffer.length>0,u=Lbn(a);if(!u&&!l)return{next:[a],buffer:[]};if(!u)return{next:[],buffer:s.buffer.concat(a)};const d=s.buffer.concat(a);return Bbn(d)?{next:d.concat(Mbn),buffer:[]}:{next:d.length===1?[Rbn]:[],buffer:d}},{next:[],buffer:[]}),vt(s=>s.next));function i(){return e.observable.getDocuments([o,r],{tag:"document.snapshots"}).pipe(ce(s=>{let[a,l]=s;return{draft:a,published:l}}))}}function Tfe(e,t){return{type:"snapshot",documentId:e,document:t}}const Afe=e=>t=>t.type!=="reconnect"&&t.type!=="pending"&&t.documentId===e;function u2(e){return t=>({...t,version:e})}function zbn(e,t){const{resultRev:n,...r}=t;return e.dataRequest("mutate",r,{visibility:"async",returnDocuments:!1,tag:"document.commit",skipCrossDatasetReferenceValidation:!0})}function Vbn(e,t){return Cr(zbn(e,t.mutation.params)).pipe(Wn({error:n=>{"statusCode"in n&&typeof n.statusCode=="number"&&n.statusCode>=400&&n.statusCode<=500?t.cancel(n):t.failure(n)},next:()=>t.success()}))}function cOe(e,t){const{publishedId:n,draftId:r}=t,o=Nbn(e,t).pipe(Wa()),i=o.pipe(ct(d=>d.type==="reconnect")),s=jfe(r,o.pipe(ct(Afe(r)))),a=jfe(n,o.pipe(ct(Afe(n)))),l=o.pipe(ct(d=>d.type==="pending")),u=xn(s.commitRequest$,a.commitRequest$).pipe(vt(d=>Vbn(e,d)),Wp(Gn),Wa());return{transactionsPendingEvents$:l,draft:{...s,events:xn(u,i,s.events).pipe(ce(u2("draft"))),consistency$:s.consistency$,remoteSnapshot$:s.remoteSnapshot$.pipe(ce(u2("draft")))},published:{...a,events:xn(u,i,a.events).pipe(ce(u2("published"))),consistency$:a.consistency$,remoteSnapshot$:a.remoteSnapshot$.pipe(ce(u2("published")))}}}function Yc(e,t){const n=Object.create(null);return function(){const r=t(...arguments);return r in n||(n[r]=e(...arguments)),n[r]}}const Lm=(e,t)=>{var n;return((n=e.get(t))==null?void 0:n.liveEdit)===!0};function gC(e,t,n){var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}const ZA=Yc((e,t,n)=>new ut(r=>{r.next(cOe(e,t))}).pipe(ml(1),pl()),gC);function Hbn(e){return e.type==="snapshot"}function Dfe(e){return{snapshots$:e.events.pipe(ct(Hbn),ce(t=>t.document),ml(1),pl()),patch:e.patch,create:e.create,createIfNotExists:e.createIfNotExists,createOrReplace:e.createOrReplace,delete:e.delete,mutate:e.mutate,commit:e.commit}}const MN=Yc((e,t,n)=>ZA(e,t,n).pipe(ce(r=>{let{published:o,draft:i,transactionsPendingEvents$:s}=r;return{transactionsPendingEvents$:s,published:Dfe(o),draft:Dfe(i)}}),ml(1),pl()),(e,t,n)=>{var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),Ubn={enabled:!0},Ife={enabled:!1},uOe=Yc((e,t,n)=>{const r=Lm(e.schema,n);return MN(e.client,t,n).pipe(tt(o=>Vo([o.draft.snapshots$,o.published.snapshots$,o.transactionsPendingEvents$.pipe(ce(i=>i.phase==="begin"?Ubn:Ife),ki(Ife))])),ce(o=>{let[i,s,a]=o;return{id:t.publishedId,type:n,draft:i,published:s,liveEdit:r,ready:!0,transactionSyncLock:a}}),ki({id:t.publishedId,type:n,draft:null,published:null,liveEdit:r,ready:!1,transactionSyncLock:null}),ml(1),pl())},(e,t,n)=>gC(e.client,t,n)),dOe=Yc((e,t,n)=>MN(e.client,t,n).pipe(tt(r=>Vo([r.draft.snapshots$,r.published.snapshots$]).pipe(ce(o=>{let[i,s]=o;return{...e,idPair:t,typeName:n,snapshots:{draft:i,published:s},draft:r.draft,published:r.published}}))),ml(1),pl()),(e,t,n)=>{var r,o;const i=e.client.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),kk={disabled:e=>{let{snapshots:t}=e;return t.draft||t.published?!1:"NOTHING_TO_DELETE"},execute:e=>{let{client:t,schema:n,idPair:r,typeName:o}=e;const i=t.observable.transaction().delete(r.publishedId);return Lm(n,o)?i.commit({tag:"document.delete"}):i.delete(r.draftId).commit({tag:"document.delete",skipCrossDatasetReferenceValidation:!0})}};function B4(e){return Zu(e)?e._strengthenOnPublish?ji(e,["_strengthenOnPublish"].concat(e._strengthenOnPublish.weak?[]:["_weak"])):e:typeof e!="object"||!e?e:Array.isArray(e)?e.map(B4):Object.fromEntries(Object.entries(e).map(t=>{let[n,r]=t;return[n,B4(r)]}))}const fOe={disabled:e=>{let{schema:t,typeName:n,snapshots:r}=e;return Lm(t,n)?"LIVE_EDIT_ENABLED":r.draft?!1:r.published?"ALREADY_PUBLISHED":"NO_CHANGES"},execute:e=>{let{client:t,idPair:n,snapshots:r}=e;if(!r.draft)throw new Error('cannot execute "publish" when draft is missing');const o=B4(ji(r.draft,"_updatedAt")),i=t.observable.transaction();if(!r.draft)throw new Error('cannot execute "publish" when draft is missing');return r.published?(i.patch(n.publishedId,{unset:["_revision_lock_pseudo_field_"],ifRevisionID:r.published._rev}),i.createOrReplace({...o,_id:n.publishedId,_type:r.draft._type})):i.create({...o,_id:n.publishedId,_type:r.draft._type}),i.delete(n.draftId),i.commit({tag:"document.publish",visibility:"async"})}},hOe={disabled:()=>!1,execute:function(e){let{schema:t,snapshots:n,idPair:r,draft:o,published:i,typeName:s}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0;Lm(t,s)?i.mutate([i.createIfNotExists({_type:s,...l}),...i.patch(a)]):o.mutate([o.createIfNotExists({...l,...n.published,_id:r.draftId,_type:s}),...o.patch(a)])}},pOe={disabled:()=>!1,execute:e=>{let{draft:t,published:n}=e;return t.commit(),n.commit(),Gn}},mOe={disabled:e=>{let{snapshots:t}=e;return t.draft?t.published?!1:"NOT_PUBLISHED":"NO_CHANGES"},execute:e=>{let{client:t,idPair:n}=e;return t.observable.transaction().delete(n.draftId).commit({tag:"document.discard-changes"})}},gOe={disabled:e=>{let{schema:t,snapshots:n,typeName:r}=e;return Lm(t,r)?"LIVE_EDIT_ENABLED":n.published?!1:"NOT_PUBLISHED"},execute:e=>{let{client:t,idPair:n,snapshots:r}=e,o=t.observable.transaction().delete(n.publishedId);return r.published&&(o=o.createIfNotExists({...ji(r.published,"_updatedAt"),_id:n.draftId,_type:r.published._type})),o.commit({tag:"document.unpublish",visibility:"async",skipCrossDatasetReferenceValidation:!0})}},Wbn=["_createdAt","_updatedAt"],vOe={disabled:e=>{let{snapshots:t}=e;return t.published||t.draft?!1:"NOTHING_TO_DUPLICATE"},execute:(e,t)=>{let{schema:n,client:r,snapshots:o,typeName:i}=e;const s=o.draft||o.published;if(!s)throw new Error("cannot execute on empty document");return r.observable.create({...ji(s,Wbn),_id:Lm(n,i)?t:ti(t),_type:s._type},{tag:"document.duplicate"})}},yOe={disabled:()=>!1,execute:(e,t)=>{let{historyStore:n,schema:r,idPair:o,typeName:i}=e;const s=Lm(r,i)?o.publishedId:o.draftId;return n.restore(o.publishedId,s,t)}},bOe=Yc((e,t,n)=>ZA(e,t,n).pipe(tt(r=>{let{draft:o,published:i}=r;return Vo([o.consistency$,i.consistency$])}),ce(r=>{let[o,i]=r;return o&&i}),Kn(),ml(1),pl()),(e,t,n)=>{var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)});function Ybn(e){return typeof e>"u"?be(null):e}const qbn={del:kk,delete:kk,publish:fOe,patch:hOe,commit:pOe,discardChanges:mOe,unpublish:gOe,duplicate:vOe,restore:yOe},Gbn=(e,t,n)=>{const r=qbn[e];return jo(()=>xn(be(null),Ybn(r.execute(t,...n)))).pipe(ott())},xOe=new Ar;function wOe(e,t,n,r){xOe.next({operationName:e,idPair:t,typeName:n,extraArgs:r})}const Kbn=["publish","unpublish","discardChanges","delete"],COe=Yc(e=>{const t=xOe.pipe(Kwe(o=>o.idPair.publishedId),vt(o=>o.pipe(tt(i=>dOe(e,i.idPair,i.typeName).pipe(ys(1),tt(s=>{const a=Kbn.includes(i.operationName);a&&(s.published.commit(),s.draft.commit());const l=bOe(e.client,i.idPair,i.typeName).pipe(ct(Boolean));return(a?l.pipe(ys(1)):be(!0)).pipe(tt(()=>Gbn(i.operationName,s,i.extraArgs)))}),ce(()=>({type:"success",args:i})),Xn(s=>be({type:"error",args:i,error:s})))))),Wa()),n=1e3,r=t.pipe(ct(o=>o.type==="success"&&o.args.operationName==="patch"),N5(n,Dc,{leading:!0,trailing:!0}),Wn(o=>{wOe("commit",o.args.idPair,o.args.typeName,[])}));return xn(t,r.pipe(Wp(Gn)))},e=>{var t,n;const r=e.client.config();return"".concat((t=r.dataset)!=null?t:"","-").concat((n=r.projectId)!=null?n:"")}),Zbn=Yc((e,t,n)=>ZA(e,t,n).pipe(tt(r=>{let{published:o,draft:i}=r;return xn(o.remoteSnapshot$,i.remoteSnapshot$)})),gC),Xbn={isValidating:!0,validation:[]};function Qbn(e){return ije(e,(t,n)=>(Zu(n)&&t.add(n._ref),t),new Set)}const Jbn=[],exn=(e,t)=>e(t).pipe(ce(n=>{let{published:r}=n;return r.available})),txn=200,nxn=1e3;function o3(){return To({bufferSize:1,refCount:!0})}const rxn=Yc((e,t,n)=>{let{draftId:r,publishedId:o}=t;const i=uOe(e,{draftId:r,publishedId:o},n).pipe(ce(d=>{let{draft:f,published:p}=d;return f||p}),N5(txn,Dc,{trailing:!0}),Kn((d,f)=>(d==null?void 0:d._rev)===(f==null?void 0:f._rev)?!0:Nf(ji(d,"_rev","_updatedAt"),ji(f,"_rev","_updatedAt"))),o3()),a=i.pipe(ce(d=>Qbn(d)),vt(d=>Cr(d))).pipe(Kwe(d=>d,{duration:()=>Ei(1e3*60*30)}),vt(d=>d.pipe(ett(),vt(f=>exn(e.observeDocumentPairAvailability,f).pipe(ce(p=>[f,p]))))),Ua((d,f)=>{let[p,m]=f;return d[p]===m?d:{...d,[p]:m}},{}),Kn(Nf),o3()),l=d=>{let{id:f}=d;return bo(a.pipe(Gwe(p=>f in p),ce(p=>p[f])))},u=a.pipe(Zwe(1),N5(nxn,Dc,{leading:!0,trailing:!0}));return Vo([i,ho(be(null),u)]).pipe(ce(d=>{let[f]=d;return f}),lje(d=>jo(()=>d!=null&&d._type?ho(be({isValidating:!0,revision:d._rev}),pGt(e.getClient,d,e.schema,{getDocumentExists:l}).pipe(ce(f=>({validation:f,isValidating:!1})))):be({validation:Jbn,isValidating:!1}))),Ua((d,f)=>({...d,...f}),Xbn),o3())},(e,t,n)=>{var r,o;const i=e.client.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),oxn=Yc((e,t,n)=>ZA(e,t,n).pipe(tt(r=>{let{draft:o,published:i}=r;return xn(o.events,i.events)})),gC);function eu(e){return{disabled:"NOT_READY",execute:()=>{throw new Error("Called ".concat(e," before it was ready."))}}}const ixn={commit:eu("commit"),delete:eu("delete"),del:eu("del"),publish:eu("publish"),patch:eu("patch"),discardChanges:eu("discardChanges"),unpublish:eu("unpublish"),duplicate:eu("duplicate"),restore:eu("restore")},sxn=(e,t,n)=>function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return wOe(e,t,n,o)};function tu(e,t,n){return{disabled:t.disabled(n),execute:sxn(e,n.idPair,n.typeName)}}function axn(e){return{commit:tu("commit",pOe,e),delete:tu("delete",kk,e),del:tu("delete",kk,e),publish:tu("publish",fOe,e),patch:tu("patch",hOe,e),discardChanges:tu("discardChanges",mOe,e),unpublish:tu("unpublish",gOe,e),duplicate:tu("duplicate",vOe,e),restore:tu("restore",yOe,e)}}const lxn=Yc((e,t,n)=>{const r=COe(e),i=dOe(e,t,n).pipe(ce(axn));return ho(be(ixn),xn(r.pipe(vt(()=>Gn)),i)).pipe(To({refCount:!0,bufferSize:1}))},(e,t,n)=>gC(e.client,t,n)),cxn=(e,t,n,r)=>jo(()=>e.observable.fetch(t,n,{tag:r.tag,filterResponse:!0,perspective:r.perspective})),uxn=(e,t,n,r)=>jo(()=>e.listen(t,n,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query",tag:r.tag}));function Pfe(e){return e.type==="welcome"}function dxn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=typeof t=="string"?t:t.fetch,i=typeof t=="string"?t:t.listen,s=uxn(e,i,n,r).pipe(vt((f,p)=>p===0&&!Pfe(f)?D0(()=>new Error(f.type==="reconnect"?"Could not establish EventSource connection":'Received unexpected type of first event "'.concat(f.type,'"'))):be(f)),Wa()),[a,l]=Fwe(s,Pfe),u=f=>!r.transitions||f.type!=="mutation"?!0:r.transitions.includes(f.transition),d=()=>cxn(e,o,n,r);return xn(a.pipe(ys(1)),l.pipe(ct(u),N5(r.throttleTime||1e3,Dc,{leading:!0,trailing:!0}))).pipe(lje(f=>f.type==="mutation"&&f.visibility!=="query"?Ei(1200).pipe(vt(d)):d()))}function fxn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"*";if(n&&n!=="*")return be(n);const r="*[_id in [$documentId, $draftId]]._type",o=Zn(t),i=ti(o);return e.observable.fetch(r,{documentId:o,draftId:i}).pipe(ce(s=>s[0]))}function nm(e){return _r(e)}const hxn=["_key","_ref","_weak","_type"];function pxn(e){return e&&e.length>0?'"'.concat(e,'"'):e}function Ofe(e,t){const n=r=>'Template "'.concat(t.id,'" initial value: ').concat(r);if(!nm(e))throw new Error(n("resolved to a non-object"));if(e._type&&t.schemaType!==e._type)throw new Error(n('includes "_type"-property ('.concat(e._type,") that does not match template (").concat(t.schemaType,")")));try{return N4(e)}catch(r){throw r.message=n(r.message),r}}function N4(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(Array.isArray(e))return e.map((o,i)=>{if(Array.isArray(o))throw new Error('multidimensional arrays are not supported (at path "'.concat(yr(t),'")'));return N4(o,t.concat(i),!0)});if(!nm(e))return e;const r=n&&!e._key?{_key:Hw()}:{};return t.length>0&&!e._type&&e._ref&&(r._type="reference"),e._ref&&mxn(e,t),Object.keys(e).reduce((o,i)=>(o[i]=N4(e[i],t.concat([i])),o),r)}function mxn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e._type&&e.type)throw new Error('Reference is missing "_type", but has a "type" property at path "'.concat(yr(t),'"'));const n=Object.keys(e).filter(r=>!hxn.includes(r));if(n.length>0){const r=n.length>1?"properties":"property";throw new Error("Disallowed ".concat(r," found in reference: ").concat(n.map(pxn).join(", "),' at path "').concat(yr(t),'"'))}}function FN(e,t){const n={...e,...t};return Object.keys(n).forEach(r=>{const o=t[r],i=e[r];nm(o)&&nm(i)&&(n[r]=FN(i,o))}),n}function gxn(e){return nm(e)&&typeof e.serialize=="function"}async function XA(e,t,n){return typeof e=="function"?e(t,n):e}async function LN(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(gxn(t))return LN(e,t.serialize(),n,r);const{id:o,schemaType:i,value:s}=t;if(!s)throw new Error('Template "'.concat(o,'" has invalid "value" property'));let a=await XA(s,n,r);if(!nm(a))throw new Error('Template "'.concat(o,'" has invalid "value" property - must be a plain object or a resolver function returning a plain object'));nm(a)&&!Object.keys(a).length&&(a={_type:i}),a=Ofe(a,t);const l=e.get(i);if(!l)throw new Error('Could not find schema type with name "'.concat(i,'".'));const u=FN(await QA(l,n,BN,r)||{},a);return Ofe(u,t)}function vxn(e,t){const n=js(t);return n==="object"&&e.of.length===1?e.of[0]:e.of.find(r=>r.name===n)}const BN=10;function QA(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:BN,r=arguments.length>3?arguments[3]:void 0;return n<=0?Promise.resolve(void 0):Ga(e)?bxn(e,t,n,r):Ol(e)?yxn(e,t,n,r):XA(e.initialValue,t,r)}async function yxn(e,t,n,r){const o=await XA(e.initialValue,void 0,r);if(Array.isArray(o))return Promise.all(o.map(async i=>{const s=vxn(e,i);return Ga(s)?{...i,...await QA(s,t,n-1,r),_key:Hw()}:i}))}async function bxn(e,t,n,r){const o={...await XA(e.initialValue,t,r)||{}},i={};await Promise.all(e.fields.map(async a=>{const l=await QA(a.type,t,n-1,r);l!=null&&(i[a.name]=l)}));const s=FN(i,o);if(!R9(s))return e.name!=="object"&&(s._type=e.name),s}const $fe={type:"loading"};function xxn(e,t,n,r,o){const i=n.observePaths({_type:"reference",_ref:ti(r.documentId)},["_type"]),s=n.observePaths({_type:"reference",_ref:Zn(r.documentId)},["_type"]);return xn(i.pipe(ce(l=>({draft:l}))),s.pipe(ce(l=>({published:l})))).pipe(Ua((l,u)=>({...l,...u}),{}),ct(l=>"draft"in l&&"published"in l),ce(l=>l.draft||l.published),Kn((l,u)=>!!l!=!!u),Vwe(25)).pipe(tt(l=>{if(l)return be({type:"success",value:null});if(!r.templateName)return be({isResolving:!1,initialValue:void 0});const u=t.find(f=>f.id===r.templateName);if(!u)return console.warn('Template "%s" not defined, using empty initial value',r.templateName),be({isResolving:!1,initialValue:void 0});const d=Cr(LN(e,u,r.templateParams,o)).pipe(ce(f=>({isResolving:!1,initialValue:f}))).pipe(Xn(f=>(console.group("Failed to resolve initial value"),console.error(f),console.error("Template ID: %s",r.templateName),console.error("Parameters: %o",r.templateParams),console.groupEnd(),be({type:"error",error:f}))));return xn(be({isResolving:!0}),d).pipe(tt(f=>{let{isResolving:p,initialValue:m,resolveError:v}=f;return be(v?{type:"error",message:"Failed to resolve initial value"}:p?$fe:{type:"success",value:m})}))}),ki($fe),Kn())}function ay(e){if(rB(e))throw new Error("editOpsOf does not expect a draft id.");return{publishedId:e,draftId:ti(e)}}function wxn(e){let{getClient:t,documentPreviewStore:n,historyStore:r,initialValueTemplates:o,schema:i}=e;const s=n.unstable_observeDocumentPairAvailability,a=t(gn),l={client:a,getClient:t,observeDocumentPairAvailability:s,historyStore:r,schema:i};return{checkoutPair(u){return cOe(a,u)},initialValue(u,d){return xxn(i,o,n,u,d)},listenQuery(u,d,f){return dxn(a,u,d,f)},resolveTypeForDocument(u,d){return fxn(a,u,d)},pair:{consistencyStatus(u,d){return bOe(l.client,ay(u),d)},documentEvents(u,d){return oxn(l.client,ay(u),d)},editOperations(u,d){return lxn(l,ay(u),d)},editState(u,d){return uOe(l,ay(u),d)},operationEvents(u,d){return COe({client:a,historyStore:r,schema:i}).pipe(ct(f=>f.args.idPair.publishedId===u&&f.args.typeName===d),ce(f=>{const{operationName:p,idPair:m}=f.args;return f.type==="success"?{type:"success",op:p,id:m.publishedId}:{type:"error",op:p,id:m.publishedId,error:f.error}}))},validation(u,d){return rxn(l,ay(u),d)}}}}const Rfe={isLoaded:!1,documentType:void 0};function NOn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";const n=Vl(),r=Zn(e),o=!!(t&&t!=="*"),i=h.useMemo(()=>({documentType:t,isLoaded:!0}),[t]),[s,a]=h.useState(o?i:Rfe);return h.useEffect(()=>a(Rfe),[r,t]),h.useEffect(()=>{if(o)return;const l=n.resolveTypeForDocument(r,t).subscribe(u=>a({documentType:u,isLoaded:!0}));return()=>l.unsubscribe()},[n,r,t,o]),o?i:s}function Cxn(e,t){const n=Ps(),r=h.useMemo(()=>e?n.observePaths({_type:"reference",_ref:e},t):be(void 0),[e,n,t]);return DTe(r)}function _xn(e){const{documentId:t,documentType:n,templateName:r,templateParams:o}=e,i=Go(o),s=Vl(),a=NN(),l=h.useMemo(()=>({_id:t,_type:n}),[t,n]),[u,d]=h.useState({loading:!1,error:null,value:l});return h.useEffect(()=>{const f={documentId:t,documentType:n,templateName:r,templateParams:i};if(!r){d({loading:!0,error:null,value:l});return}const m=s.initialValue(f,a).subscribe(v=>{v.type==="loading"&&d({loading:!0,error:null,value:l}),v.type==="success"&&d({loading:!1,error:null,value:v.value?{...l,...v.value}:l}),v.type==="error"&&d({loading:!1,error:v.error,value:l})});return d({loading:!0,error:null,value:l}),()=>m.unsubscribe()},[l,t,s,n,r,i,a]),u}function NN(){const e=ur(),t=dr(),n=ii(),r=aOe(),o=sOe(),i=e.getClient;return h.useMemo(()=>({projectId:r,dataset:o,getClient:i,schema:t,currentUser:n}),[i,t,n,r,o])}function zN(){const e=NN();return h.useCallback((t,n)=>QA(t,n,BN,e),[e])}function Sxn(e,t){const n=e.get(t);if(!n)throw new Error("No such schema type: ".concat(t));return n}function Exn(e){let{grantsStore:t,permission:n,draft:r,published:o,liveEdit:i}=e;const s=r||o,a=s===r?"draft":"published",{checkDocumentPermission:l}=t;switch(n){case"delete":return i?[["delete published document (live-edit)",l("update",o)]]:[["delete draft document",l("update",r)],["delete published document",l("update",o)]];case"discardDraft":return i?[]:[["delete draft document",l("update",r)]];case"publish":return i?[]:[["update published document at its current state",l("update",o)],["delete draft document",l("update",r)],["create published document from draft",l("create",r&&{...r,_id:Zn(r._id)})]];case"unpublish":return i?[]:[["update draft document at its current state",l("create",r)],["delete published document",l("update",o)],["create draft document from published version",l("create",o&&{...o,_id:ti(o._id)})]];case"update":return i?[["update published document (live-edit)",l("update",o)]]:[["update ".concat(a," document"),l("update",s)]];case"duplicate":return i?[["create new published document from existing document (live-edit)",l("create",{...o,_id:"dummy-id"})]]:[["create new draft document from existing ".concat(a," document"),l("create",{...s,_id:ti("dummy-id")})]];default:throw new Error("Could not match permission: ".concat(n))}}function kxn(e){let{client:t,grantsStore:n,schema:r,id:o,permission:i,type:s}=e;if(s==="*")return be({granted:!1,reason:"Type specified was `*`"});const a=!!Sxn(r,s).liveEdit;return MN(t,{draftId:ti(o),publishedId:Zn(o)},s).pipe(tt(l=>Vo([l.draft.snapshots$,l.published.snapshots$]).pipe(ce(u=>{let[d,f]=u;return{draft:d,published:f}}))),tt(l=>{let{draft:u,published:d}=l;const f=Exn({grantsStore:n,permission:i,draft:u,published:d,liveEdit:a}).map(p=>{let[m,v]=p;return v.pipe(ce(g=>{let{granted:b,reason:x}=g;return{granted:b,reason:b?"":"not allowed to ".concat(m,": ").concat(x),label:m,permission:i}}))});return f.length?Vo(f).pipe(ce(p=>{const m=p.every(g=>g.granted),v=m?"":"Unable to ".concat(i,`:
	`).concat(p.filter(g=>!g.granted).map(g=>g.reason).join(`
	`));return{granted:m,reason:v}})):be({granted:!0,reason:""})}))}const jxn=ch(kxn);function hh(e){let{id:t,type:n,permission:r,client:o,schema:i,grantsStore:s}=e;const a=Sr(gn),l=dr(),u=UN(),d=h.useMemo(()=>o||a,[a,o]),f=h.useMemo(()=>i||l,[l,i]),p=h.useMemo(()=>s||u,[u,s]);return jxn(h.useMemo(()=>({client:d,schema:f,grantsStore:p,id:t,permission:r,type:n}),[d,p,t,r,f,n]))}function _Oe(e){let{grantsStore:t,document:n,permission:r}=e;const{checkDocumentPermission:o}=t;return o(r,n)}const Txn=ch(_Oe);function Axn(e){let{document:t,permission:n,...r}=e;const o=UN();return Txn({grantsStore:r.grantsStore||o,document:t,permission:n})}function SOe(e){return typeof e=="object"&&e!==null&&"serialize"in e?SOe(e.serialize()):e}function Dxn(e){let{grantsStore:t,templateItems:n,templates:r,schema:o,context:i}=e;return n!=null&&n.length?Vo(n.map(SOe).map(async s=>{const a=r.find(u=>u.id===s.templateId);if(!a)throw new Error('template not found: "'.concat(s.templateId,'"'));const l=await LN(o,a,s.parameters,i);return{template:a,item:s,resolvedInitialValue:l}}).map(s=>Cr(s).pipe(tt(a=>{let{item:l,resolvedInitialValue:u,template:d}=a;const f=o.get(d.schemaType);if(!f)throw new Error('schema type not found: "'.concat(d.schemaType,'"'));const p=f==null?void 0:f.liveEdit,{initialDocumentId:m="dummy-id"}=l;return _Oe({grantsStore:t,permission:"create",document:{_id:p?Zn(m):ti(m),...u}}).pipe(ce(v=>{let{granted:g,reason:b}=v;const x=l.title||d.title;return{...l,granted:g,reason:b,resolvedInitialValue:u,template:d,title:x,subtitle:f.title===x?void 0:f.title,description:l.description||d.description,icon:l.icon||d.icon}}))})))):be([])}const Ixn=ch(Dxn);function EOe(e){let{templateItems:t,...n}=e;const r=dr(),o=mC(),i=UN(),s=NN();return Ixn({templateItems:t,grantsStore:n.grantsStore||i,schema:n.schema||r,templates:n.templates||o,context:s})}const Mfe="_debug_",Pxn=typeof window>"u"?be({}):Zi(window,"hashchange"),kOe=ho(be(0),Pxn).pipe(ce(()=>typeof document>"u"?"#":document.location.hash),Kn(),ce(e=>e.substring(1).split(";").filter(t=>t.toLowerCase().startsWith(Mfe)).map(t=>t.substring(Mfe.length)))),Oxn=kOe.pipe(ce(e=>e.find(t=>t.startsWith("roles="))),ce(e=>(e==null?void 0:e.split("roles=")[1].split(",").map(t=>t.trim()))||[])),$xn=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],Ffe=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],Rxn=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],Mxn=[{filter:'_id in path("**")',permissions:["read"]},{filter:'_id in path("drafts.**")',permissions:["create","history","update"]}],Lfe=[{filter:'_id in path("**")',permissions:["read","history"]}],Fxn=[{filter:"!locked",permissions:["read","create","update"]}],Lxn=[{filter:'_id in path("drafts.**") && _type in ["stringsTest", "book", "author", "referenceTest"]',permissions:["read","create","history","update"]},{filter:'_id in path("**")',permissions:["read"]}],Bfe={administrator:$xn,editor:Ffe,developer:Rxn,contributor:Mxn,viewer:Lfe,restricted:Lxn,requiresApproval:Fxn,read:Lfe,write:Ffe},Bxn=Oxn.pipe(ce(e=>e.length?e.filter(t=>!!t&&t in Bfe).flatMap(t=>Bfe[t]||[]):null));async function Nxn(e,t,n){return await e.request({uri:"/projects/".concat(t,"/datasets/").concat(n,"/acl"),tag:"acl.get",withCredentials:!0})}function zxn(e){const t={};return e!==null&&(t.identity=e.id),t}const i3=new Map;async function Vxn(e,t,n){i3.has(t)||i3.set(t,bje("*[".concat(t,"]")));const r=i3.get(t),o=zxn(e),{identity:i}=o,s={...o},a=await(await hje(r,{dataset:[n],identity:i,params:s})).get();return(a==null?void 0:a.length)===1}function Hxn(e){let{client:t,currentUser:n}=e;const r=t.withConfig({apiVersion:"2021-06-07"}),o=jo(()=>be(r.config())).pipe(tt(s=>{let{projectId:a,dataset:l}=s;if(!a||!l)throw new Error("Missing projectId or dataset");return Nxn(r,a,l)})),i=Bxn.pipe(tt(s=>s?be(s):o),ml(1),yBt(1e3));return{checkDocumentPermission(s,a){return i.pipe(tt(l=>Uxn(n,l,s,a)),Kn(Nf))}}}async function Uxn(e,t,n,r){if(!r)return{granted:!0,reason:"Null document, nothing to check"};if(!t.length)return{granted:!1,reason:"No document grants"};const o=[];for(const s of t)await Vxn(e,s.filter,r)&&o.push(s);const i=o.some(s=>s.permissions.some(a=>a===n));return{granted:i,reason:i?"Matching grant":"No matching grants found"}}async function Wxn(e,t){const n=t?{headers:{Authorization:"Bearer ".concat(t)}}:{credentials:"include"},r=await fetch(e,n);return Yxn(r)}function Yxn(e){const t=e.body;if(!t)throw new Error("Failed to read body from response");let n,r=!1;return new ReadableStream({start(o){n=t.getReader();const i=new TextDecoder;let s="";n.read().then(function a(l){if(l.done){if(r)return;if(s=s.trim(),s.length===0){o.close();return}o.enqueue(JSON.parse(s)),o.close();return}s+=i.decode(l.value,{stream:!0});const u=s.split(`
`);for(let d=0;d<u.length-1;++d){const f=u[d].trim();if(f.length!==0)try{o.enqueue(JSON.parse(f))}catch(p){o.error(p),r=!0,n.cancel();return}}return s=u[u.length-1],n.read().then(a).catch(d=>o.error(d))}).catch(a=>o.error(a))},cancel(){r=!0,n.cancel()}})}var qxn=Object.defineProperty,Gxn=(e,t,n)=>t in e?qxn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,s3=(e,t,n)=>(Gxn(e,typeof t!="symbol"?t+"":t,n),n);function Nfe(e){return{id:e,hasAttrs:!1,attrs:null,rev:null,events:[],aligned:!1}}function Kxn(e,t){const n=t.events.findIndex(r=>e.id===r.transactionId);return n>=0?n+1:t.rev?t.rev===e.id?0:-1:0}function zfe(e,t){if(e.hasAttrs=!0,t){if(e.attrs={...t},typeof e.attrs._rev!="string")throw new Error("snapshot has no _rev");e.rev=e.attrs._rev,delete e.attrs._rev}else e.attrs=null,e.rev=null;e.events=[]}class Zxn{constructor(t){s3(this,"timeline"),s3(this,"earliestTransactionId",null),s3(this,"_states"),this.timeline=t,this._states={draft:Nfe(t.draftId),published:Nfe(t.publishedId)}}appendRemoteSnapshotEvent(t){const n=this._states[t.version];if(t.type==="snapshot"){this._maybeInvalidateHistory(),zfe(n,t.document);return}t.type==="remoteMutation"&&(n.aligned?(this._apply(n,t),this.timeline.addRemoteMutation(t)):n.hasAttrs?n.events.push(t):zfe(n,t.head))}prependHistoryEvent(t){if(!this.acceptsHistory)throw new Error("cannot prepend history at this point");for(const n of Object.values(this._states))if(!n.aligned){const r=Kxn(t,n);r>=0&&this._alignAtIndex(n,r)}this.timeline.addTranslogEntry(t),this.earliestTransactionId=t.id}didReachEarliestEntry(){for(const t of Object.values(this._states))if(!t.aligned){if(t.attrs!==null)throw new Error("unable to find translog entry to align to");this._alignAtIndex(t,0)}this.timeline.didReachEarliestEntry()}get isAligned(){return Object.values(this._states).every(t=>t.aligned)}get acceptsHistory(){return this._isComplete}get currentDocument(){return{draft:this._states.draft.attrs,published:this._states.published.attrs}}_alignAtIndex(t,n){for(const r of t.events.slice(0,n))this._apply(t,r);for(const r of t.events.slice(n))this._apply(t,r),this.timeline.addRemoteMutation(r);t.events=[],t.aligned=!0}get _isComplete(){return Object.values(this._states).every(t=>t.hasAttrs)}_apply(t,n){t.attrs=VM(t.attrs,n.effects.apply),t.rev=n.transactionId}_maybeInvalidateHistory(){if(this._isComplete){for(const t of Object.values(this._states))t.aligned=!1;this.earliestTransactionId=null,this.timeline.reset()}}}var Xxn=Object.defineProperty,Qxn=(e,t,n)=>t in e?Xxn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ph=(e,t,n)=>(Qxn(e,typeof t!="symbol"?t+"":t,n),n);class Jxn{constructor(t,n,r,o){Ph(this,"timeline"),Ph(this,"start"),Ph(this,"end"),Ph(this,"doc"),Ph(this,"_startDocument"),Ph(this,"_endDocument"),Ph(this,"_diff"),this.timeline=t,this.start=r,this.end=o,this.doc=n}same(t,n){return this.start===t&&this.end===n}endAttributes(){return Vfe(this.endDocument())}endDocument(){return this._endDocument||(this._endDocument=this.timeline.replayBackwardsUntil(this.end.end,this.doc)),this._endDocument}startAttributes(){return Vfe(this.startDocument())}startDocument(){if(!this.start)throw new Error("start required");return this._startDocument||(this._startDocument=this.timeline.replayBackwardsBetween(this.start.end,this.end.end-1,this.endDocument())),this._startDocument}diff(){if(!this._diff){if(!this.start)throw new Error("start required");this._diff=this.timeline.calculateDiff(this.startDocument(),this.endDocument(),this.start.index+1,this.end.index)}return this._diff}}function Vfe(e){return e.draft||e.published}var ewn=Object.defineProperty,twn=(e,t,n)=>t in e?ewn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fi=(e,t,n)=>(twn(e,typeof t!="symbol"?t+"":t,n),n);const nwn=50;class rwn{constructor(t){fi(this,"timeline"),fi(this,"client"),fi(this,"handler"),fi(this,"version",0),fi(this,"selectionState","inactive"),fi(this,"_aligner"),fi(this,"_fetchMore",!1),fi(this,"_fetchAtLeast",0),fi(this,"_isRunning",!1),fi(this,"_isSuspended",!1),fi(this,"_didErr",!1),fi(this,"_since",null),fi(this,"_sinceTime",null),fi(this,"_rev",null),fi(this,"_revTime",null),fi(this,"_reconstruction"),this.timeline=t.timeline,this.client=t.client,this.handler=t.handler,this._aligner=new Zxn(this.timeline),this.markChange()}clearRange(){this.setRange(null,null)}setRange(t,n){n!==this._rev&&this.setRevTime(n),t!==this._since&&this.setSinceTime(t);let r=10;if(this._sinceTime==="loading"||this._revTime==="loading"||!this._aligner.isAligned)this.selectionState="loading";else if(this._sinceTime==="invalid"||this._revTime==="invalid")this.selectionState="invalid";else if(this._sinceTime){this.selectionState="range";const o=this._revTime||this.timeline.lastChunk();this._sinceTime.index>o.index?(this._revTime="invalid",this.selectionState="invalid"):this.setReconstruction(this._sinceTime,o)}else this._revTime?(this.selectionState="rev",this.setReconstruction(null,this._revTime)):(this.selectionState="inactive",r=0);this._fetchAtLeast=r,this.start()}setLoadMore(t){this._fetchMore=t,this.start()}get sinceTime(){return this._sinceTime&&typeof this._sinceTime=="object"?this._sinceTime:null}get revTime(){return this._revTime&&typeof this._revTime=="object"?this._revTime:null}get realRevChunk(){return this.revTime||this.timeline.lastChunk()}onOlderRevision(){return!!this._rev&&(this.selectionState==="range"||this.selectionState==="rev")}findRangeForNewRev(t){const n=this.timeline.isLatestChunk(t)?null:this.timeline.createTimeId(t);if(!this._since)return[null,n];const r=this.sinceTime;return r&&r.index<t.index?[this._since,n]:["@lastPublished",n]}findRangeForNewSince(t){const n=this.revTime;return n&&t.index<n.index?[this.timeline.createTimeId(t),this._rev]:[this.timeline.createTimeId(t),null]}setRevTime(t){this._rev=t,this._revTime=t?this.timeline.parseTimeId(t):null,this._since==="@lastPublished"&&(this._since=null,this._sinceTime=null)}setSinceTime(t){t==="@lastPublished"?typeof this._revTime=="string"?this._sinceTime=this._revTime:this._sinceTime=this.timeline.findLastPublishedBefore(this._revTime):this._sinceTime=t?this.timeline.parseTimeId(t):null,this._since=t}sinceAttributes(){return this._sinceTime&&this._reconstruction?this._reconstruction.startAttributes():null}displayed(){return this._revTime&&this._reconstruction?this._reconstruction.endAttributes():null}setReconstruction(t,n){this._reconstruction&&this._reconstruction.same(t,n)||(this._reconstruction=new Jxn(this.timeline,this._aligner.currentDocument,t,n))}currentDiff(){return this._reconstruction?this._reconstruction.diff():null}currentObjectDiff(){const t=this.currentDiff();if(t){if(t.type==="null")return null;if(t.type!=="object")throw new Error("ObjectDiff expected, got ".concat(t.type))}return t}handleRemoteMutation(t){this._aligner.appendRemoteSnapshotEvent(t),this.markChange(),this._aligner.acceptsHistory&&this.start()}start(){this._didErr||this._isRunning||(this._isRunning=!0,this.tick().then(()=>{this._isRunning=!1}))}resume(){this._isSuspended=!1}suspend(){this._isSuspended=!0}async tick(){var t;if(this._aligner.acceptsHistory&&!this.timeline.reachedEarliestEntry&&(this.selectionState==="loading"||this._fetchMore||this.timeline.chunkCount<=this._fetchAtLeast)&&!this._isSuspended){try{await this.fetchMoreTransactions()}catch(r){this._didErr=!0,(t=this.handler)==null||t.call(this,r,this);return}await this.tick()}}async fetchMoreTransactions(){const t=this.timeline.publishedId,n=this.timeline.draftId,r=this.client.config(),o=nwn;let i="tag=sanity.studio.desk.history&effectFormat=mendoza&excludeContent=true&excludeMutations=true&includeIdentifiedDocumentsOnly=true&reverse=true&limit=".concat(o),s=this._aligner.earliestTransactionId;s&&(i+="&toTransaction=".concat(s));const a=this.client.getUrl("/data/history/".concat(r.dataset,"/transactions/").concat(t,",").concat(n,"?").concat(i)),u=(await Wxn(a,r.token)).getReader();let d=0;for(;;){const f=await u.read();if(f.done)break;if("error"in f.value)throw new Error(f.value.error.description||f.value.error.type);if(d++,f.value.id!==s){if(this._aligner.earliestTransactionId!==s||!this._aligner.acceptsHistory)return;this._aligner.prependHistoryEvent(f.value),s=this._aligner.earliestTransactionId}}this._aligner.earliestTransactionId!==s||!this._aligner.acceptsHistory||(d<o&&this._aligner.didReachEarliestEntry(),this.markChange())}markChange(){var t;this.timeline.updateChunks(),this.setRevTime(this._rev),this.setSinceTime(this._rev),this.version++,(t=this.handler)==null||t.call(this,null,this)}}function own(e,t){return e&&t?e.author===t.author&&e.chunk===t.chunk:!e&&!t}function Hfe(e){return e.draft||e.published}var iwn=Object.defineProperty,swn=(e,t,n)=>t in e?iwn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Co=(e,t,n)=>(swn(e,typeof t!="symbol"?t+"":t,n),n);class awn{constructor(t,n,r,o){Co(this,"type","array"),Co(this,"value"),Co(this,"length"),Co(this,"annotation"),Co(this,"extractor"),Co(this,"content"),Co(this,"elements",[]),this.content=t,this.value=n,this.annotation=r,this.extractor=o,this.length=t.elements.length}at(t){if(t>=this.length)throw new Error("out of bounds");const n=this.elements[t];return n||(this.elements[t]=jk(this.content.elements[t],this.value[t],this.extractor))}annotationAt(t){const n=this.content.metas[t];return this.extractor.fromMeta(n)}}class lwn{constructor(t,n,r,o){Co(this,"type","object"),Co(this,"value"),Co(this,"keys"),Co(this,"annotation"),Co(this,"extractor"),Co(this,"content"),Co(this,"fields",{}),this.content=t,this.value=n,this.annotation=r,this.extractor=o,this.keys=Object.keys(t.fields)}get(t){const n=this.fields[t];if(n)return n;const r=this.content.fields[t];if(r)return this.fields[t]=jk(r,this.value[t],this.extractor)}}class cwn{constructor(t,n,r,o){Co(this,"type","string"),Co(this,"value"),Co(this,"annotation"),Co(this,"extractor"),Co(this,"content"),this.content=t,this.value=n,this.annotation=r,this.extractor=o}sliceAnnotation(t,n){const r=[];let o=0;function i(s,a){if(r.length>0){const l=r[r.length-1];if(own(l.annotation,a)){l.text+=s;return}}r.push({text:s,annotation:a})}for(const s of this.content.parts){const a=s.value.length,l=Math.max(0,t-o);if(l<a){const u=Math.min(a,n-o);if(u<=0)break;i(s.value.slice(l,u),this.extractor.fromValue(s))}o+=a}return r}}function jk(e,t,n){const r=n.fromValue(e);if(e.content)switch(e.content.type){case"array":return new awn(e.content,t,r,n);case"object":return new lwn(e.content,t,r,n);case"string":return new cwn(e.content,t,r,n)}return A7(t,r)}function Ufe(e,t,n){return n?z4(e,n.transactionIndex+1,n.chunk.index):t?z4(e,t.start,t.index):null}function Wfe(e,t){return t?z4(e,t.transactionIndex,t.chunk.index):null}function z4(e,t,n){const r=e.transactionByIndex(t);if(!r)return null;const o=e.chunkByTransactionIndex(t,n);return o?{chunk:o,timestamp:r.timestamp,author:r.author}:null}function uwn(e,t,n,r,o,i){const s=jk(n,r,{fromValue(l){return Ufe(e,t,l.endMeta)},fromMeta(l){return Ufe(e,t,l)}}),a=jk(o,i,{fromValue(l){return Wfe(e,l.startMeta)},fromMeta(l){return Wfe(e,l)}});return rA(s,a)}var dwn=Object.defineProperty,fwn=(e,t,n)=>t in e?dwn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yfe=(e,t,n)=>(fwn(e,typeof t!="symbol"?t+"":t,n),n);class d2{constructor(){Yfe(this,"_postive",[]),Yfe(this,"_negative",[])}addToEnd(t){t.index=this._postive.length,this._postive.push(t)}addToBeginning(t){if(this.length==0){this.addToEnd(t);return}t.index=-(this._negative.length+1),this._negative.push(t)}mergeAtEnd(t,n){if(this.length===0){this.addToEnd(t);return}const r=this.lastIdx,o=n(this.get(r),t);Array.isArray(o)?(this.set(r,o[0]),this.addToEnd(o[1])):this.set(r,o)}mergeAtBeginning(t,n){if(this.length===0){this.addToEnd(t);return}const r=this.firstIdx,o=n(t,this.get(r));Array.isArray(o)?(this.set(r,o[1]),this.addToBeginning(o[0])):this.set(r,o)}removeFromEnd(){this._postive.length===0?this._negative.shift():this._postive.pop()}has(t){return t>=0?t<this._postive.length:-(t+1)<this._negative.length}get(t){return t>=0?this._postive[t]:this._negative[-(t+1)]}set(t,n){t>=0?(n.index=t,this._postive[t]=n):(n.index=t,this._negative[-(t+1)]=n)}get lastIdx(){return this._postive.length-1}get last(){return this.get(this.lastIdx)}get firstIdx(){return-this._negative.length}get first(){return this.get(this.firstIdx)}get length(){return this._postive.length+this._negative.length}}function hwn(e){return e==="create"||e==="editDraft"}const pwn=5*60*1e3;function mwn(e,t){return Date.parse(t)-Date.parse(e)<pwn}function qfe(e,t){if(e.end!==t.start)throw new Error("chunks are not next to each other");const n=Kfe(e.draftState,t.draftState),r=Kfe(e.publishedState,t.publishedState);if(e.type==="delete"&&t.type==="editDraft")return[e,{...t,type:"create",draftState:n,publishedState:r}];if(t.type==="delete"){if(n==="missing"&&r==="present")return[e,{...t,type:"discardDraft",draftState:n,publishedState:r}];if(n==="present"&&r==="missing")return[e,{...t,type:"unpublish",draftState:n,publishedState:r}]}if(hwn(e.type)&&t.type==="editDraft"&&mwn(e.endTimestamp,t.startTimestamp)){const o=new Set;for(const i of e.authors)o.add(i);for(const i of t.authors)o.add(i);return{index:0,id:t.id,type:e.type,start:e.start,end:t.end,startTimestamp:e.startTimestamp,endTimestamp:t.endTimestamp,authors:o,draftState:n,publishedState:r}}return[e,{...t,draftState:n,publishedState:r}]}function Gfe(e){const t=!!e;return e&&V4(e==null?void 0:e.apply)?"deleted":t?"upsert":"unedited"}function gwn(e){const t=Gfe(e.draftEffect),n=Gfe(e.publishedEffect);if(n==="unedited"){if(t==="deleted")return"delete";if(t==="upsert")return"editDraft"}if(n==="deleted")return"delete";if(n==="upsert"){if(t==="unedited")return"editLive";if(t==="deleted")return"publish";if(t==="upsert")return"editLive"}return"editLive"}function a3(e){const t=!!e.draftEffect,n=!!e.publishedEffect,r=e.draftEffect&&V4(e.draftEffect.apply),o=e.publishedEffect&&V4(e.publishedEffect.apply),i=gwn(e);return{index:0,id:e.id,type:i,start:e.index,end:e.index+1,startTimestamp:e.timestamp,endTimestamp:e.timestamp,authors:new Set([e.author]),draftState:t?r?"missing":"present":"unknown",publishedState:n?o?"missing":"present":"unknown"}}function Kfe(e,t){return t==="unknown"?e:t}function V4(e){return e[0]===0&&e[1]===null}var vwn=Object.defineProperty,ywn=(e,t,n)=>t in e?vwn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wd=(e,t,n)=>(ywn(e,typeof t!="symbol"?t+"":t,n),n);let bwn=class{constructor(t){wd(this,"reachedEarliestEntry",!1),wd(this,"publishedId"),wd(this,"draftId"),wd(this,"_transactions",new d2),wd(this,"_chunks",new d2),wd(this,"_possiblePendingTransactions",new Map),wd(this,"_recreateTransactionsFrom"),wd(this,"_trace"),this.publishedId=t.publishedId,this.draftId="drafts.".concat(t.publishedId),t.enableTrace&&(this._trace=[],this._trace.push({type:"initial",publishedId:t.publishedId}),window.__sanityTimelineTrace=this._trace)}get chunkCount(){return this._chunks.length}mapChunks(t){const n=[],r=this._chunks.firstIdx,o=this._chunks.lastIdx;for(let i=o;i>=r;i--)n.push(t(this._chunks.get(i),i));return n}reset(){this._transactions=new d2,this._chunks=new d2,this._possiblePendingTransactions=new Map,this._recreateTransactionsFrom=void 0,this.reachedEarliestEntry=!1}addRemoteMutation(t){this._trace&&this._trace.push({type:"addRemoteMutation",event:t});const n=this._possiblePendingTransactions.get(t.transactionId),r=n?n.transaction:{index:0,id:t.transactionId,timestamp:t.timestamp.toISOString(),author:t.author};t.version==="draft"?r.draftEffect=t.effects:r.publishedEffect=t.effects,n?(this._possiblePendingTransactions.delete(t.transactionId),this._invalidateTransactionFrom(n.idx)):(this._transactions.addToEnd(r),this._possiblePendingTransactions.set(t.transactionId,{transaction:r,idx:this._transactions.lastIdx}))}addTranslogEntry(t){this._trace&&this._trace.push({type:"addTranslogEntry",event:t}),this._transactions.addToBeginning({index:0,id:t.id,author:t.author,timestamp:t.timestamp,draftEffect:t.effects[this.draftId],publishedEffect:t.effects[this.publishedId]})}didReachEarliestEntry(){this._trace&&this._trace.push({type:"didReachEarliestEntry"}),this.reachedEarliestEntry=!0}updateChunks(){this._trace&&this._trace.push({type:"updateChunks"}),this._removeInvalidatedChunks(),this._addChunksFromTransactions(),this._createInitialChunk()}_removeInvalidatedChunks(){if(this._recreateTransactionsFrom){for(;this._chunks.length>0;){const t=this._chunks.last;if(this._recreateTransactionsFrom<t.end)this._chunks.removeFromEnd();else break}this._recreateTransactionsFrom=void 0}}_addChunksFromTransactions(){const t=this._transactions.firstIdx,n=this._transactions.lastIdx,r=this._chunks.length>0?this._chunks.last.end:t;for(let i=r;i<=n;i++){const s=this._transactions.get(i);this._chunks.mergeAtEnd(a3(s),qfe)}if(this._chunks.length==0)return;const o=this._chunks.first.start;for(let i=o-1;i>=t;i--){const s=this._transactions.get(i);this._chunks.mergeAtBeginning(a3(s),qfe)}}_invalidateTransactionFrom(t){(this._recreateTransactionsFrom===void 0||t<this._recreateTransactionsFrom)&&(this._recreateTransactionsFrom=t)}_createInitialChunk(){var t;if(this.reachedEarliestEntry){if(((t=this._chunks.first)==null?void 0:t.type)==="initial")return;const n=this._transactions.first;if(!n)return;const r=a3(n);r.type="initial",r.id="@initial",r.end=r.start,this._chunks.addToBeginning(r)}}parseTimeId(t){if(this._chunks.length===0)return this.reachedEarliestEntry?"invalid":"loading";const n=t.split("/",3),r=n.shift(),o=n.shift(),i=Number(r);for(let s=this._chunks.lastIdx;s>=this._chunks.firstIdx;s--){const a=this._chunks.get(s);if(a.id===o)return a;if(Date.parse(a.endTimestamp)+60*60*1e3<i)return"invalid"}return this.reachedEarliestEntry?"invalid":"loading"}findLastPublishedBefore(t){for(let n=t?t.index-1:this._chunks.lastIdx;n>=this._chunks.firstIdx;n--){const r=this._chunks.get(n);if(r.type==="publish"||r.type==="initial")return r}return this.reachedEarliestEntry?this._chunks.first:"loading"}isLatestChunk(t){return t===this._chunks.last}createTimeId(t){return"".concat(t.endTimestamp.valueOf(),"/").concat(t.id)}lastChunk(){return this._chunks.last}transactionByIndex(t){return this._transactions.has(t)?this._transactions.get(t):null}chunkByTransactionIndex(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;for(;;){const o=this._chunks.get(r);if(!o)throw new Error("transaction does not belong in any chunk");if(t>=o.end)r++;else if(t<o.start)r--;else return o}}replayBackwardsBetween(t,n,r){let o=r.draft,i=r.published;for(let s=n;s>=t;s--){const a=this._transactions.get(s);a.draftEffect&&(o=VM(o,a.draftEffect.revert)),a.publishedEffect&&(i=VM(i,a.publishedEffect.revert))}return{draft:o,published:i}}replayBackwardsUntil(t,n){return this.replayBackwardsBetween(t,this._transactions.lastIdx,n)}calculateDiff(t,n,r,o){let i=il.wrap(t.draft,null),s=il.wrap(t.published,null);const a=xwn(i,s),l=Hfe(t);let u=null;for(let p=r;p<=o;p++){const m=this._chunks.get(p);u||(u=m);for(let v=m.start;v<m.end;v++){const g=this._transactions.get(v),b={chunk:m,transactionIndex:v},x=i,y=s;g.draftEffect&&(i=il.applyPatch(i,g.draftEffect.apply,b)),g.publishedEffect&&(s=il.applyPatch(s,g.publishedEffect.apply,b));const w=il.getType(x)!=="null",C=il.getType(i)!=="null";il.getType(s)!=="null"&&!C&&(s=il.rebaseValue(x,s)),C&&!w&&(i=il.rebaseValue(y,i))}}const d=il.getType(i)==="null"?s:i,f=Hfe(n);return uwn(this,u,a,l,d,f)}};function xwn(e,t){return il.getType(e)==="null"?t:e}const Zfe=Object.create(null),wwn=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Array.isArray(t)?t:[t],{time:o,revision:i}=n;if(o&&i)throw new Error("getHistory can't handle both time and revision parameters");const s=e.config().dataset;let a="/data/history/".concat(s,"/documents/").concat(r.join(","));if(i)a="".concat(a,"?revision=").concat(i);else{const l=o||new Date().toISOString();a="".concat(a,"?time=").concat(l)}return e.request({url:a})},jOe=(e,t,n)=>{const r=Zn(t),o=ti(t),i="".concat(r,"@").concat(n),s=Zfe[i];if(s)return s;const a=e.config().dataset,l="/data/history/".concat(a,"/documents/").concat(r,",").concat(o,"?revision=").concat(n),u=e.request({url:l}).then(d=>{const f=d.documents||[],p=f.find(v=>v._id===r);return f.find(v=>v._id===o)||p});return Zfe[i]=u,u},Cwn=e=>{let{client:t,documentId:n,documentType:r}=e;const o=new bwn({enableTrace:hd,publishedId:n});return new rwn({client:t,documentId:n,documentType:r,timeline:o})},_wn=async(e,t)=>{const n=Array.isArray(t)?t:[t],r=e.config().dataset,o={excludeContent:"true",includeIdentifiedDocumentsOnly:"true"},i="/data/history/".concat(r,"/transactions/").concat(n.join(","));return(await e.request({url:i,query:o})).toString("utf8").split(`
`).filter(Boolean).map(l=>JSON.parse(l))},Swn=e=>ije(e,(t,n)=>Zu(n)&&!t.includes(n._ref)?[...t,n._ref]:t,[]);function H4(e,t){return Array.isArray(e)?t(e.map(n=>H4(n,t)).filter(n=>typeof n<"u")):Ct(e)?t(Object.keys(e).reduce((n,r)=>{const o=H4(e[r],t);return typeof o<"u"&&(n[r]=o),n},{})):t(e)}const Ewn=(e,t)=>H4(e,n=>Zu(n)?t(n):n),kwn=(e,t)=>Ewn(e,n=>t[n._ref]?n:void 0);function jwn(e,t,n,r){return Cr(jOe(e,t,r)).pipe(vt(o=>{if(!o)throw new Error("Unable to find document with ID ".concat(t," at revision ").concat(r));const i=Swn(o).map(s=>'"'.concat(s,'": defined(*[_id=="').concat(s,'"]._id)')).join(",");return e.observable.fetch("{".concat(i,"}")).pipe(ce(s=>kwn(o,s)))}),ce(o=>{const{_updatedAt:i,...s}=o;return{...s,_id:n}}),vt(o=>e.observable.createOrReplace(o,{visibility:"async"})))}function Twn(e){let{client:t}=e;return{getDocumentAtRevision:(n,r)=>jOe(t,n,r),getHistory:(n,r)=>wwn(t,n,r),getTransactions:n=>_wn(t,n),restore:(n,r,o)=>jwn(t,n,r,o),getTimelineController:Cwn}}const Xfe={chunks:[],diff:null,hasMoreChunks:null,isLoading:!1,isPristine:null,lastNonDeletedRevId:null,onOlderRevision:!1,realRevChunk:null,revTime:null,selectionState:"inactive",sinceAttributes:null,sinceTime:null,timelineDisplayed:null,timelineReady:!1};function Awn(e){let{documentId:t,documentType:n,onError:r,rev:o,since:i}=e;const s=AOe(),a=h.useRef(null),l=h.useRef(Xfe),u=Sr(gn),d=h.useMemo(()=>s.getTimelineController({client:u,documentId:t,documentType:n}),[u,t,n,s]),f=h.useMemo(()=>new Gj(d),[d]);return h.useEffect(()=>(d.setRange(i||null,o||null),f.next(d),d.handler=(m,v)=>{m?f.error(m):setTimeout(()=>{v.setRange(i||null,o||null),f.next(v)},0)},d.resume(),()=>d.suspend()),[o,i,d,f]),h.useEffect(()=>(a.current||(a.current=Zbn(u,{draftId:"drafts.".concat(t),publishedId:t},n).subscribe(m=>{d.handleRemoteMutation(m)})),()=>{a.current&&(a.current.unsubscribe(),a.current=null)}),[u,d,t,n]),h.useMemo(()=>({findRangeForRev:m=>d.findRangeForNewRev(m),findRangeForSince:m=>d.findRangeForNewSince(m),loadMore:()=>{d.setLoadMore(!0),l.current.isLoading=!0},getSnapshot:()=>l.current,subscribe:m=>{const v=f.pipe(Wn(g=>g.setLoadMore(!1)),ce(g=>{var b;const x=g.timeline.mapChunks(_=>_),y=x.filter(_=>!["delete","initial"].includes(_.type)),w=!g.timeline.reachedEarliestEntry,C=!["invalid","loading"].includes(g.selectionState);return{chunks:x,diff:g.sinceTime?g.currentObjectDiff():null,isLoading:!1,isPristine:C?x.length===0&&w===!1:null,hasMoreChunks:!g.timeline.reachedEarliestEntry,lastNonDeletedRevId:(b=y==null?void 0:y[0])==null?void 0:b.id,onOlderRevision:g.onOlderRevision(),realRevChunk:g.realRevChunk,revTime:g.revTime,selectionState:g.selectionState,sinceAttributes:g.sinceAttributes(),sinceTime:g.sinceTime,timelineDisplayed:g.displayed(),timelineReady:C}}),Kn(CF),Xn(g=>(r==null||r(g),be(Xfe))),Wn(g=>{l.current=g}),Wn(m)).subscribe();return()=>v.unsubscribe()}}),[d,r,f])}function Vi(e,t){return D7.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,null,t)}const Dwn=["pqSMwf6hH","pnLYqNfv5","priDVVmy8","p0NFOU0j8","pTDl2jw8d","pHMeQnTse","pDQYzJbyS","pZyoPHKUs","p4Tyi2Be5","pb9vii060","pE8yhOisw","p7Fd2C6Cj","p3exSgYCx","pbIQRYViC","p8GJaTEhN","p27ewL8aM","pYg97z75S","pdLr4quHv","pkJXiDgg6","pkl4UAKcA","pNoExists"],Iwn=[["nested","first"],["nested","second"],["nestedArray",{_key:"565c867c8dac"},"arrayNo1",{_key:"a645548a8f01"},"arrayNo1",{_key:"1685e372c40f"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo19"],["address","country"],["address","street"],["customInputWithDefaultPresence","row3","cell3"]],Pwn=jo(()=>Ei(0,1e4)).pipe(Wp(Dwn),ce((e,t)=>({type:"state",userId:e,sessionId:e+t,timestamp:new Date().toISOString(),locations:[{type:"document",documentId:"presence-debug",lastActiveAt:new Date().toISOString(),path:INt(Iwn)}]})),To()),Own=e=>{if(e.type==="rollCall")return{type:"rollCall",userId:e.i,sessionId:e.session};if(e.type==="state"){const{sessionId:t,locations:n}=e.m;return{type:"state",userId:e.i,sessionId:t,timestamp:new Date().toISOString(),locations:n}}if(e.type==="disconnect")return{type:"disconnect",userId:e.i,sessionId:e.m.session,timestamp:new Date().toISOString()};throw new Error("Got unknown presence event: ".concat(JSON.stringify(e)))},$wn=(e,t)=>{const n=e.request("presence").pipe(ce(Own)),r=o=>o.type==="rollCall"?e.request("presence_rollcall",{session:t}):o.type==="state"?e.request("presence_announce",{data:{locations:o.locations,sessionId:t}}):o.type==="disconnect"?e.request("presence_disconnect",{session:t}):Gn;return[n.pipe(Wa()),r]},TOe="presence_session_id",Rwn=()=>mNt(16);function Mwn(){try{return window.sessionStorage.getItem(TOe)}catch{}return null}function Fwn(e){try{window.sessionStorage.setItem(TOe,e)}catch{}return e}const f2=Mwn()||Fwn(Rwn());function Lwn(e){const{bifur:t,connectionStatusStore:n,userStore:r}=e,[o,i]=$wn(t,f2),s=new Gj([]),a=s.pipe(Kn()),l=A=>{s.next(A)},u=A=>i({type:"state",locations:A}),d=()=>i({type:"rollCall"}),f=o.pipe(ct(A=>A.type==="rollCall"),ct(A=>A.sessionId!==f2)),m=Ei(0,3e4),v=jo(()=>xn(a,f)).pipe(tt(()=>m),ib(s),ce(A=>{let[,D]=A;return D}),qet(200),tt(A=>u(A)),Wp(Gn),Wa()),g=jo(()=>d()).pipe(Wp(Gn)),b=n.connectionStatus$.pipe(ce(A=>A.type),ct(A=>A==="connected"||A==="error"),Kn()),x=kOe.pipe(ce(A=>A.find(D=>D.startsWith("presence="))),ce(A=>(A==null?void 0:A.split("presence=")[1].split(",").map(D=>D.trim()))||[])),y=x.pipe(ct(A=>A.includes("fake_others")),Wn(()=>{console.log('Faking other users present in the studio. They will hang out in the document with _type: "presence" and _id: "presence-debug"')}),att(Pwn)),w=x.pipe(ce(A=>A.includes("show_own"))),C=xn(g,o).pipe(ct(A=>A.type==="state"||A.type==="disconnect")),_=A=>({lastActiveAt:A.timestamp,locations:A.locations,sessionId:A.sessionId,userId:A.userId}),S=xn(C,y).pipe(Ua((A,D)=>D.type==="disconnect"?ji(A,D.sessionId):{...A,[D.sessionId]:_(D)},{})),E=b.pipe(tt(A=>A==="connected"?xn(S,v):WL),ce(A=>Object.values(A)),tt(A=>{const D=uo(A.map(I=>I.userId));return Cr(r.getUsers(D)).pipe(ce(I=>A.map(P=>({user:I.find(M=>M.id===P.userId),session:P})).filter(j)))}),qL(Zi(window,"beforeunload").pipe(tt(()=>i({type:"disconnect"})))),To({refCount:!0,bufferSize:1}));function j(A){return!!(A.user&&A.session)}const k=E.pipe(ce(A=>{const D=u7(A.map(I=>I.session),I=>I.userId);return Object.keys(D).map(I=>{var P;return{user:(P=A.find(M=>M.user.id===I))==null?void 0:P.user,sessions:D[I]}})}),ib(w),ce(A=>{let[D,I]=A;return D.filter(P=>I?!0:!P.sessions.some($=>$.sessionId===f2))}),ce(A=>A.map(D=>{var I;return{user:D.user,status:"online",lastActiveAt:(I=D.sessions.sort()[0])==null?void 0:I.lastActiveAt,locations:En((D.sessions||[]).map(P=>P.locations||[])).map(P=>({type:P.type,documentId:P.documentId,path:P.path,lastActiveAt:P.lastActiveAt})).reduce((P,M)=>P.concat(M),[])}})));return{setLocation:l,reportLocations:u,debugPresenceParam$:x,globalPresence$:k,documentPresence:A=>E.pipe(ib(w),tt(D=>{let[I,P]=D;return Cr(I).pipe(ct(M=>P||M.session.sessionId!==f2),itt(M=>(M.session.locations||[]).filter($=>$.documentId===A).map($=>({user:M.user,lastActiveAt:M.session.lastActiveAt,path:$.path||[],sessionId:M.session.sessionId}))),Nwe())}))}}function Bwn(){const[e,t]=h.useState([]),n=WN();return h.useEffect(()=>{const r=n.globalPresence$.subscribe(t);return()=>{r.unsubscribe()}},[n]),e}function VN(e){const t=WN(),[n,r]=h.useState([]);return h.useEffect(()=>{const o=t.documentPresence(e).subscribe(r);return()=>{o.unsubscribe()}},[e,t]),n}function Nwn(e){const{client:t}=e,n=t.config().projectId,r=t.withConfig({apiVersion:"2021-12-15"});function o(){return r.observable.request({url:"/projects/".concat(n)})}function i(){return r.observable.request({url:"/projects/".concat(n,"/datasets")})}return{get:o,getDatasets:i}}const zwn=(e,t)=>{try{return JSON.parse(e)}catch(n){return console.warn("Failed to parse settings: ".concat(n.message)),t}},Vwn=(e,t)=>{const n=localStorage.getItem(e);return be(n===null?t:zwn(n,t))},Hwn=(e,t)=>(typeof t>"u"||t===null?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)),be(t)),Uwn={get:Vwn,set:Hwn},Tk=Object.create(null),Wwn=(e,t)=>be(e in Tk?Tk[e]:t),Ywn=(e,t)=>(typeof t>"u"||t===null?delete Tk[e]:Tk[e]=t,be(t)),qwn={get:Wwn,set:Ywn};let ly=null;function Gwn(){if(ly!==null)return ly;const e="__test__";try{localStorage.setItem(e,e),localStorage.removeItem(e),ly=!0}catch{ly=!1}return ly}function Kwn(){return Gwn()?Uwn:qwn}function Zwn(){const e=Kwn(),t=new Ar,n=(a,l)=>"".concat(a,"::").concat(l),r=t.pipe(tt(a=>e.set(a.key,a.value).pipe(ce(l=>({key:a.key,value:l}))))),o=(a,l)=>xn(e.get(a,l),r.pipe(ct(u=>u.key===a),ce(u=>u.value))),i=(a,l)=>{t.next({key:a,value:l})},s=a=>({forKey:l=>{const u=n(a,l);return{listen:d=>o(u,d),set:d=>i(u,d),del:()=>i(u,void 0)}},listen:(l,u)=>o(n(a,l),u),set:(l,u)=>i(n(a,l),u),del:l=>i(n(a,l),void 0),forNamespace:l=>s(n(a,l))});return{forNamespace:s}}const Xwn=[{id:"<system>",displayName:"Sanity",imageUrl:"https://public.sanity.io/logos/favicon-192.png"}];function Qwn(e){let{client:t,currentUser:n}=e;const r=t.withConfig({apiVersion:"2021-06-07"}),o=new VNt(async s=>{const a=await r.request({uri:"/users/".concat(s.join(",")),withCredentials:!0,tag:"users.get"}),u=(Array.isArray(a)?a:[a]).reduce((d,f)=>(f!=null&&f.id&&(d[f.id]=f),d),{});return s.map(d=>u[d]||null)},{batchScheduleFn:s=>qNt(s)}),i=n&&{id:n.id,displayName:n.name,imageUrl:n.profileImage};return o.prime("me",i),i!=null&&i.id&&o.prime(i.id,i),Xwn.forEach(s=>o.prime(s.id,s)),{getUser:async s=>{try{return await o.load(s)}catch(a){if(a.statusCode===403)return Promise.resolve(null);throw a}},getUsers:async s=>(await o.loadMany(s)).filter(l=>Ct(l)&&typeof l.id=="string")}}function HN(){const{getClient:e,currentUser:t}=ur(),n=fd(),r=e(gn);return h.useMemo(()=>{const o=n.get({namespace:"userStore",dependencies:[r,t]})||Qwn({client:r,currentUser:t});return n.set({namespace:"userStore",dependencies:[r,t],value:o}),o},[r,t,n])}function UN(){const{getClient:e}=ur(),t=e(gn),n=ii(),r=fd();return h.useMemo(()=>{const o=r.get({namespace:"grantsStore",dependencies:[t,n]})||Hxn({client:t,currentUser:n});return r.set({namespace:"grantsStore",dependencies:[t,n],value:o}),o},[t,n,r])}function AOe(){const e=Sr(gn),t=fd();return h.useMemo(()=>{const n=t.get({namespace:"historyStore",dependencies:[e]})||Twn({client:e});return t.set({namespace:"historyStore",dependencies:[e],value:n}),n},[e,t])}function Ps(){const e=Sr(gn),t=fd();return h.useMemo(()=>{const n=t.get({namespace:"documentPreviewStore",dependencies:[e]})||VKt({client:e});return t.set({namespace:"documentPreviewStore",dependencies:[e],value:n}),n},[e,t])}function Vl(){const e=ur().getClient,t=dr(),n=mC(),r=fd(),o=AOe(),i=Ps();return h.useMemo(()=>{const s=r.get({namespace:"documentStore",dependencies:[e,i,o,t]})||wxn({getClient:e,documentPreviewStore:i,historyStore:o,initialValueTemplates:n,schema:t});return r.set({namespace:"documentStore",dependencies:[e,i,o,t],value:s}),s},[e,i,o,r,t,n])}function Jwn(){const{bifur:e}=ur().__internal,t=fd();return h.useMemo(()=>{const n=t.get({namespace:"connectionStatusStore",dependencies:[e]})||kqt({bifur:e});return t.set({namespace:"connectionStatusStore",dependencies:[e],value:n}),n},[e,t])}function WN(){const{__internal:{bifur:e}}=ur(),t=fd(),n=HN(),r=Jwn();return h.useMemo(()=>{const o=t.get({namespace:"presenceStore",dependencies:[e,r,n]})||Lwn({bifur:e,connectionStatusStore:r,userStore:n});return t.set({namespace:"presenceStore",dependencies:[e,r,n],value:o}),o},[e,r,t,n])}function eCn(){const e=Sr(gn),t=fd();return h.useMemo(()=>{const n=t.get({namespace:"projectStore",dependencies:[e]})||Nwn({client:e});return t.set({namespace:"projectStore",dependencies:[e],value:n}),n},[e,t])}function VOn(){const e=fd(),t=Nl();return h.useMemo(()=>{const n=e.get({dependencies:[t],namespace:"settingsStore"})||Zwn();return e.set({dependencies:[t],namespace:"settingsStore",value:n}),n},[e,t])}const tCn=/[^\p{Alpha}\p{White_Space}]/gu,nCn=/\p{White_Space}+/u,rCn={small:0,medium:1,large:2};function oCn(e){const t=e.replace(tCn,"").split(nCn);return t.length===1?"".concat(t[0].charAt(0)).toUpperCase():"".concat(t[0].charAt(0)).concat(t[t.length-1].charAt(0))}function Ya(e){const{user:t,...n}=e;return Ct(t)?n.withTooltip?c.jsx(iCn,{...n,user:t}):c.jsx(DOe,{...n,user:t}):c.jsx(sCn,{...e,user:t})}function iCn(e){const{user:{displayName:t}}=e;return c.jsx(yt,{content:c.jsx(F,{padding:2,children:c.jsx(B,{size:1,children:t})}),placement:"top",portal:!0,children:c.jsx("div",{style:{display:"inline-block"},children:c.jsx(DOe,{...e})})})}const DOe=h.forwardRef(function(t,n){const{user:r,animateArrowFrom:o,position:i,size:s,status:a,tone:l,...u}=t,[d,f]=h.useState(null),p=HZt(r.id),m=d||r==null?void 0:r.imageUrl;return c.jsx(Pxe,{animateArrowFrom:o,arrowPosition:i,color:p.name,"data-legacy-tone":l,initials:(r==null?void 0:r.displayName)&&oCn(r.displayName),src:m,onImageLoadError:f,ref:n,size:typeof s=="string"?rCn[s]:s,status:a,title:r==null?void 0:r.displayName,...u})});function sCn(e){let{user:t,...n}=e;const[r]=u1(t);return r?c.jsx(Ya,{...n,user:r}):null}function Zh(e,t,n){var r;if(t.length===0)return{...e||{},value:n};const[o,...i]=t,s=Or(o)?o._key:String(o),a=(r=e==null?void 0:e.children)!=null?r:{};return{value:e==null?void 0:e.value,children:{...a,[s]:Zh(a[s]||{},i,n)}}}const YN=20,aCn=3,tf={name:"all-fields",title:"All fields",hidden:!1};function lCn(e){return Ga(e.schemaType)}function cCn(e){return pF(e.schemaType)}function uCn(e,t){return[...t.map((n,r)=>({type:"expandPath",path:t.slice(0,r+1)})),...IOe(e,t)]}function IOe(e,t){return t.length===0?[]:lCn(e)?POe(e,t):cCn(e)?OOe(e,t):[]}function POe(e,t){var n,r;if(t.length===0)return[];const[o,...i]=t,s=e._allMembers.find(v=>v.kind==="fieldSet"&&v.fieldSet.members.some(g=>g.kind==="field"&&g.name===o)),l=(s?s.fieldSet.members:e._allMembers).find(v=>v!==null&&v.kind==="field"&&v.name===o),u=e.schemaType.fields.find(v=>v.name===o),d=(n=e.groups.find(v=>v.selected))==null?void 0:n.name,f=(r=(e.schemaType.groups||[]).find(v=>v.default))==null?void 0:r.name,p=d&&(d===tf.name||u&&Iw(u.group).includes(d)),m=[];return p||m.push({type:"setSelectedGroup",path:e.path,groupName:f||tf.name}),s&&m.push({type:"expandFieldSet",path:s.fieldSet.path}),l&&(tN(l)?m.push(...OOe(l.field,i)):IDe(l)&&m.push(...POe(l.field,i))),m}function OOe(e,t){if(t.length===0)return[];const[n,...r]=t;if(!Or(n))throw new Error("Expected path segment to be an object with a _key property");const o=e.members.find(i=>i.key===n._key);return o?IOe(o.item,r):[]}function _o(e,t){const{currentUser:n,document:r,parent:o,value:i}=t;return typeof e=="boolean"||e===void 0?!!e:e({document:r,parent:o,value:i,currentUser:n})===!0}function dCn(e,t){const n=js(t);return n==="object"&&e.of.length===1?e.of[0]:e.of.find(r=>r.name===n)}function fCn(e,t){const n=js(t);return e==null?void 0:e.of.find(r=>r.name===n||r.jsonType===n)}function qN(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if((e==null?void 0:e.collapsible)===!1||(e==null?void 0:e.collapsable)===!1)return{collapsible:!1,collapsed:!1};const n=typeof(e==null?void 0:e.collapsed)=="boolean"?e.collapsed:t>=aCn?!0:void 0;return{collapsible:(e==null?void 0:e.collapsible)===!0||(e==null?void 0:e.collapsable)===!0||n===!0?!0:void 0,collapsed:n}}function $Oe(e,t,n){return n.name===tf.name?!0:t===void 0?!1:e.length===0&&n.name===tf.name?!0:Iw(t).includes(n.name)}function Qfe(e){return typeof e>"u"||Ct(e)}function hCn(e){return typeof e>"u"||Array.isArray(e)}function pCn(e){return typeof e>"u"||Array.isArray(e)}function mCn(e){return e.length===0||e.every(t=>Ct(t))}function gCn(e){const t=new Set;return e.reduce((n,r,o)=>(t.has(r._key)&&n.push([o,r._key]),t.add(r._key),n),[])}function vCn(e){return"_key"in e}function yCn(e){return e==null?void 0:e.every(t=>Ct(t)&&vCn(t))}function Cv(e,t){return Array.isArray(e)&&typeof t>"u"||Array.isArray(t)&&typeof e>"u"?!1:e&&!t?!0:!Yt(e,t)}function Jfe(e){var t,n,r,o,i,s,a,l,u,d,f,p,m,v,g,b,x,y;const{parent:w,field:C,index:_}=e,S=am([...w.path,C.name]),E=eon(C.type,w.level+1),j=w.value,k=w.comparisonValue;if(!Qfe(j))throw new Error("Unexpected non-object value");const T=C.group?Iw(C.group):[],A=$Oe(w.groups,C.group,w.selectedGroup);if(Ga(C.type)){const D=j==null?void 0:j[C.name],I=Ct(k)?k==null?void 0:k[C.name]:void 0;if(!Qfe(D))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:js(D),value:D}};const P={value:D,parent:w.value,document:w.document,currentUser:w.currentUser};if(_o(C.type.hidden,P))return{kind:"hidden",key:"field-".concat(C.name),name:C.name,index:_};const $=w.readOnly||_o(C.type.readOnly,P),V=(n=(t=w.fieldGroupState)==null?void 0:t.children)==null?void 0:n[C.name],L=(o=(r=w.collapsedPaths)==null?void 0:r.children)==null?void 0:o[C.name],H=(s=(i=w.collapsedFieldSets)==null?void 0:i.children)==null?void 0:s[C.name],U=GN({schemaType:C.type,currentUser:w.currentUser,parent:w.value,document:w.document,value:D,changed:Cv(D,I),comparisonValue:I,presence:w.presence,validation:w.validation,fieldGroupState:V,path:S,level:E,focusPath:w.focusPath,openPath:w.openPath,collapsedPaths:L,collapsedFieldSets:H,readOnly:$,changesOpen:w.changesOpen});if(U===null)return null;const z=qN(C.type.options,E),Y=L?L.value:z.collapsed;return{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,inSelectedGroup:A,groups:T,open:vi(S,w.openPath),field:U,collapsed:Y,collapsible:z.collapsible}}else if(Ol(C.type)){const D=j==null?void 0:j[C.name],I=Ct(k)?k==null?void 0:k[C.name]:void 0;if(pF(C.type)){const P=typeof D<"u";if(P&&!hCn(D)){const z=js(D);return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:z,value:D}}}if(P&&!mCn(D))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"MIXED_ARRAY",schemaType:C.type,value:D}};if(P&&!yCn(D))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"MISSING_KEYS",value:D,schemaType:C.type}};const M=P?gCn(D):[];if(M.length>0)return{kind:"error",key:C.name,fieldName:C.name,error:{type:"DUPLICATE_KEYS",duplicates:M,schemaType:C.type}};const $=(l=(a=w.fieldGroupState)==null?void 0:a.children)==null?void 0:l[C.name],V=(d=(u=w.collapsedPaths)==null?void 0:u.children)==null?void 0:d[C.name],L=(p=(f=w.collapsedFieldSets)==null?void 0:f.children)==null?void 0:p[C.name],H=w.readOnly||_o(C.type.readOnly,{value:D,parent:w.value,document:w.document,currentUser:w.currentUser}),U=xCn({schemaType:C.type,parent:w.value,currentUser:w.currentUser,document:w.document,value:D,changed:Cv(D,I),comparisonValue:I,fieldGroupState:$,focusPath:w.focusPath,openPath:w.openPath,presence:w.presence,validation:w.validation,collapsedPaths:V,collapsedFieldSets:L,level:E,path:S,readOnly:H});return U===null?null:{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,open:vi(S,w.openPath),inSelectedGroup:A,groups:T,collapsible:!1,collapsed:!1,field:U}}else{if(!pCn(D)){const H=js(D);return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:H,value:D}}}const P=(v=(m=w.fieldGroupState)==null?void 0:m.children)==null?void 0:v[C.name],M=(b=(g=w.collapsedPaths)==null?void 0:g.children)==null?void 0:b[C.name],$=(y=(x=w.collapsedFieldSets)==null?void 0:x.children)==null?void 0:y[C.name],V=w.readOnly||_o(C.type.readOnly,{value:D,parent:w.value,document:w.document,currentUser:w.currentUser}),L=bCn({changed:Cv(D,I),comparisonValue:I,schemaType:C.type,parent:w.value,currentUser:w.currentUser,document:w.document,value:D,fieldGroupState:P,focusPath:w.focusPath,openPath:w.openPath,presence:w.presence,validation:w.validation,collapsedPaths:M,collapsedFieldSets:$,level:E,path:S,readOnly:V});return L===null?null:{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,inSelectedGroup:A,groups:T,open:vi(S,w.openPath),collapsible:!1,collapsed:!1,field:L}}}else{const D=j==null?void 0:j[C.name],I=Ct(k)?k==null?void 0:k[C.name]:void 0,P={value:D,parent:w.value,document:w.document,currentUser:w.currentUser};if(_o(C.type.hidden,P))return null;const $=w.readOnly||_o(C.type.readOnly,P),V=ROe({...w,comparisonValue:I,value:D,schemaType:C.type,path:S,readOnly:$});return{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,open:vi(S,w.openPath),inSelectedGroup:A,groups:T,collapsible:!1,collapsed:!1,field:V}}}function GN(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;var n;if(e.level===YN)return null;const r={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser},o=e.readOnly||_o(e.schemaType.readOnly,r),i=e.schemaType.groups||[],s=(n=i.find(y=>y.default)||tf)==null?void 0:n.name,a=[tf,...i].flatMap(y=>{var w;const C=_o(y.hidden,r),_=y.name===(((w=e.fieldGroupState)==null?void 0:w.value)||s),S=e.changesOpen?y.name===tf.name:_,E=e.changesOpen?!S:!1;return C?[]:[{disabled:E,icon:y==null?void 0:y.icon,name:y.name,selected:S,title:y.title}]}),l=a.find(y=>y.selected),d=(e.schemaType.fieldsets?e.schemaType.fieldsets:e.schemaType.fields.map(y=>({single:!0,field:y}))).flatMap((y,w)=>{var C,_,S,E;if(y.single){const P=y.field,M=Jfe({field:P,parent:{...e,readOnly:o,groups:a,selectedGroup:l},index:w});return M?[M]:[]}const j=y.fields.map(P=>P.name),k=_o(y.hidden,{currentUser:e.currentUser,document:e.document,parent:e.value,value:_t(e.value,j)}),T=_o(y.readOnly,{currentUser:e.currentUser,document:e.document,parent:e.value,value:_t(e.value,j)}),A=y.fields.flatMap(P=>{if(k)return[{kind:"hidden",key:"field-".concat(P.name),name:P.name,index:w}];const M=Jfe({field:P,parent:{...e,readOnly:o||T,groups:a,selectedGroup:l},index:w});return M?[M]:[]}),D=qN(y.options,e.level),I=(S=(_=(((C=e.collapsedFieldSets)==null?void 0:C.children)||{})[y.name])==null?void 0:_.value)!=null?S:D.collapsed;return[{kind:"fieldSet",key:"fieldset-".concat(y.name),_inSelectedGroup:$Oe(a,y.group,l),groups:y.group?Iw(y.group):[],fieldSet:{path:am(e.path.concat(y.name)),name:y.name,title:y.title,description:y.description,hidden:!1,level:e.level+1,members:A.filter(P=>P.kind!=="hidden"),collapsible:D==null?void 0:D.collapsible,collapsed:I,columns:(E=y==null?void 0:y.options)==null?void 0:E.columns}}]}),f=i.length>0,p=e.presence.filter(y=>Cn(y.path,e.path)),m=p.length?p:Vn,v=e.validation.filter(y=>Cn(y.path,e.path)).map(y=>({level:y.level,message:y.item.message,path:y.path})),g=d.filter(y=>y.kind!=="hidden");if(g.length===0&&t)return null;const b=f?a.flatMap(y=>y.name===tf.name||g.some(C=>C.kind==="error"?!1:C.kind==="field"?C.groups.includes(y.name):C.groups.includes(y.name)||C.fieldSet.members.some(_=>_.kind!=="error"&&_.groups.includes(y.name)))?y:[]):[],x=g.flatMap(y=>{if(y.kind==="error")return[y];if(y.kind==="field")return y.inSelectedGroup?[y]:[];const w=y.fieldSet.members.filter(C=>C.kind!=="field"||C.inSelectedGroup);return w.length>0?[{...y,fieldSet:{...y.fieldSet,members:w}}]:[]});return{value:e.value,changed:Cv(e.value,e.comparisonValue),schemaType:e.schemaType,readOnly:o,path:e.path,id:yr(e.path),level:e.level,focused:Cn(e.path,e.focusPath),focusPath:wF(e.path,e.focusPath),presence:m,validation:v,_allMembers:d,members:x,groups:b}}function bCn(e){if(e.level===YN)return null;const t={comparisonValue:e.comparisonValue,value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(_o(e.schemaType.hidden,t))return null;const r=e.readOnly||_o(e.schemaType.readOnly,t),o=Array.isArray(e.value)?e.value:[],i=e.presence.filter(u=>Cn(u.path,e.path)),s=i.length?i:Vn,a=e.validation.filter(u=>Cn(u.path,e.path)).map(u=>({level:u.level,message:u.item.message,path:u.path})),l=o.flatMap((u,d)=>CCn({arrayItem:u,parent:e,index:d}));return{changed:e.changed||l.some(u=>u.kind==="item"&&u.item.changed),value:e.value,readOnly:r,schemaType:e.schemaType,focused:Cn(e.path,e.focusPath),focusPath:wF(e.path,e.focusPath),path:e.path,id:yr(e.path),level:e.level,validation:a,presence:s,members:l}}function xCn(e){if(e.level===YN)return null;const t={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(_o(e.schemaType.hidden,t))return null;const r=e.readOnly||_o(e.schemaType.readOnly,t),o=Array.isArray(e.value)?e.value:[],i=e.presence.filter(u=>Cn(u.path,e.path)),s=i.length?i:Vn,a=e.validation.filter(u=>Cn(u.path,e.path)).map(u=>({level:u.level,message:u.item.message,path:u.path})),l=o.flatMap((u,d)=>wCn({arrayItem:u,parent:e,index:d}));return{changed:e.changed||l.some(u=>u.kind==="item"&&u.item.changed),value:e.value,readOnly:r,schemaType:e.schemaType,focused:Cn(e.path,e.focusPath),focusPath:wF(e.path,e.focusPath),path:e.path,id:yr(e.path),level:e.level,validation:a,presence:s,members:l}}function wCn(e){var t,n,r,o,i,s,a;const{arrayItem:l,parent:u,index:d}=e,f=dCn(u.schemaType,l),p=l._key;if(!f){const j=js(l);return{kind:"error",key:p,index:d,error:{type:"INVALID_ITEM_TYPE",resolvedValueType:j,value:l,validTypes:u.schemaType.of}}}const m=am([...u.path,{_key:p}]),v=u.level+1,g={value:u.value,parent:e.parent,document:u.document,currentUser:u.currentUser},b=u.readOnly||_o(u.schemaType.readOnly,g),x=(n=(t=u.fieldGroupState)==null?void 0:t.children)==null?void 0:n[p],y=(o=(r=u.collapsedPaths)==null?void 0:r.children)==null?void 0:o[p],w=(s=(i=u.collapsedFieldSets)==null?void 0:i.children)==null?void 0:s[p],C=Array.isArray(u.comparisonValue)&&u.comparisonValue.find(j=>j._key===l._key)||void 0,_=GN({schemaType:f,level:v,document:u.document,value:l,comparisonValue:C,changed:Cv(l,C),path:m,focusPath:u.focusPath,openPath:u.openPath,currentUser:u.currentUser,collapsedPaths:y,collapsedFieldSets:w,presence:u.presence,validation:u.validation,fieldGroupState:x,readOnly:b},!1),S=qN(f.options,v),E=(a=y==null?void 0:y.value)!=null?a:S.collapsed;return{kind:"item",key:p,index:d,open:vi(m,u.openPath),collapsed:E,collapsible:!0,parentSchemaType:u.schemaType,item:_}}function CCn(e){var t,n;const{arrayItem:r,parent:o,index:i}=e,s=fCn(o.schemaType,r),a=am([...o.path,i]),l=(t=o.value)==null?void 0:t[i],u=(n=o.comparisonValue)==null?void 0:n[i],d=o.level+1,f="".concat((s==null?void 0:s.name)||"invalid-type","-").concat(String(i));if(!s)return{kind:"error",key:f,index:i,error:{type:"INVALID_ITEM_TYPE",validTypes:o.schemaType.of,resolvedValueType:js(s),value:l}};const p=o.readOnly||_o(s.readOnly,{value:l,parent:o.value,document:o.document,currentUser:o.currentUser}),m=ROe({...o,path:a,schemaType:s,level:d,value:l,comparisonValue:u,readOnly:p});return{kind:"item",key:f,index:i,parentSchemaType:o.schemaType,open:Cn(a,o.openPath),item:m}}function ROe(e){const t=e.presence.filter(o=>Cn(o.path,e.path)),n=t.length?t:Vn,r=e.validation.filter(o=>Cn(o.path,e.path)).map(o=>({level:o.level,message:o.item.message,path:o.path}));return{schemaType:e.schemaType,changed:Cv(e.value,e.comparisonValue),value:e.value,level:e.level,id:yr(e.path),readOnly:e.readOnly,focused:Cn(e.path,e.focusPath),path:e.path,presence:n,validation:r}}function _Cn(e){return GN(e)}function SCn(e,t){let{comparisonValue:n,value:r,fieldGroupState:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,openPath:l,presence:u,validation:d,readOnly:f,changesOpen:p}=t;const m=ii(),v=h.useRef(null);return h.useLayoutEffect(()=>{v.current=null},[e]),h.useMemo(()=>{const g=_Cn({schemaType:e,document:r,fieldGroupState:o,collapsedFieldSets:i,collapsedPaths:s,value:r,comparisonValue:n,focusPath:a,openPath:l,readOnly:f,path:am([]),level:0,currentUser:m,presence:u,validation:d,changesOpen:p}),b=TB(v.current,g);return v.current=b,b},[e,r,o,i,s,n,a,l,f,m,u,d,p])}function ECn(e){return e.map(TCn)}function HOn(e,t){return En(t.map(n=>jCn(e,n)))}const kCn=e=>t=>!e.includes(t);function jCn(e,t){return En(Object.keys(t).filter(kCn(["id","ifRevisionID","query"])).map(n=>{if(n==="unset")return t.unset.map(r=>({type:"unset",path:og(r),origin:e}));if(n==="insert"){const r="before"in t.insert?"before":"after";return{type:"insert",position:r,path:og(t.insert[r]),items:t.insert.items,origin:e}}return Object.keys(t[n]).map(r=>n==="set"?{type:"set",path:og(r),value:t[n][r],origin:e}:n==="inc"||n==="dec"?{type:n,path:og(r),value:t[n][r],origin:e}:n==="setIfMissing"?{type:"setIfMissing",path:og(r),value:t[n][r],origin:e}:n==="diffMatchPatch"?{type:n,path:og(r),value:t[n][r],origin:e}:(console.warn(new Error("Unsupported patch type: ".concat(n))),null)).filter(Boolean)}))}function TCn(e){if(e.patchType!==em&&e.type)throw new Error('Patch is missing "patchType" - import and use "'.concat(e.type,'()" from "sanity/form"'));if(e.patchType!==em)throw new Error('Patch is missing "patchType" - import and use the patch method helpers from "sanity/form"');const t=Zke(e.path||[]);if(e.type==="insert"){const{position:n,items:r}=e;return{insert:{[n]:t,items:r}}}if(e.type==="unset")return{unset:[t]};if(!e.type)throw new Error("Missing patch type in patch ".concat(JSON.stringify(e)));return t?{[e.type]:{[t]:e.value}}:{[e.type]:e.value}}h.memo(function(t){const{transform:n}=t,r=ma(),o=h.useCallback(s=>{const a=s.patches,l=n(a);r.onChange(st.from(l))},[r,n]),i=h.useMemo(()=>({...r,onChange:o}),[r,o]);return c.jsx(jB.Provider,{value:i,children:t.children})});Mf.fonts.code.family,Mf.fonts.text.family,oc.hex,Ca.hex,py[500].hex,Ca.hex,oc.hex,D2[500].hex,D2[500].hex,D2[500].hex,B3[500].hex,py[500].hex,z3[500].hex,N3[500].hex,py[500].hex,py[500].hex,z3[500].hex,N3[500].hex,B3[500].hex,oc.hex,Ca.hex;({...Mf});const ACn=yB(e=>{const{name:t,title:n,icon:r,...o}=e||{};return{name:"@sanity/vision",tools:[{name:t||"vision",title:n||"Vision",icon:r||RF,component:h.lazy(()=>k8(()=>import("./SanityVision-77b499dd-233dc95f.js"),["static/SanityVision-77b499dd-233dc95f.js","static/json-inspector-b32c6ec7.js"])),options:o,router:mi.create("/*")}]}});var JA={},DCn=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(o){e.addRange(o)}),t&&t.focus()}},ICn=DCn,ehe={"text/plain":"Text","text/html":"Url",default:"Text"},PCn="Copy to clipboard: #{key}, Enter";function OCn(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function $Cn(e,t){var n,r,o,i,s,a,l=!1;t||(t={}),n=t.debug||!1;try{o=ICn(),i=document.createRange(),s=document.getSelection(),a=document.createElement("span"),a.textContent=e,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(d){if(d.stopPropagation(),t.format)if(d.preventDefault(),typeof d.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var f=ehe[t.format]||ehe.default;window.clipboardData.setData(f,e)}else d.clipboardData.clearData(),d.clipboardData.setData(t.format,e);t.onCopy&&(d.preventDefault(),t.onCopy(d.clipboardData))}),document.body.appendChild(a),i.selectNodeContents(a),s.addRange(i);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");l=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch(f){n&&console.error("unable to copy using clipboardData: ",f),n&&console.error("falling back to prompt"),r=OCn("message"in t?t.message:PCn),window.prompt(r,e)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(i):s.removeAllRanges()),a&&document.body.removeChild(a),o()}return l}var RCn=$Cn;function U4(e){"@babel/helpers - typeof";return U4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U4(e)}Object.defineProperty(JA,"__esModule",{value:!0});JA.CopyToClipboard=void 0;var h2=MOe(h),MCn=MOe(RCn),FCn=["text","onCopy","options","children"];function MOe(e){return e&&e.__esModule?e:{default:e}}function the(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function nhe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?the(Object(n),!0).forEach(function(r){KN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):the(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LCn(e,t){if(e==null)return{};var n=BCn(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function BCn(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function NCn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rhe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zCn(e,t,n){return t&&rhe(e.prototype,t),n&&rhe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function VCn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W4(e,t)}function W4(e,t){return W4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},W4(e,t)}function HCn(e){var t=WCn();return function(){var r=Ak(e),o;if(t){var i=Ak(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return UCn(this,o)}}function UCn(e,t){if(t&&(U4(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FOe(e)}function FOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WCn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ak(e){return Ak=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ak(e)}function KN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var LOe=function(e){VCn(n,e);var t=HCn(n);function n(){var r;NCn(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),KN(FOe(r),"onClick",function(a){var l=r.props,u=l.text,d=l.onCopy,f=l.children,p=l.options,m=h2.default.Children.only(f),v=(0,MCn.default)(u,p);d&&d(u,v),m&&m.props&&typeof m.props.onClick=="function"&&m.props.onClick(a)}),r}return zCn(n,[{key:"render",value:function(){var o=this.props;o.text,o.onCopy,o.options;var i=o.children,s=LCn(o,FCn),a=h2.default.Children.only(i);return h2.default.cloneElement(a,nhe(nhe({},s),{},{onClick:this.onClick}))}}]),n}(h2.default.PureComponent);JA.CopyToClipboard=LOe;KN(LOe,"defaultProps",{onCopy:void 0,options:void 0});var YCn=JA,Y4=YCn.CopyToClipboard;Y4.CopyToClipboard=Y4;var qCn=Y4;const GCn=De(qCn);var KCn=Gf,ZCn=Za,XCn="[object Number]";function QCn(e){return typeof e=="number"||ZCn(e)&&KCn(e)==XCn}var JCn=QCn;const e_n=De(JCn);function ohe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ihe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ohe(Object(n),!0).forEach(function(r){t_n(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ohe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t_n(e,t,n){return t=n_n(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n_n(e){var t=r_n(e,"string");return typeof t=="symbol"?t:String(t)}function r_n(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dk(e){return e._type==="span"&&"text"in e&&typeof e.text=="string"&&(typeof e.marks>"u"||Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"))}function BOe(e){return typeof e._type=="string"&&e._type[0]!=="@"&&(!("markDefs"in e)||!e.markDefs||Array.isArray(e.markDefs)&&e.markDefs.every(t=>typeof t._key=="string"))&&"children"in e&&Array.isArray(e.children)&&e.children.every(t=>typeof t=="object"&&"_type"in t)}function NOe(e){return BOe(e)&&"listItem"in e&&typeof e.listItem=="string"&&(typeof e.level>"u"||typeof e.level=="number")}function zOe(e){return e._type==="@list"}function VOe(e){return e._type==="@span"}function HOe(e){return e._type==="@text"}const she=["strong","em","code","underline","strike-through"];function o_n(e,t,n){if(!Dk(e)||!e.marks)return[];if(!e.marks.length)return[];const r=e.marks.slice(),o={};return r.forEach(i=>{o[i]=1;for(let s=t+1;s<n.length;s++){const a=n[s];if(a&&Dk(a)&&Array.isArray(a.marks)&&a.marks.indexOf(i)!==-1)o[i]++;else break}}),r.sort((i,s)=>i_n(o,i,s))}function i_n(e,t,n){const r=e[t],o=e[n];if(r!==o)return o-r;const i=she.indexOf(t),s=she.indexOf(n);return i!==s?i-s:t.localeCompare(n)}function s_n(e){var t;const{children:n,markDefs:r=[]}=e;if(!n||!n.length)return[];const o=n.map(o_n),i={_type:"@span",children:[],markType:"<unknown>"};let s=[i];for(let a=0;a<n.length;a++){const l=n[a];if(!l)continue;const u=o[a]||[];let d=1;if(s.length>1)for(d;d<s.length;d++){const p=((t=s[d])==null?void 0:t.markKey)||"",m=u.indexOf(p);if(m===-1)break;u.splice(m,1)}s=s.slice(0,d);let f=s[s.length-1];if(f){for(const p of u){const m=r.find(b=>b._key===p),v=m?m._type:p,g={_type:"@span",_key:l._key,children:[],markDef:m,markType:v,markKey:p};f.children.push(g),s.push(g),f=g}if(Dk(l)){const p=l.text.split(`
`);for(let m=p.length;m-- >1;)p.splice(m,0,`
`);f.children=f.children.concat(p.map(m=>({_type:"@text",text:m})))}else f.children=f.children.concat(l)}}return i.children}function a_n(e,t){const n=[];let r;for(let o=0;o<e.length;o++){const i=e[o];if(i){if(!NOe(i)){n.push(i),r=void 0;continue}if(!r){r=p2(i,o,t),n.push(r);continue}if(l_n(i,r)){r.children.push(i);continue}if((i.level||1)>r.level){const s=p2(i,o,t);if(t==="html"){const a=r.children[r.children.length-1],l=ihe(ihe({},a),{},{children:[...a.children,s]});r.children[r.children.length-1]=l}else r.children.push(s);r=s;continue}if((i.level||1)<r.level){const s=n[n.length-1],a=s&&q4(s,i);if(a){r=a,r.children.push(i);continue}r=p2(i,o,t),n.push(r);continue}if(i.listItem!==r.listItem){const s=n[n.length-1],a=s&&q4(s,{level:i.level||1});if(a&&a.listItem===i.listItem){r=a,r.children.push(i);continue}else{r=p2(i,o,t),n.push(r);continue}}console.warn("Unknown state encountered for block",i),n.push(i)}}return n}function l_n(e,t){return(e.level||1)===t.level&&e.listItem===t.listItem}function p2(e,t,n){return{_type:"@list",_key:"".concat(e._key||"".concat(t),"-parent"),mode:n,level:e.level||1,listItem:e.listItem,children:[e]}}function q4(e,t){const n=t.level||1,r=t.listItem||"normal",o=typeof t.listItem=="string";if(zOe(e)&&(e.level||1)===n&&o&&(e.listItem||"normal")===r)return e;if(!("children"in e))return;const i=e.children[e.children.length-1];return i&&!Dk(i)?q4(i,t):void 0}function UOe(e){let t="";return e.children.forEach(n=>{HOe(n)?t+=n.text:VOe(n)&&(t+=UOe(n))}),t}const c_n="html",u_n=["block","list","listItem","marks","types"],d_n=["listItem"],f_n=["_key"];function ahe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function lc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ahe(Object(n),!0).forEach(function(r){h_n(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ahe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function h_n(e,t,n){return t=p_n(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p_n(e){var t=m_n(e,"string");return typeof t=="symbol"?t:String(t)}function m_n(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G4(e,t){if(e==null)return{};var n=g_n(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function g_n(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function v_n(e,t){const n=G4(t,u_n);return lc(lc({},e),{},{block:cy(e,t,"block"),list:cy(e,t,"list"),listItem:cy(e,t,"listItem"),marks:cy(e,t,"marks"),types:cy(e,t,"types")},n)}function cy(e,t,n){const r=t[n],o=e[n];return typeof r=="function"||r&&typeof o=="function"?r:r?lc(lc({},o),r):o}const y_n=e=>{let{children:t,value:n}=e;return c.jsx("a",{href:n==null?void 0:n.href,children:t})},b_n={textDecoration:"underline"},x_n={em:e=>{let{children:t}=e;return c.jsx("em",{children:t})},strong:e=>{let{children:t}=e;return c.jsx("strong",{children:t})},code:e=>{let{children:t}=e;return c.jsx("code",{children:t})},underline:e=>{let{children:t}=e;return c.jsx("span",{style:b_n,children:t})},"strike-through":e=>{let{children:t}=e;return c.jsx("del",{children:t})},link:y_n},w_n={number:e=>{let{children:t}=e;return c.jsx("ol",{children:t})},bullet:e=>{let{children:t}=e;return c.jsx("ul",{children:t})}},C_n=e=>{let{children:t}=e;return c.jsx("li",{children:t})},vC=(e,t)=>"[@portabletext/react] Unknown ".concat(e,", specify a component for it in the `components.").concat(t,"` prop"),WOe=e=>vC('block type "'.concat(e,'"'),"types"),__n=e=>vC('mark type "'.concat(e,'"'),"marks"),S_n=e=>vC('block style "'.concat(e,'"'),"block"),E_n=e=>vC('list style "'.concat(e,'"'),"list"),k_n=e=>vC('list item style "'.concat(e,'"'),"listItem");function j_n(e){console.warn(e)}const lhe={display:"none"},T_n=e=>{let{value:t,isInline:n}=e;const r=WOe(t._type);return n?c.jsx("span",{style:lhe,children:r}):c.jsx("div",{style:lhe,children:r})},A_n=e=>{let{markType:t,children:n}=e;return c.jsx("span",{className:"unknown__pt__mark__".concat(t),children:n})},D_n=e=>{let{children:t}=e;return c.jsx("p",{children:t})},I_n=e=>{let{children:t}=e;return c.jsx("ul",{children:t})},P_n=e=>{let{children:t}=e;return c.jsx("li",{children:t})},O_n=()=>c.jsx("br",{}),$_n={normal:e=>{let{children:t}=e;return c.jsx("p",{children:t})},blockquote:e=>{let{children:t}=e;return c.jsx("blockquote",{children:t})},h1:e=>{let{children:t}=e;return c.jsx("h1",{children:t})},h2:e=>{let{children:t}=e;return c.jsx("h2",{children:t})},h3:e=>{let{children:t}=e;return c.jsx("h3",{children:t})},h4:e=>{let{children:t}=e;return c.jsx("h4",{children:t})},h5:e=>{let{children:t}=e;return c.jsx("h5",{children:t})},h6:e=>{let{children:t}=e;return c.jsx("h6",{children:t})}},che={types:{},block:$_n,marks:x_n,list:w_n,listItem:C_n,hardBreak:O_n,unknownType:T_n,unknownMark:A_n,unknownList:I_n,unknownListItem:P_n,unknownBlockStyle:D_n};function R_n(e){let{value:t,components:n,listNestingMode:r,onMissingComponent:o=j_n}=e;const i=o||F_n,s=Array.isArray(t)?t:[t],a=a_n(s,r||c_n),l=h.useMemo(()=>n?v_n(che,n):che,[n]),u=h.useMemo(()=>M_n(l,i),[l,i]),d=a.map((f,p)=>u({node:f,index:p,isInline:!1,renderNode:u}));return c.jsx(c.Fragment,{children:d})}const M_n=(e,t)=>{function n(f){const{node:p,index:m,isInline:v}=f,g=p._key||"node-".concat(m);return zOe(p)?i(p,m,g):NOe(p)?o(p,m,g):VOe(p)?s(p,m,g):r(p)?d(p,m,g,v):BOe(p)?a(p,m,g,v):HOe(p)?l(p,g):u(p,m,g,v)}function r(f){return f._type in e.types}function o(f,p,m){const v=uhe({node:f,index:p,isInline:!1,renderNode:n}),g=e.listItem,x=(typeof g=="function"?g:g[f.listItem])||e.unknownListItem;if(x===e.unknownListItem){const w=f.listItem||"bullet";t(k_n(w),{type:w,nodeType:"listItemStyle"})}let y=v.children;if(f.style&&f.style!=="normal"){const w=G4(f,d_n);y=n({node:w,index:p,isInline:!1,renderNode:n})}return c.jsx(x,{value:f,index:p,isInline:!1,renderNode:n,children:y},m)}function i(f,p,m){const v=f.children.map((y,w)=>n({node:y._key?y:lc(lc({},y),{},{_key:"li-".concat(p,"-").concat(w)}),index:w,isInline:!1,renderNode:n})),g=e.list,x=(typeof g=="function"?g:g[f.listItem])||e.unknownList;if(x===e.unknownList){const y=f.listItem||"bullet";t(E_n(y),{nodeType:"listStyle",type:y})}return c.jsx(x,{value:f,index:p,isInline:!1,renderNode:n,children:v},m)}function s(f,p,m){const{markDef:v,markType:g,markKey:b}=f,x=e.marks[g]||e.unknownMark,y=f.children.map((w,C)=>n({node:w,index:C,isInline:!0,renderNode:n}));return x===e.unknownMark&&t(__n(g),{nodeType:"mark",type:g}),c.jsx(x,{text:UOe(f),value:v,markType:g,markKey:b,renderNode:n,children:y},m)}function a(f,p,m,v){const g=uhe({node:f,index:p,isInline:v,renderNode:n}),b=G4(g,f_n),x=b.node.style||"normal",w=(typeof e.block=="function"?e.block:e.block[x])||e.unknownBlockStyle;return w===e.unknownBlockStyle&&t(S_n(x),{nodeType:"blockStyle",type:x}),c.jsx(w,lc(lc({},b),{},{value:b.node,renderNode:n}),m)}function l(f,p){if(f.text===`
`){const m=e.hardBreak;return m?c.jsx(m,{},p):`
`}return f.text}function u(f,p,m,v){const g={value:f,isInline:v,index:p,renderNode:n};t(WOe(f._type),{nodeType:"block",type:f._type});const b=e.unknownType;return c.jsx(b,lc({},g),m)}function d(f,p,m,v){const g={value:f,isInline:v,index:p,renderNode:n},b=e.types[f._type];return b?c.jsx(b,lc({},g),m):null}return n};function uhe(e){const{node:t,index:n,isInline:r,renderNode:o}=e,s=s_n(t).map((a,l)=>o({node:a,isInline:!0,index:l,renderNode:o}));return{_key:t._key||"block-".concat(n),children:s,index:n,isInline:r,node:t}}function F_n(){}var L_n=J2e,B_n=I8,N_n=B_n(function(e,t,n){return t=t.toLowerCase(),e+(n?L_n(t):t)}),z_n=N_n;const dhe=De(z_n);var V_n=I8,H_n=V_n(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),U_n=H_n;const W_n=De(U_n);function Y_n(e){let{children:t,ms:n=0}=e;const[r,o]=h.useState(n<=0);return h.useEffect(()=>{if(n<=0)return;const i=setTimeout(()=>o(!0),n);return()=>{clearTimeout(i)}},[n]),!r||!t?c.jsx(c.Fragment,{}):typeof t=="function"?t():t}function q_n(e){const{document:t}=e,r=dr().get(t._type),{error:o,value:i}=tAe({schemaType:r,value:t});return r?o?c.jsxs(c.Fragment,{children:["Error: ",o.message]}):c.jsx(c.Fragment,{children:(i==null?void 0:i.title)||c.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}):c.jsxs("code",{children:["Unknown schema type: ",t._type]})}function G_n(e){return typeof e!="object"||!e?!1:"statusCode"in e&&"response"in e}const K_n=5e3;let l3;const YOe=()=>(l3||(l3=Zi(document,"visibilitychange").pipe(ki(null),ce(()=>document.visibilityState==="visible"),Kn(),tt(e=>e?Ei(0,K_n):Gn),To({refCount:!0,bufferSize:1}))),l3);function Z_n(e,t){let{versionedClient:n}=t;const r=ti(e),o=Zn(e),i={uri:n.getDataUrl("doc","".concat(r,",").concat(o)),json:!0,query:{excludeContent:"true"},tag:"use-referring-documents.document-existence"};return n.observable.request(i).pipe(ce(s=>{let{omitted:a}=s;const l=a.filter(u=>u.reason==="existence");if(l.length!==2)return l.length===0||l.some(u=>u.id===r)?o:r}))}function X_n(e,t){const{versionedClient:n}=t;return YOe().pipe(tt(()=>Z_n(e,t)),tt(r=>{if(!r)return be({totalCount:0,references:[]});const o=n.config().dataset;return n.observable.request({url:"/data/references/".concat(o,"/documents/").concat(r,"/to?excludeInternalReferences=true&excludePaths=true"),tag:"use-referring-documents.external"}).pipe(Xn(i=>{if(G_n(i)&&i.statusCode===404)return be({totalCount:0,references:[]});throw i}))}))}const Q_n=ch(e=>{let[t,n]=e;const r="*[references($documentId)][0...100]{_id,_type}",o="count(*[references($documentId)])",i='{"references":'.concat(r,',"totalCount":').concat(o,"}"),s="*[references($documentId)]";return n.listenQuery({fetch:i,listen:s},{documentId:t},{tag:"use-referring-documents",transitions:["appear","disappear"],throttleTime:5e3})}),J_n=ch(e=>{let[t,n]=e;return YOe().pipe(tt(()=>X_n(t,{versionedClient:n})))});function e2n(e){const t=Sr(gn),n=Vl(),r=Zn(e),[o,i]=Q_n(h.useMemo(()=>[r,n],[n,r])),[s,a]=J_n(h.useMemo(()=>[r,t],[r,t])),l=h.useMemo(()=>Array.from(new Set(s==null?void 0:s.references.map(f=>f.projectId).filter(Boolean))).sort(),[s==null?void 0:s.references]),u=h.useMemo(()=>Array.from(new Set(s==null?void 0:s.references.map(f=>(f==null?void 0:f.datasetName)||"").filter(f=>!!f&&f!==""))).sort(),[s==null?void 0:s.references]),d=h.useMemo(()=>!!(s!=null&&s.references.some(f=>typeof f.datasetName!="string")),[s==null?void 0:s.references]);return{totalCount:((o==null?void 0:o.totalCount)||0)+((s==null?void 0:s.totalCount)||0),projectIds:l,datasetNames:u,hasUnknownDatasetNames:d,internalReferences:o,crossDatasetReferences:s,isLoading:i||a}}function t2n(e){const{document:t}=e,n=t&&"_updatedAt"in t&&t._updatedAt,r=t?"Published":"Not published",o=Wf(n||"",{minimal:!0,agoSuffix:!0});return c.jsx(yt,{portal:!0,content:c.jsx(F,{padding:2,children:c.jsx(B,{size:1,children:t?"Published ".concat(o):"Not published"})}),children:c.jsx(sr,{tone:"positive",dimmed:!t,muted:!t,size:1,children:c.jsx(rw,{"aria-label":r})})})}function n2n(e){const{document:t}=e,n=t&&"_updatedAt"in t&&t._updatedAt,r=Wf(n||"",{minimal:!0,agoSuffix:!0});return c.jsx(yt,{portal:!0,content:c.jsx(F,{padding:2,children:c.jsx(B,{size:1,children:t?"Edited ".concat(r):"No unpublished edits"})}),children:c.jsx(sr,{tone:"caution",dimmed:!t,muted:!t,size:1,children:c.jsx(Du,{})})})}function r2n(e){const{icon:t,layout:n,presence:r,schemaType:o,value:i}=e,s=Ct(i.title)&&h.isValidElement(i.title)||vT(i.title)||e_n(i.title)?i.title:null,{draft:a,published:l,isLoading:u}=Ao(()=>pA(e.documentPreviewStore,o,i._id,s),[e.documentPreviewStore,o,i._id,s]),d=u?null:c.jsxs(Jt,{space:4,children:[r&&r.length>0&&c.jsx(UB,{presence:r}),c.jsx(t2n,{document:l}),c.jsx(n2n,{document:a})]});return c.jsx(tC,{...wB({value:i,draft:a,published:l}),isPlaceholder:u,icon:t,layout:n,status:d})}function cs(){throw new Error("Pane is missing router context")}const eD=h.createContext({index:0,groupIndex:0,siblingIndex:0,payload:void 0,params:{},hasGroupSiblings:!1,groupLength:0,routerPanesState:[],BackLink:()=>cs(),ChildLink:()=>cs(),ReferenceChildLink:()=>cs(),handleEditReference:()=>cs(),ParameterizedLink:()=>cs(),replaceCurrent:()=>cs(),closeCurrentAndAfter:()=>cs(),closeCurrent:()=>cs(),duplicateCurrent:()=>cs(),setView:()=>cs(),setParams:()=>cs(),setPayload:()=>cs(),navigateIntent:()=>cs(),createPathWithParams:()=>cs()}),UOn=h.forwardRef(function(t,n){const{routerPanesState:r,groupIndex:o}=h.useContext(eD),i=h.useMemo(()=>r.slice(0,o),[o,r]),s=h.useMemo(()=>({panes:i}),[i]);return c.jsx(fT,{...t,ref:n,state:s})}),o2n=h.createContext(null);function ZN(){const e=h.useContext(o2n);if(!e)throw new Error("PaneLayout: missing context value");return e}const i2n=h.forwardRef(function(t,n){const{childId:r,childPayload:o,childParameters:i,...s}=t,{routerPanesState:a,groupIndex:l}=h.useContext(eD);return c.jsx(fT,{...s,ref:n,state:{panes:[...a.slice(0,l+1),[{id:r,params:i,payload:o}]]}})}),WOn=h.forwardRef(function(t,n){let{documentId:r,documentType:o,parentRefPath:i,children:s,template:a,...l}=t;return c.jsx(i2n,{...l,ref:n,childId:r,childPayload:a==null?void 0:a.params,childParameters:{type:o,parentRefPath:yr(i),...a&&{template:a==null?void 0:a.id}},children:s})}),YOn=h.forwardRef(function(t,n){const{routerPanesState:r,groupIndex:o,siblingIndex:i}=h.useContext(eD),{params:s,payload:a,...l}=t,u=Go(s),d=Go(a),f=h.useMemo(()=>{const p=r[o],m=p[i],v={...m,params:u??m.params,payload:d??m.payload},g=[...p.slice(0,i),v,...p.slice(i+1)];return{panes:[...r.slice(0,o),g,...r.slice(o+1)]}},[r,o,u,d,i]);return c.jsx(fT,{ref:n,...l,state:f})});function tD(){return h.useContext(eD)}const fhe=[];function s2n(e){const{onClick:t,type:n,value:r}=e,o=Zn(r==null?void 0:r._id),i=VN(o),s=Ps(),{ReferenceChildLink:a}=tD(),l=h.useCallback(function(d){return c.jsx(a,{documentId:r==null?void 0:r._id,documentType:n==null?void 0:n.name,parentRefPath:fhe,...d})},[a,n==null?void 0:n.name,r==null?void 0:r._id]);return c.jsx(bv,{__unstable_focusRing:!0,as:l,"data-as":"a",onClick:t,padding:2,radius:2,children:c.jsx(r2n,{documentPreviewStore:s,icon:n==null?void 0:n.icon,layout:"default",presence:(i==null?void 0:i.length)>0?i:fhe,schemaType:n,value:r})})}var hhe=Object.freeze,a2n=Object.defineProperty,yC=(e,t)=>hhe(a2n(e,"raw",{value:hhe(t||e.slice())})),phe,mhe,ghe,vhe,yhe;const qOe=O(F)(phe||(phe=yC([`
  margin-left: auto;
`]))),l2n=O.details(mhe||(mhe=yC([`
  flex: none;

  &[open] `,` {
    transform: rotate(180deg);
  }
`])),qOe),c2n=O.summary(ghe||(ghe=yC([`
  list-style: none;

  &::-webkit-details-marker {
    display: none;
  }
`]))),u2n=O.table(vhe||(vhe=yC([`
  width: 100%;
  text-align: left;
  padding: 0 `,`;
  border-collapse: collapse;

  th {
    padding: `,`;
  }

  td {
    padding: 0 `,`;
  }

  tr > *:last-child {
    text-align: right;
  }
`])),e=>{let{theme:t}=e;return ge(t.sanity.space[2])},e=>{let{theme:t}=e;return ge(t.sanity.space[1])},e=>{let{theme:t}=e;return ge(t.sanity.space[1])}),d2n=O(W)(yhe||(yhe=yC([`
  min-height: 35px;
`]))),bhe=e=>{const t=e.totalCount-e.references.length;return t?c.jsxs(Jt,{space:2,children:[c.jsxs(B,{size:1,muted:!0,children:[t," other reference",t===1?"":"s"," not shown"," "]}),c.jsx(yt,{portal:!0,placement:"top",content:c.jsx(ia,{width:0,children:c.jsx(F,{padding:2,children:c.jsx(B,{size:1,children:"We can't show metadata about these references because no token with access to the datasets they are in was found."})})}),children:c.jsx(B,{size:1,muted:!0,children:c.jsx(cm,{})})})]}):null};function f2n(e){let{crossDatasetReferences:t,internalReferences:n,documentTitle:r,totalCount:o,action:i,datasetNames:s,hasUnknownDatasetNames:a,onReferenceLinkClick:l}=e;const u=dr(),d=Ai(),f=h.useCallback(b=>{const x=u.get(b._type);return x?c.jsx(s2n,{type:x,value:b,onClick:l}):c.jsx(F,{padding:2,children:c.jsx(tC,{icon:bl,title:"Preview Unavailable",subtitle:"ID: ".concat(b._id),layout:"default"})})},[u,l]);if((n==null?void 0:n.totalCount)===0&&(t==null?void 0:t.totalCount)===0)return c.jsxs(B,{as:"p",children:["Are you sure you want to ",i," ",c.jsxs("strong",{children:["“",r,"”"]}),"?"]});const p=t.totalCount===1?"1 document":"".concat(t.totalCount.toLocaleString()," documents"),m=[...s,...a?["unavailable"]:[]],v=m.length===1?"another dataset":"".concat(m.length," datasets");let g="Dataset".concat(m.length===1?"":"s",": ").concat(m.join(", "));return a&&m.length===1&&(g="Unavailable dataset"),c.jsxs(ee,{children:[c.jsx(ee,{padding:3,radius:2,tone:"caution",marginBottom:4,flex:"none",children:c.jsxs(W,{children:[c.jsx(B,{"aria-hidden":"true",size:1,children:c.jsx(Qr,{})}),c.jsx(F,{flex:1,marginLeft:3,children:c.jsx(B,{size:1,children:o===1?c.jsxs(c.Fragment,{children:["1 document refers to “",r,"”"]}):c.jsxs(c.Fragment,{children:[o.toLocaleString()," documents refer to “",r,"”"]})})})]})}),c.jsx(F,{flex:"none",marginBottom:4,children:c.jsxs(B,{children:["You may not be able to ",i," “",r,"” because the following documents refer to it:"]})}),c.jsx(ee,{radius:2,shadow:1,marginBottom:4,flex:"auto",children:c.jsxs(W,{direction:"column",children:[n.totalCount>0&&c.jsxs(ne,{as:"ul",padding:2,space:3,"data-testid":"internal-references",children:[n==null?void 0:n.references.map(b=>c.jsx(F,{as:"li",children:f(b)},b._id)),n.totalCount>n.references.length&&c.jsx(F,{as:"li",padding:3,children:c.jsx(bhe,{...n})})]}),t.totalCount>0&&c.jsxs(l2n,{"data-testid":"cross-dataset-references",style:{borderTop:n.totalCount>0?"1px solid var(--card-shadow-outline-color)":void 0},children:[c.jsx(c2n,{children:c.jsx(ee,{as:"a",margin:2,radius:2,shadow:1,paddingY:1,children:c.jsxs(W,{align:"center",margin:2,children:[c.jsx(F,{marginLeft:3,marginRight:4,children:c.jsx(B,{size:3,children:c.jsx(OF,{})})}),c.jsxs(W,{marginRight:4,direction:"column",children:[c.jsx(F,{marginBottom:2,children:c.jsxs(B,{children:[p," in ",v]})}),c.jsx(F,{children:c.jsx(B,{title:g,textOverflow:"ellipsis",size:1,muted:!0,children:g})})]}),c.jsx(qOe,{children:c.jsx(B,{muted:!0,children:c.jsx(Rl,{})})})]})})}),c.jsxs(F,{overflow:"auto",paddingBottom:2,paddingX:2,children:[c.jsxs(u2n,{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:c.jsx(Nt,{muted:!0,size:0,style:{minWidth:"5rem"},children:"Project ID"})}),c.jsx("th",{children:c.jsx(Nt,{muted:!0,size:0,children:"Dataset"})}),c.jsx("th",{children:c.jsx(Nt,{muted:!0,size:0,children:"Document ID"})})]})}),c.jsx("tbody",{children:t.references.filter(b=>"projectId"in b).map((b,x)=>{let{projectId:y,datasetName:w,documentId:C}=b;return c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx(B,{size:1,children:y})}),c.jsx("td",{children:c.jsx(B,{size:1,children:w||"unavailable"})}),c.jsx("td",{children:c.jsxs(d2n,{align:"center",gap:2,justify:"flex-end",children:[c.jsx(B,{textOverflow:"ellipsis",size:1,children:C||"unavailable"}),C&&c.jsx(GCn,{text:C,onCopy:()=>{d.push({title:"Copied document ID to clipboard!",status:"success"})},children:c.jsx(ae,{title:"Copy ID to clipboard",mode:"bleed",icon:Au,fontSize:0})})]})})]},"".concat(C,"-").concat(x))})})]}),c.jsx(F,{padding:2,children:c.jsx(bhe,{...t})})]})]})]})}),c.jsx(F,{flex:"none",children:c.jsxs(B,{children:["If you ",i," this document, documents that refer to it will no longer be able to access it."]})})]})}var xhe=Object.freeze,h2n=Object.defineProperty,GOe=(e,t)=>xhe(h2n(e,"raw",{value:xhe(t||e.slice())})),whe,Che;const p2n=O(F).attrs({padding:4})(whe||(whe=GOe([`
  box-sizing: border-box;
`]))),m2n=O(W).attrs({align:"center",direction:"column",justify:"center"})(Che||(Che=GOe([`
  height: 300px;
`])));function g2n(e){let{id:t,type:n,action:r="delete",onCancel:o,onConfirm:i}=e;const s="deletion-confirmation-".concat(h.useId()),{internalReferences:a,crossDatasetReferences:l,isLoading:u,totalCount:d,projectIds:f,datasetNames:p,hasUnknownDatasetNames:m}=e2n(t),v="".concat(r.substring(0,1).toUpperCase()).concat(r.substring(1)),g=c.jsx(q_n,{document:h.useMemo(()=>({_id:t,_type:n}),[t,n])}),b=!u;return c.jsx(fa,{width:1,id:s,header:"".concat(v," document?"),footer:c.jsxs(ln,{columns:b?2:1,gap:2,paddingX:4,paddingY:3,children:[c.jsx(ae,{mode:"ghost",onClick:o,text:"Cancel"}),b&&c.jsx(ae,{"data-testid":"confirm-delete-button",text:d>0?"".concat(v," anyway"):"".concat(v," now"),tone:"critical",onClick:i})]}),onClose:o,onClickOutside:o,children:c.jsx(p2n,{children:l&&a&&!u?c.jsx(f2n,{crossDatasetReferences:l,internalReferences:a,documentTitle:g,isLoading:u,totalCount:d,action:r,projectIds:f,datasetNames:p,hasUnknownDatasetNames:m,onReferenceLinkClick:o}):c.jsxs(m2n,{"data-testid":"loading-container",children:[c.jsx(Hr,{muted:!0}),c.jsx(F,{marginTop:3,children:c.jsx(B,{align:"center",muted:!0,size:1,children:"Looking for referring documents…"})})]})})})}function KOe(e){const t=h.useId(),[n,r]=h.useState(null),o=h.useCallback(()=>r(null),[]);return n?c.jsx(fa,{id:"dialog-error-".concat(t),"data-testid":"confirm-delete-error-dialog",header:"Error",footer:c.jsx(W,{paddingX:4,paddingY:3,direction:"column",children:c.jsx(ae,{mode:"ghost",text:"Retry",onClick:o})}),onClose:e.onCancel,children:c.jsx(F,{padding:4,children:c.jsx(B,{children:"An error occurred while loading referencing documents."})})}):c.jsx(E0,{onCatch:r,children:c.jsx(g2n,{...e})})}const v2n={constrainSize:!0,placement:"left-start",portal:!0};function Ik(e){const{disabled:t,isAfterGroup:n,node:r}=e;return r.type==="divider"?c.jsx(Ir,{}):r.type==="group"?r.children.length===0?null:r.expanded?c.jsxs(c.Fragment,{children:[n&&c.jsx(Ir,{}),r.title&&c.jsx(F,{padding:2,paddingBottom:1,children:c.jsx(Nt,{muted:!0,size:0,children:r.title})}),r.children.map((o,i)=>{var s;return c.jsx(Ik,{disabled:t||!!r.disabled,isAfterGroup:((s=r.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})]}):c.jsxs(c.Fragment,{children:[n&&c.jsx(Ir,{}),c.jsx($L,{disabled:t,icon:r.icon,popover:v2n,text:r.title,children:r.children.map((o,i)=>{var s;return c.jsx(Ik,{disabled:t||!!r.disabled,isAfterGroup:((s=r.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})})]}):c.jsxs(c.Fragment,{children:[n&&c.jsx(Ir,{}),c.jsx(y2n,{disabled:t,node:r})]})}function y2n(e){const{node:t}=e;return t.intent?c.jsx(x2n,{...e,intent:t.intent}):c.jsx(b2n,{...e})}function b2n(e){var t;const{disabled:n,node:r}=e,o=typeof r.disabled=="object"&&c.jsx(B,{size:1,children:r.disabled.reason});return c.jsx(eC,{content:o,placement:"left",children:c.jsx(Me,{disabled:n||!!r.disabled,hotkeys:(t=r.hotkey)==null?void 0:t.split("+"),icon:r.icon,iconRight:r.iconRight||r.selected&&Ba,onClick:r.onAction,pressed:r.selected,text:r.title,tone:r.tone})})}function x2n(e){var t;const{disabled:n,intent:r,node:o}=e,i=typeof o.disabled=="object"&&c.jsx(B,{size:1,children:o.disabled.reason}),s=jw({intent:r.type,params:r.params}),a=h.useCallback(l=>{s.onClick(l),o.onAction()},[s,o]);return c.jsx(eC,{content:i,placement:"left",children:c.jsx(Me,{as:"a",disabled:n||!!o.disabled,hotkeys:(t=o.hotkey)==null?void 0:t.split("+"),href:s.href,icon:o.icon,iconRight:o.selected?Ba:void 0,onClick:a,pressed:o.selected,text:o.title,tone:o.tone})})}const w2n={constrainSize:!0,placement:"bottom",portal:!0};function K4(e,t){return e.some(n=>n.type==="item"&&n.tone===t||n.type==="group"&&K4(n.children,t))}function C2n(e){const{nodes:t}=e,n=h.useId(),r=K4(t,"critical"),o=K4(t,"caution");return c.jsx(rn,{button:c.jsx(uh,{icon:Ho,mode:"bleed",title:"Show menu",tone:r?"critical":o?"caution":void 0}),id:n,menu:c.jsx(Ht,{children:t.map((i,s)=>{var a;const l=((a=t[s-1])==null?void 0:a.type)==="group";return c.jsx(Ik,{isAfterGroup:l,node:i},i.key)})}),popover:w2n})}const _2n=!1,Z4=51,c3=Z4*4,ZOe=h.createContext(null);var _he=Object.freeze,S2n=Object.defineProperty,E2n=(e,t)=>_he(S2n(e,"raw",{value:_he(t||e.slice())})),She;const k2n=O(es)(She||(She=E2n([`
  position: relative;
  width: 1px;
  min-width: 1px;

  &:before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    width: 1px;
    background-color: var(--card-border-color);
  }

  &:not([data-disabled]) {
    cursor: ew-resize;
    width: 9px;
    min-width: 9px;
    margin: 0 -4px;

    &:before {
      left: 4px;
    }

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      width: 9px;
      bottom: 0;
      background-color: var(--card-border-color);
      opacity: 0;
      transition: opacity 150ms;
    }

    &[data-dragging]:after,
    &:hover:after {
      opacity: 0.2;
    }
  }
`])));function j2n(e){let{disabled:t,element:n}=e;const{resize:r}=ZN(),[o,i]=h.useState(!1),s=h.useCallback(a=>{if(!n)return;i(!0),a.preventDefault();const l=a.pageX;r("start",n,0);const u=f=>{f.preventDefault();const p=f.pageX-l;r("move",n,p)},d=f=>{f.preventDefault(),i(!1),window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",d),r("end",n,0)};window.addEventListener("mousemove",u),window.addEventListener("mouseup",d)},[n,r]);return c.jsx(k2n,{"data-disabled":t?"":void 0,"data-dragging":o?"":void 0,onMouseDown:s})}var Ehe=Object.freeze,T2n=Object.defineProperty,A2n=(e,t)=>Ehe(T2n(e,"raw",{value:Ehe(t||e.slice())})),khe;const D2n=O(ee)(khe||(khe=A2n([`
  outline: none;

  // NOTE: This will render a border to the right side of each pane
  // without taking up physical space.
  box-shadow: 1px 0 0 var(--card-border-color);
`]))),qOn=h.forwardRef(function(t,n){var r,o,i;const{children:s,currentMinWidth:a,currentMaxWidth:l,flex:u=1,id:d,minWidth:f,maxWidth:p,selected:m=!1,...v}=t,[g,b]=h.useState(null),{collapse:x,collapsed:y,expand:w,expandedElement:C,mount:_,panes:S}=ZN(),E=S.find(q=>q.element===g),j=E&&S.indexOf(E),k=typeof j=="number"?S[j+1]:void 0,T=j===S.length-1,A=y?!1:(E==null?void 0:E.collapsed)||!1,D=(k==null?void 0:k.collapsed)||!1,I=lr(n),P=(r=E==null?void 0:E.flex)!=null?r:u,M=(o=E==null?void 0:E.currentMinWidth)!=null?o:a,$=(i=E==null?void 0:E.currentMaxWidth)!=null?i:l,V=h.useCallback(q=>{b(q),I.current=q},[I]);h.useEffect(()=>{if(g)return _(g,{currentMinWidth:a,currentMaxWidth:l,flex:u,id:d,minWidth:f,maxWidth:p})},[a,l,u,d,f,p,_,g]);const L=h.useCallback(()=>{g&&x(g)},[x,g]),H=h.useCallback(()=>{g&&w(g)},[w,g]),U=h.useMemo(()=>({collapse:L,collapsed:y?!1:A,expand:H,index:j,isLast:T,rootElement:g}),[A,L,H,T,y,j,g]),z=h.useMemo(()=>{if(!y)return A?Z4:M===0||T?f||c3:M||f||c3},[A,M,T,y,f]),Y=h.useMemo(()=>{if(A)return Z4;if(!(y&&T))return T?p?$??p:void 0:$??p},[A,$,T,y,p]),te=y&&!T,N=h.useMemo(()=>!T&&!y&&c.jsx(n0,{zOffset:"paneResizer",children:c.jsx(j2n,{disabled:A||D,element:g})}),[A,T,y,D,g]),G=h.useMemo(()=>({flex:P,minWidth:z,maxWidth:Y===1/0?void 0:Y}),[P,z,Y]);return c.jsxs(c.Fragment,{children:[c.jsx(n0,{zOffset:"pane",children:c.jsx(ZOe.Provider,{value:U,children:c.jsxs(D2n,{"data-testid":"pane","data-ui":"Pane",tone:"inherit",hidden:te,id:d,overflow:y?void 0:"hidden",...v,"data-pane-collapsed":A?"":void 0,"data-pane-index":j,"data-pane-selected":m?"":void 0,ref:V,style:G,children:[_2n,c.jsx(vm,{element:g,children:!te&&c.jsx(W,{direction:"column",height:"fill",children:s})})]})})}),N]})});function XN(){const e=h.useContext(ZOe);if(!e)throw new Error("Pane: missing context value");return e}var jhe=Object.freeze,I2n=Object.defineProperty,P2n=(e,t)=>jhe(I2n(e,"raw",{value:jhe(t||e.slice())})),The;const XOe=O(ee)(The||(The=P2n([`
  position: relative;
  outline: none;
`])));XOe.displayName="PaneContent__root";const GOn=h.forwardRef(function(t,n){const{as:r,children:o,overflow:i,padding:s,...a}=t,{collapsed:l}=XN(),{collapsed:u}=ZN();return c.jsx(XOe,{"data-testid":"pane-content",forwardedAs:r,...a,flex:1,hidden:l,overflow:u?void 0:i,padding:s,ref:n,tone:"inherit",children:o})});var Ahe=Object.freeze,O2n=Object.defineProperty,QOe=(e,t)=>Ahe(O2n(e,"raw",{value:Ahe(t||e.slice())})),Dhe,Ihe;const $2n=O(es)(Dhe||(Dhe=QOe([`
  position: sticky;
  bottom: 0;

  &:before {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    top: -1px;
    border-bottom: 1px solid var(--card-shadow-outline-color);
  }
`]))),R2n=O(ee)(Ihe||(Ihe=QOe([`
  padding-bottom: env(safe-area-inset-bottom);
`]))),KOn=h.forwardRef(function(t,n){const{children:r,padding:o}=t,{collapsed:i}=XN();return c.jsx(n0,{zOffset:"paneFooter",children:c.jsx($2n,{"data-testid":"pane-footer",hidden:i,ref:n,children:c.jsx(R2n,{tone:"inherit",children:c.jsx(F,{padding:o,children:r})})})})});var Phe=Object.freeze,M2n=Object.defineProperty,d1=(e,t)=>Phe(M2n(e,"raw",{value:Phe(t||e.slice())})),Ohe,$he,Rhe,Mhe,Fhe,Lhe;const F2n=O(es)(Ohe||(Ohe=d1([`
  line-height: 0;
  position: sticky;
  top: 0;

  &:not([data-collapsed]):after {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    bottom: -1px;
    border-bottom: 1px solid var(--card-shadow-outline-color);
  }
`]))),L2n=O(W)($he||($he=d1([`
  transform-origin: calc(51px / 2);

  [data-collapsed] > div > & {
    transform: rotate(90deg);
  }
`]))),B2n=O(ee)(e=>{let{theme:t}=e;const{fg:n,bg:r}=t.sanity.color.card.enabled;return de(Rhe||(Rhe=d1([`
    background-color: `,`;

    [data-ui='Text'] {
      color: `,`;
    }
  `])),r,n)}),N2n=O(Si)(Mhe||(Mhe=d1([`
  width: 66%;
  max-width: 175px;
`]))),z2n=O(B)(Fhe||(Fhe=d1([`
  cursor: default;
  outline: none;
`]))),V2n=O(F)(e=>{let{theme:t}=e;const{color:n,space:r}=t.sanity;return de(Lhe||(Lhe=d1([`
    overflow: hidden;
    overflow: clip;
    position: relative;

    & > div {
      white-space: nowrap;
      overflow: auto;
      /* Hide scrollbars */
      scrollbar-width: none;
      &::-webkit-scrollbar {
        width: 0;
        height: 0;
      }
    }

    /* right padding */
    & > div:after {
      content: '';
      display: inline-block;
      top: 0;
      right: 0;
      bottom: 0;
      width: `,`px;
      height: 1px;
    }

    /* Gradient that makes it look like tabs disappear into nothing (looks nicer) */
    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(to right, `,`, var(--card-bg-color));
      width: `,`px;
      pointer-events: none;
    }
  `])),r[3],At(n.base.bg,0),r[3])}),ZOn=h.forwardRef(function(t,n){const{actions:r,backButton:o,contentAfter:i,loading:s,subActions:a,tabs:l,tabIndex:u,title:d}=t,{collapse:f,collapsed:p,expand:m,rootElement:v}=XN(),g=xw(v||null),b=h.useMemo(()=>({width:p?(g==null?void 0:g.height)||window.innerHeight:void 0}),[p,g]),x=h.useCallback(()=>{p||f()},[f,p]),y=h.useCallback(()=>{p&&m()},[p,m]),w=!!(!p&&(l||a));return c.jsx(Ff,{zOffset:100,children:c.jsx(F2n,{"data-collapsed":p?"":void 0,"data-testid":"pane-header",ref:n,children:c.jsx(n0,{zOffset:"paneHeader",children:c.jsxs(ee,{"data-collapsed":p?"":void 0,tone:"inherit",children:[c.jsxs(L2n,{onClick:y,padding:2,sizing:"border",style:b,children:[o&&c.jsx(F,{flex:"none",padding:1,children:o}),c.jsxs(B2n,{__unstable_focusRing:!0,flex:1,forwardedAs:"button",marginRight:r?1:0,onClick:x,paddingLeft:o?1:3,paddingY:3,tabIndex:u,children:[s&&c.jsx(N2n,{animated:!0,radius:1}),!s&&c.jsx(z2n,{textOverflow:"ellipsis",weight:"semibold",children:d})]}),r&&c.jsx(W,{align:"center",hidden:p,children:c.jsx(n0,{zOffset:"paneHeader",children:r})})]}),w&&c.jsxs(W,{align:"center",hidden:p,overflow:"auto",paddingBottom:3,paddingX:3,paddingTop:1,children:[c.jsx(V2n,{flex:1,marginRight:a?3:0,children:l}),a&&a]}),!p&&i&&i]})})})})});function H2n(e){const{node:t,padding:n}=e;return t.type==="item"?c.jsx(U2n,{node:t,padding:n}):t.type==="group"?c.jsx(Y2n,{node:t,padding:n}):(console.warn('unknown menu node (expected `type: "item" | "group"`):',t),null)}function U2n(e){var t;const{node:n,padding:r}=e;if(n.intent)return c.jsx(W2n,{...e,intent:n.intent});const o=typeof n.disabled=="object"&&c.jsx(B,{size:1,children:n.disabled.reason});return c.jsx(eC,{content:o,placement:"bottom",children:c.jsx(uh,{disabled:!!n.disabled,hotkey:(t=n.hotkey)==null?void 0:t.split("+"),icon:n.icon,label:o?void 0:n.title,onClick:n.onAction,padding:r,selected:n.selected,tone:n.tone})})}function W2n(e){var t;const{intent:n,node:r,padding:o}=e,i=typeof r.disabled=="object"&&c.jsx(B,{size:1,children:r.disabled.reason}),s=jw({intent:n.type,params:n.params}),a=h.useCallback(l=>{s.onClick(l),r.onAction()},[s,r]);return c.jsx(eC,{content:i,placement:"bottom",children:c.jsx(uh,{as:"a",disabled:!!r.disabled,hotkey:(t=r.hotkey)==null?void 0:t.split("+"),href:s.href,icon:r.icon,label:i?void 0:r.title,onClick:a,padding:o,selected:r.selected,tone:r.tone})})}function Y2n(e){var t;const{node:n,padding:r}=e;return c.jsx(rn,{button:c.jsx(uh,{disabled:n.disabled,icon:(t=n.icon)!=null?t:bl,label:n.title,padding:r}),id:h.useId(),menu:c.jsx(Ht,{children:n.children.map((o,i)=>{var s;return c.jsx(Ik,{disabled:!!n.disabled,isAfterGroup:((s=n.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})})})}var Bhe=Object.freeze,q2n=Object.defineProperty,G2n=(e,t)=>Bhe(q2n(e,"raw",{value:Bhe(t||e.slice())})),Nhe;const XOn=O(ee)(Nhe||(Nhe=G2n([`
  transition: opacity 200ms;
  position: relative;
  z-index: 1;
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  opacity: 0;

  &:not([hidden]) {
    display: flex;
  }

  &:not([data-collapsed]) {
    overflow: auto;
  }

  &[data-mounted] {
    opacity: 1;
  }

  &[data-resizing] {
    pointer-events: none;
  }
`])));function JOe(e){return(e.type==="item"||e.type==="group")&&e.renderAsButton}const K2n=Hbt(JOe);function Z2n(e){var t,n;const{fieldActions:r=[],menuItems:o,menuItemGroups:i}=e,s=[];let a=0;for(let d=0;d<r.length;d+=1){const f=r[d];s.push(e3e(f,"".concat(d,"-").concat(f.type)))}a+=s.length;const l=[];for(const d of i)l.find(p=>p.key===d.id)||l.push({type:"group",key:d.id,children:[],expanded:!0,renderAsButton:!1,title:d.title});const u=[];for(let d=0;d<o.length;d+=1){const f=o[d];let p=f.group&&l.find(m=>m.key===f.group);f.group&&!p&&(p={type:"group",key:f.group,expanded:!0,icon:f.icon,title:f.group,children:[],renderAsButton:!1},l.push(p)),p?p.children.push({type:"item",key:"".concat(a+d,"-item"),hotkey:f.shortcut,icon:f.icon,onAction:()=>e.actionHandler(f),renderAsButton:(t=f.showAsAction)!=null?t:!1,selected:f.selected,title:f.title,tone:f.tone}):u.push({type:"item",key:"".concat(a+d,"-item"),hotkey:f.shortcut,icon:f.icon,onAction:()=>e.actionHandler(f),renderAsButton:(n=f.showAsAction)!=null?n:!1,selected:f.selected,title:f.title,tone:f.tone})}return[...u,...l,...s]}function e3e(e,t){var n,r,o;return e.type==="divider"?{type:"divider",key:t}:e.type==="group"?{type:"group",key:t,children:e.children.map((i,s)=>e3e(i,"".concat(t,"-").concat(s,"-").concat(i.type))),disabled:e.disabled,expanded:(n=e.expanded)!=null?n:!0,icon:e.icon,title:e.title,renderAsButton:(r=e.renderAsButton)!=null?r:!1}:{type:"item",key:t,intent:e.intent,disabled:e.disabled,icon:e.icon,iconRight:e.iconRight,onAction:e.onAction,renderAsButton:(o=e.renderAsButton)!=null?o:!1,selected:e.selected,title:e.title,tone:e.tone}}const X2n=h.forwardRef(function(t,n){const{intent:r,...o}=t,i=h.useMemo(()=>h.forwardRef(function(a,l){return c.jsx(_m,{...a,intent:r.type,params:r.params,ref:l})}),[r]);return t.disabled?c.jsx(ae,{...t,as:"a",role:"link","aria-disabled":"true"}):c.jsx(ae,{...o,as:i,"data-as":"a",ref:n})});function u3(e){let{reveal:t,loading:n,children:r}=e;const o=ii();return t?c.jsx(yt,{content:n?c.jsx(F,{padding:2,children:c.jsx(B,{children:"Loading…"})}):c.jsx(Pc,{currentUser:o}),portal:!0,children:c.jsx("div",{children:r})}):c.jsx(c.Fragment,{children:r})}const Q2n={constrainSize:!0,placement:"bottom",portal:!0},zhe=(e,t,n)=>{var r;const o=(r=t.find(s=>s.id===n.templateId))==null?void 0:r.schemaType;if(!o)return null;const i={template:n.templateId,type:o,id:n.initialDocumentId};return{type:"create",params:n.parameters?[i,n.parameters]:i}};function J2n(e){let{templateItems:t}=e;const n=dr(),r=mC(),[o,i]=EOe({templateItems:t}),s=h.useMemo(()=>!i&&(o==null?void 0:o.every(l=>!l.granted)),[i,o]),a=h.useMemo(()=>o?o.reduce((l,u)=>(l[u.id]=u,l),{}):{},[o]);if(s)return c.jsx(u3,{reveal:!0,loading:i,children:c.jsx(ae,{"aria-label":"Insufficient permissions",icon:xp,mode:"bleed",disabled:!0,"data-testid":"action-intent-button"})});if(t.length===1){const l=t[0],u=a[l.id],d=!(u!=null&&u.granted),f=zhe(n,r,l);return f?c.jsx(u3,{reveal:d,loading:i,children:c.jsx(X2n,{"aria-label":l.title,icon:l.icon||xp,intent:f,mode:"bleed",disabled:d,"data-testid":"action-intent-button"})}):null}return c.jsx(rn,{button:c.jsx(ae,{icon:xp,mode:"bleed","data-testid":"multi-action-intent-button"}),id:"create-menu",menu:c.jsxs(Ht,{children:[c.jsx(F,{paddingX:3,paddingTop:3,paddingBottom:2,children:c.jsx(Nt,{muted:!0,children:"Create"})}),t.map((l,u)=>{const d=a[l.id],f=!(d!=null&&d.granted),p=zhe(n,r,l),m=r.find(g=>g.id===l.templateId);if(!m||!p)return null;const v=h.forwardRef((g,b)=>f?c.jsx("button",{type:"button",disabled:!0,...g,ref:b}):c.jsx(_m,{...g,intent:p.type,params:p.params,ref:b}));return v.displayName="Link",c.jsx(u3,{reveal:f,loading:i,children:c.jsx(Me,{as:v,"data-as":f?"button":"a",text:l.title||m.title,"aria-label":f?"Insufficient permissions":l.title||m.title,disabled:f,"data-testid":"action-intent-button-".concat(u)})},l.id)})]}),popover:Q2n})}function eSn(e){return e!=null}const tSn=e=>{const t=r=>typeof r!="object"||!r?r:Array.isArray(r)?r.map(t):Object.entries(r).sort((o,i)=>{let[s]=o,[a]=i;return s.localeCompare(a,"en")});return JSON.stringify(t((r=>JSON.parse(JSON.stringify(r)))(e)))},QOn=h.memo(function(t){const{initialValueTemplateItems:n=Vn,menuItems:r=Vn,menuItemGroups:o=Vn,actionHandlers:i=CUt}=t,s=mC(),a=h.useCallback(m=>{if(typeof m.action=="string"&&!(m.action in i))return console.warn("No handler for action:",m.action),!1;const v=typeof m.action=="function"?m.action:typeof m.action=="string"?i[m.action]:null;return v?(v(m.params),!0):!1},[i]),l=h.useMemo(()=>Z2n({actionHandler:a,menuItemGroups:o,menuItems:r.filter(m=>{var v;return((v=m.intent)==null?void 0:v.type)!=="create"})}),[a,o,r]),u=h.useMemo(()=>l.filter(JOe),[l]),d=h.useMemo(()=>l.filter(K2n),[l]),f=h.useMemo(()=>r.map((m,v)=>{var g;if(((g=m.intent)==null?void 0:g.type)!=="create")return null;const{params:b}=m.intent;if(!b)return null;const x=Array.isArray(b)?b[0]:b,y=Array.isArray(b)?b[1]:void 0,w=x.template||x.type;if(!w)return null;const C=s.find(S=>S.id===w);if(!C)return null;const _=x.id;return{item:m,template:C,templateParams:y,menuItemIndex:v,initialDocumentId:_}}).filter(eSn).map(m=>{let{initialDocumentId:v,item:g,template:b,menuItemIndex:x,templateParams:y}=m;return{id:"menuItem".concat(x),initialDocumentId:v,templateId:b.id,type:"initialValueTemplateItem",title:g.title||b.title,icon:g.icon,description:b.description,parameters:y,schemaType:b.schemaType}}),[r,s]),p=h.useMemo(()=>zf([...f,...n],m=>tSn([m.initialDocumentId,m.templateId,m.parameters])),[f,n]);return c.jsxs(W,{gap:1,children:[p.length>0&&c.jsx(J2n,{templateItems:p}),u.map(m=>c.jsx(H2n,{node:m},m.key)),d.length>0&&c.jsx(C2n,{nodes:d})]})}),t3e=h.createContext(null);function ph(){const e=h.useContext(t3e);if(!e)throw new Error("DocumentPane: missing context value");return e}const nSn={NOTHING_TO_DELETE:"This document doesn’t yet exist or is already deleted"},n3e=e=>{let{id:t,type:n,draft:r,onComplete:o}=e;const{setIsDeleting:i}=ph(),{delete:s}=Wc(t,n),[a,l]=h.useState(!1),[u,d]=h.useState(!1),f=h.useCallback(()=>{d(!1),o()},[o]),p=h.useCallback(()=>{l(!0),d(!1),i(!0),s.execute(),o()},[s,o,i]),m=h.useCallback(()=>{d(!0)},[]),[v,g]=hh({id:t,type:n,permission:"delete"}),b=ii();return!g&&!(v!=null&&v.granted)?{tone:"critical",icon:fo,disabled:!0,label:"Delete",title:c.jsx(Pc,{operationLabel:"delete this document",currentUser:b})}:{tone:"critical",icon:fo,disabled:a||!!s.disabled||g,title:s.disabled&&nSn[s.disabled]||"",label:a?"Deleting…":"Delete",shortcut:"Ctrl+Alt+D",onHandle:m,dialog:u&&{type:"custom",component:c.jsx(KOe,{action:"delete",id:(r==null?void 0:r._id)||t,type:n,onCancel:f,onConfirm:p})}}};n3e.action="delete";const rSn={NO_CHANGES:"This document has no unpublished changes",NOT_PUBLISHED:"This document is not published"},r3e=e=>{let{id:t,type:n,published:r,liveEdit:o,onComplete:i}=e;const{discardChanges:s}=Wc(t,n),[a,l]=h.useState(!1),[u,d]=hh({id:t,type:n,permission:"discardDraft"}),f=ii(),p=h.useCallback(()=>{s.execute(),i()},[s,i]),m=h.useCallback(()=>{l(!0)},[]),v=h.useMemo(()=>a&&{type:"confirm",tone:"critical",onCancel:i,onConfirm:p,message:c.jsx(c.Fragment,{children:"Are you sure you want to discard all changes since last published?"})},[p,a,i]);return!r||o?null:!d&&!(u!=null&&u.granted)?{tone:"critical",icon:Iu,disabled:!0,label:"Discard changes",title:c.jsx(Pc,{operationLabel:"discard changes in this document",currentUser:f})}:{tone:"critical",icon:Iu,disabled:!!s.disabled||d,title:s.disabled&&rSn[s.disabled]||"",label:"Discard changes",onHandle:m,dialog:v}};r3e.action="discardChanges";const oSn={NOTHING_TO_DUPLICATE:"This document doesn’t yet exist so there‘s nothing to duplicate"},o3e=e=>{let{id:t,type:n,onComplete:r}=e;const{duplicate:o}=Wc(t,n),{navigateIntent:i}=rd(),[s,a]=h.useState(!1),[l,u]=hh({id:t,type:n,permission:"duplicate"}),d=ii(),f=h.useCallback(()=>{const p=sd();a(!0),o.execute(p),i("edit",{id:p,type:n}),r()},[o,i,r,n]);return!u&&!(l!=null&&l.granted)?{icon:Au,disabled:!0,label:"Duplicate",title:c.jsx(Pc,{operationLabel:"duplicate this document",currentUser:d})}:{icon:Au,disabled:s||!!o.disabled||u,label:s?"Duplicating…":"Duplicate",title:o.disabled&&oSn[o.disabled]||"",onHandle:f}};o3e.action="duplicate";const i3e=e=>{let{id:t,type:n,revision:r,onComplete:o}=e;const{restore:i}=Wc(t,n),s=kbn(t,n),{navigateIntent:a}=rd(),l=h.useRef(s),[u,d]=h.useState(!1),f=h.useCallback(()=>{i.execute(r),o()},[i,r,o]);h.useEffect(()=>{!s||s===l.current||(s.type==="success"&&s.op==="restore"&&a("edit",{id:t,type:n}),l.current=s)},[s,t,a,n]);const p=h.useCallback(()=>{d(!0)},[]),m=h.useMemo(()=>u?{type:"confirm",tone:"critical",onCancel:o,onConfirm:f,message:c.jsx(c.Fragment,{children:"Are you sure you want to restore this document?"})}:null,[f,u,o]),v=r==="@initial";return r===void 0?null:{label:"Restore",color:"primary",onHandle:p,title:v?"You can't restore to the initial version":"Restore to this version",icon:NF,dialog:m,disabled:v}};i3e.action="restore";const iSn={LIVE_EDIT_ENABLED:"Cannot publish since liveEdit is enabled for this document type",ALREADY_PUBLISHED:"Already published",NO_CHANGES:"No unpublished changes",NOT_READY:"Operation not ready"};function sSn(e,t){return e==="ALREADY_PUBLISHED"&&t?c.jsx(c.Fragment,{children:c.jsxs("span",{children:["Published ",t]})}):iSn[e]}const s3e=e=>{var t;const{id:n,type:r,liveEdit:o,draft:i,published:s}=e,[a,l]=h.useState(null),{publish:u}=Wc(n,r),d=RN(n,r),f=Tbn(n,r),{changesOpen:p,onHistoryOpen:m,documentId:v,documentType:g}=ph(),b=$N(v,g),x=((b==null?void 0:b.draft)||(b==null?void 0:b.published)||{})._rev,y=d.validation.some(nRe),[w,C]=h.useState(!1),_=f.isSyncing,S=d.isValidating,[E,j]=hh({id:n,type:r,permission:"publish"}),k=ii(),T=Wf((s==null?void 0:s._updatedAt)||"",{minimal:!0,agoSuffix:!0}),A=u.disabled?sSn(u.disabled,T)||"":y?"There are validation errors that need to be fixed before this document can be published":"",D=!!i,I=h.useCallback(()=>{u.execute(),l("publishing")},[u]);h.useEffect(()=>{const $=d.isValidating===!1&&d.revision!==x;!w||_||!$||(y||I(),C(!1))},[_,I,y,w,d.revision,x,S,d.isValidating]),h.useEffect(()=>{const $=a==="publishing"&&!D;$&&p&&m();const V=$?"published":null,H=setTimeout(()=>{l(V)},$?200:4e3);return()=>clearTimeout(H)},[p,a,D,m]);const P=h.useCallback(()=>{f.isSyncing||d.isValidating||d.revision!==x?C(!0):I()},[f.isSyncing,d.isValidating,d.revision,x,I]);if(o)return{tone:"positive",label:"Publish",title:"Live Edit is enabled for this content type and publishing happens automatically as you make changes",disabled:!0};if(!j&&!(E!=null&&E.granted))return{tone:"positive",label:"Publish",title:c.jsx(Pc,{operationLabel:"publish this document",currentUser:k}),disabled:!0};const M=!!(w||(t=b==null?void 0:b.transactionSyncLock)!=null&&t.enabled||a==="publishing"||a==="published"||y||u.disabled);return{disabled:M||j,tone:"positive",label:a==="published"?"Published":w||a==="publishing"?"Publishing…":"Publish",icon:a==="published"?Ba:rw,title:w?"Waiting for tasks to finish before publishing":a==="published"||a==="publishing"?null:A,shortcut:M||w?null:"Ctrl+Alt+P",onHandle:P}};s3e.action="publish";const aSn={NOT_PUBLISHED:"This document is not published"},a3e=e=>{let{id:t,type:n,draft:r,onComplete:o,liveEdit:i}=e;const{unpublish:s}=Wc(t,n),[a,l]=h.useState(!1),[u,d]=hh({id:t,type:n,permission:"unpublish"}),f=ii(),p=h.useCallback(()=>{l(!1),o()},[o]),m=h.useCallback(()=>{l(!1),s.execute(),o()},[o,s]),v=h.useMemo(()=>a?{type:"dialog",onClose:o,content:c.jsx(KOe,{id:(r==null?void 0:r._id)||t,type:n,action:"unpublish",onCancel:p,onConfirm:m})}:null,[r,t,p,m,a,o,n]);return i?null:!d&&!(u!=null&&u.granted)?{tone:"critical",icon:ZS,label:"Unpublish",title:c.jsx(Pc,{operationLabel:"unpublish this document",currentUser:f}),disabled:!0}:{tone:"critical",icon:ZS,disabled:!!s.disabled||d,label:"Unpublish",title:s.disabled?aSn[s.disabled]:"",onHandle:()=>l(!0),dialog:v}};a3e.action="unpublish";const lSn=e=>{const{liveEdit:t}=e;return t?{label:"Live",color:"danger"}:null},JOn=!1,l3e={},e3n=Symbol("LOADING_PANE"),t3n="documentPanelPortalElement",c3e={activePanes:[]};function n3n(e){c3e.activePanes=e}function cSn(e,t,n,r){var o;const i=(n==null?void 0:n.panes)||[],s=c3e.activePanes||[],a=t.id||sd(),l=e==="create"&&t.template;for(let u=s.length-1;u>=0;u--){const d=s[u];if(typeof d=="object"&&((o=d.canHandleIntent)!=null&&o.call(d,e,t,{pane:d,index:u})||d.type==="documentList"&&d.schemaTypeName===t.type&&d.options.filter==="_type == $type")){const f=l?{template:t.template}:l3e;return{panes:i.slice(0,u).concat([[{id:a,params:f,payload:r}]])}}}return{intent:e,params:t,payload:r}}const uSn={};function dSn(e){try{return JSON.parse(decodeURIComponent(e))}catch{return console.warn("Failed to parse JSON parameters"),{}}}function fSn(e){return(e||[]).map(t=>t.map(CSn).join("|")).map(encodeURIComponent).join(";")}function hSn(e){return JSON.stringify(e)}function pSn(e){return _Sn(decodeURIComponent(e))}function mSn(e){return fSn(e)}const gSn=mi.create("/",[mi.intents("/intent"),mi.create("/edit/:type/:editDocumentId",[mi.create({path:"/:params",transform:{params:{toState:dSn,toPath:hSn}}})]),mi.create({path:"/:panes",children:[mi.create("/:action",mi.create("/:legacyEditDocumentId"))],transform:{panes:{toState:pSn,toPath:mSn}}})]),vSn=/^([.a-z0-9_-]+),?({.*?})?(?:(;|$))/i,ySn=e=>/^[a-z0-9]+=[^=]+/i.test(e),bSn=e=>/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e),u3e=["view","since","rev","inspect","comment"],xSn=Boolean;function wSn(e,t){return e.reduce((n,r)=>{if(ySn(r)){const o=r.slice(0,r.indexOf("=")),i=r.slice(o.length+1);n.params={...n.params,[decodeURIComponent(o)]:decodeURIComponent(i)}}else bSn(r)?n.payload=ESn(r):console.warn("Unknown pane segment: %s - skipping",r);return n},{...t,params:uSn,payload:void 0})}function CSn(e,t,n){const{payload:r,params:o={},id:i}=e,[s]=n,a=e===s,l=t!==0&&i===s.id,u=typeof r>"u"?void 0:btoa(JSON.stringify(r)),d=Object.entries(o).filter(f=>{var p;const[m,v]=f;if(!v)return!1;if(a)return!0;const g=(p=s.params)==null?void 0:p[m];return!(v===g&&!u3e.includes(m))}).map(f=>{let[p,m]=f;return"".concat(encodeURIComponent(p),"=").concat(encodeURIComponent(m))});return[l?"":i].concat([d.length>0&&d,u].filter(xSn).flat()).join(",")||","}function _Sn(e){return e.indexOf(",{")!==-1?SSn(e):e.split(";").map(t=>{const[n,...r]=t.split("|").map(o=>{const[i,...s]=o.split(",");return wSn(s,{id:i})});return[n,...r.map(o=>({...n,...o,id:o.id||n.id,params:{...ji(n.params,u3e),...o.params},payload:o.payload||n.payload}))]}).filter(t=>t.length>0)}function SSn(e){const t=[];let n=e;for(;n.length;){const[r,o,i]=n.match(vSn)||[];if(!r){n=n.slice(1);continue}const s=i&&d3e(i);t.push({id:o,payload:s}),n=n.slice(r.length)}return[t]}function d3e(e){try{return JSON.parse(e)}catch(t){console.warn("Failed to parse parameters: ".concat(t.message));return}}function ESn(e){return e?d3e(atob(e)):void 0}const r3n=320,o3n=600,i3n=320,s3n=540,kSn={},X4="inspect:",jSn=[{id:"inspectors"},{id:"links"}],Q4="sanity/desk/history",TSn="sanity/desk/validation",Db="sanity/desk/comments";var Vhe=Object.freeze,ASn=Object.defineProperty,DSn=(e,t)=>Vhe(ASn(e,"raw",{value:Vhe(t||e.slice())})),Hhe;const Uhe=O(Pxe)(Hhe||(Hhe=DSn([`
  svg > ellipse {
    stroke: transparent;
  }
`]))),ISn=/[^\p{Alpha}\p{White_Space}]/gu,PSn=/\p{White_Space}+/u;function OSn(e){const t=e.replace(ISn,"").split(PSn);return t.length===1?"".concat(t[0].charAt(0)).toUpperCase():"".concat(t[0].charAt(0)).concat(t[t.length-1].charAt(0))}function nD(e){const{user:t,...n}=e,r=t,o=h.useMemo(()=>OSn((r==null?void 0:r.displayName)||""),[r==null?void 0:r.displayName]);return r?c.jsx(Uhe,{initials:o,src:r==null?void 0:r.imageUrl,title:r==null?void 0:r.displayName,...n}):c.jsx(Uhe,{...n})}const f3e=25,$Sn={minWidth:f3e};function zS(){return c.jsx("div",{style:$Sn})}var Whe=Object.freeze,RSn=Object.defineProperty,MSn=(e,t)=>Whe(RSn(e,"raw",{value:Whe(t||e.slice())})),Yhe;const FSn={open:500,close:0},qhe=O.span(e=>{let{theme:t}=e;var n,r,o;const{regular:i}=(n=t.sanity.fonts)==null?void 0:n.text.weights,{hovered:s}=(r=t.sanity.color)==null?void 0:r.card,{bg:a}=((o=t.sanity.color.selectable)==null?void 0:o.caution.pressed)||{};return de(Yhe||(Yhe=MSn([`
    font-weight: `,`;
    color: var(--card-link-fg-color);
    border-radius: 2px;
    background-color: `,`;
    padding: 1px;
    box-sizing: border-box;

    &[data-active='true'] {
      background-color: `,`;
    }
  `])),i,s.bg,a)});function h3e(e){const{selected:t,userId:n}=e,[r,o]=u1(n),i=ii();return!r||o?c.jsx(qhe,{children:"@Loading"}):c.jsx(yt,{portal:!0,open:t,delay:FSn,content:c.jsxs(W,{align:"center",padding:2,gap:1,children:[c.jsx(W,{children:c.jsx(nD,{user:r})}),c.jsx(B,{size:1,children:r.displayName})]}),children:c.jsxs(qhe,{"data-selected":t,"data-active":(i==null?void 0:i.id)===n,children:["@",r.displayName]})})}var Ghe=Object.freeze,LSn=Object.defineProperty,BSn=(e,t)=>Ghe(LSn(e,"raw",{value:Ghe(t||e.slice())})),Khe;const NSn=O(B)(Khe||(Khe=BSn([`
  word-break: break-word;
`])));function Bs(e){const{children:t}=e;return c.jsx(NSn,{size:1,children:t})}var Zhe=Object.freeze,zSn=Object.defineProperty,VSn=(e,t)=>Zhe(zSn(e,"raw",{value:Zhe(t||e.slice())})),Xhe;const HSn=O(ne)(()=>de(Xhe||(Xhe=VSn([`
    & > [data-ui='Text']:not(:first-child) {
      margin-top: 1em; // todo: improve
    }

    & > [data-ui='Text']:has(> span:empty) {
      display: none;
    }
  `])))),USn=[],WSn={block:{normal:e=>{let{children:t}=e;return c.jsx(Bs,{children:t})},h1:e=>{let{children:t}=e;return c.jsx(Bs,{children:t})},h2:e=>{let{children:t}=e;return c.jsx(Bs,{children:t})},h3:e=>{let{children:t}=e;return c.jsx(Bs,{children:t})},h4:e=>{let{children:t}=e;return c.jsx(Bs,{children:t})},h5:e=>{let{children:t}=e;return c.jsx(Bs,{children:t})},h6:e=>{let{children:t}=e;return c.jsx(Bs,{children:t})},blockquote:e=>{let{children:t}=e;return c.jsx(Bs,{children:t})},code:e=>{let{children:t}=e;return c.jsx(Bs,{children:t})}},list:{bullet:e=>{let{children:t}=e;return t},number:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})},checkmarks:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})}},listItem:{bullet:e=>{let{children:t}=e;return c.jsx(Bs,{children:t})},number:e=>{let{children:t}=e;return c.jsx(Bs,{children:t})},checkmarks:e=>{let{children:t}=e;return c.jsx(Bs,{children:t})}},marks:{strong:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})},em:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})},code:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})},underline:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})},strikeThrough:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})},link:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})}},types:{mention:e=>{var t;return c.jsx(h3e,{userId:(t=e==null?void 0:e.value)==null?void 0:t.userId,selected:!1})}}};function YSn(e){const{blocks:t}=e;return c.jsx(HSn,{children:c.jsx(R_n,{value:t||USn,components:WSn})})}const qSn=gr({name:"mention",type:"object",fields:[{name:"userId",type:"string"}]}),GSn=gr({type:"block",name:"block",of:[qSn],styles:[{title:"Normal",value:"normal"}],lists:[]}),KSn=C2({type:"array",name:"body",of:[GSn]}),ZSn=z8.compile({name:"comments",types:[KSn]}),XSn=ZSn.get("body"),QSn=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"send",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:c.jsx("path",{clipRule:"evenodd",d:"M21.1602 12.5L7.16016 19.5V14.8765L13.6656 12.4989L7.16016 9.97149L7.16016 5.5L21.1602 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),JSn=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"mention",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:[c.jsx("path",{d:"M16.6633 18.9383C15.539 19.6562 14.2034 20.0723 12.7705 20.0723C8.77022 20.0723 5.52734 16.8294 5.52734 12.8291C5.52734 8.82881 8.77022 5.58594 12.7705 5.58594C16.7708 5.58594 20.0137 8.82881 20.0137 12.8291C20.0137 13.6623 19.8249 14.7093 19.6141 15.2077C19.5578 15.3408 19.479 15.4845 19.3936 15.6238C19.0955 16.1106 18.5507 16.3721 17.9807 16.4018V16.4018C16.8271 16.462 15.8588 15.5428 15.8588 14.3877V9.27302",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("circle",{cx:"12.5732",cy:"12.8291",r:"3.08691",stroke:"currentColor",strokeWidth:1.2})]})}),e5n=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"add-comment",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:[c.jsx("path",{d:"M12.3368 5.97917H6.89453C5.78996 5.97917 4.89453 6.8746 4.89453 7.97917V13.4881C4.89453 14.5926 5.78996 15.4881 6.89453 15.4881H8.69808V19.2916L12.5016 15.4881H16.207C17.3115 15.4881 18.207 14.5926 18.207 13.4881V11.7158",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M18.2081 2.08333V9.87058M14.3145 5.97695H22.1017",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),t5n=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",ref:n,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:c.jsx("path",{d:"M7.5 15.5H9.5V19.5L13.5 15.5H17.5C18.6046 15.5 19.5 14.6046 19.5 13.5V7.5C19.5 6.39543 18.6046 5.5 17.5 5.5H7.5C6.39543 5.5 5.5 6.39543 5.5 7.5V13.5C5.5 14.6046 6.39543 15.5 7.5 15.5Z",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.2"})})});function p3e(e){const t=h.useRef(e);return h.useMemo(()=>!Yt(t.current,e),[e])}function bC(e){return e?e==null?void 0:e.some(t=>{var n;return Xu(t)&&((n=(t==null?void 0:t.children)||[])==null?void 0:n.some(r=>Qs(r)?r.text:r.userId))}):!1}const m3e=re.createContext(null);function n5n(e){const{children:t,expandOnFocus:n=!1,focused:r,focusOnMount:o=!1,mentionOptions:i,onMentionMenuOpenChange:s,value:a,readOnly:l}=e,u=mo(),[d,f]=h.useState(!1),[p,m]=h.useState(""),[v,g]=h.useState(null),b=h.useMemo(()=>bC(a),[a]),x=p3e(a),y=h.useCallback(()=>{l||Ce.focus(u)},[u,l]),w=h.useCallback(()=>{f(!1),m(""),g(null)},[]),C=h.useCallback(()=>{f(!0),m(""),f(!0),g(Ce.getSelection(u))},[u]),_=h.useCallback(k=>{const T=Ce.getSelection(u),A=T?T.focus.offset:0,D=Ce.focusChild(u),I=Qs(D)&&D||void 0,P=k.inputType==="insertText",M=k.inputType==="deleteContentBackward",$=P&&k.data==="@",V=(I==null?void 0:I.text.substring(0,A).lastIndexOf("@"))||0,L=(I==null?void 0:I.text.substring(A-1,A))===" ",H=P&&k.data===" "&&!p;if($&&(A<1||L)){C();return}if(H||M&&((I==null?void 0:I.text.length)===1||V===((I==null?void 0:I.text.length)||0)-1)){w();return}if(Qs(D)){let U=D.text.substring(V+1,A);P&&(U+=k.data),M&&(U=U.substring(0,U.length-1)),m(U)}},[w,u,p,C]),S=h.useCallback(()=>{f(!0),Ce.insertChild(u,u.schemaTypes.span,{text:"@"}),g(Ce.getSelection(u))},[u]);Pi(d,()=>s==null?void 0:s(d));const E=h.useCallback(k=>{var T,A;const D=u.schemaTypes.inlineObjects.find($=>$.name==="mention");let I;const[P,M]=v&&Ce.findByPath(u,v.focus.path)||[];if(P&&Qs(P)&&M&&D){Ce.focus(u);const $=(T=Ce.getSelection(u))==null?void 0:T.focus.offset;typeof $<"u"&&(Ce.delete(u,{anchor:{path:M,offset:P.text.lastIndexOf("@")},focus:{path:M,offset:$}},{mode:"selected"}),I=Ce.insertChild(u,D,{_type:"mention",userId:k}));const V=Ce.focusBlock(u);if(V&&Xu(V)&&I){const L=I==null?void 0:I.slice(-1)[0],H=(A=V.children[V.children.findIndex(U=>Or(L)&&U._key===L._key)+1])==null?void 0:A._key;if(H){const U=[{_key:V._key},"children",{_key:H}],z={anchor:{path:U,offset:0},focus:{path:U,offset:0}};Ce.select(u,z),Ce.focus(u)}}}},[u,v]),j=h.useMemo(()=>({canSubmit:b,closeMentions:w,editor:u,expandOnFocus:n,focused:r,focusEditor:y,focusOnMount:o,hasChanges:x,insertAtChar:S,insertMention:E,mentionOptions:i,mentionsMenuOpen:d,mentionsSearchTerm:p,onBeforeInput:_,openMentions:C,readOnly:!!l,value:a}),[b,w,u,n,r,y,o,x,S,E,i,d,p,_,C,l,a]);return c.jsx(m3e.Provider,{value:j,children:t})}function g3e(){const e=h.useContext(m3e);if(!e)throw new Error("useCommentInputContext must be used within a CommentInputProvider");return e}var Qhe=Object.freeze,r5n=Object.defineProperty,o5n=(e,t)=>Qhe(r5n(e,"raw",{value:Qhe(t||e.slice())})),Jhe;const i5n=O(W)(Jhe||(Jhe=o5n([""]))),s5n={width:"50%"};function a5n(e){const{user:t,onSelect:n}=e,[r]=u1(t.id),o=c.jsx(nD,{user:r,status:t.canBeMentioned?void 0:"inactive"}),i=r?c.jsx(B,{size:1,textOverflow:"ellipsis",title:r.displayName,children:r.displayName}):c.jsx(Si,{size:1,style:s5n}),s=h.useCallback(()=>{n(t.id)},[n,t.id]);return c.jsx(ee,{as:"button",disabled:!t.canBeMentioned,onClick:s,padding:2,radius:2,children:c.jsxs(W,{align:"center",gap:3,children:[c.jsxs(i5n,{align:"center",gap:2,flex:1,children:[o,c.jsx(F,{children:i})]}),!t.canBeMentioned&&c.jsx($xe,{fontSize:1,mode:"outline",children:"Unauthorized"})]})})}const epe=[],l5n=O(ne)({maxWidth:"220px"}),tpe=41,c5n=4,u5n=7,d5n=O(W)({maxHeight:tpe*u5n+c5n*2+tpe/2}),f5n=re.forwardRef(function(t,n){const{loading:r,onSelect:o,options:i=[],inputElement:s}=t,[a,l]=h.useState(""),u=h.useRef(null);h.useImperativeHandle(n,()=>({setSearchTerm(v){l(v)}}),[]);const d=h.useCallback(v=>c.jsx(a5n,{user:v,onSelect:o}),[o]),f=h.useCallback(v=>{var g;return!((g=i==null?void 0:i[v])!=null&&g.canBeMentioned)},[i]),p=h.useMemo(()=>a?(i==null?void 0:i.filter(g=>{var b;return(b=g==null?void 0:g.displayName)==null?void 0:b.toLowerCase().includes(a.toLowerCase())}))||epe:i||epe,[i,a]);if(r)return c.jsx(l5n,{children:c.jsx(W,{align:"center",justify:"center",padding:4,children:c.jsx(Hr,{muted:!0,size:1})})});const m=s||void 0;return c.jsxs(W,{direction:"column",height:"fill","data-testid":"comments-mentions-menu",children:[p.length===0&&c.jsx(F,{padding:5,children:c.jsx(B,{align:"center",size:1,muted:!0,children:"No users found"})}),p.length>0&&c.jsx(d5n,{direction:"column",flex:1,overflow:"hidden",children:c.jsx(Pm,{activeItemDataAttr:"data-hovered",ariaLabel:"List of users to mention",fixedHeight:!0,getItemDisabled:f,inputElement:m,itemHeight:41,items:p,padding:1,ref:u,renderItem:d})})]})}),h5n=e=>{const{children:t}=e;return c.jsx(Bs,{children:t})},p5n=e=>{const{children:t,value:n,selected:r}=e;return n._type==="mention"&&n.userId?c.jsx(h3e,{selected:r,userId:n==null?void 0:n.userId}):t},m5n={passive:!0};function g5n(e){const{disabled:t,rootElement:n}=e,[r,o]=h.useState(null),i=h.useMemo(()=>r?{getBoundingClientRect:()=>r}:null,[r]),s=h.useCallback(()=>{if(t){o(null);return}const a=window.getSelection();if(!a||!a.isCollapsed||a.rangeCount===0)return;const l=a.getRangeAt(0);if(!(n==null?void 0:n.contains(l.commonAncestorContainer))){o(null);return}const d=l==null?void 0:l.getBoundingClientRect();d&&o(d)},[t,n]);return h.useEffect(()=>(document.addEventListener("selectionchange",s,m5n),()=>{document.removeEventListener("selectionchange",s)}),[s]),i}var npe=Object.freeze,v5n=Object.defineProperty,v3e=(e,t)=>npe(v5n(e,"raw",{value:npe(t||e.slice())})),rpe,ope;const y5n={outline:"none"},b5n=O(ne)(()=>de(rpe||(rpe=v3e([`
    & > div:first-child {
      [data-slate-node='element']:not(:last-child) {
        margin-bottom: 1em; // todo: improve
      }
    }
  `])))),x5n=O(hn)(e=>{let{theme:t}=e;const{space:n,radius:r}=t.sanity;return de(ope||(ope=v3e([`
    &[data-placement='bottom'] {
      transform: translateY(`,`px);
    }

    &[data-placement='top'] {
      transform: translateY(-`,`px);
    }

    [data-ui='Popover__wrapper'] {
      border-radius: `,`px;
      display: flex;
      flex-direction: column;
      overflow: clip;
      overflow: hidden;
      position: relative;
      width: 300px; // todo: improve
    }
  `])),n[1],n[1],r[3])});function w5n(e){const{focusLock:t,placeholder:n="Create a new comment",onFocus:r,onBlur:o,onKeyDown:i,onSubmit:s}=e,[a,l]=h.useState(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),p=q0(),{canSubmit:m,closeMentions:v,insertMention:g,mentionOptions:b,mentionsMenuOpen:x,mentionsSearchTerm:y,onBeforeInput:w,value:C}=g3e(),_=h.useCallback(()=>c.jsx("span",{children:n}),[n]);Vr(h.useCallback(()=>{x&&v()},[v,x]),[a]),h.useEffect(()=>{var k;(k=f.current)==null||k.setSearchTerm(y)},[y]),h.useEffect(()=>{x&&p&&!Yt(p.anchor,p.focus)&&v()},[x,v,p]),As(k=>{k.code==="Escape"&&x&&v()});const S=g5n({disabled:!x,rootElement:u.current}),E=h.useCallback(k=>{switch(k.key){case"Enter":if(k.shiftKey)break;if(k.preventDefault(),k.stopPropagation(),x){v();break}s&&m&&s();break;case"Escape":case"ArrowLeft":case"ArrowRight":x&&(k.preventDefault(),k.stopPropagation(),v());break}i&&i(k)},[m,v,x,i,s]),j=h.useMemo(()=>{if(p)return;const k=(C||[]).slice(-1)[0],T=Xu(k)?k.children.slice(-1)[0]:void 0;if(!T)return;const A={path:[{_key:k._key},"children",{_key:T._key}],offset:Qs(T)?T.text.length:0};return{focus:A,anchor:A}},[C,p]);return c.jsxs(c.Fragment,{children:[c.jsx(k0,{element:u.current,children:c.jsx(x5n,{arrow:!1,constrainSize:!0,content:c.jsx(f5n,{ref:f,loading:b.loading,onSelect:g,options:b.data||[],inputElement:d.current}),disabled:!x,fallbackPlacements:["bottom","top"],open:x,placement:"bottom",portal:!0,ref:l,referenceElement:S})}),c.jsx(b5n,{ref:u,"data-ui":"EditableWrapStack",children:c.jsx(gke,{"data-testid":"comment-input-editable","data-ui":"EditableElement",onBeforeInput:w,onBlur:o,onFocus:r,onKeyDown:E,ref:d,renderBlock:h5n,renderChild:p5n,renderPlaceholder:_,selection:j,style:y5n,tabIndex:t?0:void 0})})]})}var ipe=Object.freeze,C5n=Object.defineProperty,QN=(e,t)=>ipe(C5n(e,"raw",{value:ipe(t||e.slice())})),spe,ape,lpe;const VS=O(F)(spe||(spe=QN([`
  max-height: 20vh;
  overflow-y: auto;
`]))),_5n=O(Ir)({height:20,width:1}),cpe=O(ae).attrs({fontSize:1,padding:2})(ape||(ape=QN([`
  /* border-radius: 50%; */
`]))),S5n=O(ee)(e=>{let{theme:t}=e;const n=t.sanity.radius[2];return de(lpe||(lpe=QN([`
    border-radius: `,`px;

    &:not([data-expand-on-focus='false'], :focus-within) {
      background: transparent;
      box-shadow: unset;
    }

    &[data-focused='true']:focus-within {
      `,` {
        min-height: 1em;
      }

      box-shadow:
        inset 0 0 0 1px var(--card-border-color),
        0 0 0 1px var(--card-bg-color),
        0 0 0 3px var(--card-focus-ring-color);
    }

    &:focus-within {
      `,` {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='false'] {
      `,` {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='true'] {
      [data-ui='CommentInputActions']:not([hidden]) {
        display: none;
      }

      &:focus-within {
        [data-ui='CommentInputActions'] {
          display: flex;
        }
      }
    }
  `])),n,VS,VS,VS)});function E5n(e){const{currentUser:t,focusLock:n,onBlur:r,onFocus:o,onKeyDown:i,onSubmit:s,placeholder:a,withAvatar:l}=e,[u]=u1(t.id),{canSubmit:d,expandOnFocus:f,focused:p,hasChanges:m,insertAtChar:v,openMentions:g,readOnly:b}=g3e(),x=l?c.jsx(nD,{user:u}):null,y=h.useCallback(w=>{w.stopPropagation(),v(),g()},[v,g]);return c.jsxs(W,{align:"flex-start",gap:2,children:[x,c.jsx(S5n,{"data-expand-on-focus":f&&!d?"true":"false","data-focused":p?"true":"false",flex:1,shadow:1,sizing:"border",tone:b?"transparent":"default",children:c.jsxs(ne,{children:[c.jsx(VS,{paddingX:1,paddingY:2,sizing:"border",children:c.jsx(w5n,{focusLock:n,onBlur:r,onFocus:o,onKeyDown:i,onSubmit:s,placeholder:a})}),c.jsxs(W,{align:"center","data-ui":"CommentInputActions",gap:1,justify:"flex-end",padding:1,children:[c.jsx(cpe,{"aria-label":"Mention user",disabled:b,icon:JSn,mode:"bleed",onClick:y}),c.jsx(_5n,{}),c.jsx(cpe,{"aria-label":"Send comment",disabled:!d||!m||b,icon:QSn,mode:m&&d?"default":"bleed",onClick:s,tone:m&&d?"primary":"default"})]})]})})]})}const k5n=9999999;function j5n(e){const{onClose:t,onConfirm:n}=e,r=eh(),o=h.useCallback(s=>{s.stopPropagation(),t()},[t]),i=h.useCallback(s=>{s.stopPropagation(),n()},[n]);return c.jsx(Sxe,{tone:"default",children:c.jsx(k0,{__unstable_elements:{boundary:r.element},children:c.jsx(VQe,{zOffset:k5n,children:c.jsx(fa,{portal:"boundary",header:"Discard comment?",id:"discard-comment-dialog",onClose:t,width:0,onClickOutside:t,footer:c.jsxs(ln,{columns:2,padding:2,gap:2,children:[c.jsx(ae,{text:"Cancel",mode:"ghost",onClick:o}),c.jsx(ae,{onClick:i,text:"Discard",tone:"critical"})]}),children:c.jsx(ne,{padding:4,children:c.jsx(B,{children:"Do you want to discard the comment?"})})})})})})}const d3=[],T5n={behavior:"smooth",block:"center",inline:"center"},rD=h.forwardRef(function(t,n){const{currentUser:r,expandOnFocus:o,focusLock:i=!1,focusOnMount:s,mentionOptions:a,onBlur:l,onChange:u,onDiscardCancel:d,onDiscardConfirm:f,onFocus:p,onKeyDown:m,onMentionMenuOpenChange:v,onSubmit:g,placeholder:b,readOnly:x,value:y=d3,withAvatar:w=!0}=t,[C,_]=h.useState(!1),S=h.useRef(null),E=h.useRef(null),[j,k]=h.useState(!1),[T,A]=h.useState(zE()),D=h.useCallback(()=>{requestAnimationFrame(()=>{S.current&&Ce.focus(S.current)})},[]),I=h.useCallback(()=>{A(zE())},[]),P=h.useCallback(H=>{if(H.type==="ready"&&s&&D(),H.type==="focus"&&_(!0),H.type==="blur"&&_(!1),H.type==="patch"&&S.current){const U=Ce.getValue(S.current);u(U||d3)}},[s,u,D]),M=h.useCallback(()=>{var H;(H=E.current)==null||H.scrollIntoView(T5n)},[]),$=h.useCallback(()=>{g(),I(),D(),M()},[g,D,I,M]),V=h.useCallback(()=>{f(),I()},[f,I]),L=h.useMemo(()=>({open:()=>{k(!0)},close:()=>{k(!1),D()}}),[D]);return h.useImperativeHandle(n,()=>({focus:D,blur(){S.current&&Ce.blur(S.current)},scrollTo:M,reset:I,discardDialogController:L}),[L,D,I,M]),c.jsxs(c.Fragment,{children:[j&&c.jsx(j5n,{onClose:d,onConfirm:V}),c.jsx(ne,{ref:E,"data-testid":"comment-input",children:c.jsx(Ce,{onChange:P,readOnly:x,ref:S,schemaType:XSn,value:y||d3,children:c.jsx(n5n,{expandOnFocus:o,focused:C,focusOnMount:s,mentionOptions:a,onMentionMenuOpenChange:v,readOnly:x,value:y,children:c.jsx(od,{as:ne,disabled:!i||j,children:c.jsx(E5n,{currentUser:r,focusLock:i,onBlur:l,onFocus:p,onKeyDown:m,onSubmit:$,placeholder:b,withAvatar:w})})})},T)})]})}),f3=3;var upe=Object.freeze,A5n=Object.defineProperty,D5n=(e,t)=>upe(A5n(e,"raw",{value:upe(t||e.slice())})),dpe;const I5n={open:500},P5n=O(B)(dpe||(dpe=D5n([`
  min-width: max-content;
`])));function O5n(e){const{children:t,text:n}=e;return c.jsx(yt,{delay:I5n,portal:!0,placement:"top",content:c.jsx(P5n,{size:1,children:n}),padding:2,children:c.jsx(W,{children:t})})}var fpe=Object.freeze,$5n=Object.defineProperty,y3e=(e,t)=>fpe($5n(e,"raw",{value:fpe(t||e.slice())})),hpe,ppe;const R5n={open:500},M5n={placement:"bottom-end"},F5n=O(es)(hpe||(hpe=y3e([`
  display: flex;
`]))),L5n=O(ee)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return de(ppe||(ppe=y3e([`
    gap: `,`px;
    padding: `,`px;

    &:empty {
      display: none;
    }
  `])),n[1]/2,n[1]/2)});function B5n(e){const{canDelete:t,canEdit:n,isParent:r,onCopyLink:o,onDeleteStart:i,onEditStart:s,onMenuClose:a,onMenuOpen:l,onStatusChange:u,readOnly:d,status:f,...p}=e,m=!!(o||i||s);return c.jsx(uQe,{delay:R5n,children:c.jsx(F5n,{"data-root-menu":r?"true":"false",...p,children:c.jsxs(L5n,{display:"flex",shadow:2,padding:1,radius:2,sizing:"border",children:[r&&c.jsx(O5n,{text:f==="open"?"Mark as resolved":"Re-open",children:c.jsx(ae,{"aria-label":"Mark comment as resolved",disabled:d,fontSize:1,icon:f==="open"?rj:KS,mode:"bleed",onClick:u,padding:2})}),c.jsx(rn,{id:"comment-actions-menu",button:c.jsx(ae,{"aria-label":"Open comment actions menu",disabled:d,fontSize:1,hidden:!m,icon:Ho,mode:"bleed",padding:2}),onOpen:l,onClose:a,menu:c.jsxs(Ht,{children:[c.jsx(Me,{fontSize:1,hidden:!n,icon:Du,onClick:s,text:"Edit comment"}),c.jsx(Me,{fontSize:1,hidden:!t,icon:fo,onClick:i,text:"Delete comment",tone:"critical"}),c.jsx(Ir,{hidden:!t&&!n}),c.jsx(Me,{fontSize:1,hidden:!o,icon:jf,onClick:o,text:"Copy link to comment"})]}),popover:M5n})]})})})}var mpe=Object.freeze,N5n=Object.defineProperty,f1=(e,t)=>mpe(N5n(e,"raw",{value:mpe(t||e.slice())})),gpe,vpe,ype,bpe,xpe,wpe;function z5n(e){const{children:t}=e,n=h.useCallback(r=>{r.stopPropagation()},[]);return c.jsx(ne,{onClick:n,children:t})}const V5n={width:"50%"},Cpe=O(B)(gpe||(gpe=f1([`
  min-width: max-content;
`]))),H5n=O(ne)(vpe||(vpe=f1([`
  transition: opacity 200ms ease;

  &[data-muted='true'] {
    transition: unset;
    opacity: 0.5;
  }
`]))),U5n=O(W)(ype||(ype=f1([`
  min-height: `,`px;
`])),f3e),W5n=O(ee)(bpe||(bpe=f1([`
  // Add not on hover
  &:not(:hover) {
    background-color: transparent;
  }
`]))),By=O(B5n)(xpe||(xpe=f1([""]))),Y5n=O(ne)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return de(wpe||(wpe=f1([`
    position: relative;

    // Only show the floating layer on hover when hover is supported.
    // Else, the layer is always visible.
    @media (hover: hover) {
      `,` {
        opacity: 0;
        position: absolute;
        right: 0;
        top: 0;

        transform: translate(`,"px, -",`px);
      }

      `,` {
        &:focus-within {
          opacity: 1;
        }
      }

      &:hover {
        `,` {
          opacity: 1;
        }
      }
    }

    &[data-menu-open='true'] {
      `,` {
        opacity: 1;
      }
    }
  `])),By,n[1],n[1],By,By,By)}),q5n={agoSuffix:!0};function _pe(e){const{canDelete:t,canEdit:n,comment:r,currentUser:o,hasError:i,isParent:s,isRetrying:a,mentionOptions:l,onCopyLink:u,onCreateRetry:d,onDelete:f,onEdit:p,onInputKeyDown:m,onStatusChange:v,readOnly:g}=e,{_createdAt:b,authorId:x,message:y,_id:w,lastEditedAt:C}=r,[_]=u1(x),[S,E]=h.useState(y),[j,k]=h.useState(!1),[T,A]=h.useState(null),D=h.useRef(y),[I,P]=h.useState(!1),M=p3e(S),$=h.useMemo(()=>bC(S),[S]),V=h.useRef(null),L=b?new Date(b):new Date,H=Wf(L,q5n),U=Zo(L,"PPPPp"),z=C?Zo(new Date(C),"PPPPp"):null,Y=i||a,te=h.useCallback(()=>P(!0),[]),N=h.useCallback(()=>P(!1),[]),G=h.useCallback(()=>u==null?void 0:u(w),[w,u]),q=h.useCallback(xe=>{xe.stopPropagation(),d==null||d(w)},[w,d]),K=h.useCallback(()=>f(w),[w,f]),Q=h.useCallback(()=>{k(!1),E(D.current)},[]),X=h.useCallback(()=>{var xe;if(!$||!M){Q();return}(xe=V.current)==null||xe.discardDialogController.open()},[Q,M,$]),Z=h.useCallback(xe=>{xe.isDefaultPrevented()||(xe.key==="Escape"&&(xe.preventDefault(),xe.stopPropagation(),X()),m&&m(xe))},[m,X]),oe=h.useCallback(()=>{var xe;(xe=V.current)==null||xe.discardDialogController.close()},[]),le=h.useCallback(()=>{var xe;(xe=V.current)==null||xe.discardDialogController.close(),Q()},[Q]),he=h.useCallback(()=>{p(w,{message:S}),k(!1)},[w,p,S]),ie=h.useCallback(()=>{v==null||v(w,r.status==="open"?"resolved":"open")},[w,r.status,v]),ye=h.useCallback(()=>{k(xe=>!xe)},[]);Pi(j,()=>{P(!1)}),As(xe=>{xe.key==="Escape"&&!M&&Q()}),Vr(()=>{M||Q()},[T]);const _e=c.jsx(nD,{user:_}),Ae=_!=null&&_.displayName?c.jsx(B,{size:1,weight:"semibold",textOverflow:"ellipsis",title:_.displayName,children:_.displayName}):c.jsx(Si,{size:1,style:V5n});return c.jsxs(Y5n,{"data-menu-open":I?"true":"false",ref:A,space:4,children:[c.jsxs(H5n,{space:1,"data-muted":Y,children:[c.jsxs(W,{align:"center",gap:f3,flex:1,children:[_e,c.jsx(W,{align:"center",paddingBottom:1,sizing:"border",flex:1,children:c.jsxs(W,{align:"flex-end",gap:2,children:[c.jsx(F,{flex:1,children:Ae}),!Y&&c.jsxs(W,{align:"center",gap:1,children:[c.jsx(Cpe,{size:0,muted:!0,title:U,children:H}),z&&c.jsx(Cpe,{size:0,muted:!0,title:z,children:"(edited)"})]})]})}),!j&&!Y&&c.jsx(z5n,{children:c.jsx(By,{canDelete:t,canEdit:n,isParent:s,onCopyLink:G,onDeleteStart:K,onEditStart:ye,onMenuClose:N,onMenuOpen:te,onStatusChange:ie,readOnly:g,status:r.status})})]}),j&&c.jsxs(W,{align:"flex-start",gap:2,children:[c.jsx(zS,{}),c.jsx(ne,{flex:1,children:c.jsx(rD,{currentUser:o,focusOnMount:!0,mentionOptions:l,onChange:E,onDiscardCancel:oe,onDiscardConfirm:le,onKeyDown:Z,onSubmit:he,readOnly:g,ref:V,value:S,withAvatar:!1})})]}),!j&&c.jsxs(W,{gap:f3,children:[c.jsx(zS,{}),c.jsx(YSn,{blocks:y})]})]}),Y&&c.jsxs(U5n,{gap:f3,children:[c.jsx(zS,{}),c.jsxs(W,{align:"center",gap:1,flex:1,children:[c.jsxs(B,{muted:!0,size:1,children:[i&&"Failed to send.",a&&"Posting..."]}),c.jsx(W,{hidden:a,children:c.jsx(W5n,{__unstable_focusRing:!0,display:"flex",forwardedAs:"button",onClick:q,padding:1,radius:2,tone:"primary",children:c.jsx(B,{size:1,muted:!0,children:"Retry"})})})]})]})]})}var Spe=Object.freeze,G5n=Object.defineProperty,K5n=(e,t)=>Spe(G5n(e,"raw",{value:Spe(t||e.slice())})),Epe;const b3e=O(ee).attrs(e=>{let{tone:t}=e;return{padding:3,radius:3,sizing:"border",tone:t||"transparent"}})(Epe||(Epe=K5n([`
  // ...
`])));var kpe=Object.freeze,Z5n=Object.defineProperty,JN=(e,t)=>kpe(Z5n(e,"raw",{value:kpe(t||e.slice())})),jpe,Tpe,Ape;const uy=[],dy=5,X5n=O(b3e)(e=>{let{theme:t}=e;const{hovered:n}=t.sanity.color.button.bleed.default;return de(jpe||(jpe=JN([`
    position: relative;

    &:has(> [data-ui='GhostButton']:focus:focus-visible) {
      box-shadow:
        inset 0 0 0 1px var(--card-border-color),
        0 0 0 1px var(--card-bg-color),
        0 0 0 3px var(--card-focus-ring-color);
    }

    // When hovering over the thread root we want to display the parent comments menu.
    // The data-root-menu attribute is used to target the menu and is applied in
    // the CommentsListItemLayout component.
    &:not([data-active='true']) {
      @media (hover: hover) {
        &:hover {
          --card-bg-color: `,`;

          [data-root-menu='true'] {
            opacity: 1;
          }
        }
      }
    }
  `])),n.bg2)}),Q5n=O(ae)(e=>{let{theme:t}=e;const{medium:n}=t.sanity.fonts.text.weights;return de(Tpe||(Tpe=JN([`
    font-weight: `,`;
  `])),n)}),J5n=O(ae)(Ape||(Ape=JN([`
  opacity: 0;
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  left: 0;
`]))),eEn=re.memo(function(t){var n,r;const{canReply:o,currentUser:i,mentionOptions:s,onCopyLink:a,onCreateRetry:l,onDelete:u,onEdit:d,onKeyDown:f,onPathSelect:p,onReply:m,onStatusChange:v,parentComment:g,readOnly:b,replies:x=uy,selected:y}=t,[w,C]=h.useState(uy),[_,S]=h.useState(!0),E=h.useRef(!1),j=h.useRef(null),k=h.useRef(null),T=h.useMemo(()=>bC(w),[w]),A=h.useCallback(()=>{const Y={fieldPath:g.target.path.field,message:w,parentCommentId:g._id,status:(g==null?void 0:g.status)||"open",threadId:g.threadId};m==null||m(Y),C(uy)},[m,g._id,g==null?void 0:g.status,g.target.path.field,g.threadId,w]),D=h.useCallback(()=>{var Y;if(!T){C(uy);return}(Y=k.current)==null||Y.discardDialogController.open()},[T]),I=h.useCallback(Y=>{Y.isDefaultPrevented()||Y.key==="Escape"&&(Y.preventDefault(),Y.stopPropagation(),D())},[D]),P=h.useCallback(()=>{var Y;(Y=k.current)==null||Y.discardDialogController.close()},[]),M=h.useCallback(()=>{var Y,te;C(uy),(Y=k.current)==null||Y.discardDialogController.close(),(te=k.current)==null||te.focus()},[]),$=h.useCallback(()=>{const Y=Sf(g.target.path.field);p==null||p(Y)},[p,g.target.path.field]),V=h.useCallback(Y=>{Y.stopPropagation(),S(!1),E.current=!0},[]),L=h.useMemo(()=>_?x==null?void 0:x.slice(-dy):x,[x,_]),H=h.useMemo(()=>x?x.length>dy:!1,[x]),U=h.useMemo(()=>"".concat((x==null?void 0:x.length)-dy," more ").concat((x==null?void 0:x.length)-dy===1?"comment":"comments"),[x==null?void 0:x.length]);h.useEffect(()=>{x.length>dy&&!E.current&&S(!0)},[x]);const z=h.useMemo(()=>L.map(Y=>{var te,N;return c.jsx(ne,{as:"li","data-comment-id":Y._id,children:c.jsx(_pe,{canDelete:Y.authorId===i.id,canEdit:Y.authorId===i.id,comment:Y,currentUser:i,hasError:((te=Y._state)==null?void 0:te.type)==="createError",isRetrying:((N=Y._state)==null?void 0:N.type)==="createRetrying",mentionOptions:s,onInputKeyDown:I,onCopyLink:a,onCreateRetry:l,onDelete:u,onEdit:d,readOnly:b})},Y._id)}),[i,I,s,a,l,u,d,b,L]);return c.jsx(ne,{space:2,ref:j,children:c.jsxs(X5n,{"data-active":y?"true":"fase",onClick:$,tone:y?"primary":void 0,children:[c.jsx(J5n,{"data-ui":"GhostButton","aria-label":"Go to field"}),c.jsxs(ne,{as:"ul",paddingBottom:o?void 0:1,space:4,children:[c.jsx(ne,{as:"li","data-comment-id":g._id,children:c.jsx(_pe,{canDelete:g.authorId===i.id,canEdit:g.authorId===i.id,comment:g,currentUser:i,hasError:((n=g._state)==null?void 0:n.type)==="createError",isParent:!0,isRetrying:((r=g._state)==null?void 0:r.type)==="createRetrying",mentionOptions:s,onCopyLink:a,onCreateRetry:l,onDelete:u,onEdit:d,onInputKeyDown:f,onStatusChange:v,readOnly:b})}),H&&!E.current&&c.jsxs(W,{gap:1,paddingY:1,sizing:"border",children:[c.jsx(zS,{}),c.jsx(Q5n,{fontSize:1,iconRight:Rl,mode:"bleed",onClick:V,padding:2,space:2,text:U})]}),z,o&&c.jsx(rD,{currentUser:i,expandOnFocus:!0,mentionOptions:s,onChange:C,onDiscardCancel:P,onDiscardConfirm:M,onKeyDown:I,onSubmit:A,placeholder:"Reply",readOnly:b,ref:k,value:w})]})]})})}),tEn={close:0,open:500},Dpe=c.jsx(B,{muted:!0,children:c.jsx(Qu,{})}),h3=(e,t)=>c.jsx(F,{as:"li",children:c.jsx(B,{textOverflow:"ellipsis",size:1,weight:"semibold",children:e})},"".concat(e,"-").concat(t));function nEn(e){const{titlePath:t,maxLength:n}=e,r=h.useMemo(()=>{const i=t.length,s=Math.ceil(n/2),a=Math.floor(n/2);return n&&i>n?[...t.slice(0,s-1),t.slice(s-1,i-a),...t.slice(i-a)]:t},[n,t]),o=h.useMemo(()=>r.map((i,s)=>{const a="".concat(i,"-").concat(s),l=s<r.length-1;return Array.isArray(i)?c.jsxs(h.Fragment,{children:[c.jsx(yt,{delay:tEn,content:c.jsx(ne,{space:2,padding:2,children:i.map(h3)}),children:c.jsx(F,{children:h3("...",s)})}),l&&Dpe]},a):c.jsxs(h.Fragment,{children:[h3(i,s),l&&Dpe]},a)}),[r]);return c.jsx(W,{align:"center",as:"ol",gap:2,children:o})}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const rEn=4,Ipe=0,Ppe=1,oEn=2;function h1(e){let t=e.length;for(;--t>=0;)e[t]=0}const iEn=0,x3e=1,sEn=2,aEn=3,lEn=258,ez=29,xC=256,Vx=xC+1+ez,_v=30,tz=19,w3e=2*Vx+1,gp=15,p3=16,cEn=7,nz=256,C3e=16,_3e=17,S3e=18,J4=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),HS=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),uEn=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),E3e=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),dEn=512,du=new Array((Vx+2)*2);h1(du);const Ib=new Array(_v*2);h1(Ib);const Hx=new Array(dEn);h1(Hx);const Ux=new Array(lEn-aEn+1);h1(Ux);const rz=new Array(ez);h1(rz);const Pk=new Array(_v);h1(Pk);function m3(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}let k3e,j3e,T3e;function g3(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const A3e=e=>e<256?Hx[e]:Hx[256+(e>>>7)],Wx=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},_s=(e,t,n)=>{e.bi_valid>p3-n?(e.bi_buf|=t<<e.bi_valid&65535,Wx(e,e.bi_buf),e.bi_buf=t>>p3-e.bi_valid,e.bi_valid+=n-p3):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},pc=(e,t,n)=>{_s(e,n[t*2],n[t*2+1])},D3e=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},fEn=e=>{e.bi_valid===16?(Wx(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},hEn=(e,t)=>{const n=t.dyn_tree,r=t.max_code,o=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,l=t.stat_desc.max_length;let u,d,f,p,m,v,g=0;for(p=0;p<=gp;p++)e.bl_count[p]=0;for(n[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<w3e;u++)d=e.heap[u],p=n[n[d*2+1]*2+1]+1,p>l&&(p=l,g++),n[d*2+1]=p,!(d>r)&&(e.bl_count[p]++,m=0,d>=a&&(m=s[d-a]),v=n[d*2],e.opt_len+=v*(p+m),i&&(e.static_len+=v*(o[d*2+1]+m)));if(g!==0){do{for(p=l-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[l]--,g-=2}while(g>0);for(p=l;p!==0;p--)for(d=e.bl_count[p];d!==0;)f=e.heap[--u],!(f>r)&&(n[f*2+1]!==p&&(e.opt_len+=(p-n[f*2+1])*n[f*2],n[f*2+1]=p),d--)}},I3e=(e,t,n)=>{const r=new Array(gp+1);let o=0,i,s;for(i=1;i<=gp;i++)o=o+n[i-1]<<1,r[i]=o;for(s=0;s<=t;s++){let a=e[s*2+1];a!==0&&(e[s*2]=D3e(r[a]++,a))}},pEn=()=>{let e,t,n,r,o;const i=new Array(gp+1);for(n=0,r=0;r<ez-1;r++)for(rz[r]=n,e=0;e<1<<J4[r];e++)Ux[n++]=r;for(Ux[n-1]=r,o=0,r=0;r<16;r++)for(Pk[r]=o,e=0;e<1<<HS[r];e++)Hx[o++]=r;for(o>>=7;r<_v;r++)for(Pk[r]=o<<7,e=0;e<1<<HS[r]-7;e++)Hx[256+o++]=r;for(t=0;t<=gp;t++)i[t]=0;for(e=0;e<=143;)du[e*2+1]=8,e++,i[8]++;for(;e<=255;)du[e*2+1]=9,e++,i[9]++;for(;e<=279;)du[e*2+1]=7,e++,i[7]++;for(;e<=287;)du[e*2+1]=8,e++,i[8]++;for(I3e(du,Vx+1,i),e=0;e<_v;e++)Ib[e*2+1]=5,Ib[e*2]=D3e(e,5);k3e=new m3(du,J4,xC+1,Vx,gp),j3e=new m3(Ib,HS,0,_v,gp),T3e=new m3(new Array(0),uEn,0,tz,cEn)},P3e=e=>{let t;for(t=0;t<Vx;t++)e.dyn_ltree[t*2]=0;for(t=0;t<_v;t++)e.dyn_dtree[t*2]=0;for(t=0;t<tz;t++)e.bl_tree[t*2]=0;e.dyn_ltree[nz*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},O3e=e=>{e.bi_valid>8?Wx(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Ope=(e,t,n,r)=>{const o=t*2,i=n*2;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]},v3=(e,t,n)=>{const r=e.heap[n];let o=n<<1;for(;o<=e.heap_len&&(o<e.heap_len&&Ope(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!Ope(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r},$pe=(e,t,n)=>{let r,o,i=0,s,a;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+i++]&255,r+=(e.pending_buf[e.sym_buf+i++]&255)<<8,o=e.pending_buf[e.sym_buf+i++],r===0?pc(e,o,t):(s=Ux[o],pc(e,s+xC+1,t),a=J4[s],a!==0&&(o-=rz[s],_s(e,o,a)),r--,s=A3e(r),pc(e,s,n),a=HS[s],a!==0&&(r-=Pk[s],_s(e,r,a)));while(i<e.sym_next);pc(e,nz,t)},eF=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,i=t.stat_desc.elems;let s,a,l=-1,u;for(e.heap_len=0,e.heap_max=w3e,s=0;s<i;s++)n[s*2]!==0?(e.heap[++e.heap_len]=l=s,e.depth[s]=0):n[s*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=l<2?++l:0,n[u*2]=1,e.depth[u]=0,e.opt_len--,o&&(e.static_len-=r[u*2+1]);for(t.max_code=l,s=e.heap_len>>1;s>=1;s--)v3(e,n,s);u=i;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],v3(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=a,n[u*2]=n[s*2]+n[a*2],e.depth[u]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1,n[s*2+1]=n[a*2+1]=u,e.heap[1]=u++,v3(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],hEn(e,t),I3e(n,l,e.bl_count)},Rpe=(e,t,n)=>{let r,o=-1,i,s=t[0*2+1],a=0,l=7,u=4;for(s===0&&(l=138,u=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)i=s,s=t[(r+1)*2+1],!(++a<l&&i===s)&&(a<u?e.bl_tree[i*2]+=a:i!==0?(i!==o&&e.bl_tree[i*2]++,e.bl_tree[C3e*2]++):a<=10?e.bl_tree[_3e*2]++:e.bl_tree[S3e*2]++,a=0,o=i,s===0?(l=138,u=3):i===s?(l=6,u=3):(l=7,u=4))},Mpe=(e,t,n)=>{let r,o=-1,i,s=t[0*2+1],a=0,l=7,u=4;for(s===0&&(l=138,u=3),r=0;r<=n;r++)if(i=s,s=t[(r+1)*2+1],!(++a<l&&i===s)){if(a<u)do pc(e,i,e.bl_tree);while(--a!==0);else i!==0?(i!==o&&(pc(e,i,e.bl_tree),a--),pc(e,C3e,e.bl_tree),_s(e,a-3,2)):a<=10?(pc(e,_3e,e.bl_tree),_s(e,a-3,3)):(pc(e,S3e,e.bl_tree),_s(e,a-11,7));a=0,o=i,s===0?(l=138,u=3):i===s?(l=6,u=3):(l=7,u=4)}},mEn=e=>{let t;for(Rpe(e,e.dyn_ltree,e.l_desc.max_code),Rpe(e,e.dyn_dtree,e.d_desc.max_code),eF(e,e.bl_desc),t=tz-1;t>=3&&e.bl_tree[E3e[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},gEn=(e,t,n,r)=>{let o;for(_s(e,t-257,5),_s(e,n-1,5),_s(e,r-4,4),o=0;o<r;o++)_s(e,e.bl_tree[E3e[o]*2+1],3);Mpe(e,e.dyn_ltree,t-1),Mpe(e,e.dyn_dtree,n-1)},vEn=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return Ipe;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Ppe;for(n=32;n<xC;n++)if(e.dyn_ltree[n*2]!==0)return Ppe;return Ipe};let Fpe=!1;const yEn=e=>{Fpe||(pEn(),Fpe=!0),e.l_desc=new g3(e.dyn_ltree,k3e),e.d_desc=new g3(e.dyn_dtree,j3e),e.bl_desc=new g3(e.bl_tree,T3e),e.bi_buf=0,e.bi_valid=0,P3e(e)},$3e=(e,t,n,r)=>{_s(e,(iEn<<1)+(r?1:0),3),O3e(e),Wx(e,n),Wx(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},bEn=e=>{_s(e,x3e<<1,3),pc(e,nz,du),fEn(e)},xEn=(e,t,n,r)=>{let o,i,s=0;e.level>0?(e.strm.data_type===oEn&&(e.strm.data_type=vEn(e)),eF(e,e.l_desc),eF(e,e.d_desc),s=mEn(e),o=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=o&&(o=i)):o=i=n+5,n+4<=o&&t!==-1?$3e(e,t,n,r):e.strategy===rEn||i===o?(_s(e,(x3e<<1)+(r?1:0),3),$pe(e,du,Ib)):(_s(e,(sEn<<1)+(r?1:0),3),gEn(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),$pe(e,e.dyn_ltree,e.dyn_dtree)),P3e(e),r&&O3e(e)},wEn=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(Ux[n]+xC+1)*2]++,e.dyn_dtree[A3e(t)*2]++),e.sym_next===e.sym_end);var CEn=yEn,_En=$3e,SEn=xEn,EEn=wEn,kEn=bEn,jEn={_tr_init:CEn,_tr_stored_block:_En,_tr_flush_block:SEn,_tr_tally:EEn,_tr_align:kEn};const TEn=(e,t,n,r)=>{let o=e&65535|0,i=e>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do o=o+t[r++]|0,i=i+o|0;while(--s);o%=65521,i%=65521}return o|i<<16|0};var Yx=TEn;const AEn=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},DEn=new Uint32Array(AEn()),IEn=(e,t,n,r)=>{const o=DEn,i=r+n;e^=-1;for(let s=r;s<i;s++)e=e>>>8^o[(e^t[s])&255];return e^-1};var Oo=IEn,rm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Bm={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:PEn,_tr_stored_block:tF,_tr_flush_block:OEn,_tr_tally:xf,_tr_align:$En}=jEn,{Z_NO_FLUSH:wf,Z_PARTIAL_FLUSH:REn,Z_FULL_FLUSH:MEn,Z_FINISH:Da,Z_BLOCK:Lpe,Z_OK:Yo,Z_STREAM_END:Bpe,Z_STREAM_ERROR:kc,Z_DATA_ERROR:FEn,Z_BUF_ERROR:y3,Z_DEFAULT_COMPRESSION:LEn,Z_FILTERED:BEn,Z_HUFFMAN_ONLY:m2,Z_RLE:NEn,Z_FIXED:zEn,Z_DEFAULT_STRATEGY:VEn,Z_UNKNOWN:HEn,Z_DEFLATED:oD}=Bm,UEn=9,WEn=15,YEn=8,qEn=29,GEn=256,nF=GEn+1+qEn,KEn=30,ZEn=19,XEn=2*nF+1,QEn=15,Wt=3,nf=258,jc=nf+Wt+1,JEn=32,l0=42,oz=57,rF=69,oF=73,iF=91,sF=103,vp=113,Ny=666,Wi=1,p1=2,om=3,m1=4,ekn=3,yp=(e,t)=>(e.msg=rm[t],t),Npe=e=>e*2-(e>4?9:0),Nd=e=>{let t=e.length;for(;--t>=0;)e[t]=0},tkn=e=>{let t,n,r,o=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=o?n-o:0;while(--t);t=o,r=t;do n=e.prev[--r],e.prev[r]=n>=o?n-o:0;while(--t)};let nkn=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,Cf=nkn;const Ns=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},Xs=(e,t)=>{OEn(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ns(e.strm)},dn=(e,t)=>{e.pending_buf[e.pending++]=t},fy=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},aF=(e,t,n,r)=>{let o=e.avail_in;return o>r&&(o=r),o===0?0:(e.avail_in-=o,t.set(e.input.subarray(e.next_in,e.next_in+o),n),e.state.wrap===1?e.adler=Yx(e.adler,t,o,n):e.state.wrap===2&&(e.adler=Oo(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)},R3e=(e,t)=>{let n=e.max_chain_length,r=e.strstart,o,i,s=e.prev_length,a=e.nice_match;const l=e.strstart>e.w_size-jc?e.strstart-(e.w_size-jc):0,u=e.window,d=e.w_mask,f=e.prev,p=e.strstart+nf;let m=u[r+s-1],v=u[r+s];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do if(o=t,!(u[o+s]!==v||u[o+s-1]!==m||u[o]!==u[r]||u[++o]!==u[r+1])){r+=2,o++;do;while(u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&r<p);if(i=nf-(p-r),r=p-nf,i>s){if(e.match_start=t,s=i,i>=a)break;m=u[r+s-1],v=u[r+s]}}while((t=f[t&d])>l&&--n!==0);return s<=e.lookahead?s:e.lookahead},c0=e=>{const t=e.w_size;let n,r,o;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-jc)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),tkn(e),r+=t),e.strm.avail_in===0)break;if(n=aF(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=Wt)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=Cf(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=Cf(e,e.ins_h,e.window[o+Wt-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<Wt)););}while(e.lookahead<jc&&e.strm.avail_in!==0)},M3e=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,o,i,s=0,a=e.strm.avail_in;do{if(r=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,o=e.strstart-e.block_start,r>o+e.strm.avail_in&&(r=o+e.strm.avail_in),r>i&&(r=i),r<n&&(r===0&&t!==Da||t===wf||r!==o+e.strm.avail_in)))break;s=t===Da&&r===o+e.strm.avail_in?1:0,tF(e,0,0,s),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,Ns(e.strm),o&&(o>r&&(o=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+o),e.strm.next_out),e.strm.next_out+=o,e.strm.avail_out-=o,e.strm.total_out+=o,e.block_start+=o,r-=o),r&&(aF(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(s===0);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?m1:t!==wf&&t!==Da&&e.strm.avail_in===0&&e.strstart===e.block_start?p1:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(aF(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,n=i>e.w_size?e.w_size:i,o=e.strstart-e.block_start,(o>=n||(o||t===Da)&&t!==wf&&e.strm.avail_in===0&&o<=i)&&(r=o>i?i:o,s=t===Da&&e.strm.avail_in===0&&r===o?1:0,tF(e,e.block_start,r,s),e.block_start+=r,Ns(e.strm)),s?om:Wi)},b3=(e,t)=>{let n,r;for(;;){if(e.lookahead<jc){if(c0(e),e.lookahead<jc&&t===wf)return Wi;if(e.lookahead===0)break}if(n=0,e.lookahead>=Wt&&(e.ins_h=Cf(e,e.ins_h,e.window[e.strstart+Wt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-jc&&(e.match_length=R3e(e,n)),e.match_length>=Wt)if(r=xf(e,e.strstart-e.match_start,e.match_length-Wt),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Wt){e.match_length--;do e.strstart++,e.ins_h=Cf(e,e.ins_h,e.window[e.strstart+Wt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Cf(e,e.ins_h,e.window[e.strstart+1]);else r=xf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Xs(e,!1),e.strm.avail_out===0))return Wi}return e.insert=e.strstart<Wt-1?e.strstart:Wt-1,t===Da?(Xs(e,!0),e.strm.avail_out===0?om:m1):e.sym_next&&(Xs(e,!1),e.strm.avail_out===0)?Wi:p1},ag=(e,t)=>{let n,r,o;for(;;){if(e.lookahead<jc){if(c0(e),e.lookahead<jc&&t===wf)return Wi;if(e.lookahead===0)break}if(n=0,e.lookahead>=Wt&&(e.ins_h=Cf(e,e.ins_h,e.window[e.strstart+Wt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Wt-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-jc&&(e.match_length=R3e(e,n),e.match_length<=5&&(e.strategy===BEn||e.match_length===Wt&&e.strstart-e.match_start>4096)&&(e.match_length=Wt-1)),e.prev_length>=Wt&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-Wt,r=xf(e,e.strstart-1-e.prev_match,e.prev_length-Wt),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=o&&(e.ins_h=Cf(e,e.ins_h,e.window[e.strstart+Wt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Wt-1,e.strstart++,r&&(Xs(e,!1),e.strm.avail_out===0))return Wi}else if(e.match_available){if(r=xf(e,0,e.window[e.strstart-1]),r&&Xs(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Wi}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=xf(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Wt-1?e.strstart:Wt-1,t===Da?(Xs(e,!0),e.strm.avail_out===0?om:m1):e.sym_next&&(Xs(e,!1),e.strm.avail_out===0)?Wi:p1},rkn=(e,t)=>{let n,r,o,i;const s=e.window;for(;;){if(e.lookahead<=nf){if(c0(e),e.lookahead<=nf&&t===wf)return Wi;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Wt&&e.strstart>0&&(o=e.strstart-1,r=s[o],r===s[++o]&&r===s[++o]&&r===s[++o])){i=e.strstart+nf;do;while(r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&o<i);e.match_length=nf-(i-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Wt?(n=xf(e,1,e.match_length-Wt),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=xf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Xs(e,!1),e.strm.avail_out===0))return Wi}return e.insert=0,t===Da?(Xs(e,!0),e.strm.avail_out===0?om:m1):e.sym_next&&(Xs(e,!1),e.strm.avail_out===0)?Wi:p1},okn=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(c0(e),e.lookahead===0)){if(t===wf)return Wi;break}if(e.match_length=0,n=xf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Xs(e,!1),e.strm.avail_out===0))return Wi}return e.insert=0,t===Da?(Xs(e,!0),e.strm.avail_out===0?om:m1):e.sym_next&&(Xs(e,!1),e.strm.avail_out===0)?Wi:p1};function Zl(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}const zy=[new Zl(0,0,0,0,M3e),new Zl(4,4,8,4,b3),new Zl(4,5,16,8,b3),new Zl(4,6,32,32,b3),new Zl(4,4,16,16,ag),new Zl(8,16,32,32,ag),new Zl(8,16,128,128,ag),new Zl(8,32,128,256,ag),new Zl(32,128,258,1024,ag),new Zl(32,258,258,4096,ag)],ikn=e=>{e.window_size=2*e.w_size,Nd(e.head),e.max_lazy_match=zy[e.level].max_lazy,e.good_match=zy[e.level].good_length,e.nice_match=zy[e.level].nice_length,e.max_chain_length=zy[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Wt-1,e.match_available=0,e.ins_h=0};function skn(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=oD,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(XEn*2),this.dyn_dtree=new Uint16Array((2*KEn+1)*2),this.bl_tree=new Uint16Array((2*ZEn+1)*2),Nd(this.dyn_ltree),Nd(this.dyn_dtree),Nd(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(QEn+1),this.heap=new Uint16Array(2*nF+1),Nd(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*nF+1),Nd(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const wC=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==l0&&t.status!==oz&&t.status!==rF&&t.status!==oF&&t.status!==iF&&t.status!==sF&&t.status!==vp&&t.status!==Ny?1:0},F3e=e=>{if(wC(e))return yp(e,kc);e.total_in=e.total_out=0,e.data_type=HEn;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?oz:t.wrap?l0:vp,e.adler=t.wrap===2?0:1,t.last_flush=-2,PEn(t),Yo},L3e=e=>{const t=F3e(e);return t===Yo&&ikn(e.state),t},akn=(e,t)=>wC(e)||e.state.wrap!==2?kc:(e.state.gzhead=t,Yo),B3e=(e,t,n,r,o,i)=>{if(!e)return kc;let s=1;if(t===LEn&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>UEn||n!==oD||r<8||r>15||t<0||t>9||i<0||i>zEn||r===8&&s!==1)return yp(e,kc);r===8&&(r=9);const a=new skn;return e.state=a,a.strm=e,a.status=l0,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=o+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Wt-1)/Wt),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<o+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=i,a.method=n,L3e(e)},lkn=(e,t)=>B3e(e,t,oD,WEn,YEn,VEn),ckn=(e,t)=>{if(wC(e)||t>Lpe||t<0)return e?yp(e,kc):kc;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===Ny&&t!==Da)return yp(e,e.avail_out===0?y3:kc);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(Ns(e),e.avail_out===0)return n.last_flush=-1,Yo}else if(e.avail_in===0&&Npe(t)<=Npe(r)&&t!==Da)return yp(e,y3);if(n.status===Ny&&e.avail_in!==0)return yp(e,y3);if(n.status===l0&&n.wrap===0&&(n.status=vp),n.status===l0){let o=oD+(n.w_bits-8<<4)<<8,i=-1;if(n.strategy>=m2||n.level<2?i=0:n.level<6?i=1:n.level===6?i=2:i=3,o|=i<<6,n.strstart!==0&&(o|=JEn),o+=31-o%31,fy(n,o),n.strstart!==0&&(fy(n,e.adler>>>16),fy(n,e.adler&65535)),e.adler=1,n.status=vp,Ns(e),n.pending!==0)return n.last_flush=-1,Yo}if(n.status===oz){if(e.adler=0,dn(n,31),dn(n,139),dn(n,8),n.gzhead)dn(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),dn(n,n.gzhead.time&255),dn(n,n.gzhead.time>>8&255),dn(n,n.gzhead.time>>16&255),dn(n,n.gzhead.time>>24&255),dn(n,n.level===9?2:n.strategy>=m2||n.level<2?4:0),dn(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(dn(n,n.gzhead.extra.length&255),dn(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Oo(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=rF;else if(dn(n,0),dn(n,0),dn(n,0),dn(n,0),dn(n,0),dn(n,n.level===9?2:n.strategy>=m2||n.level<2?4:0),dn(n,ekn),n.status=vp,Ns(e),n.pending!==0)return n.last_flush=-1,Yo}if(n.status===rF){if(n.gzhead.extra){let o=n.pending,i=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>o&&(e.adler=Oo(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex+=a,Ns(e),n.pending!==0)return n.last_flush=-1,Yo;o=0,i-=a}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>o&&(e.adler=Oo(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=oF}if(n.status===oF){if(n.gzhead.name){let o=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(e.adler=Oo(e.adler,n.pending_buf,n.pending-o,o)),Ns(e),n.pending!==0)return n.last_flush=-1,Yo;o=0}n.gzindex<n.gzhead.name.length?i=n.gzhead.name.charCodeAt(n.gzindex++)&255:i=0,dn(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=Oo(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=iF}if(n.status===iF){if(n.gzhead.comment){let o=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(e.adler=Oo(e.adler,n.pending_buf,n.pending-o,o)),Ns(e),n.pending!==0)return n.last_flush=-1,Yo;o=0}n.gzindex<n.gzhead.comment.length?i=n.gzhead.comment.charCodeAt(n.gzindex++)&255:i=0,dn(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=Oo(e.adler,n.pending_buf,n.pending-o,o))}n.status=sF}if(n.status===sF){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Ns(e),n.pending!==0))return n.last_flush=-1,Yo;dn(n,e.adler&255),dn(n,e.adler>>8&255),e.adler=0}if(n.status=vp,Ns(e),n.pending!==0)return n.last_flush=-1,Yo}if(e.avail_in!==0||n.lookahead!==0||t!==wf&&n.status!==Ny){let o=n.level===0?M3e(n,t):n.strategy===m2?okn(n,t):n.strategy===NEn?rkn(n,t):zy[n.level].func(n,t);if((o===om||o===m1)&&(n.status=Ny),o===Wi||o===om)return e.avail_out===0&&(n.last_flush=-1),Yo;if(o===p1&&(t===REn?$En(n):t!==Lpe&&(tF(n,0,0,!1),t===MEn&&(Nd(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Ns(e),e.avail_out===0))return n.last_flush=-1,Yo}return t!==Da?Yo:n.wrap<=0?Bpe:(n.wrap===2?(dn(n,e.adler&255),dn(n,e.adler>>8&255),dn(n,e.adler>>16&255),dn(n,e.adler>>24&255),dn(n,e.total_in&255),dn(n,e.total_in>>8&255),dn(n,e.total_in>>16&255),dn(n,e.total_in>>24&255)):(fy(n,e.adler>>>16),fy(n,e.adler&65535)),Ns(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Yo:Bpe)},ukn=e=>{if(wC(e))return kc;const t=e.state.status;return e.state=null,t===vp?yp(e,FEn):Yo},dkn=(e,t)=>{let n=t.length;if(wC(e))return kc;const r=e.state,o=r.wrap;if(o===2||o===1&&r.status!==l0||r.lookahead)return kc;if(o===1&&(e.adler=Yx(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){o===0&&(Nd(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(t.subarray(n-r.w_size,n),0),t=l,n=r.w_size}const i=e.avail_in,s=e.next_in,a=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,c0(r);r.lookahead>=Wt;){let l=r.strstart,u=r.lookahead-(Wt-1);do r.ins_h=Cf(r,r.ins_h,r.window[l+Wt-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--u);r.strstart=l,r.lookahead=Wt-1,c0(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Wt-1,r.match_available=0,e.next_in=s,e.input=a,e.avail_in=i,r.wrap=o,Yo};var fkn=lkn,hkn=B3e,pkn=L3e,mkn=F3e,gkn=akn,vkn=ckn,ykn=ukn,bkn=dkn,xkn="pako deflate (from Nodeca project)",Pb={deflateInit:fkn,deflateInit2:hkn,deflateReset:pkn,deflateResetKeep:mkn,deflateSetHeader:gkn,deflate:vkn,deflateEnd:ykn,deflateSetDictionary:bkn,deflateInfo:xkn};const wkn=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Ckn=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)wkn(n,r)&&(e[r]=n[r])}}return e},_kn=e=>{let t=0;for(let r=0,o=e.length;r<o;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,o=0,i=e.length;r<i;r++){let s=e[r];n.set(s,o),o+=s.length}return n},iD={assign:Ckn,flattenChunks:_kn};let N3e=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{N3e=!1}const qx=new Uint8Array(256);for(let e=0;e<256;e++)qx[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;qx[254]=qx[254]=1;var Skn=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,o,i,s=e.length,a=0;for(o=0;o<s;o++)n=e.charCodeAt(o),(n&64512)===55296&&o+1<s&&(r=e.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),i=0,o=0;i<a;o++)n=e.charCodeAt(o),(n&64512)===55296&&o+1<s&&(r=e.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|n&63):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|n&63):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|n&63);return t};const Ekn=(e,t)=>{if(t<65534&&e.subarray&&N3e)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var kkn=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,o;const i=new Array(n*2);for(o=0,r=0;r<n;){let s=e[r++];if(s<128){i[o++]=s;continue}let a=qx[s];if(a>4){i[o++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<n;)s=s<<6|e[r++]&63,a--;if(a>1){i[o++]=65533;continue}s<65536?i[o++]=s:(s-=65536,i[o++]=55296|s>>10&1023,i[o++]=56320|s&1023)}return Ekn(i,o)},jkn=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+qx[e[n]]>t?n:t},Gx={string2buf:Skn,buf2string:kkn,utf8border:jkn};function Tkn(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var z3e=Tkn;const V3e=Object.prototype.toString,{Z_NO_FLUSH:Akn,Z_SYNC_FLUSH:Dkn,Z_FULL_FLUSH:Ikn,Z_FINISH:Pkn,Z_OK:Ok,Z_STREAM_END:Okn,Z_DEFAULT_COMPRESSION:$kn,Z_DEFAULT_STRATEGY:Rkn,Z_DEFLATED:Mkn}=Bm;function CC(e){this.options=iD.assign({level:$kn,method:Mkn,chunkSize:16384,windowBits:15,memLevel:8,strategy:Rkn},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new z3e,this.strm.avail_out=0;let n=Pb.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Ok)throw new Error(rm[n]);if(t.header&&Pb.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=Gx.string2buf(t.dictionary):V3e.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=Pb.deflateSetDictionary(this.strm,r),n!==Ok)throw new Error(rm[n]);this._dict_set=!0}}CC.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let o,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?Pkn:Akn,typeof e=="string"?n.input=Gx.string2buf(e):V3e.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===Dkn||i===Ikn)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(o=Pb.deflate(n,i),o===Okn)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),o=Pb.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===Ok;if(n.avail_out===0){this.onData(n.output);continue}if(i>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};CC.prototype.onData=function(e){this.chunks.push(e)};CC.prototype.onEnd=function(e){e===Ok&&(this.result=iD.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function iz(e,t){const n=new CC(t);if(n.push(e,!0),n.err)throw n.msg||rm[n.err];return n.result}function Fkn(e,t){return t=t||{},t.raw=!0,iz(e,t)}function Lkn(e,t){return t=t||{},t.gzip=!0,iz(e,t)}var Bkn=CC,Nkn=iz,zkn=Fkn,Vkn=Lkn,Hkn=Bm,Ukn={Deflate:Bkn,deflate:Nkn,deflateRaw:zkn,gzip:Vkn,constants:Hkn};const g2=16209,Wkn=16191;var Ykn=function(t,n){let r,o,i,s,a,l,u,d,f,p,m,v,g,b,x,y,w,C,_,S,E,j,k,T;const A=t.state;r=t.next_in,k=t.input,o=r+(t.avail_in-5),i=t.next_out,T=t.output,s=i-(n-t.avail_out),a=i+(t.avail_out-257),l=A.dmax,u=A.wsize,d=A.whave,f=A.wnext,p=A.window,m=A.hold,v=A.bits,g=A.lencode,b=A.distcode,x=(1<<A.lenbits)-1,y=(1<<A.distbits)-1;e:do{v<15&&(m+=k[r++]<<v,v+=8,m+=k[r++]<<v,v+=8),w=g[m&x];t:for(;;){if(C=w>>>24,m>>>=C,v-=C,C=w>>>16&255,C===0)T[i++]=w&65535;else if(C&16){_=w&65535,C&=15,C&&(v<C&&(m+=k[r++]<<v,v+=8),_+=m&(1<<C)-1,m>>>=C,v-=C),v<15&&(m+=k[r++]<<v,v+=8,m+=k[r++]<<v,v+=8),w=b[m&y];n:for(;;){if(C=w>>>24,m>>>=C,v-=C,C=w>>>16&255,C&16){if(S=w&65535,C&=15,v<C&&(m+=k[r++]<<v,v+=8,v<C&&(m+=k[r++]<<v,v+=8)),S+=m&(1<<C)-1,S>l){t.msg="invalid distance too far back",A.mode=g2;break e}if(m>>>=C,v-=C,C=i-s,S>C){if(C=S-C,C>d&&A.sane){t.msg="invalid distance too far back",A.mode=g2;break e}if(E=0,j=p,f===0){if(E+=u-C,C<_){_-=C;do T[i++]=p[E++];while(--C);E=i-S,j=T}}else if(f<C){if(E+=u+f-C,C-=f,C<_){_-=C;do T[i++]=p[E++];while(--C);if(E=0,f<_){C=f,_-=C;do T[i++]=p[E++];while(--C);E=i-S,j=T}}}else if(E+=f-C,C<_){_-=C;do T[i++]=p[E++];while(--C);E=i-S,j=T}for(;_>2;)T[i++]=j[E++],T[i++]=j[E++],T[i++]=j[E++],_-=3;_&&(T[i++]=j[E++],_>1&&(T[i++]=j[E++]))}else{E=i-S;do T[i++]=T[E++],T[i++]=T[E++],T[i++]=T[E++],_-=3;while(_>2);_&&(T[i++]=T[E++],_>1&&(T[i++]=T[E++]))}}else if(C&64){t.msg="invalid distance code",A.mode=g2;break e}else{w=b[(w&65535)+(m&(1<<C)-1)];continue n}break}}else if(C&64)if(C&32){A.mode=Wkn;break e}else{t.msg="invalid literal/length code",A.mode=g2;break e}else{w=g[(w&65535)+(m&(1<<C)-1)];continue t}break}}while(r<o&&i<a);_=v>>3,r-=_,v-=_<<3,m&=(1<<v)-1,t.next_in=r,t.next_out=i,t.avail_in=r<o?5+(o-r):5-(r-o),t.avail_out=i<a?257+(a-i):257-(i-a),A.hold=m,A.bits=v};const lg=15,zpe=852,Vpe=592,Hpe=0,x3=1,Upe=2,qkn=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Gkn=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Kkn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Zkn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Xkn=(e,t,n,r,o,i,s,a)=>{const l=a.bits;let u=0,d=0,f=0,p=0,m=0,v=0,g=0,b=0,x=0,y=0,w,C,_,S,E,j=null,k;const T=new Uint16Array(lg+1),A=new Uint16Array(lg+1);let D=null,I,P,M;for(u=0;u<=lg;u++)T[u]=0;for(d=0;d<r;d++)T[t[n+d]]++;for(m=l,p=lg;p>=1&&T[p]===0;p--);if(m>p&&(m=p),p===0)return o[i++]=1<<24|64<<16|0,o[i++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<p&&T[f]===0;f++);for(m<f&&(m=f),b=1,u=1;u<=lg;u++)if(b<<=1,b-=T[u],b<0)return-1;if(b>0&&(e===Hpe||p!==1))return-1;for(A[1]=0,u=1;u<lg;u++)A[u+1]=A[u]+T[u];for(d=0;d<r;d++)t[n+d]!==0&&(s[A[t[n+d]]++]=d);if(e===Hpe?(j=D=s,k=20):e===x3?(j=qkn,D=Gkn,k=257):(j=Kkn,D=Zkn,k=0),y=0,d=0,u=f,E=i,v=m,g=0,_=-1,x=1<<m,S=x-1,e===x3&&x>zpe||e===Upe&&x>Vpe)return 1;for(;;){I=u-g,s[d]+1<k?(P=0,M=s[d]):s[d]>=k?(P=D[s[d]-k],M=j[s[d]-k]):(P=32+64,M=0),w=1<<u-g,C=1<<v,f=C;do C-=w,o[E+(y>>g)+C]=I<<24|P<<16|M|0;while(C!==0);for(w=1<<u-1;y&w;)w>>=1;if(w!==0?(y&=w-1,y+=w):y=0,d++,--T[u]===0){if(u===p)break;u=t[n+s[d]]}if(u>m&&(y&S)!==_){for(g===0&&(g=m),E+=f,v=u-g,b=1<<v;v+g<p&&(b-=T[v+g],!(b<=0));)v++,b<<=1;if(x+=1<<v,e===x3&&x>zpe||e===Upe&&x>Vpe)return 1;_=y&S,o[_]=m<<24|v<<16|E-i|0}}return y!==0&&(o[E+y]=u-g<<24|64<<16|0),a.bits=m,0};var Ob=Xkn;const Qkn=0,H3e=1,U3e=2,{Z_FINISH:Wpe,Z_BLOCK:Jkn,Z_TREES:v2,Z_OK:im,Z_STREAM_END:ejn,Z_NEED_DICT:tjn,Z_STREAM_ERROR:qa,Z_DATA_ERROR:W3e,Z_MEM_ERROR:Y3e,Z_BUF_ERROR:njn,Z_DEFLATED:Ype}=Bm,sD=16180,qpe=16181,Gpe=16182,Kpe=16183,Zpe=16184,Xpe=16185,Qpe=16186,Jpe=16187,eme=16188,tme=16189,$k=16190,nu=16191,w3=16192,nme=16193,C3=16194,rme=16195,ome=16196,ime=16197,sme=16198,y2=16199,b2=16200,ame=16201,lme=16202,cme=16203,ume=16204,dme=16205,_3=16206,fme=16207,hme=16208,pr=16209,q3e=16210,G3e=16211,rjn=852,ojn=592,ijn=15,sjn=ijn,pme=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function ajn(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Nm=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<sD||t.mode>G3e?1:0},K3e=e=>{if(Nm(e))return qa;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=sD,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(rjn),t.distcode=t.distdyn=new Int32Array(ojn),t.sane=1,t.back=-1,im},Z3e=e=>{if(Nm(e))return qa;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,K3e(e)},X3e=(e,t)=>{let n;if(Nm(e))return qa;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?qa:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,Z3e(e))},Q3e=(e,t)=>{if(!e)return qa;const n=new ajn;e.state=n,n.strm=e,n.window=null,n.mode=sD;const r=X3e(e,t);return r!==im&&(e.state=null),r},ljn=e=>Q3e(e,sjn);let mme=!0,S3,E3;const cjn=e=>{if(mme){S3=new Int32Array(512),E3=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Ob(H3e,e.lens,0,288,S3,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Ob(U3e,e.lens,0,32,E3,0,e.work,{bits:5}),mme=!1}e.lencode=S3,e.lenbits=9,e.distcode=E3,e.distbits=5},J3e=(e,t,n,r)=>{let o;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(o=i.wsize-i.wnext,o>r&&(o=r),i.window.set(t.subarray(n-r,n-r+o),i.wnext),r-=o,r?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0},ujn=(e,t)=>{let n,r,o,i,s,a,l,u,d,f,p,m,v,g,b=0,x,y,w,C,_,S,E,j;const k=new Uint8Array(4);let T,A;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Nm(e)||!e.output||!e.input&&e.avail_in!==0)return qa;n=e.state,n.mode===nu&&(n.mode=w3),s=e.next_out,o=e.output,l=e.avail_out,i=e.next_in,r=e.input,a=e.avail_in,u=n.hold,d=n.bits,f=a,p=l,j=im;e:for(;;)switch(n.mode){case sD:if(n.wrap===0){n.mode=w3;break}for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,k[0]=u&255,k[1]=u>>>8&255,n.check=Oo(n.check,k,2,0),u=0,d=0,n.mode=qpe;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=pr;break}if((u&15)!==Ype){e.msg="unknown compression method",n.mode=pr;break}if(u>>>=4,d-=4,E=(u&15)+8,n.wbits===0&&(n.wbits=E),E>15||E>n.wbits){e.msg="invalid window size",n.mode=pr;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=u&512?tme:nu,u=0,d=0;break;case qpe:for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==Ype){e.msg="unknown compression method",n.mode=pr;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=pr;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=Oo(n.check,k,2,0)),u=0,d=0,n.mode=Gpe;case Gpe:for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,k[2]=u>>>16&255,k[3]=u>>>24&255,n.check=Oo(n.check,k,4,0)),u=0,d=0,n.mode=Kpe;case Kpe:for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=Oo(n.check,k,2,0)),u=0,d=0,n.mode=Zpe;case Zpe:if(n.flags&1024){for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=Oo(n.check,k,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=Xpe;case Xpe:if(n.flags&1024&&(m=n.length,m>a&&(m=a),m&&(n.head&&(E=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+m),E)),n.flags&512&&n.wrap&4&&(n.check=Oo(n.check,r,m,i)),a-=m,i+=m,n.length-=m),n.length))break e;n.length=0,n.mode=Qpe;case Qpe:if(n.flags&2048){if(a===0)break e;m=0;do E=r[i+m++],n.head&&E&&n.length<65536&&(n.head.name+=String.fromCharCode(E));while(E&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=Oo(n.check,r,m,i)),a-=m,i+=m,E)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Jpe;case Jpe:if(n.flags&4096){if(a===0)break e;m=0;do E=r[i+m++],n.head&&E&&n.length<65536&&(n.head.comment+=String.fromCharCode(E));while(E&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=Oo(n.check,r,m,i)),a-=m,i+=m,E)break e}else n.head&&(n.head.comment=null);n.mode=eme;case eme:if(n.flags&512){for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){e.msg="header crc mismatch",n.mode=pr;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=nu;break;case tme:for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}e.adler=n.check=pme(u),u=0,d=0,n.mode=$k;case $k:if(n.havedict===0)return e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,tjn;e.adler=n.check=1,n.mode=nu;case nu:if(t===Jkn||t===v2)break e;case w3:if(n.last){u>>>=d&7,d-=d&7,n.mode=_3;break}for(;d<3;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=nme;break;case 1:if(cjn(n),n.mode=y2,t===v2){u>>>=2,d-=2;break e}break;case 2:n.mode=ome;break;case 3:e.msg="invalid block type",n.mode=pr}u>>>=2,d-=2;break;case nme:for(u>>>=d&7,d-=d&7;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=pr;break}if(n.length=u&65535,u=0,d=0,n.mode=C3,t===v2)break e;case C3:n.mode=rme;case rme:if(m=n.length,m){if(m>a&&(m=a),m>l&&(m=l),m===0)break e;o.set(r.subarray(i,i+m),s),a-=m,i+=m,l-=m,s+=m,n.length-=m;break}n.mode=nu;break;case ome:for(;d<14;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=pr;break}n.have=0,n.mode=ime;case ime:for(;n.have<n.ncode;){for(;d<3;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.lens[D[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[D[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,T={bits:n.lenbits},j=Ob(Qkn,n.lens,0,19,n.lencode,0,n.work,T),n.lenbits=T.bits,j){e.msg="invalid code lengths set",n.mode=pr;break}n.have=0,n.mode=sme;case sme:for(;n.have<n.nlen+n.ndist;){for(;b=n.lencode[u&(1<<n.lenbits)-1],x=b>>>24,y=b>>>16&255,w=b&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(w<16)u>>>=x,d-=x,n.lens[n.have++]=w;else{if(w===16){for(A=x+2;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(u>>>=x,d-=x,n.have===0){e.msg="invalid bit length repeat",n.mode=pr;break}E=n.lens[n.have-1],m=3+(u&3),u>>>=2,d-=2}else if(w===17){for(A=x+3;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=x,d-=x,E=0,m=3+(u&7),u>>>=3,d-=3}else{for(A=x+7;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=x,d-=x,E=0,m=11+(u&127),u>>>=7,d-=7}if(n.have+m>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=pr;break}for(;m--;)n.lens[n.have++]=E}}if(n.mode===pr)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=pr;break}if(n.lenbits=9,T={bits:n.lenbits},j=Ob(H3e,n.lens,0,n.nlen,n.lencode,0,n.work,T),n.lenbits=T.bits,j){e.msg="invalid literal/lengths set",n.mode=pr;break}if(n.distbits=6,n.distcode=n.distdyn,T={bits:n.distbits},j=Ob(U3e,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T),n.distbits=T.bits,j){e.msg="invalid distances set",n.mode=pr;break}if(n.mode=y2,t===v2)break e;case y2:n.mode=b2;case b2:if(a>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,Ykn(e,p),s=e.next_out,o=e.output,l=e.avail_out,i=e.next_in,r=e.input,a=e.avail_in,u=n.hold,d=n.bits,n.mode===nu&&(n.back=-1);break}for(n.back=0;b=n.lencode[u&(1<<n.lenbits)-1],x=b>>>24,y=b>>>16&255,w=b&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(y&&!(y&240)){for(C=x,_=y,S=w;b=n.lencode[S+((u&(1<<C+_)-1)>>C)],x=b>>>24,y=b>>>16&255,w=b&65535,!(C+x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=C,d-=C,n.back+=C}if(u>>>=x,d-=x,n.back+=x,n.length=w,y===0){n.mode=dme;break}if(y&32){n.back=-1,n.mode=nu;break}if(y&64){e.msg="invalid literal/length code",n.mode=pr;break}n.extra=y&15,n.mode=ame;case ame:if(n.extra){for(A=n.extra;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=lme;case lme:for(;b=n.distcode[u&(1<<n.distbits)-1],x=b>>>24,y=b>>>16&255,w=b&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(!(y&240)){for(C=x,_=y,S=w;b=n.distcode[S+((u&(1<<C+_)-1)>>C)],x=b>>>24,y=b>>>16&255,w=b&65535,!(C+x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=C,d-=C,n.back+=C}if(u>>>=x,d-=x,n.back+=x,y&64){e.msg="invalid distance code",n.mode=pr;break}n.offset=w,n.extra=y&15,n.mode=cme;case cme:if(n.extra){for(A=n.extra;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=pr;break}n.mode=ume;case ume:if(l===0)break e;if(m=p-l,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=pr;break}m>n.wnext?(m-=n.wnext,v=n.wsize-m):v=n.wnext-m,m>n.length&&(m=n.length),g=n.window}else g=o,v=s-n.offset,m=n.length;m>l&&(m=l),l-=m,n.length-=m;do o[s++]=g[v++];while(--m);n.length===0&&(n.mode=b2);break;case dme:if(l===0)break e;o[s++]=n.length,l--,n.mode=b2;break;case _3:if(n.wrap){for(;d<32;){if(a===0)break e;a--,u|=r[i++]<<d,d+=8}if(p-=l,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?Oo(n.check,o,p,s-p):Yx(n.check,o,p,s-p)),p=l,n.wrap&4&&(n.flags?u:pme(u))!==n.check){e.msg="incorrect data check",n.mode=pr;break}u=0,d=0}n.mode=fme;case fme:if(n.wrap&&n.flags){for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=pr;break}u=0,d=0}n.mode=hme;case hme:j=ejn;break e;case pr:j=W3e;break e;case q3e:return Y3e;case G3e:default:return qa}return e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,(n.wsize||p!==e.avail_out&&n.mode<pr&&(n.mode<_3||t!==Wpe))&&J3e(e,e.output,e.next_out,p-e.avail_out),f-=e.avail_in,p-=e.avail_out,e.total_in+=f,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?Oo(n.check,o,p,e.next_out-p):Yx(n.check,o,p,e.next_out-p)),e.data_type=n.bits+(n.last?64:0)+(n.mode===nu?128:0)+(n.mode===y2||n.mode===C3?256:0),(f===0&&p===0||t===Wpe)&&j===im&&(j=njn),j},djn=e=>{if(Nm(e))return qa;let t=e.state;return t.window&&(t.window=null),e.state=null,im},fjn=(e,t)=>{if(Nm(e))return qa;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,im):qa},hjn=(e,t)=>{const n=t.length;let r,o,i;return Nm(e)||(r=e.state,r.wrap!==0&&r.mode!==$k)?qa:r.mode===$k&&(o=1,o=Yx(o,t,n,0),o!==r.check)?W3e:(i=J3e(e,t,n,n),i?(r.mode=q3e,Y3e):(r.havedict=1,im))};var pjn=Z3e,mjn=X3e,gjn=K3e,vjn=ljn,yjn=Q3e,bjn=ujn,xjn=djn,wjn=fjn,Cjn=hjn,_jn="pako inflate (from Nodeca project)",fu={inflateReset:pjn,inflateReset2:mjn,inflateResetKeep:gjn,inflateInit:vjn,inflateInit2:yjn,inflate:bjn,inflateEnd:xjn,inflateGetHeader:wjn,inflateSetDictionary:Cjn,inflateInfo:_jn};function Sjn(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Ejn=Sjn;const e$e=Object.prototype.toString,{Z_NO_FLUSH:kjn,Z_FINISH:jjn,Z_OK:Kx,Z_STREAM_END:k3,Z_NEED_DICT:j3,Z_STREAM_ERROR:Tjn,Z_DATA_ERROR:gme,Z_MEM_ERROR:Ajn}=Bm;function _C(e){this.options=iD.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new z3e,this.strm.avail_out=0;let n=fu.inflateInit2(this.strm,t.windowBits);if(n!==Kx)throw new Error(rm[n]);if(this.header=new Ejn,fu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Gx.string2buf(t.dictionary):e$e.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=fu.inflateSetDictionary(this.strm,t.dictionary),n!==Kx)))throw new Error(rm[n])}_C.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,o=this.options.dictionary;let i,s,a;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?jjn:kjn,e$e.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=fu.inflate(n,s),i===j3&&o&&(i=fu.inflateSetDictionary(n,o),i===Kx?i=fu.inflate(n,s):i===gme&&(i=j3));n.avail_in>0&&i===k3&&n.state.wrap>0&&e[n.next_in]!==0;)fu.inflateReset(n),i=fu.inflate(n,s);switch(i){case Tjn:case gme:case j3:case Ajn:return this.onEnd(i),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||i===k3))if(this.options.to==="string"){let l=Gx.utf8border(n.output,n.next_out),u=n.next_out-l,d=Gx.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===Kx&&a===0)){if(i===k3)return i=fu.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};_C.prototype.onData=function(e){this.chunks.push(e)};_C.prototype.onEnd=function(e){e===Kx&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=iD.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function sz(e,t){const n=new _C(t);if(n.push(e),n.err)throw n.msg||rm[n.err];return n.result}function Djn(e,t){return t=t||{},t.raw=!0,sz(e,t)}var Ijn=_C,Pjn=sz,Ojn=Djn,$jn=sz,Rjn=Bm,Mjn={Inflate:Ijn,inflate:Pjn,inflateRaw:Ojn,ungzip:$jn,constants:Rjn};const{Deflate:Fjn,deflate:Ljn,deflateRaw:Bjn,gzip:Njn}=Ukn,{Inflate:zjn,inflate:Vjn,inflateRaw:Hjn,ungzip:Ujn}=Mjn;var Wjn=Fjn,Yjn=Ljn,qjn=Bjn,Gjn=Njn,Kjn=zjn,Zjn=Vjn,Xjn=Hjn,Qjn=Ujn,Jjn=Bm,t$e={Deflate:Wjn,deflate:Yjn,deflateRaw:qjn,gzip:Gjn,Inflate:Kjn,inflate:Zjn,inflateRaw:Xjn,ungzip:Qjn,constants:Jjn};function eTn(e,t){var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function n$e(e,t){return u0(e)?e[Number(t)]:e[t]}function r$e(e,t){if(e){var n=t.shift(),r=n$e(e,n);return t.length&&(u0(r)||Zx(r))?r$e(r,t):r}}function u0(e){return Array.isArray(e)}function Zx(e){return e&&typeof e=="object"}function T3(e,t,n){if(u0(e)){e[Number(t)]=n;return}if(Zx(e)){e[t]=n;return}throw new Error("shallowClone: target must be an object or an array")}function vme(e){if(u0(e))return e.slice(0);if(Zx(e))return eTn({},e);throw new Error("shallowClone: source must be an object or an array")}function tTn(e,t){return t?r$e(e,t.split("/")):e}function nTn(e,t,n){if(!t){if(u0(n)||Zx(n))return n;throw new Error("set: cannot replace value with a non-record value")}if(tTn(e,t)===n)return e;for(var r=vme(e),o=t.split("/"),i=e,s=r;o.length;){var a=o.shift();if(o.length){var l=n$e(i,a);if(l===void 0&&(l={},T3(i,a,l)),!u0(l)&&!Zx(l))throw new Error('set: path is not targeting an object nor an array: "'+t+'"');i=l;var u=vme(i);T3(s,a,u),s=u}else T3(s,a,n)}return r}const Sv=[],lF={},rTn="auto",oTn=1,Rk=[{name:"auto",title:"Full",rect:{width:"auto"}},{name:"768",title:"768px",rect:{width:768}},{name:"375",title:"375px",rect:{width:375,height:667}},{name:"320",title:"320px",rect:{width:320,height:568}}],yme=[{value:.5,title:"50%"},{value:.75,title:"75%"},{value:1,title:"100%"},{value:1.5,title:"150%"},{value:2,title:"200%"},{value:3,title:"300%"}];function o$e(){const e=new Set;return{publish(t){for(const n of e)n(t)},subscribe(t){return e.add(t),()=>{e.delete(t)}}}}const iTn={parse(e){const t=new URLSearchParams("?"+e),n={};return t.forEach((r,o)=>{n[o]=r}),n},stringify(e){return Object.entries(e).map(t=>{let[n,r]=t;return"".concat(n,"=").concat(r)}).join("&")}};function sTn(e,t){const n=t.split("/").slice(1).filter(Boolean),r=n.join("/");if(n.length===0)return{scope:null,story:null};for(const o of e)for(const i of o.stories){const s=[o.name,i.name].filter(Boolean).join("/");if(r===s)return{scope:o,story:i}}return{scope:null,story:null}}function i$e(e){const{baseUrl:t="/frame/",path:n,payload:r,scheme:o,viewport:i,zoom:s}=e;return[t,"?path=".concat(encodeURIComponent(n)),"&scheme=".concat(o),"&viewport=".concat(i),"&zoom=".concat(s),...Object.entries(r).map(a=>{let[l,u]=a;return"&".concat(l,"=").concat(u)})].join("")}const s$e=h.createContext(null);function g1(){const e=h.useContext(s$e);if(!e)throw new Error("Props: missing context value");return e}const aTn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=g1();return c.jsxs(W,{as:"label",padding:3,children:[c.jsx(F,{marginRight:2,style:{lineHeight:0},children:c.jsx(Hj,{checked:r||!1,onChange:i=>o(n.name,i.currentTarget.checked)})}),c.jsx(F,{paddingY:1,children:c.jsx(B,{size:1,weight:"semibold",children:n.name})})]})}),lTn=h.memo(function(t){const{schema:n,value:r=""}=t,{setPropValue:o}=g1();return c.jsxs(F,{padding:3,children:[c.jsx(B,{size:1,weight:"semibold",children:n.name}),c.jsx(F,{marginTop:2,children:c.jsx(Xr,{fontSize:[2,2,1],onChange:i=>o(n.name,Number(i.currentTarget.value)),padding:2,value:r})})]})}),cTn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=g1(),i=h.useMemo(()=>{const s=Object.entries(n.options);for(const[a,l]of s)if(l===r)return a;return""},[n,r]);return c.jsxs(F,{padding:3,children:[c.jsx(B,{size:1,weight:"semibold",children:n.name}),c.jsx(F,{marginTop:2,children:c.jsx(Lf,{fontSize:[2,2,1],onChange:s=>{const a=s.currentTarget.value,l=n.options[a];o(n.name,l)},padding:2,radius:2,value:String(i||""),children:Object.entries(n.options).map(s=>{let[a]=s;return c.jsx("option",{value:a,children:a},a)})})})]})}),uTn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=g1();return c.jsxs(F,{padding:3,children:[c.jsx(B,{size:1,weight:"semibold",children:n.name}),c.jsx(F,{marginTop:2,children:c.jsx(Xr,{fontSize:[2,2,1],onChange:i=>o(n.name,i.currentTarget.value),padding:2,value:r||""})})]})}),dTn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=g1();return c.jsxs(F,{padding:3,children:[c.jsx(B,{size:1,weight:"semibold",children:n.name}),c.jsx(F,{marginTop:2,children:c.jsx(qxe,{fontSize:[2,2,1],onChange:i=>o(n.name,i.currentTarget.value),rows:4,value:r||""})})]})});function fTn(e){const{schema:t,value:n}=e;return t.type==="boolean"?c.jsx(aTn,{schema:t,value:n}):t.type==="number"?c.jsx(lTn,{schema:t,value:n}):t.type==="select"?c.jsx(cTn,{schema:t,value:n}):t.type==="string"?c.jsx(uTn,{schema:t,value:n}):t.type==="text"?c.jsx(dTn,{schema:t,value:n}):c.jsx(F,{padding:2,children:c.jsxs(B,{size:1,weight:"semibold",children:["Unknown Prop type:"," ",c.jsxs("code",{children:[t.name,": ",t.type]})]})})}const hTn=h.memo(function(){const{schemas:t,value:n}=g1();return c.jsxs(F,{padding:2,children:[t.length===0&&c.jsx(F,{padding:2,children:c.jsx(B,{muted:!0,size:[2,2,1],children:"No properties"})}),t.length>0&&t.map((r,o)=>c.jsx(fTn,{schema:r,value:n[r.name]===void 0?r.defaultValue:n[r.name]},o))]})}),Ev=Yt,a$e=h.createContext(null);function tl(){const e=h.useContext(a$e);if(!e)throw new Error("Workshop: missing context value");return e}const pTn=typeof window>"u"?e=>Buffer.from(e,"binary").toString("base64"):window.btoa,mTn=typeof window>"u"?e=>Buffer.from(e,"base64").toString("binary"):window.atob;function gTn(e){let t="";for(let n=0,{length:r}=e;n<r;n++)t+=String.fromCharCode(e[n]);return pTn(t)}function vTn(e){const t=mTn(e),n=t.length,r=new Uint8Array(n);for(let o=0;o<n;o++)r[o]=t.charCodeAt(o);return r}function yTn(e){if(e.length===0)return"";const t=vTn(e);return t$e.inflate(t,{to:"string"})}function bTn(e){if(e.length===0)return"";const t=t$e.deflate(e);return gTn(t)}function xTn(e){return bTn(JSON.stringify(e))}function bme(e){try{return JSON.parse(yTn(e))}catch{return{}}}function wTn(e,t){if(t.type==="workshop/props/setValue")return{...e,value:t.value};if(t.type==="workshop/props/registerProp")return{...e,schemas:e.schemas.concat([t.schema])};if(t.type==="workshop/props/unregisterProp"){const n={...e.value};return delete n[t.name],{...e,schemas:e.schemas.filter(r=>r.name!==t.name),value:n}}return t.type==="workshop/props/setPropValue"?{...e,value:{...e.value,[t.name]:t.value}}:e}const CTn=h.memo(function(t){const{children:n}=t,{channel:r,broadcast:o,payload:i}=tl(),s=i.value,a=h.useRef(s),[{schemas:l,value:u},d]=h.useState({schemas:[],value:bme(String(s))||{}}),f=h.useCallback(g=>{o({type:"workshop/props/registerProp",schema:g})},[o]),p=h.useCallback(g=>{o({type:"workshop/props/unregisterProp",name:g})},[o]),m=h.useCallback((g,b)=>{o({type:"workshop/props/setPropValue",name:g,value:b})},[o]),v=h.useMemo(()=>({registerProp:f,schemas:l,setPropValue:m,unregisterProp:p,value:u}),[f,l,m,p,u]);return h.useEffect(()=>r.subscribe(g=>{d(b=>{const x=wTn(b,g);return Ev(b,x)?b:x})}),[r]),h.useEffect(()=>{const g=xTn(u);a.current!==g&&(a.current=g,o({type:"workshop/setPayloadValue",key:"value",value:g}))},[o,u]),h.useEffect(()=>{a.current!==s&&(a.current=s,d(g=>({...g,value:bme(String(s))||{}})))},[s]),c.jsx(s$e.Provider,{value:v,children:n})});function _Tn(){return{name:"props",title:"Properties",inspector:hTn,provider:CTn}}const l$e=h.memo(function(t){const{broadcast:n,children:r,channel:o,config:i,frameReady:s,origin:a,path:l,payload:u,scheme:d,viewport:f="auto",zoom:p=1}=t,{plugins:m=Sv,collections:v=Sv,frameUrl:g="/frame/",scopes:b,title:x="Workshop"}=i;if(!u)throw new Error("missing `payload` property");const y=h.useMemo(()=>[_Tn(),...m],[m]),{scope:w,story:C}=h.useMemo(()=>sTn(b,l),[l,b]),_=h.useMemo(()=>({plugins:y,broadcast:n,channel:o,collections:v,frameReady:s,frameUrl:g,origin:a,path:l,payload:u,scheme:d,scope:w,scopes:b,story:C,title:x,viewport:f,zoom:p}),[y,n,o,v,s,g,a,l,u,d,w,b,C,x,f,p]);let S=r;for(const E of y)E.provider&&(S=h.createElement(E.provider,{options:E.options||lF},S));return c.jsx(a$e.Provider,{value:_,children:S})});function c$e(e,t){if(t.type==="workshop/frameReady")return{...e,frameReady:!0};if(t.type==="workshop/setState")return Ev(e,t.value)?e:t.value;if(t.type==="workshop/setZoom")return e.zoom===t.value?e:{...e,zoom:t.value};if(t.type==="workshop/setViewport")return e.viewport===t.value?e:{...e,viewport:t.value};if(t.type==="workshop/toggleScheme")return{...e,scheme:e.scheme==="light"?"dark":"light"};if(t.type==="workshop/setScheme")return e.scheme===t.value?e:{...e,scheme:t.value};if(t.type==="workshop/setPath")return e.path===t.value?e:{...e,path:t.value};if(t.type==="workshop/setPayload")return Ev(e.payload,t.value)?e:{...e,payload:t.value};if(t.type==="workshop/setPayloadValue"){const n={...e.payload,[t.key]:t.value};return Ev(e.payload,n)?e:{...e,payload:n}}return e}const xme=(()=>{try{return{}.ROOT_PATH}catch{return}})(),STn=/http:\/\/([^:/\s]+)(:[0-9]+)?/g,ETn=/\/@fs\//g,kTn=/\?([a-z]{1})=([0-9]+)/g;function wme(e){let t=decodeURIComponent(e);return t=e.replace(STn,"").replace(ETn,"/").replace(kTn,""),xme?jTn(t,xme+"/"):t}function jTn(e,t){const n=new RegExp(t.replace(/\//g,"\\/"),"g");return e.replace(n,"")}const TTn=h.memo(function(){const{story:t}=tl(),[n,r]=h.useState({error:null,errorInfo:null}),o=h.useCallback(s=>{let{error:a,info:l}=s;r({error:a,errorInfo:l})},[]),i=h.useCallback(()=>{r({error:null,errorInfo:null})},[]);return t?n.error?c.jsx(ee,{as:"main",height:"fill",overflow:"auto",tone:"critical",children:c.jsx(DTn,{error:n.error,errorInfo:n.errorInfo,onRetry:i})}):c.jsxs(c.Fragment,{children:[c.jsx("h1",{hidden:!0,children:t.title}),c.jsx(h.Suspense,{fallback:c.jsx(ATn,{story:t}),children:c.jsx(ee,{as:"main",height:"fill",children:c.jsx(E0,{onCatch:o,children:h.createElement(t.component)})})})]}):c.jsx(c.Fragment,{})}),ATn=h.memo(function(t){const{story:n}=t;return c.jsxs(c.Fragment,{children:[c.jsxs("h1",{hidden:!0,children:["Loading ",c.jsx("em",{children:n.title}),"…"]}),c.jsx(W,{align:"center",as:"main",height:"fill",justify:"center",children:c.jsx(Hr,{muted:!0})})]})}),DTn=h.memo(function(t){const{error:n,errorInfo:r,onRetry:o}=t;return c.jsx(F,{padding:4,children:c.jsxs(ne,{space:4,children:[c.jsx(oi,{as:"h1",size:[1,1,2],children:n.message}),c.jsx(F,{children:c.jsx(ae,{onClick:o,text:"Retry"})}),n.stack&&c.jsx(wr,{size:1,children:wme(n.stack)}),r&&c.jsx(wr,{size:1,children:"Component stack:"+wme(r.componentStack)})]})})});function u$e(e){return Array.isArray(e)}function d$e(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function ITn(){const e=new Set;let t=[],n=null;function r(){n&&clearInterval(n),n=setTimeout(()=>{window.parent.postMessage(t),t=[],n=null},0)}function o(a){const l=a.data;if(u$e(l)){for(const u of l)if(d$e(u)&&typeof u.type=="string"&&u.type.startsWith("workshop/"))for(const d of e)d(u)}}function i(){window.addEventListener("message",o,!1)}function s(){window.removeEventListener("message",o,!1)}return{message:{publish(a){t.push(a),r()},subscribe(a){return e.add(a),e.size===1&&i(),()=>{e.delete(a),e.size===0&&s()}}}}}function PTn(){const e=typeof window>"u"?{}:iTn.parse(window.location.search.slice(1)),{path:t="/",scheme:n,viewport:r,zoom:o,...i}=e;return{frameReady:!1,path:t,payload:i,scheme:typeof n=="string"?n:"light",viewport:typeof r=="string"?r:"auto",zoom:typeof o=="string"?Number(o):1}}h.memo(function(t){const{config:n,setScheme:r}=t,o=h.useMemo(()=>ITn(),[]),i=h.useMemo(()=>o$e(),[]),[s,a]=h.useState(null),[l,u]=h.useState(null),d=h.useCallback(y=>{i.publish(y),o.message.publish(y)},[i,o]),[{frameReady:f,path:p,payload:m,scheme:v,viewport:g,zoom:b},x]=h.useState(()=>PTn());return h.useEffect(()=>i.subscribe(y=>x(w=>c$e(w,y))),[i]),h.useEffect(()=>o.message.subscribe(i.publish),[i,o]),h.useEffect(()=>r(v),[r,v]),h.useEffect(()=>d({type:"workshop/frameReady"}),[d]),c.jsx(RL,{children:c.jsx(vm,{element:s,children:c.jsx(k0,{element:l,children:c.jsx(l$e,{broadcast:d,config:n,channel:i,frameReady:f,origin:"frame",path:p,payload:m,scheme:v,viewport:g,zoom:b,children:c.jsxs(ee,{height:"fill",ref:a,children:[c.jsx(TTn,{}),c.jsx("div",{"data-portal":"",ref:u})]})})})})})});var Cme=Object.freeze,OTn=Object.defineProperty,$Tn=(e,t)=>Cme(OTn(e,"raw",{value:Cme(t||e.slice())})),_me;yve(_me||(_me=$Tn([`
  body {
    background-color: `,`;
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.base.bg});var Sme=Object.freeze,RTn=Object.defineProperty,MTn=(e,t)=>Sme(RTn(e,"raw",{value:Sme(t||e.slice())})),Eme;const FTn=h.memo(rwe),LTn=O(ee)(Eme||(Eme=MTn([`
  line-height: 0;

  @media screen and (max-width: `,`px) {
    text-align: center;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]-1}),BTn=h.memo(function(t){const{currentTabId:n,onTabChange:r,tabs:o}=t,i=h.useMemo(()=>({flex:"none",position:"sticky",top:0}),[]),s=h.useMemo(()=>o.map(a=>c.jsx(NTn,{onTabChange:r,selected:a.id===n,tab:a},a.id)),[n,r,o]);return c.jsx(es,{style:i,children:c.jsx(LTn,{padding:2,shadow:1,children:c.jsx(owe,{space:1,children:s})})})});function NTn(e){const{onTabChange:t,selected:n,tab:r}=e,o=h.useCallback(()=>{t(r.id)},[t,r]);return c.jsx(FTn,{"aria-controls":"".concat(r.id,"-panel"),fontSize:[2,2,1],id:r.id,label:r.label,onClick:o,selected:n,tone:r.tone})}var kme=Object.freeze,zTn=Object.defineProperty,VTn=(e,t)=>kme(zTn(e,"raw",{value:kme(t||e.slice())})),jme;const HTn=O(ee)(jme||(jme=VTn([`
  overflow: hidden;

  @media screen and (min-width: `,`px) {
    border-left: 1px solid var(--card-border-color);
    min-width: 180px;
    max-width: 300px;
    overflow: auto;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]}),Tme=h.memo(function(t){return h.createElement(t.component,{options:t.options})}),UTn=h.memo(function(t){const{expanded:n}=t,{plugins:r}=tl(),o=h.useMemo(()=>r.filter(d=>d.inspector).map(d=>({id:d.name,label:d.title,tone:void 0,plugin:d})),[r]),[i,s]=h.useState(o.length>0?o[0].id:null),a=o.find(d=>d.id===i),l=o.length>1,u=h.useMemo(()=>n?["block"]:["none","none","block"],[n]);return c.jsx(HTn,{display:u,flex:1,children:c.jsxs(W,{direction:"column",height:"fill",children:[l&&c.jsx(BTn,{currentTabId:i,onTabChange:s,tabs:o}),l&&o.map(d=>c.jsx(gJe,{"aria-labelledby":"".concat(d.id,"-tab"),flex:1,hidden:d.id!==i,id:"".concat(d.id,"-panel"),overflow:"auto",children:d.plugin.inspector&&c.jsx(Tme,{component:d.plugin.inspector,options:d.plugin.options||lF})},d.id)),!l&&(a==null?void 0:a.plugin.inspector)&&c.jsx(F,{flex:1,overflow:"auto",children:c.jsx(Tme,{component:a.plugin.inspector,options:a.plugin.options||lF})})]})})}),Ame=nw;function WTn(){const{broadcast:e,scope:t,story:n,title:r}=tl(),o=h.useCallback(i=>{i.preventDefault(),e({type:"workshop/setPath",value:"/"})},[e]);return c.jsx(YTn,{onHomeClick:o,scopeTitle:t==null?void 0:t.title,storyTitle:n==null?void 0:n.title,title:r})}const YTn=h.memo(function(t){const{onHomeClick:n,scopeTitle:r,storyTitle:o,title:i}=t;return c.jsxs(PL,{separator:c.jsx(B,{muted:!0,size:[2,2,1],children:"/"}),space:2,children:[c.jsx(B,{size:[2,2,1],weight:"bold",children:c.jsx("a",{href:"/",onClick:n,style:{color:"inherit"},children:i})}),r&&c.jsx(B,{align:"center",size:[2,2,1],children:r}),o&&c.jsx(B,{size:[2,2,1],children:o})]})}),qTn=h.memo(function(){const{frameUrl:t,path:n,payload:r,scheme:o,zoom:i,viewport:s}=tl(),a=h.useMemo(()=>n==="/"?void 0:i$e({baseUrl:t,path:n,payload:r,scheme:o,zoom:i,viewport:s}),[t,n,r,o,i,s]);return c.jsx(ae,{as:a?"a":"button",disabled:!a,fontSize:1,href:a,iconRight:y0,mode:"ghost",padding:2,rel:"noopener noreferrer",target:"_blank",text:"Open story"})});function GTn(){const{broadcast:e,scheme:t}=tl(),n=h.useCallback(()=>{e({type:"workshop/toggleScheme"})},[e]);return c.jsx(KTn,{dark:t==="dark",onToggleScheme:n})}const KTn=h.memo(function(t){const{dark:n,onToggleScheme:r}=t;return c.jsx(ae,{fontSize:1,icon:n?LF:HF,mode:"bleed",onClick:r,padding:2})}),ZTn=h.memo(function(){const{broadcast:t,story:n,viewport:r}=tl(),o=h.useCallback(i=>{t({type:"workshop/setViewport",value:i})},[t]);return c.jsx(QTn,{disabled:!n,setViewport:o,viewport:r})}),XTn={constrainSize:!0,matchReferenceWidth:!0,placement:"bottom",portal:!0},QTn=h.memo(function(t){var n;const{disabled:r,setViewport:o,viewport:i}=t;return c.jsx(rn,{button:c.jsx(ae,{disabled:r,fontSize:1,iconRight:Ml,mode:"ghost",padding:2,style:{minWidth:80},text:(n=Rk.find(s=>s.name===i))==null?void 0:n.title}),id:"viewport-menu",menu:c.jsx(Ht,{children:Rk.map(s=>c.jsx(Me,{fontSize:1,onClick:()=>o(s.name),padding:2,selected:s.name===i,text:s.title},s.name))}),popover:XTn})});function JTn(){const{broadcast:e,story:t,zoom:n}=tl(),r=h.useCallback(o=>e({type:"workshop/setZoom",value:o}),[e]);return c.jsx(tAn,{disabled:!t,setZoom:r,zoom:n})}const eAn={constrainSize:!0,matchReferenceWidth:!0,placement:"bottom",portal:!0},tAn=h.memo(function(t){var n;const{disabled:r,setZoom:o,zoom:i}=t;return c.jsx(rn,{button:c.jsx(ae,{disabled:r,fontSize:1,iconRight:Ml,mode:"ghost",padding:2,style:{minWidth:80},text:(n=yme.find(s=>s.value===i))==null?void 0:n.title}),id:"zoom-menu",menu:c.jsx(Ht,{children:yme.map(s=>c.jsx(Me,{fontSize:1,onClick:()=>o(s.value),padding:2,selected:s.value===i,text:s.title},s.value))}),popover:eAn})}),nAn=h.memo(function(t){const{inspectorExpanded:n,navigatorExpanded:r,onInspectorToggle:o,onNavigatorToggle:i}=t,s=gm(),{story:a,title:l}=tl();return c.jsx(ee,{borderBottom:!0,flex:"none",padding:2,style:{lineHeight:0},children:c.jsxs(W,{gap:1,children:[c.jsx(F,{display:["block","block","none"],flex:"none",children:c.jsx(ae,{"aria-label":"Open navigator",fontSize:[2,2,1],icon:FF,mode:"bleed",onClick:i,padding:2,selected:r})}),c.jsxs(W,{flex:1,justify:["center","center","flex-start"],padding:2,sizing:"border",style:{minWidth:250},children:[s<2&&c.jsx(B,{weight:"bold",children:(a==null?void 0:a.title)||l}),s>=2&&c.jsx(WTn,{})]}),c.jsx(F,{display:["block","block","none"],flex:"none",children:c.jsx(ae,{"aria-label":"Open inspector",fontSize:[2,2,1],icon:sj,mode:"bleed",onClick:o,padding:2,selected:n})}),c.jsx(F,{display:["none","none","block"],flex:"none",children:c.jsxs(Jt,{space:1,children:[c.jsx(qTn,{}),c.jsx(ZTn,{}),c.jsx(JTn,{}),c.jsx(GTn,{})]})})]})})});function f$e(e,t,n){if(t.__scope__){const s=t.__scope__;return s.name==="@@root@@"?s.stories.map(a=>({type:"story",...a})):[{type:"scope",name:s.name||"@@root@@",title:s.title||"(root)",scope:s}]}const r=e.find(s=>s.name===n),i=Object.entries(t).filter(s=>{let[a]=s;return a!=="__scope__"}).flatMap(s=>{let[a,l]=s;return f$e((r==null?void 0:r.children)||[],l,a)});return[{type:"list",name:n,title:(r==null?void 0:r.title)||n,items:i}]}function rAn(e,t){const n={};for(const i of t){const s=i.name||"@@root@@",a=n[s]||{name:s,title:i.title,stories:[]},l={...a,name:s,stories:a.stories.concat(i.stories)};n[s]=l}let r={};for(const i of Object.values(n))r=nTn(r,i.name||"@@root@@",{__scope__:i});const o={type:"list",name:"@@root@@",items:[]};for(const[i,s]of Object.entries(r))o.items.push(...f$e(e,s,i));return o}const oAn=h.memo(function(t){const{matches:n,onStoryClick:r}=t;return c.jsx(ne,{space:1,children:n.map(o=>{let{scope:i,story:s}=o;return c.jsx(ee,{as:"a","data-path":"/".concat(i.name,"/").concat(s.name),href:"/".concat(i.name,"/").concat(s.name),onClick:r,padding:2,radius:2,children:c.jsx(B,{size:1,textOverflow:"ellipsis",children:[i.title||"",s.title].filter(Boolean).join(" / ")})},"".concat(i.name,"/").concat(s.name))})})}),iAn=h.memo(function(t){const{items:n}=t;return c.jsx(lwe,{space:1,children:c.jsx(h$e,{items:n})})}),h$e=h.memo(function(t){const{basePath:n="",items:r}=t,{broadcast:o,path:i,scope:s,story:a}=tl(),l=h.useCallback(u=>{u.preventDefault();const f=u.currentTarget.getAttribute("data-path");f&&o({type:"workshop/setPath",value:f})},[o]);return h.useMemo(()=>r.length===0?null:c.jsx(c.Fragment,{children:r.map((u,d)=>{if(u.type==="list"){const f="".concat(n,"/").concat(u.name);return c.jsx(sAn,{expanded:i.startsWith(f+"/"),item:u,path:f},u.name||d)}return u.type==="story"?c.jsx(ix,{"data-path":"/".concat(u.name||""),fontSize:[2,2,1],href:"/".concat(u.name||""),onClick:l,padding:2,selected:(a==null?void 0:a.component)===u.component,text:u.title},u.name):u.type==="scope"?c.jsx(aAn,{currentStory:a,expanded:u.scope===s,item:u,onStoryClick:l},u.name):c.jsx(ix,{text:"unknown"},d)})}),[n,s,a,l,r,i])}),sAn=h.memo(function(t){const{expanded:n,item:r,path:o}=t,i=h.useMemo(()=>c.jsx(h$e,{basePath:o,items:r.items}),[r,o]);return c.jsx(ix,{expanded:n,fontSize:[2,2,1],padding:2,text:r.title,weight:"semibold",children:i})}),aAn=h.memo(function(t){const{currentStory:n,expanded:r,item:o,onStoryClick:i}=t,s=h.useMemo(()=>o.scope.stories.map(a=>c.jsx(ix,{"data-path":"/".concat(o.scope.name,"/").concat(a.name),fontSize:[2,2,1],href:"/".concat(o.scope.name,"/").concat(a.name),onClick:i,padding:2,selected:n===a,text:a.title},a.name)),[n,o,i]);return c.jsx(ix,{expanded:r,fontSize:[2,2,1],padding:2,text:o.title,weight:"semibold",children:s})});var Dme=Object.freeze,lAn=Object.defineProperty,cAn=(e,t)=>Dme(lAn(e,"raw",{value:Dme(t||e.slice())})),Ime;const uAn=O(ee)(Ime||(Ime=cAn([`
  overflow: hidden;

  @media screen and (min-width: `,`px) {
    border-right: 1px solid var(--card-border-color);
    min-width: 180px;
    max-width: 300px;
    overflow: auto;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]}),dAn={flex:"none"},fAn={lineHeight:0},hAn=[2,2,1],pAn=h.memo(function(t){const{collections:n=[],expanded:r}=t,{broadcast:o,scopes:i}=tl(),s=h.useMemo(()=>rAn(n,i),[n,i]),[a,l]=h.useState(""),u=h.useMemo(()=>{var m;if(!a)return Sv;const v=a.toLowerCase(),g=[];for(const b of i)for(const x of b.stories)((m=b.title)!=null&&m.toLowerCase().includes(v)||x.title.toLowerCase().includes(v))&&g.push({scope:b,story:x});return g},[a,i]),d=h.useCallback(m=>l(m.currentTarget.value),[]),f=h.useCallback(()=>l(""),[]),p=h.useCallback(m=>{m.preventDefault();const g=m.currentTarget.getAttribute("data-path");g&&(o({type:"workshop/setPath",value:g}),l(""))},[o]);return c.jsx(mAn,{expanded:r,matches:u,menu:s,onSearchQueryChange:d,onSearchQueryClear:f,onStoryClick:p,query:a})}),mAn=h.memo(function(t){const{expanded:n,matches:r,menu:o,onSearchQueryChange:i,onSearchQueryClear:s,onStoryClick:a,query:l}=t,u=h.useMemo(()=>n?["block"]:["none","none","block"],[n]);return c.jsx(uAn,{display:u,flex:1,children:c.jsxs(W,{direction:"column",height:"fill",children:[c.jsx(es,{style:dAn,children:c.jsx(ee,{padding:2,shadow:1,style:fAn,children:c.jsx(Xr,{border:!1,clearButton:!!l,fontSize:hAn,icon:Yi,onChange:i,onClear:s,padding:2,placeholder:"Stories",radius:2,space:2,value:l})})}),c.jsxs(ee,{flex:1,overflow:"auto",children:[l&&r.length>0&&c.jsx(F,{padding:2,children:c.jsx(oAn,{matches:r,onStoryClick:a})}),!l&&o.type==="list"&&c.jsx(F,{padding:2,children:c.jsx(iAn,{items:o.items})})]})]})})});var Pme=Object.freeze,gAn=Object.defineProperty,vAn=(e,t)=>Pme(gAn(e,"raw",{value:Pme(t||e.slice())})),Ome;const yAn=O.iframe(Ome||(Ome=vAn([`
  display: block;
  border: 0;
  height: 100%;
  width: 100%;
`]))),bAn=h.memo(function(t){const{frameRef:n,hidden:r}=t,{frameReady:o,frameUrl:i,path:s,payload:a,scheme:l,title:u,viewport:d,zoom:f}=tl(),p=Rk.find(w=>w.name===d)||Rk[0],m=p==null?void 0:p.rect.width,v=p==null?void 0:p.rect.height,[g]=h.useState(()=>i$e({baseUrl:i,path:s,payload:a,scheme:l,viewport:d,zoom:f})),b=h.useMemo(()=>({maxWidth:m==="auto"?void 0:"".concat((m||1)*f,"px"),maxHeight:v?"".concat((v||1)*f,"px"):void 0}),[m,v,f]),x=h.useMemo(()=>r?"none":"block",[r]),y=h.useMemo(()=>({transform:"scale(".concat(f,")"),transformOrigin:"0 0",width:"".concat(100/f,"%"),height:"".concat(100/f,"%")}),[f]);return c.jsx(ee,{display:x,flex:1,overflow:"hidden",tone:"transparent",children:c.jsxs(W,{align:"center",height:"fill",justify:"center",sizing:"border",children:[s==="/"&&c.jsx(ia,{width:0,children:c.jsxs(ne,{padding:4,space:4,children:[c.jsx(oi,{align:"center",children:u}),c.jsx(B,{align:"center",muted:!0,children:"Browse workshop stories in the navigator to the left."})]})}),!o&&s!=="/"&&c.jsx(Hr,{muted:!0}),c.jsx(ia,{height:"fill",hidden:!o||s==="/",style:b,width:"auto",children:c.jsx(ee,{height:"fill",shadow:1,children:c.jsx(yAn,{ref:n,src:g,style:y})})})]})})});function xAn(){const e=new Set;let t=null,n=[],r=null;function o(){r&&clearInterval(r),r=setTimeout(()=>{var l;(l=t==null?void 0:t.contentWindow)==null||l.postMessage(n,window.location.origin),n=[],r=null},0)}function i(l){const u=l.data;if(u$e(u)){for(const d of u)if(d$e(d)&&typeof d.type=="string"&&d.type.startsWith("workshop/"))for(const f of e)f(d)}}function s(){t!=null&&t.contentWindow&&window.addEventListener("message",i)}function a(l){l!=null&&l.contentWindow&&window.removeEventListener("message",i)}return{message:{publish(l){n.push(l),o()},subscribe(l){return e.add(l),()=>{e.delete(l)}}},setElement(l){const u=t;t=l,l?s():u&&a(u)}}}function $me(e,t,n){const r=e.path,o=e.query||{},{scheme:i,viewport:s,zoom:a,...l}=o;return{frameReady:n||!1,path:r,payload:l,scheme:t||(typeof i=="string"?i:"light"),viewport:typeof s=="string"?s:"auto",zoom:typeof a=="number"?a:1}}function Rme(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const{payload:n,scheme:r,viewport:o,zoom:i}=e,s={scheme:r};if(o&&o!==rTn&&(s.viewport=o),i&&i!==oTn&&(s.zoom=i),t)for(const[a,l]of Object.entries(n))["schema","viewport","zoom"].includes(a)?console.warn('Workshop: the payload cannot contain a property named "'.concat(a,'" (protected name)')):s[a]=l;return s}h.memo(function(t){var n,r;const{config:o,locationStore:i,onSchemeChange:s,scheme:a}=t,l=(r=(n=o.features)==null?void 0:n.navbar)!=null?r:!0,u=h.useMemo(()=>o$e(),[]),d=h.useMemo(()=>xAn(),[]),[f,p]=h.useState(null),[m,v]=h.useState(null),[{frameReady:g,path:b,payload:x,scheme:y,viewport:w,zoom:C},_]=h.useState(()=>$me(i.get(),a)),S=gm(),[E,j]=h.useState(!1),[k,T]=h.useState(!1),A=h.useRef(g),D=h.useRef(y),I=h.useRef(b),P=h.useRef({scheme:y,viewport:w,zoom:C,...x}),M=h.useCallback(z=>{u.publish(z),d.message.publish(z)},[u,d]),$=h.useMemo(()=>Ame(z=>i.push(z),150),[i]),V=h.useMemo(()=>Ame(z=>i.replace(z),150),[i]),L=h.useCallback(()=>{j(z=>!z),T(!1)},[]),H=h.useCallback(()=>{j(!1),T(z=>!z)},[]),U=h.useRef(S);return h.useEffect(()=>{U.current<2&&S>=2&&(j(!1),T(!1)),U.current=S},[S]),h.useEffect(()=>{j(!1)},[b]),h.useEffect(()=>()=>$.cancel(),[$]),h.useEffect(()=>()=>V.cancel(),[V]),h.useEffect(()=>u.subscribe(z=>{_(Y=>{const te=c$e(Y,z),N=!Ev(Y,te);if(N){if(z.type==="workshop/setPath"){if(I.current!==te.path){I.current=te.path;const G=Rme(te,!1);$({path:te.path,query:G})}}else if(z.type!=="workshop/setState"){const G=Rme(te);Ev(P.current,G)||(P.current=G,V({path:te.path,query:G}))}}return N?te:Y})}),[$,V,u,i]),h.useEffect(()=>d.message.subscribe(u.publish),[u,d]),h.useEffect(()=>{A.current=g},[g]),h.useEffect(()=>i.subscribe(z=>{const Y=$me(z,void 0,g);M({type:"workshop/setState",value:Y})}),[M,g,i]),h.useEffect(()=>{D.current=y,s(y)},[s,y]),h.useEffect(()=>{a&&D.current!==a&&(D.current=a,M({type:"workshop/setScheme",value:a}))},[M,a]),o.scopes?c.jsx(l$e,{config:o,broadcast:M,channel:u,frameReady:g,origin:"main",path:b,payload:x,scheme:y,viewport:w,zoom:C,children:c.jsx(RL,{children:c.jsx(vm,{element:f,children:c.jsx(k0,{element:m,children:c.jsxs(W,{"data-boundary":"",direction:"column",height:"fill",ref:p,style:{minWidth:320},children:[l&&c.jsx(nAn,{inspectorExpanded:k,navigatorExpanded:E,onInspectorToggle:H,onNavigatorToggle:L}),c.jsxs(W,{flex:1,children:[c.jsx(pAn,{collections:o.collections,expanded:E}),c.jsx(bAn,{frameRef:d.setElement,hidden:E||k}),c.jsx(UTn,{expanded:k})]}),c.jsx("div",{"data-portal":"",ref:v})]})})})})}):c.jsx(c.Fragment,{children:"No scopes"})});function wAn(e){const{currentUser:t,fieldName:n,mentionOptions:r,onBlur:o,onFocus:i,onKeyDown:s,onNewThreadCreate:a,readOnly:l}=e,[u,d]=h.useState(Sv),f=h.useRef(null),p=h.useCallback(()=>{a==null||a(u),d(Sv)},[a,u]),m=h.useMemo(()=>bC(u),[u]),v=h.useCallback(()=>{var w;m&&((w=f.current)==null||w.discardDialogController.open())},[m]),g=h.useCallback(w=>{w.isDefaultPrevented()||(w.key==="Escape"&&(w.preventDefault(),w.stopPropagation(),v()),s&&s(w))},[s,v]),b=h.useCallback(()=>{var w,C;d(Sv),(w=f.current)==null||w.discardDialogController.close(),(C=f.current)==null||C.focus()},[]),x=h.useCallback(()=>{var w;(w=f.current)==null||w.discardDialogController.close()},[]),y=c.jsxs(c.Fragment,{children:["Add comment to ",c.jsx("b",{children:n})]});return c.jsx(rD,{currentUser:t,expandOnFocus:!0,mentionOptions:r,onBlur:o,onChange:d,onDiscardCancel:x,onDiscardConfirm:b,onKeyDown:g,onFocus:i,onSubmit:p,placeholder:y,readOnly:l,ref:f,value:u})}var Mme=Object.freeze,CAn=Object.defineProperty,p$e=(e,t)=>Mme(CAn(e,"raw",{value:Mme(t||e.slice())})),Fme,Lme;const _An=O(W)(Fme||(Fme=p$e([`
  min-height: 25px;
`]))),SAn=O(ae)(e=>{let{theme:t}=e;const n=t.sanity.color.base.fg;return de(Lme||(Lme=p$e([`
    --card-fg-color: `,`;
  `])),n)});function EAn(e){const{breadcrumbs:t,canCreateNewThread:n,children:r,currentUser:o,fieldPath:i,mentionOptions:s,onNewThreadCreate:a,onPathSelect:l,readOnly:u}=e,d=h.useCallback(()=>{l==null||l(Sf(i))},[i,l]),f=h.useCallback(v=>{const g={fieldPath:i,message:v,parentCommentId:void 0,status:"open",threadId:sd()};a==null||a(g)},[a,i]),p=h.useMemo(()=>(t==null?void 0:t.map(v=>v.title))||[],[t]),m=p[p.length-1];return c.jsxs(ne,{space:2,children:[c.jsx(_An,{align:"center",gap:2,paddingRight:1,sizing:"border",children:c.jsx(ne,{flex:1,children:c.jsx(W,{align:"center",children:c.jsx(SAn,{"aria-label":"Go to ".concat(m," field"),mode:"bleed",onClick:d,padding:2,children:c.jsx(nEn,{maxLength:3,titlePath:p})})})})}),n&&c.jsx(b3e,{children:c.jsx(wAn,{currentUser:o,fieldName:m,mentionOptions:s,onNewThreadCreate:f,readOnly:u})}),c.jsx(ne,{space:2,children:r})]})}const Bme={open:{title:"No open comments yet",message:c.jsxs("span",{children:["Open comments on this document ",c.jsx("br",{}),"will be shown here."]})},resolved:{title:"No resolved comments yet",message:c.jsxs(c.Fragment,{children:["Resolved comments on this document ",c.jsx("br",{}),"will be shown here."]})}};function kAn(e){const{status:t,error:n,loading:r,hasNoComments:o}=e;return n?c.jsx(W,{align:"center",justify:"center",flex:1,padding:4,children:c.jsx(W,{align:"center",children:c.jsx(B,{size:1,muted:!0,children:"Something went wrong"})})}):r?c.jsx(W,{align:"center",justify:"center",flex:1,padding:4,children:c.jsxs(W,{align:"center",gap:2,children:[c.jsx(Hr,{muted:!0,size:1}),c.jsx(B,{size:1,muted:!0,children:"Loading comments..."})]})}):o?c.jsx(W,{align:"center",justify:"center",flex:1,sizing:"border",children:c.jsx(ia,{width:0,padding:4,children:c.jsxs(ne,{space:3,children:[c.jsx(B,{align:"center",size:1,muted:!0,weight:"semibold",children:Bme[t].title}),c.jsx(B,{align:"center",size:1,muted:!0,children:Bme[t].message})]})})}):null}const jAn={behavior:"smooth",block:"start",inline:"nearest"};function TAn(e){return e.reduce((t,n)=>{const r=n.fieldPath;return t[r]||(t[r]=[]),t[r].push(n),t},{})}const AAn=h.forwardRef(function(t,n){const{comments:r,currentUser:o,error:i,loading:s,mentionOptions:a,onCopyLink:l,onCreateRetry:u,onDelete:d,onEdit:f,onNewThreadCreate:p,onPathSelect:m,onReply:v,onStatusChange:g,readOnly:b,selectedPath:x,status:y}=t,[w,C]=h.useState(null),_=h.useCallback(k=>{const T=document==null?void 0:document.querySelector('[data-comment-id="'.concat(k,'"]'));T&&T.scrollIntoView(jAn)},[]),S=h.useCallback((k,T)=>{m==null||m(k,T)},[m]);h.useImperativeHandle(n,()=>({scrollToComment:_}),[_]);const E=h.useMemo(()=>Object.entries(TAn(r)),[r]),j=!s&&!i&&E.length>0;return c.jsxs(W,{direction:"column",flex:1,height:"fill",overflow:"hidden",ref:C,sizing:"border",children:[c.jsx(kAn,{error:i,hasNoComments:E.length===0,loading:s,status:y}),j&&c.jsx(ne,{as:"ul",flex:1,overflow:"auto",padding:3,paddingTop:1,paddingBottom:6,sizing:"border",space:1,children:c.jsx(vm,{element:w,children:E==null?void 0:E.map(k=>{let[T,A]=k;const D=A[0].breadcrumbs,I=A[0].threadId;return c.jsx(ne,{as:"li","data-group-id":I,paddingTop:3,children:c.jsx(EAn,{breadcrumbs:D,canCreateNewThread:y==="open",currentUser:o,fieldPath:T,mentionOptions:a,onNewThreadCreate:p,onPathSelect:m,readOnly:b,children:A.map(P=>{var M,$;const V=P.replies.slice().reverse(),L=y==="open"&&((M=P.parentComment._state)==null?void 0:M.type)!=="createError"&&(($=P.parentComment._state)==null?void 0:$.type)!=="createRetrying",H=x==null?void 0:x.threadId,U=(x==null?void 0:x.threadId)===P.threadId,z=(x==null?void 0:x.fieldPath)===P.fieldPath,Y=U||z&&!H;return c.jsx(eEn,{canReply:L,currentUser:o,mentionOptions:a,onCopyLink:l,onCreateRetry:u,onDelete:d,onEdit:f,onPathSelect:te=>S(te,P.threadId),onReply:v,onStatusChange:g,parentComment:P.parentComment,readOnly:b,replies:V,selected:Y},P.parentComment._id)})},T)},T)})})})]})}),DAn=re.memo(AAn),IAn={thread:{title:"Delete this comment thread?",body:"All comments in this thread will be deleted, and once deleted cannot be recovered.",confirmButtonText:"Delete thread"},comment:{title:"Delete this comment?",body:"Once deleted, a comment cannot be recovered.",confirmButtonText:"Delete comment"}};function PAn(e){const{isParent:t,onClose:n,commentId:r,onConfirm:o,loading:i,error:s}=e,{title:a,body:l,confirmButtonText:u}=IAn[t?"thread":"comment"],d=h.useCallback(()=>{o(r)},[r,o]);return c.jsx(fa,{header:a,id:"delete-comment-dialog",onClose:n,width:0,footer:c.jsxs(ln,{columns:2,padding:2,gap:2,children:[c.jsx(ae,{text:"Cancel",mode:"ghost",onClick:n}),c.jsx(ae,{loading:i,onClick:d,text:u,tone:"critical"})]}),children:c.jsxs(ne,{padding:4,space:4,children:[c.jsx(B,{children:l}),s&&c.jsx(sr,{tone:"critical",children:"An error occurred while deleting the comment. Please try again."})]})})}var Nme=Object.freeze,OAn=Object.defineProperty,$An=(e,t)=>Nme(OAn(e,"raw",{value:Nme(t||e.slice())})),zme;const RAn=O($xe)(e=>{let{theme:t}=e;const n=t.sanity.color.dark?50:700,r=t.sanity.color.dark?700:100,o=fe.purple[r].hex,i=fe.purple[n].hex;return de(zme||(zme=$An([`
    background-color: `,`;
    box-shadow: inset 0 0 0 1px `,`;
    color: `,`;
  `])),o,o,i)});function MAn(){return c.jsx(RAn,{children:"Beta"})}var Vme=Object.freeze,FAn=Object.defineProperty,LAn=(e,t)=>Vme(FAn(e,"raw",{value:Vme(t||e.slice())})),Hme;const BAn=O(F)(Hme||(Hme=LAn([`
  max-width: 280px;
`])));function NAn(e){const{onDismiss:t}=e;return c.jsx(hn,{content:c.jsx(BAn,{padding:4,children:c.jsxs(ne,{space:3,children:[c.jsx(B,{weight:"semibold",size:1,children:"Collaborate in One Place"}),c.jsx(B,{size:1,children:"Add a comment on any field. All comments for this document will be here, grouped by field."}),c.jsx(W,{justify:"flex-end",marginTop:2,children:c.jsx(ae,{fontSize:1,padding:2,text:"Got it",tone:"primary",onClick:t})})]})}),open:!0,portal:!0,...e})}const az=h.createContext(null);function zAn(e){const t={};return e!==null&&(t.identity=e.id),t}const A3=new Map;async function VAn(e,t,n){A3.has(t)||A3.set(t,bje("*[".concat(t,"]")));const r=A3.get(t),o=zAn(e),{identity:i}=o,s={...o},a=await(await hje(r,{dataset:[n],identity:i,params:s})).get();return(a==null?void 0:a.length)===1}async function HAn(e,t,n,r){if(!r)return{granted:!0,reason:"Null document, nothing to check"};if(!t.length)return{granted:!1,reason:"No document grants"};const o=[];for(const s of t)await VAn(e,s.filter,r)&&o.push(s);const i=o.some(s=>s.permissions.some(a=>a===n));return{granted:i,reason:i?"Matching grant":"No matching grants found"}}const Ume={data:[],error:null,loading:!0};let Wme=null;function UAn(e){const{documentValue:t}=e,n=eCn(),r=HN(),o=Sr(gn),[i,s]=h.useState(Ume),a=h.useMemo(()=>{const u=n.get().pipe(ce(v=>{var g;return(g=v.members)==null?void 0:g.filter(b=>!b.isRobot)})).pipe(tt(async v=>{const g=v.map(x=>{let{id:y}=x;return y});return await r.getUsers(g)}),ce(v=>v.map(g=>({displayName:g.displayName,id:g.id,canBeMentioned:!1})))),d=Wme,f=d?be(d):o.observable.fetch('*[_type == "system.group"]');return Pet([u,f]).pipe(vt(async v=>{let[g,b]=v;d||(Wme=b);const x=g==null?void 0:g.map(async w=>{const _=[...b.map(E=>E.members.includes(w.id)?E.grants:[])].flat(),{granted:S}=await HAn(w,_,"read",t);return{...w,canBeMentioned:S}});return await Promise.all(x||[])})).pipe(ce(v=>({error:null,loading:!1,data:Cm(v,"displayName")})))},[o.observable,t,n,r]);return h.useEffect(()=>{const l=be(Ume),d=ho(l,a).subscribe(s);return()=>{d.unsubscribe()}},[a]),i}function WAn(e){const{documentId:t,documentType:n}=e||{},r=dr().get(n),{title:o}=Nl(),{createPathWithParams:i,params:s}=tD(),a=Ps(),l=Ao(()=>!t||!r?be(null):pA(a,r,t,""),[t,a,r]),{published:u,draft:d}=l||{},f=(d==null?void 0:d.title)||(u==null?void 0:u.title)||"Sanity document";return{getNotificationValue:h.useCallback(m=>{let{commentId:v}=m;const g=i({...s,comment:v,inspect:Db}),b="".concat(window.location.origin).concat(g);return{documentTitle:f,url:b,workspaceTitle:o}},[i,f,s,o])}}function YAn(e){const{client:t,currentUser:n,dataset:r,documentId:o,documentType:i,getThreadLength:s,onCreate:a,onCreateError:l,onEdit:u,onRemove:d,onUpdate:f,projectId:p,runSetup:m,workspace:v}=e,g=n==null?void 0:n.id,b=hT(h.useCallback(k=>typeof k.tool=="string"?k.tool:void 0,[])),{tools:x}=Nl(),y=h.useMemo(()=>x.find(k=>k.name===b),[b,x]),{getNotificationValue:w}=WAn({documentId:o,documentType:i}),C=h.useCallback(async k=>{const T=(k==null?void 0:k.id)||sd(),A=((s==null?void 0:s(k.threadId))||0)+1,{documentTitle:D="",url:I="",workspaceTitle:P=""}=w({commentId:T})||{},M={currentThreadLength:A,documentTitle:D,url:I,workspaceTitle:P},$={_id:T,_type:"comment",authorId:g||"",lastEditedAt:void 0,message:k.message,parentCommentId:k.parentCommentId,status:k.status,threadId:k.threadId,context:{payload:{workspace:v},notification:M,tool:(y==null?void 0:y.name)||""},target:{path:{field:k.fieldPath},document:{_dataset:r,_projectId:p,_ref:o,_type:"crossDatasetReference",_weak:!0},documentType:i}};if(a==null||a($),!t){try{await m($)}catch(V){throw l==null||l($._id,V),V}return}try{await t.create($)}catch(V){throw l==null||l($._id,V),V}},[y==null?void 0:y.name,g,t,r,o,i,w,s,a,l,p,m,v]),_=h.useCallback(async k=>{t&&(d==null||d(k),await Promise.all([t.delete({query:'*[_type == "comment" && parentCommentId == "'.concat(k,'"]')}),t.delete(k)]))},[t,d]),S=h.useCallback(async(k,T)=>{if(!t)return;const A={message:T.message,lastEditedAt:new Date().toISOString()};u==null||u(k,A),await t.patch(k).set(A).commit()},[t,u]),E=h.useCallback(async(k,T)=>{if(t){if(f==null||f(k,T),T.status){await Promise.all([t.patch({query:'*[_type == "comment" && parentCommentId == "'.concat(k,'"]')}).set({status:T.status}).commit(),t.patch(k).set(T).commit()]);return}await(t==null?void 0:t.patch(k).set(T).commit())}},[t,f]);return{operation:h.useMemo(()=>({create:C,edit:S,remove:_,update:E}),[C,_,S,E])}}function m$e(){const e=h.useContext(az);if(!e)throw new Error("useComments must be used within a CommentsProvider");return e}function qAn(){const e=h.useContext(x$e);if(!e)throw new Error("useCommentsSetup: missing context value");return e}function lz(e){const{documentId:t,documentType:n}=e,{enabled:r,isLoading:o}=lOe("studioComments"),{enabled:i}=ur().document.unstable_comments,s=i({documentType:n,documentId:Zn(t)});return h.useMemo(()=>o?{isEnabled:!1,reason:"loading"}:r?s?{isEnabled:!0,reason:null}:{isEnabled:!1,reason:"disabled-by-config"}:{isEnabled:!1,reason:"plan-upgrade-required"},[s,r,o])}const g$e=h.createContext(null),GAn=1,v$e="sanityStudio:comments:inspector:onboarding:dismissed:v".concat(GAn),KAn=e=>{try{window.localStorage.setItem(v$e,JSON.stringify(e))}catch{}},ZAn=()=>{try{const e=window.localStorage.getItem(v$e);return e?JSON.parse(e):!1}catch{return!1}};function XAn(e){const{children:t}=e,[n,r]=h.useState(ZAn()),o=h.useCallback(()=>{r(!0),KAn(!0)},[r]),i=h.useMemo(()=>({setDismissed:o,isDismissed:n}),[o,n]);return c.jsx(g$e.Provider,{value:i,children:t})}function QAn(){const e=h.useContext(g$e);if(!e)throw new Error("useCommentsOnboarding: missing context value");return e}function JAn(e){return e.reduce((n,r)=>({...n,[r._id]:r}),{})}function eDn(e,t){switch(t.type){case"COMMENTS_SET":{const n=JAn(t.comments);return{...e,comments:n}}case"COMMENT_ADDED":{const n=t.payload,r=n,o={[n._id]:{...e.comments[n._id],...r,_state:n._state||void 0,_createdAt:n._createdAt||new Date().toISOString()}};if(e.comments&&e.comments[n._id])return{...e,comments:{...e.comments,...o}};const s={...e.comments||{},...o};return{...e,comments:s}}case"COMMENT_RECEIVED":{const n=t.payload;return{...e,comments:{...e.comments,[n._id]:n}}}case"COMMENT_DELETED":{const{[t.id]:n,...r}=e.comments;return Object.keys(r).forEach(o=>{r[o].parentCommentId===t.id&&delete r[o]}),{...e,comments:r}}case"COMMENT_UPDATED":{const n=t.payload,r=n._id;return{...e,comments:{...e.comments,[r]:{...e.comments[r],...n}}}}default:return e}}const tDn={comments:{}},nDn={events:["welcome","mutation","reconnect"],includeResult:!0,visibility:"query"},rDn="_createdAt",oDn="desc",iDn=['_type == "comment"',"target.document._ref == $documentId"],sDn=`{
  _createdAt,
  _id,
  authorId,
  lastEditedAt,
  message,
  parentCommentId,
  status,
  target,
  threadId,
}`,aDn="order(".concat(rDn," ").concat(oDn,")"),Yme="*[".concat(iDn.join(" && "),"] ").concat(sDn," | ").concat(aDn);function lDn(e){const{client:t,documentId:n}=e,[r,o]=h.useReducer(eDn,tDn),[i,s]=h.useState(t!==null),[a,l]=h.useState(null),u=h.useMemo(()=>({documentId:Zn(n)}),[n]),d=h.useCallback(async()=>{if(!t){s(!1);return}try{const v=await t.fetch(Yme,u);o({type:"COMMENTS_SET",comments:v}),s(!1)}catch(v){l(v)}},[t,u]),f=h.useCallback(async v=>{if(v.type==="welcome"&&(s(!0),await d(),s(!1)),v.type==="reconnect"&&s(!0),v.type==="mutation"){if(v.transition==="appear"){const g=v.result;g&&o({type:"COMMENT_RECEIVED",payload:g})}if(v.transition==="disappear"&&o({type:"COMMENT_DELETED",id:v.documentId}),v.transition==="update"){const g=v.result;g&&o({type:"COMMENT_UPDATED",payload:g})}}},[d]),p=h.useMemo(()=>t?t.observable.listen(Yme,u,nDn).pipe(Xn(g=>(l(g),be(g)))):be(),[t,u]);return h.useEffect(()=>{const v=p.subscribe(f);return()=>{v==null||v.unsubscribe()}},[f,p]),{data:h.useMemo(()=>Object.values(r.comments),[r.comments]),dispatch:o,error:a,loading:i}}function y$e(e,t){var n;const r=Sf(t),o=r[0];if(o&&Ga(e)){const i=(n=e==null?void 0:e.fields)==null?void 0:n.find(s=>s.name===o);if(i){const s=yr(r.slice(1));return s?y$e(i.type,s):i}}}function cDn(e,t){if(typeof t=="number")return t;const n=e7(e,t);return n===-1?!1:n}function uDn(e){const{currentUser:t,schemaType:n,fieldPath:r,documentValue:o}=e,i=Sf(r),s=[];let a=null;return i.forEach((l,u)=>{var d,f,p;const m=i.slice(0,u+1),v=i.slice(0,u),g=y$e(n,yr(m)),b=l.hasOwnProperty("_key"),x=Cl(o,v),y=Cl(o,m),w={document:o,currentUser:t,parent:x,value:y};if(b&&Array.isArray(x)){const C=cDn(x,l),_=typeof C=="number";s.push({invalid:C===!1,isArrayItem:!0,title:_?"#".concat(Number(C)+1):"Unknown array item"});return}if(g!=null&&g.type){const C=_o(g.type.hidden,w);s.push({invalid:C,isArrayItem:!1,title:r0(g.type)}),a=g.type;return}if(Ol(a)){const C=Cl(o,v),_=C==null?void 0:C._type,S=(d=a==null?void 0:a.of)==null?void 0:d.find(D=>D.name===_),E=(f=S==null?void 0:S.fields)==null?void 0:f.find(D=>D.name===l);if(!E){s.push({invalid:!0,isArrayItem:!1,title:"Unknown field"});return}const j=r0(E==null?void 0:E.type),k=_o((p=S==null?void 0:S.type)==null?void 0:p.hidden,w),T=_o(E==null?void 0:E.type.hidden,w),A=k||T;s.push({invalid:A,isArrayItem:!1,title:j}),a=E==null?void 0:E.type;return}s.push({invalid:!0,isArrayItem:!1,title:"Unknown field"})}),s}function dDn(e){const{comments:t,currentUser:n,documentValue:r,schemaType:o}=e;return(t==null?void 0:t.filter(a=>!a.parentCommentId)).map(a=>{const l=uDn({currentUser:n,documentValue:r,fieldPath:a.target.path.field,schemaType:o});if(l.some(p=>p.invalid))return;const d=t==null?void 0:t.filter(p=>p.parentCommentId===a._id),f=[a,...d].length;return{breadcrumbs:l,commentsCount:f,fieldPath:a.target.path.field,parentComment:a,replies:d,threadId:a.threadId}}).filter(Boolean)}const cF=[],b$e={open:cF,resolved:cF},fDn={data:b$e,error:null,loading:!1},hDn={data:[],error:null,loading:!1},uF=async()=>{await Promise.resolve()},x2={execute:uF},pDn={comments:fDn,create:x2,edit:x2,getComment:()=>{},getCommentPath:()=>null,isRunningSetup:!1,mentionOptions:hDn,remove:x2,selectedPath:null,setSelectedPath:uF,setStatus:uF,status:"open",update:x2},mDn=h.memo(function(t){const{children:n,documentId:r,documentType:o}=t,{isEnabled:i}=lz({documentId:r,documentType:o});return i?c.jsx(gDn,{...t}):c.jsx(az.Provider,{value:pDn,children:n})}),gDn=h.memo(function(t){const{children:n,documentId:r,documentType:o}=t,[i,s]=h.useState(null),[a,l]=h.useState("open"),{client:u,runSetup:d,isRunningSetup:f}=qAn(),p=Zn(r),m=$N(p,o,"low"),v=h.useMemo(()=>m.draft||m.published,[m.draft,m.published]),{dispatch:g,data:b=cF,error:x,loading:y}=lDn({documentId:p,client:u}),w=UAn(h.useMemo(()=>({documentValue:v}),[v])),C=dr().get(o),_=ii(),{name:S,dataset:E,projectId:j}=Nl(),k=h.useMemo(()=>{if(!C||!_)return b$e;const U=V0(b,["_createdAt"],["desc"]),z=dDn({comments:U,schemaType:C,currentUser:_,documentValue:v});return{open:z.filter(Y=>Y.parentComment.status==="open"),resolved:z.filter(Y=>Y.parentComment.status==="resolved")}},[_,b,v,C]),T=h.useCallback(U=>k.open.filter(z=>z.threadId===U).length,[k.open]),A=h.useCallback(U=>b==null?void 0:b.find(z=>z._id===U),[b]),D=h.useCallback(U=>{const z=A(U);return z?z.target.path.field:null},[A]),I=h.useCallback(U=>{if(U===null){s(null);return}setTimeout(()=>{s(U)})},[]),P=h.useCallback(async U=>{var z,Y;const te=((Y=(z=b==null?void 0:b.find(N=>N._id===U._id))==null?void 0:z._state)==null?void 0:Y.type)==="createError";g({type:"COMMENT_ADDED",payload:{...U,_state:te?{type:"createRetrying"}:void 0}})},[b,g]),M=h.useCallback((U,z)=>{g({type:"COMMENT_UPDATED",payload:{_id:U,...z}})},[g]),$=h.useCallback((U,z)=>{g({type:"COMMENT_UPDATED",payload:{_id:U,...z}})},[g]),V=h.useCallback((U,z)=>{g({type:"COMMENT_UPDATED",payload:{_id:U,_state:{error:z,type:"createError"}}})},[g]),{operation:L}=YAn(h.useMemo(()=>({client:u,currentUser:_,dataset:E,documentId:p,documentType:o,projectId:j,schemaType:C,workspace:S,getThreadLength:T,runSetup:d,onCreate:P,onCreateError:V,onEdit:$,onUpdate:M}),[u,_,E,p,o,j,C,S,T,d,P,V,$,M])),H=h.useMemo(()=>({setSelectedPath:I,selectedPath:i,isRunningSetup:f,status:a,setStatus:l,getComment:A,getCommentPath:D,comments:{data:k,error:x,loading:y||f},create:{execute:L.create},remove:{execute:L.remove},edit:{execute:L.edit},update:{execute:L.update},mentionOptions:w}),[I,i,f,a,A,D,k,x,y,L.create,L.remove,L.edit,L.update,w]);return c.jsx(az.Provider,{value:H,children:n})}),x$e=h.createContext(null);function vDn(e){const{children:t}=e,{dataset:n,projectId:r}=Nl(),o=Sr(gn),[i,s]=h.useState(null),[a,l]=h.useState(!1),u=h.useCallback(async()=>{var m;const v=await o.withConfig({apiVersion:"vX"}).request({uri:"/projects/".concat(r,"/datasets?datasetProfile=comments&addonFor=").concat(n),tag:"sanity.studio"});return(m=v==null?void 0:v[0])==null?void 0:m.name},[n,o,r]),d=h.useCallback(m=>o.withConfig({apiVersion:"v2022-05-09",dataset:m,projectId:r,requestTagPrefix:"sanity.studio",useCdn:!1,withCredentials:!0}),[o,r]),f=h.useCallback(async m=>{l(!0);try{const v=await u();if(v){const g=d(v);s(g),await g.create(m),l(!1);return}}catch{}try{const v=await o.withConfig({apiVersion:"vX"}).request({uri:"/comments/".concat(n,"/setup"),method:"POST"}),g=v==null?void 0:v.datasetName;if(!g){l(!1);return}const b=d(g);s(b),await b.create(m)}catch(v){throw v}finally{l(!1)}},[n,u,d,o]);h.useEffect(()=>{u().then(m=>{if(!m)return;const v=d(m);s(v)})},[u,d]);const p=h.useMemo(()=>({client:i,runSetup:f,isRunningSetup:a}),[i,f,a]);return c.jsx(x$e.Provider,{value:p,children:t})}const yDn=O(ee)({position:"relative",zIndex:1,lineHeight:0,"&:after":{content:'""',display:"block",position:"absolute",left:0,bottom:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}}),bDn=h.forwardRef(function(t,n){const{onClose:r,onViewChange:o,view:i}=t,s=h.useCallback(()=>o("open"),[o]),a=h.useCallback(()=>o("resolved"),[o]);return c.jsx(yDn,{ref:n,children:c.jsxs(W,{padding:2,children:[c.jsxs(W,{align:"center",flex:1,gap:2,paddingY:2,padding:3,children:[c.jsx(B,{as:"h1",size:1,weight:"semibold",children:"Comments"}),c.jsx(MAn,{})]}),c.jsxs(W,{flex:"none",padding:1,gap:2,children:[c.jsx(rn,{id:"comment-status-menu-button",button:c.jsx(ae,{text:an(i),fontSize:1,padding:2,mode:"bleed",iconRight:Rl,space:2}),menu:c.jsxs(Ht,{style:{width:"180px"},children:[c.jsx(Me,{fontSize:1,iconRight:i==="open"?Ba:void 0,onClick:s,text:"Open comments"}),c.jsx(Me,{fontSize:1,iconRight:i==="resolved"?Ba:void 0,onClick:a,text:"Resolved comments"})]}),popover:{placement:"bottom-end"}}),c.jsx(ae,{"aria-label":"Close comments",fontSize:1,icon:Pve,mode:"bleed",onClick:r,padding:2})]})]})})});function xDn(e){const{onClose:t}=e,[n,r]=h.useState(!1),[o,i]=h.useState(null),[s,a]=h.useState(!1),[l,u]=h.useState(null),d=h.useRef(null),f=ii(),{params:p,createPathWithParams:m,setParams:v}=tD(),g=Go(p)||l3e,b=h.useRef(g==null?void 0:g.comment),x=Ai().push,{onPathOpen:y,ready:w}=ph(),{isDismissed:C,setDismissed:_}=QAn(),{comments:S,create:E,edit:j,getComment:k,getCommentPath:T,isRunningSetup:A,mentionOptions:D,remove:I,selectedPath:P,setSelectedPath:M,setStatus:$,status:V,update:L}=m$e(),H=h.useMemo(()=>S.data[V],[S,V]),U=h.useMemo(()=>S.loading||!w,[S.loading,w]),z=h.useCallback(ie=>{$(ie),M(null)},[M,$]),Y=h.useCallback(()=>{t(),M(null)},[t,M]),te=h.useCallback(ie=>{const ye=m({...p,comment:ie}),_e="".concat(window.location.origin).concat(ye);navigator.clipboard.writeText(_e).then(()=>{x({closable:!0,status:"info",title:"Copied link to clipboard"})}).catch(()=>{x({closable:!0,status:"error",title:"Unable to copy link to clipboard"})})},[m,p,x]),N=h.useCallback(ie=>{const ye=k(ie);ye&&E.execute({fieldPath:ye.target.path.field,id:ye._id,message:ye.message,parentCommentId:ye.parentCommentId,status:ye.status,threadId:ye.threadId})},[E,k]),G=h.useCallback(()=>{s||(r(!1),i(null))},[s]),q=h.useCallback((ie,ye)=>{y(ie),M({fieldPath:yr(ie),origin:"inspector",threadId:ye||null})},[y,M]),K=h.useCallback(ie=>{E.execute(ie),M({fieldPath:ie.fieldPath,origin:"inspector",threadId:ie.threadId})},[E,M]),Q=h.useCallback(ie=>{E.execute(ie)},[E]),X=h.useCallback((ie,ye)=>{j.execute(ie,ye)},[j]),Z=h.useCallback((ie,ye)=>{L.execute(ie,{status:ye})},[L]),oe=h.useCallback(ie=>{var ye;const _e=H.find(xe=>{var Ze;return((Ze=xe.parentComment)==null?void 0:Ze._id)===ie}),Ae=!!(_e&&((ye=_e==null?void 0:_e.replies)==null?void 0:ye.length)>0);r(!0),i({commentId:ie,isParent:Ae})},[H]),le=h.useCallback(async ie=>{try{a(!0),await I.execute(ie),G()}catch(ye){u(ye)}finally{a(!1)}},[G,I]),he=h.useCallback((ie,ye)=>{ye&&requestAnimationFrame(()=>{var _e;M({fieldPath:ye,origin:"inspector",threadId:null}),(_e=d.current)==null||_e.scrollToComment(ie),v({...p,comment:void 0}),b.current=void 0})},[p,v,M]);return h.useEffect(()=>{const ie=T(b.current||"");ie&&!U&&b.current&&he(b.current,ie)},[T,he,U]),c.jsxs(h.Fragment,{children:[o&&n&&c.jsx(PAn,{...o,error:l,loading:s,onClose:G,onConfirm:le}),c.jsxs(W,{direction:"column",overflow:"hidden",height:"fill",children:[c.jsx(NAn,{onDismiss:_,open:!C,placement:"left-start",children:c.jsx(bDn,{onClose:Y,onViewChange:z,view:V})}),f&&c.jsx(DAn,{comments:H,currentUser:f,error:S.error,loading:U,mentionOptions:D,onCopyLink:te,onCreateRetry:N,onDelete:oe,onEdit:X,onNewThreadCreate:K,onPathSelect:q,onReply:Q,onStatusChange:Z,readOnly:A,ref:d,selectedPath:P,status:V})]})]})}function wDn(e){const{documentId:t,documentType:n}=e,{isEnabled:r}=lz({documentId:t,documentType:n});return{hidden:!r,icon:Ave,showAsAction:!0,title:"Comments"}}const CDn={name:Db,component:xDn,useMenuItem:wDn};var qme=Object.freeze,_Dn=Object.defineProperty,w$e=(e,t)=>qme(_Dn(e,"raw",{value:qme(t||e.slice())})),Gme,Kme;const Zme={open:500},SDn=O(B)(Gme||(Gme=w$e([`
  width: max-content;
`]))),EDn=O(ne)(Kme||(Kme=w$e([`
  width: 320px;
`])));function kDn(e){const{count:t,currentUser:n,fieldTitle:r,isRunningSetup:o,mentionOptions:i,onChange:s,onClick:a,onCommentAdd:l,onDiscard:u,onInputKeyDown:d,open:f,setOpen:p,value:m}=e,[v,g]=h.useState(null),b=h.useRef(null),x=t>0,y=h.useCallback(()=>p(!1),[p]),w=h.useCallback(()=>{l(),y()},[y,l]),C=h.useMemo(()=>bC(m),[m]),_=h.useCallback(()=>{var T;if(!C){y();return}(T=b.current)==null||T.discardDialogController.open()},[y,C]),S=h.useCallback(T=>{T.isDefaultPrevented()||(T.key==="Escape"&&(T.preventDefault(),T.stopPropagation(),_()),d&&d(T))},[d,_]),E=h.useCallback(()=>{var T;(T=b.current)==null||T.discardDialogController.close()},[]),j=h.useCallback(()=>{var T;(T=b.current)==null||T.discardDialogController.close(),y(),u()},[y,u]);Vr(_,[v]);const k=c.jsxs(c.Fragment,{children:["Add comment to ",c.jsx("b",{children:r})]});if(!x){const T=c.jsx(EDn,{padding:2,space:4,children:c.jsx(rD,{currentUser:n,focusLock:!0,focusOnMount:!0,mentionOptions:i,onChange:s,onDiscardCancel:E,onDiscardConfirm:j,onKeyDown:S,onSubmit:w,placeholder:k,readOnly:o,ref:b,value:m})});return c.jsx(hn,{constrainSize:!0,content:T,fallbackPlacements:["left-start"],open:f,placement:"bottom-end",portal:!0,ref:g,children:c.jsx("div",{children:c.jsx(yt,{delay:Zme,disabled:f,portal:!0,placement:"top",content:c.jsx(F,{padding:2,children:c.jsx(B,{size:1,children:"Add comment"})}),children:c.jsx(ae,{"aria-label":"Add comment",disabled:o,fontSize:1,icon:e5n,mode:"bleed",onClick:a,padding:2,selected:f})})})})}return c.jsx(yt,{portal:!0,placement:"top",content:c.jsx(F,{padding:2,sizing:"border",children:c.jsxs(SDn,{size:1,children:["View comment",t>1?"s":""]})}),delay:Zme,fallbackPlacements:["bottom"],children:c.jsx(ae,{"aria-label":"Open comments",mode:"bleed",onClick:a,padding:2,children:c.jsxs(W,{align:"center",gap:2,children:[c.jsx(B,{size:1,children:c.jsx(t5n,{})}),c.jsx(B,{size:0,children:t>9?"9+":t})]})})})}var Xme=Object.freeze,jDn=Object.defineProperty,C$e=(e,t)=>Xme(jDn(e,"raw",{value:Xme(t||e.slice())})),Qme,Jme;const TDn={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}};function ADn(e){const{documentId:t,documentType:n}=ph(),{isEnabled:r}=lz({documentId:t,documentType:n});return r?c.jsx(PDn,{...e}):e.renderDefault(e)}const ege={behavior:"smooth",block:"start",inline:"nearest"},DDn=O(Nj.div)(e=>{let{theme:t}=e;const{radius:n,space:r,color:o}=t.sanity,i=fe.blue[o.dark?900:50].hex;return de(Qme||(Qme=C$e([`
    mix-blend-mode: `,`;
    border-radius: `,`px;
    top: -`,`px;
    left: -`,`px;
    bottom: -`,`px;
    right: -`,`px;
    pointer-events: none;
    position: absolute;
    z-index: 1;
    width: calc(100% + `,`px);
    height: calc(100% + `,`px);
    background-color: `,`;
  `])),o.dark?"screen":"multiply",n[3],r[2],r[2],r[2],r[2],r[2]*2,r[2]*2,i)}),IDn=O(ne)(Jme||(Jme=C$e([`
  position: relative;
`])));function PDn(e){const[t,n]=h.useState(!1),[r,o]=h.useState(null),[i,s]=h.useState(!1),a=h.useRef(null),{element:l}=eh(),{openInspector:u,inspector:d}=ph(),f=ii(),{comments:p,create:m,isRunningSetup:v,mentionOptions:g,selectedPath:b,setSelectedPath:x,setStatus:y,status:w}=m$e(),C=UYe(a),_=h.useMemo(()=>r0(e.schemaType),[e.schemaType]),S=h.useMemo(()=>p.data[w],[p.data,w]),[E,j]=h.useState(!1),k=h.useMemo(()=>(d==null?void 0:d.name)===Db,[d==null?void 0:d.name]),T=h.useMemo(()=>!k||(b==null?void 0:b.origin)==="field"?!1:(b==null?void 0:b.fieldPath)===yr(e.path),[k,e.path,b==null?void 0:b.fieldPath,b==null?void 0:b.origin]),A=h.useMemo(()=>{var z;const Y=yr(e.path);return(z=S.find(te=>te.fieldPath===Y))==null?void 0:z.threadId},[S,e.path]),D=h.useMemo(()=>{const z=yr(e.path);return p.data.open.map(te=>te.fieldPath===z?te.commentsCount:0).reduce((te,N)=>te+N,0)||0},[p.data.open,e.path]),I=D>0,P=h.useCallback(z=>{if(k&&i&&z){const Y=document.querySelector('[data-group-id="'.concat(z,'"]'));Y&&(Y.scrollIntoView(ege),s(!1))}},[i,k]),M=h.useCallback(()=>u(Db),[u]),$=h.useCallback(()=>{I&&w==="resolved"&&y("open"),I?(n(!1),u(Db)):n(z=>!z),A&&(s(!0),P(A),x({fieldPath:yr(e.path),origin:"field",threadId:null}))},[I,w,A,y,u,P,x,e.path]),V=h.useCallback(()=>{if(r){const z=sd(),Y={fieldPath:yr(e.path),message:r,parentCommentId:void 0,status:"open",threadId:z};m.execute(Y),M(),y("open"),o(null),requestAnimationFrame(()=>{x({fieldPath:yr(e.path),origin:"field",threadId:z}),s(!0),P(z)})}},[m,M,P,e.path,x,y,r]),L=h.useCallback(()=>o(null),[]);h.useEffect(()=>{A&&P(A)},[A,P]);const H=h.useMemo(()=>({...ege,boundary:l,scrollMode:"if-needed",block:"start"}),[l]);h.useEffect(()=>{T&&a.current&&Cx(a.current,H)},[l,T,e.path,H,b]),h.useEffect(()=>{j(C&&T);const Y=setTimeout(()=>{j(!1)},1200);return()=>clearTimeout(Y)},[S,C,T,e.path,b]);const U=h.useMemo(()=>({button:f&&c.jsx(kDn,{count:Number(D),currentUser:f,fieldTitle:_,isRunningSetup:v,mentionOptions:g,onChange:o,onClick:$,onCommentAdd:V,onDiscard:L,open:t,setOpen:n,value:r}),hasComments:I,isAddingComment:t}),[f,D,_,g,$,V,L,t,r,v,I]);return c.jsxs(IDn,{ref:a,children:[c.jsx(wL,{children:E&&c.jsx(DDn,{animate:"animate",exit:"exit",initial:"initial",variants:TDn})}),e.renderDefault({...e,__internal_comments:U})]})}function ODn(e){return c.jsx(vDn,{children:c.jsx(XAn,{children:e.renderDefault(e)})})}const $Dn=yB({name:"sanity/desk/comments",document:{inspectors:[CDn]},form:{components:{field:ADn}},studio:{components:{layout:ODn}}}),_$e=h.createContext(null);function S$e(){const e=h.useContext(_$e);if(!e)throw new Error("DeskTool: missing context value");return e}const RDn={create:"created",delete:"deleted",discardDraft:"discarded draft",initial:"created",editDraft:"edited",editLive:"live edited",publish:"published",unpublish:"unpublished"},MDn={create:V3,delete:fo,discardDraft:la,initial:V3,editDraft:Du,editLive:Du,publish:rw,unpublish:ZS};function E$e(e){return RDn[e]}function FDn(e){return MDn[e]}function LDn(e){let{maxLength:t,userIds:n}=e;return c.jsx(Vj,{maxLength:t,children:n.map(r=>c.jsx(Ya,{user:r,withTooltip:!0},r))})}var tge=Object.freeze,BDn=Object.defineProperty,Ip=(e,t)=>tge(BDn(e,"raw",{value:tge(t||e.slice())})),nge,rge,oge,ige,sge,age,lge;const US=O(W)(e=>{let{theme:t}=e;var n;const r=(n=t.sanity.color.base.skeleton)==null?void 0:n.from;return de(nge||(nge=Ip([`
    --timeline-hairline-width: 1px;
    position: relative;
    z-index: 2;
    margin: 0;
    padding: 0;

    &::before {
      position: absolute;
      content: '';
      height: 100%;
      width: var(--timeline-hairline-width);
      background: `,`;
      top: 0;
      left: calc((100% - var(--timeline-hairline-width)) / 2);
      z-index: 1;
    }
  `])),r)}),NDn=O(ae)(e=>{let{$selected:t,$disabled:n}=e;return de(ige||(ige=Ip([`
    position: relative;
    width: 100%;

    /* Line styling */
    &[data-first] `,`::before {
      height: 50%;
      top: unset;
      bottom: 0;
    }

    &[data-last] `,`::before {
      height: 50%;
    }

    `,`

    `,`
  `])),US,US,t&&de(rge||(rge=Ip([`
      `,`::before {
        background: transparent;
      }
    `])),US),n&&de(oge||(oge=Ip([`
      cursor: not-allowed;
    `]))))}),zDn=O(F)(sge||(sge=Ip([`
  background: var(--card-bg-color);
  border-radius: 50px;
  position: relative;
  z-index: 2;
`]))),VDn=O(B)(age||(age=Ip([`
  text-transform: capitalize;
`]))),HDn=O(F)(lge||(lge=Ip([`
  min-width: 1rem;
  margin-left: `,`;
`])),e=>{let{theme:t}=e;return"-".concat(ge(t.sanity.space[1]))}),cge={initial:"primary",create:"primary",publish:"positive",editLive:"caution",editDraft:"caution",unpublish:"critical",discardDraft:"critical",delete:"critical",withinSelection:"primary"};function UDn(e){let{chunk:t,isFirst:n,isLast:r,isLatest:o,isSelected:i,onSelect:s,timestamp:a,type:l}=e;const u=FDn(l),d=Array.from(t.authors),f=l!=="delete",p=h.useMemo(()=>{const v=new Date(a);return Zo(v,"MMM d, yyyy, hh:mm a")},[a]),m=h.useCallback(v=>{v.preventDefault(),v.stopPropagation(),f&&s(t)},[s,t,f]);return c.jsx(NDn,{$selected:i,$disabled:!f,"data-chunk-id":t.id,"data-first":n?!0:void 0,"data-last":r?!0:void 0,"data-ui":"timelineItem",mode:i?"default":"bleed",onClick:m,padding:0,radius:2,tone:i?"primary":cge[t.type],children:c.jsx(F,{paddingX:2,children:c.jsxs(W,{align:"stretch",children:[c.jsx(US,{align:"center",children:c.jsx(zDn,{padding:2,children:c.jsx(B,{size:2,children:u&&h.createElement(u)})})}),c.jsxs(ne,{space:2,margin:2,children:[o&&c.jsx(W,{children:c.jsx(ee,{padding:1,radius:2,shadow:1,tone:i?"primary":cge[t.type],children:c.jsx(Nt,{muted:!0,size:0,children:"Latest"})})}),c.jsx(F,{children:c.jsx(VDn,{size:1,weight:"medium",children:E$e(l)||c.jsx("code",{children:l})})}),c.jsx(HDn,{paddingX:1,children:c.jsx(B,{size:0,muted:!0,children:p})})]}),c.jsx(W,{flex:1,justify:"flex-end",align:"center",children:c.jsx(LDn,{maxLength:3,userIds:d})})]})})})}var uge=Object.freeze,WDn=Object.defineProperty,Mk=(e,t)=>uge(WDn(e,"raw",{value:uge(t||e.slice())})),dge,fge,hge,pge;const YDn=O(ne)(dge||(dge=Mk([`
  max-width: 200px;
`]))),qDn=O(W)(fge||(fge=Mk([`
  max-height: calc(100vh - 198px);
  min-width: 244px;
`]))),GDn=O(F)(e=>{let{$visible:t}=e;return de(pge||(pge=Mk([`
    opacity: 0;
    pointer-events: none;

    `,`
  `])),t&&de(hge||(hge=Mk([`
      opacity: 1;
      pointer-events: auto;
    `]))))}),dF=e=>{let{chunks:t,disabledBeforeFirstChunk:n,hasMoreChunks:r,lastChunk:o,onLoadMore:i,onSelect:s,firstChunk:a}=e;const[l,u]=h.useState(!1),d=h.useMemo(()=>t.filter(m=>n&&a?m.index<a.index:!0),[t,n,a]),f=h.useMemo(()=>o!=null&&o.id?d.findIndex(m=>m.id===o.id):-1,[o==null?void 0:o.id,d]),p=h.useCallback((m,v)=>{let{activeIndex:g}=v;const b=g===0,x=d&&g===d.length-1||!1;return c.jsxs(F,{paddingBottom:x?1:0,paddingTop:b?1:0,paddingX:1,children:[c.jsx(UDn,{chunk:m,isFirst:b,isLast:x,isLatest:g===0&&!n,isSelected:g===f,onSelect:s,timestamp:m.endTimestamp,type:m.type}),g===d.length-1&&r&&c.jsx(W,{align:"center",justify:"center",padding:4,children:c.jsx(Hr,{muted:!0})})]})},[n,d,r,s,f]);return h.useEffect(()=>u(!0),[]),c.jsxs(GDn,{$visible:!f||l,"data-ui":"timeline",children:[d.length===0&&c.jsxs(YDn,{padding:3,space:3,children:[c.jsx(B,{size:1,weight:"semibold",children:"No document history"}),c.jsx(B,{muted:!0,size:1,children:"When changing the content of the document, the document versions will appear in this menu."})]}),d.length>0&&c.jsx(qDn,{direction:"column",children:c.jsx(Pm,{activeItemDataAttr:"data-hovered",ariaLabel:"Document revisions",autoFocus:"list",initialIndex:f,initialScrollAlign:"center",itemHeight:40,items:d,onEndReached:i,onEndReachedIndexOffset:20,overscan:5,renderItem:p,wrapAround:!1})})]})};dF.displayName="Timeline";function KDn(){return c.jsxs(W,{align:"flex-start",gap:3,padding:4,children:[c.jsx(sr,{tone:"critical",children:c.jsx(ca,{})}),c.jsxs(ne,{space:4,children:[c.jsx(sr,{size:1,tone:"critical",weight:"semibold",children:"An error occurred whilst retrieving document changes."}),c.jsx(sr,{size:1,tone:"critical",children:"Document history transactions have not been affected."})]})]})}var mge=Object.freeze,ZDn=Object.defineProperty,XDn=(e,t)=>mge(ZDn(e,"raw",{value:mge(t||e.slice())})),gge;const QDn=O(hn)(gge||(gge=XDn([`
  overflow: hidden;
  overflow: clip;
`])));function JDn(e){let{chunk:t,mode:n,placement:r}=e;const{setTimelineRange:o,setTimelineMode:i,timelineError:s,ready:a,timelineStore:l,isDeleted:u}=ph(),[d,f]=h.useState(!1),[p,m]=h.useState(null),[v,g]=h.useState(null),b=Ai(),x=Vi(l,L=>L.chunks),y=Vi(l,L=>L.isLoading),w=Vi(l,L=>L.hasMoreChunks),C=Vi(l,L=>L.realRevChunk),_=Vi(l,L=>L.sinceTime),S=h.useCallback(()=>{i(n),f(!0)},[n,i]),E=h.useCallback(()=>{i("closed"),f(!1)},[i]),j=h.useCallback(()=>{d&&E()},[E,d]),k=h.useCallback(L=>{d&&(L.key==="Escape"||L.key==="Tab")&&(E(),p==null||p.focus())},[p,E,d]);Vr(j,[p,v]),As(k);const T=h.useCallback(L=>{try{const[H,U]=l.findRangeForRev(L);i("closed"),o(H,U)}catch(H){b.push({closable:!0,description:H.message,status:"error",title:"Unable to load revision"})}},[i,o,l,b]),A=h.useCallback(L=>{try{const[H,U]=l.findRangeForSince(L);i("closed"),o(H,U)}catch(H){b.push({closable:!0,description:H.message,status:"error",title:"Unable to load revision"})}},[i,o,l,b]),D=h.useCallback(()=>{y||l.loadMore()},[y,l]),I=s?c.jsx(KDn,{}):c.jsxs(c.Fragment,{children:[n==="rev"&&c.jsx(dF,{chunks:x,firstChunk:C,hasMoreChunks:w,lastChunk:C,onLoadMore:D,onSelect:T}),n==="since"&&c.jsx(dF,{chunks:x,disabledBeforeFirstChunk:!0,firstChunk:C,hasMoreChunks:w,lastChunk:_,onLoadMore:D,onSelect:A})]}),P=eIn((t==null?void 0:t.endTimestamp)||""),M=t?"".concat(U2e(E$e(t.type)),": ").concat(P):"Latest version",$=t?"Since: ".concat(P):"Since: unknown version",V=n==="rev"?M:$;return c.jsx(QDn,{constrainSize:!0,content:d&&I,"data-ui":"versionMenu",open:d,placement:r,portal:!0,ref:g,children:c.jsx(ae,{disabled:!a,mode:"bleed",fontSize:1,padding:2,iconRight:Ml,onClick:d?E:S,ref:m,selected:d,style:{maxWidth:"100%"},text:a?V:"Loading history"})})}function eIn(e){return h.useMemo(()=>{const n=e?new Date(e):new Date;return Zo(n,"MMM d, yyyy, hh:mm a")},[e])}const tIn=O(ee)({position:"relative",zIndex:1,lineHeight:0,"&:after":{content:'""',display:"block",position:"absolute",left:0,bottom:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}});function k$e(e){const{as:t,children:n,closeButtonLabel:r,onClose:o,title:i,...s}=e;return c.jsxs(tIn,{...s,as:t,children:[c.jsxs(W,{padding:2,children:[c.jsx(F,{flex:1,padding:3,children:c.jsx(B,{as:"h1",size:1,weight:"semibold",children:i})}),c.jsx(F,{flex:"none",padding:1,children:c.jsx(ae,{"aria-label":r,fontSize:1,icon:la,mode:"bleed",onClick:o,padding:2})})]}),n]})}var vge=Object.freeze,nIn=Object.defineProperty,rIn=(e,t)=>vge(nIn(e,"raw",{value:vge(t||e.slice())})),yge;const oIn=O.div(yge||(yge=rIn([`
  position: absolute;
  top: 0;
  left: -4px;
  bottom: 0;
  width: 9px;
  z-index: 201;
  cursor: ew-resize;

  /* Border */
  & > span:nth-child(1) {
    display: block;
    border-left: 1px solid var(--card-border-color);
    position: absolute;
    top: 0;
    left: 4px;
    bottom: 0;
    transition: opacity 200ms;
    opacity: 0.5;
  }

  /* Hover effect */
  & > span:nth-child(2) {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 9px;
    bottom: 0;
    background-color: var(--card-border-color);
    opacity: 0;
    transition: opacity 150ms;
  }

  @media (hover: hover) {
    &:hover > span:nth-child(2) {
      opacity: 0.2;
    }
  }
`])));function iIn(e){const{onResize:t,onResizeStart:n}=e,r=h.useRef(0),o=h.useCallback(i=>{i.preventDefault(),r.current=i.pageX,n();const s=l=>{l.preventDefault(),t(l.pageX-r.current)},a=()=>{window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",a)};window.addEventListener("mousemove",s),window.addEventListener("mouseup",a)},[t,n]);return c.jsxs(oIn,{onMouseDown:o,children:[c.jsx("span",{}),c.jsx("span",{})]})}var bge=Object.freeze,sIn=Object.defineProperty,aIn=(e,t)=>bge(sIn(e,"raw",{value:bge(t||e.slice())})),xge;const lIn=O(F)(xge||(xge=aIn([`
  position: relative;
  flex: 1;
  padding-left: 1px;
`])));function a3n(e){const{as:t,children:n,minWidth:r,maxWidth:o,...i}=e,[s,a]=h.useState(null),l=h.useRef(),[u,d]=h.useState(),f=h.useCallback(()=>{l.current=s==null?void 0:s.offsetWidth},[s]),p=h.useCallback(v=>{const g=l.current;g&&d(Math.min(Math.max(g-v,r),o))},[r,o]),m=h.useMemo(()=>u?{flex:"none",width:u}:{minWidth:r,maxWidth:o},[r,o,u]);return c.jsxs(lIn,{as:t,...i,ref:a,style:m,children:[n,c.jsx(iIn,{onResize:p,onResizeStart:f})]})}function cIn(){return c.jsx(Y_n,{ms:300,children:c.jsxs(W,{align:"center",direction:"column",height:"fill",justify:"center",paddingTop:3,children:[c.jsx(Hr,{muted:!0}),c.jsx(F,{marginTop:3,children:c.jsx(B,{align:"center",muted:!0,size:1,children:"Loading changes"})})]})})}function uIn(e){const t=new Map;return mA(e,n=>{if(n.action==="unchanged"||!("annotation"in n)||!n.annotation)return!0;const{author:r,timestamp:o}=n.annotation,i=t.get(r);return(!i||i.timestamp<o)&&t.set(r,n.annotation),!0}),Array.from(t.values()).sort((n,r)=>n.timestamp<r.timestamp?1:-1)}var wge=Object.freeze,dIn=Object.defineProperty,fIn=(e,t)=>wge(dIn(e,"raw",{value:wge(t||e.slice())})),Cge;const hIn=O(sB)(Cge||(Cge=fIn([`
  height: 100%;
  overflow: auto;
  position: relative;
  scroll-behavior: smooth;
`])));function pIn(e){const{onClose:t}=e,{documentId:n,schemaType:r,timelineError:o,timelineStore:i,value:s}=ph(),a=h.useRef(null),l=Vi(i,b=>b.diff),u=Vi(i,b=>b.onOlderRevision),d=Vi(i,b=>b.selectionState),f=Vi(i,b=>b.sinceTime),p=d==="loading",m=!u,v=re.useMemo(()=>({documentId:n,schemaType:r,FieldWrapper:yUt,rootDiff:l,isComparingCurrent:m,value:s}),[n,l,m,r,s]),g=re.useMemo(()=>l?uIn(l):[],[l]);return c.jsxs(W,{"data-testid":"review-changes-pane",direction:"column",height:"fill",overflow:"hidden",children:[c.jsx(k$e,{as:"header",closeButtonLabel:"Close review changes",flex:"none",onClose:t,title:"Review changes",children:c.jsxs(W,{gap:1,padding:3,paddingTop:0,paddingBottom:2,children:[c.jsx(F,{flex:1,children:c.jsx(JDn,{mode:"since",chunk:f,placement:"bottom-start"})}),c.jsx(F,{flex:"none",children:c.jsx(Ki,{annotations:g,description:"Changes by",portal:!0,children:c.jsx(Vj,{maxLength:4,"aria-label":"Changes by",children:g.map(b=>{let{author:x}=b;return c.jsx(Ya,{user:x},x)})})})})]})}),c.jsx(ee,{flex:1,children:c.jsx(vm,{element:a.current,children:c.jsx(hIn,{"data-ui":"Scroller",ref:a,children:c.jsx(F,{flex:1,padding:4,children:c.jsx(mIn,{diff:l,documentContext:v,error:o,loading:p,schemaType:r})})})})})]})}function mIn(e){let{error:t,diff:n,documentContext:r,loading:o,schemaType:i}=e;return t?c.jsx(x4,{}):o?c.jsx(cIn,{}):n?c.jsx(IAe.Provider,{value:r,children:c.jsx(sC,{diff:n,schemaType:i})}):c.jsx(x4,{})}const gIn={name:Q4,useMenuItem:()=>{const{features:e}=S$e();return{hidden:!e.reviewChanges,icon:NF,title:"Review changes"}},component:pIn,onClose:e=>{let{params:t}=e;return{params:{...t,since:void 0}}},onOpen:e=>{let{params:t}=e;return{params:{...t,since:"@lastPublished"}}}};function vIn(e){const{path:t,schemaType:n,value:r}=e,o=[];let i=n,s=r;for(const a of t){if(typeof a=="string"){if(!Ct(s)&&s!==void 0)throw new Error("Parent value is not an object, cannot get path segment: .".concat(a));if(i.jsonType!=="object")throw new Error("Parent type is not an object schema type, cannot get path segment: .".concat(a));s=s==null?void 0:s[a];const l=i.fields.find(u=>u.name===a);if(!l)throw new Error("Field type not found: .".concat(a));i=l.type,o.push(i);continue}if(typeof a=="number"){if(!lee(s)&&s!==void 0)throw new Error("Parent value is not an array, cannot get path segment: [".concat(a,"]"));if(i.jsonType!=="array")throw new Error("Parent type is not an array schema type, cannot get path segment: [".concat(a,"]"));s=s==null?void 0:s[a];const l=i.of.find(u=>typeof s=="string"?u.jsonType==="string":typeof s=="number"?u.jsonType==="number":typeof s=="boolean"?u.jsonType==="boolean":Ct(s)?u.name===(s==null?void 0:s._type):!1);if(!l)throw new Error("Item type not found: [".concat(a,"]"));i=l,o.push(i);continue}if(Ct(a)&&a._key){if(!lee(s))throw new Error("Parent value is not an array, cannot get path segment: [_key == ".concat(a,"]"));if(i.jsonType!=="array")throw new Error("Parent type is not an array schema type, cannot get path segment: .".concat(a));if(s=(s??[]).find(d=>Ct(d)&&d._key===a._key),!Ct(s))throw new Error("Array item not found: [_key == ".concat(a._key,"]"));const u=i.of.find(d=>Ct(s)&&d.name===(s==null?void 0:s._type));if(!u)throw new Error("Array item type not found: .".concat(s==null?void 0:s._type));i=u,o.push(i);continue}throw new Error("Invalid path segment: ".concat(JSON.stringify(a)))}return o}const yIn={error:ca,warning:Qr,info:cm},bIn={error:"critical",warning:"caution",info:"primary"};function xIn(e){const{onClose:t}=e,{onFocus:n,onPathOpen:r,schemaType:o,validation:i,value:s}=ph(),a=h.useCallback(l=>{r(l),n(l)},[n,r]);return c.jsxs(W,{direction:"column",height:"fill",overflow:"hidden",children:[c.jsx(k$e,{as:"header",closeButtonLabel:"Close validation",flex:"none",onClose:t,title:"Validation"}),c.jsxs(ee,{flex:1,overflow:"auto",padding:3,children:[i.length===0&&c.jsx(F,{padding:2,children:c.jsx(B,{muted:!0,size:1,children:"No validation errors"})}),i.length>0&&c.jsx(ne,{space:2,children:i.map((l,u)=>c.jsx(wIn,{marker:l,onOpen:a,schemaType:o,value:s},u))})]})]})}function wIn(e){const{marker:t,onOpen:n,schemaType:r,value:o}=e,i=h.useCallback(()=>n(t.path),[t,n]),[s,a]=h.useState(null);return c.jsxs(E0,{onCatch:a,children:[s&&c.jsx(ee,{padding:3,radius:2,tone:"critical",children:c.jsxs(B,{size:1,children:["ERROR: ",s.error.message]})}),!s&&c.jsx(ee,{__unstable_focusRing:!0,as:"button",onClick:i,padding:3,radius:2,tone:bIn[t.level],children:c.jsxs(W,{align:"flex-start",gap:3,children:[c.jsx(F,{flex:"none",children:c.jsx(B,{size:1,children:h.createElement(yIn[t.level])})}),c.jsxs(ne,{flex:1,space:2,children:[c.jsx(CIn,{path:t.path,schemaType:r,value:o}),c.jsx(B,{muted:!0,size:1,children:t.item.message})]})]})})]})}function CIn(e){const{path:t,schemaType:n,value:r}=e,o=h.useMemo(()=>vIn({path:t,schemaType:n,value:r}),[t,n,r]);return c.jsx(B,{size:1,children:o.map((i,s)=>c.jsxs(h.Fragment,{children:[s>0&&c.jsx("span",{style:{color:"var(--card-muted-fg-color)",opacity:.5},children:" / "}),c.jsx("span",{style:{fontWeight:500},children:i.title||i.name})]},s))})}function _In(e){const{documentId:t,documentType:n}=e,{validation:r}=RN(t,n),o=h.useMemo(()=>r.map(u=>({level:u.level,message:u.item.message,path:u.path})),[r]),i=o.some(aRe),s=o.some(lRe),a=h.useMemo(()=>i?ca:s?Qr:rj,[i,s]),l=h.useMemo(()=>i?"critical":s?"caution":"positive",[i,s]);return{hidden:o.length===0,icon:a,title:"Validation",tone:l,showAsAction:!0}}const SIn={name:TSn,component:xIn,useMenuItem:_In},EIn=[s3e,a3e,r3e,o3e,n3e,i3e],kIn=[lSn],jIn=[SIn,gIn],TIn=yB(e=>({name:"@sanity/desk-tool",document:{actions:t=>Array.from(new Set([...t,...EIn])),badges:t=>Array.from(new Set([...t,...kIn])),inspectors:t=>Array.from(new Set([...t,...jIn]))},plugins:[$Dn()],tools:[{name:(e==null?void 0:e.name)||"desk",title:(e==null?void 0:e.title)||"Desk",icon:(e==null?void 0:e.icon)||Nve,component:h.lazy(()=>k8(()=>import("./index-dd34e89c-74524486.js"),["static/index-dd34e89c-74524486.js","static/json-inspector-b32c6ec7.js"]).then(function(t){return t.index})),canHandleIntent:(t,n)=>!!(t==="edit"&&n.id||t==="create"&&n.type||t==="create"&&n.template),controlsDocumentTitle:!0,getIntentState:cSn,options:e,router:gSn}]}));function AIn(e){let{currentInspector:t,hasValue:n,inspectors:r,inspectorMenuItems:o}=e;return r.map((i,s)=>{var a;const l=o[s];return!l||l.hidden?null:{action:"".concat(X4).concat(i.name),group:l.showAsAction?void 0:"inspectors",icon:l.icon,isDisabled:!n,selected:(t==null?void 0:t.name)===i.name,shortcut:(a=l.hotkeys)==null?void 0:a.join("+"),showAsAction:l.showAsAction,title:l.title,tone:l.tone}}).filter(Boolean)}function DIn(e){let{hasValue:t}=e;return{action:"inspect",group:"inspectors",title:"Inspect",icon:v0,isDisabled:!t,shortcut:"Ctrl+Alt+I"}}function IIn(e){let{previewUrl:t}=e;return t?{action:"production-preview",group:"links",title:"Open preview",icon:$ve,shortcut:"Ctrl+Alt+O"}:null}function PIn(e){const t=AIn(e),n=[IIn(e)].filter(Boolean);return[...t,DIn(e),...n]}const OIn=e=>Ct(e)&&typeof e._id=="string"&&typeof e._type=="string";function $In(e){const[t,n]=h.useState(void 0),[r,o]=h.useState(null),{resolveProductionUrl:i}=ur().document,s=ltt(e);if(r)throw r;return h.useEffect(()=>{s.pipe(Vwe(500),tt(a=>OIn(a)?Cr(i({document:a})):be(void 0)),Xn(a=>{const l=Ct(a)&&typeof a.message=="string"?a.message:"Unknown error";throw new Error("An error was thrown while trying to get your preview url: ".concat(l))})).subscribe({next:n,error:o})},[i,s]),t}function RIn(e,t){const n=t.panePayload||{},r=t.templateName;t.urlTemplate&&r&&r!==t.urlTemplate&&console.warn('Conflicting templates: URL says "'.concat(t.urlTemplate,'", structure node says "').concat(r,'". Using "').concat(r,'".'));const o=r||t.urlTemplate,i=e.filter(l=>l.schemaType===t.documentType),s={...t.templateParams,...typeof n=="object"?n||{}:{}};let a=o;return!o&&i.length===1&&(a=i[0].id),{templateName:a,templateParams:s}}const MIn=h.memo(function(t){const{documentId:n,documentType:r,index:o,setMenuItem:i,useMenuItem:s}=t,a=Go(s({documentId:n,documentType:r}));return h.useEffect(()=>{i(o,a)},[o,a,i]),c.jsx(c.Fragment,{})});function FIn(e){const{documentId:t,documentType:n,inspectors:r,onMenuItems:o}=e,i=r.length,s=h.useRef(i),[a,l]=h.useState(()=>Array.from(new Array(i))),u=h.useRef(a);h.useEffect(()=>{if(s.current!==i){const f=Array.from(new Array(i));for(let p=0;p<i;p++)f[p]=u.current[p];s.current=i,l(()=>(u.current=f,f))}},[i]);const d=h.useCallback((f,p)=>{l(m=>{const v=[...m];return v[f]=p,u.current=v,v})},[]);return h.useEffect(()=>{o(a.filter(Boolean))},[a,o]),c.jsx(c.Fragment,{children:r.map((f,p)=>f.useMenuItem&&c.jsx(MIn,{documentId:t,documentType:n,index:p,setMenuItem:d,useMenuItem:f.useMenuItem},f.name))})}const LIn=h.memo(e=>{const{children:t,index:n,pane:r,paneKey:o}=e,i=dr(),s=mC(),{actions:a,badges:l,unstable_fieldActions:u,unstable_languageFilter:d,inspectors:f}=ur().document,p=WN(),m=tD(),v=m.setParams,{features:g}=S$e(),{push:b}=Ai(),{options:x,menuItemGroups:y=jSn,title:w=null,views:C=[]}=r,_=Go(x),S=_.id,E=Zn(S),j=x.type,k=Go(m.params)||kSn,T=Go(m.payload),{templateName:A,templateParams:D}=h.useMemo(()=>RIn(s,{documentType:j,templateName:_.template,templateParams:_.templateParameters,panePayload:T,urlTemplate:k.template}),[j,_,k,T,s]),I=_xn({documentId:E,documentType:j,templateName:A,templateParams:D}),P=Go(I),{patch:M}=Wc(E,j),$=$N(E,j),{validation:V}=RN(E,j),L=Ebn(E,j),H=i.get(j),U=($==null?void 0:$.draft)||($==null?void 0:$.published)||P.value,[z,Y]=h.useState(!1),[te,N]=h.useState([]),G=h.useMemo(()=>a({schemaType:j,documentId:E}),[a,E,j]),q=h.useMemo(()=>l({schemaType:j,documentId:E}),[l,E,j]),K=h.useMemo(()=>d({schemaType:j,documentId:E}),[E,j,d]),Q=Go(V),X=Go(C),[Z,oe]=h.useState(()=>k.path?Sf(k.path):[]),le=k.view||X[0]&&X[0].id||null,[he,ie]=h.useState("closed"),[ye,_e]=h.useState(null),Ae=Awn({documentId:E,documentType:j,onError:_e,rev:k.rev,since:k.since}),xe=Vi(Ae,He=>He.onOlderRevision),Ze=Vi(Ae,He=>He.revTime),rt=Vi(Ae,He=>He.sinceAttributes),at=Vi(Ae,He=>He.timelineDisplayed),nt=Vi(Ae,He=>He.timelineReady),Kt=Vi(Ae,He=>He.isPristine),Ye=h.useMemo(()=>nt?!($!=null&&$.draft)&&!($!=null&&$.published)&&!Kt:!1,[$==null?void 0:$.draft,$==null?void 0:$.published,Kt,nt]),me=$In(U),[Ue,qe]=h.useState([]);h.useEffect(()=>{const He=p.documentPresence(E).subscribe(Mn=>{qe(Mn)});return()=>{He.unsubscribe()}},[E,p]);const Ne=h.useMemo(()=>f({documentId:E,documentType:j}),[E,j,f]),[bt,Tt]=h.useState(()=>k.inspect||null),St=h.useRef(k.inspect);h.useEffect(()=>{St.current!==k.inspect&&(St.current=k.inspect,Tt(k.inspect||null))},[k.inspect]);const Zt=Ne==null?void 0:Ne.find(He=>He.name===bt),Oi=Ne.find(He=>He.name===Q4),is=(Zt==null?void 0:Zt.name)===Q4,Os=!!U,Ut=h.useMemo(()=>PIn({currentInspector:Zt,features:g,hasValue:Os,inspectorMenuItems:te,inspectors:Ne,previewUrl:me}),[Zt,g,Os,te,Ne,me]),Wr=k.inspect==="on",Hl=is?rt:($==null?void 0:$.published)||null,nl=h.useMemo(()=>H?u({documentId:E,documentType:j,schemaType:H}):[],[E,j,u,H]),si=L==="connected"&&$.ready&&(nt||!!ye),Rn=h.useMemo(()=>xe?at||{_id:U._id,_type:U._type}:U,[xe,at,U]),Mr=h.useCallback((He,Mn)=>{v({...k,since:He,rev:Mn||void 0})},[k,v]),eo=h.useCallback(He=>{oe(He),p.setLocation([{type:"document",documentId:E,path:He,lastActiveAt:new Date().toISOString()}])},[E,p,oe]),ze=h.useCallback(He=>{oe([])},[oe]),mt=h.useRef(()=>{throw new Error("Nope")});mt.current=He=>{M.execute(ECn(He.patches),P.value)};const Qn=h.useCallback(He=>mt.current(He),[]),vn=h.useCallback(He=>{var Mn,Tn,Do,vh;const Gc=He&&Ne.find(li=>li.name===He);if(He&&!Gc){console.warn('No inspector named "'.concat(He,'"'));return}if(Zt){if(Gc){const li=(Tn=(Mn=Gc.onClose)==null?void 0:Mn.call(Gc,{params:k}))!=null?Tn:{params:k};Tt(null),St.current=void 0,v({...li.params,inspect:void 0});return}if(Zt){const li=(vh=(Do=Zt.onClose)==null?void 0:Do.call(Zt,{params:k}))!=null?vh:{params:k};Tt(null),St.current=void 0,v({...li.params,inspect:void 0})}}},[Zt,Ne,k,v]),ai=h.useCallback((He,Mn)=>{var Tn,Do,vh,Gc;const li=Ne.find(xz=>xz.name===He);if(!li){console.warn('No inspector named "'.concat(He,'"'));return}if((Zt==null?void 0:Zt.name)===li.name){v({...k,...Mn,inspect:li.name});return}let w1=k;Zt&&(w1=((Do=(Tn=li.onClose)==null?void 0:Tn.call(li,{params:w1}))!=null?Do:{params:w1}).params);const eRe=(Gc=(vh=li.onOpen)==null?void 0:vh.call(li,{params:w1}))!=null?Gc:{params:w1};Tt(li.name),St.current=li.name,v({...eRe.params,...Mn,inspect:li.name})},[Zt,Ne,k,v]),go=h.useCallback(()=>{Oi&&vn(Oi.name)},[vn,Oi]),ss=h.useCallback(()=>{g.reviewChanges&&Oi&&ai(Oi.name)},[g.reviewChanges,ai,Oi]),$s=h.useCallback(()=>m.closeCurrent(),[m]),Ul=h.useCallback(()=>m.duplicateCurrent(),[m]),qc=h.useCallback(function(){let He=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!Wr;v(He?{...k,inspect:"on"}:ji(k,"inspect"))},[Wr,k,v]),zm=h.useCallback(He=>{if(He.action==="production-preview"&&me)return window.open(me),!0;if(He.action==="inspect")return qc(!0),!0;if(He.action==="reviewChanges")return ss(),!0;if(typeof He.action=="string"&&He.action.startsWith(X4)){const Mn=He.action.slice(X4.length),Tn=Ne.find(Do=>Do.name===Mn);if(Tn)return Tn.name===bt?vn(Tn.name):ai(Tn.name),!0}return!1},[vn,ss,bt,Ne,ai,me,qc]),mh=h.useCallback(He=>{for(const Mn of Ut)if(Mn.shortcut&&Fi(Mn.shortcut,He)){He.preventDefault(),He.stopPropagation(),zm(Mn);return}},[zm,Ut]),gh=h.useCallback(()=>qc(!1),[qc]),[b1,H$e]=h.useState([]),[U$e,hz]=h.useState(),[pz,mz]=h.useState(),[gz,vz]=h.useState(),W$e=h.useCallback((He,Mn)=>{mz(Tn=>Zh(Tn,He,Mn))},[]),Y$e=h.useCallback((He,Mn)=>{vz(Tn=>Zh(Tn,He,Mn))},[]),q$e=h.useCallback((He,Mn)=>hz(Tn=>Zh(Tn,He,Mn)),[]),G$e=U._createdAt?"update":"create",yz=!!(H!=null&&H.liveEdit),dD=U._id?U._id:"dummy-id",K$e=h.useMemo(()=>({...U,_id:yz?Zn(dD):ti(dD)}),[yz,U,dD]),[x1,fD]=Axn({document:K$e,permission:G$e}),bz=!(U!=null&&U._id),Z$e=h.useMemo(()=>{var He;const Mn=!fD&&!(x1!=null&&x1.granted),Tn=!VK(H,"update"),Do=bz&&!VK(H,"create"),vh=L==="reconnecting",Gc=(He=$.transactionSyncLock)==null?void 0:He.enabled;return!si||Ze!==null||Mn||Tn||Do||vh||Gc||z||Ye},[L,$.transactionSyncLock,bz,Ye,z,fD,x1==null?void 0:x1.granted,si,Ze,H]),hD=SCn(H,{value:Rn,readOnly:Z$e,comparisonValue:Hl,focusPath:Z,openPath:b1,collapsedPaths:pz,presence:Ue,validation:Q,collapsedFieldSets:gz,fieldGroupState:U$e,changesOpen:is}),kC=h.useRef(hD);kC.current=hD;const pD=h.useCallback(He=>{uCn(kC.current,He).forEach(Tn=>{Tn.type==="expandPath"&&mz(Do=>Zh(Do,Tn.path,!1)),Tn.type==="expandFieldSet"&&vz(Do=>Zh(Do,Tn.path,!1)),Tn.type==="setSelectedGroup"&&hz(Do=>Zh(Do,Tn.path,Tn.groupName))}),H$e(He)},[kC]),X$e={actions:G,activeViewId:le,badges:q,changesOpen:is,closeInspector:vn,collapsedFieldSets:gz,collapsedPaths:pz,compareValue:Hl,connectionState:L,displayed:Rn,documentId:E,documentIdRaw:S,documentType:j,editState:$,fieldActions:nl,focusPath:Z,inspector:Zt||null,inspectors:Ne,menuItems:Ut,onBlur:ze,onChange:Qn,onFocus:eo,onPathOpen:pD,onHistoryClose:go,onHistoryOpen:ss,onInspectClose:gh,onKeyUp:mh,onMenuAction:zm,onPaneClose:$s,onPaneSplit:Ul,onSetActiveFieldGroup:q$e,onSetCollapsedPath:W$e,onSetCollapsedFieldSet:Y$e,openInspector:ai,index:n,inspectOpen:Wr,validation:Q,menuItemGroups:y||[],paneKey:o,previewUrl:me,ready:si,schemaType:H,isPermissionsLoading:fD,permissions:x1,setTimelineMode:ie,setTimelineRange:Mr,setIsDeleting:Y,isDeleting:z,isDeleted:Ye,timelineError:ye,timelineMode:he,timelineStore:Ae,title:w,value:U,views:X,formState:hD,unstable_languageFilter:K};h.useEffect(()=>{L==="reconnecting"&&b({id:"sanity/desk/reconnecting",status:"warning",title:c.jsx(c.Fragment,{children:"Connection lost. Reconnecting…"})})},[L,b]),h.useEffect(()=>{var He;if(si&&k.path){const{path:Mn,...Tn}=k,Do=$Re((He=kC.current)==null?void 0:He.value,Sf(Mn));oe(Do),pD(Do),m.setParams(Tn)}},[k,E,pD,si,m]);const[Q$e,J$e]=h.useState([]);return c.jsxs(t3e.Provider,{value:X$e,children:[Ne.length>0&&c.jsx(FIn,{documentId:E,documentType:j,inspectors:Ne,onMenuItems:N}),nl.length>0&&H&&c.jsx(rC,{actions:nl,documentId:E,documentType:j,onActions:J$e,path:Vn,schemaType:H}),c.jsx(aC,{actions:Q$e,path:Vn,children:c.jsx(mDn,{documentId:E,documentType:j,children:t})})]})});LIn.displayName="DocumentPaneProvider";var BIn=Object.defineProperty,NIn=(e,t,n)=>t in e?BIn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_ge=(e,t,n)=>(NIn(e,typeof t!="symbol"?t+"":t,n),n);class nn extends Error{constructor(t,n,r,o){super(t),_ge(this,"path"),_ge(this,"helpId");const i=typeof r>"u"?"<unknown>":"".concat(r);this.path=(n||[]).concat(o?"".concat(i," (").concat(o,")"):i)}withHelpUrl(t){return this.helpId=t,this}}var Pn=(e=>(e.ID_REQUIRED="structure-node-id-required",e.TITLE_REQUIRED="structure-title-required",e.FILTER_REQUIRED="structure-filter-required",e.INVALID_LIST_ITEM="structure-invalid-list-item",e.COMPONENT_REQUIRED="structure-view-component-required",e.DOCUMENT_ID_REQUIRED="structure-document-id-required",e.DOCUMENT_TYPE_REQUIRED="structure-document-type-required",e.SCHEMA_TYPE_REQUIRED="structure-schema-type-required",e.SCHEMA_TYPE_NOT_FOUND="structure-schema-type-not-found",e.LIST_ITEMS_MUST_BE_ARRAY="structure-list-items-must-be-array",e.QUERY_PROVIDED_FOR_FILTER="structure-query-provided-for-filter",e.ACTION_OR_INTENT_REQUIRED="structure-action-or-intent-required",e.LIST_ITEM_IDS_MUST_BE_UNIQUE="structure-list-item-ids-must-be-unique",e.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE="structure-action-and-intent-mutually-exclusive",e.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER="structure-api-version-required-for-custom-filter",e))(Pn||{});const zIn=["_id","_type","_createdAt","_updatedAt","_rev"];function fF(e,t){const[n,...r]=t;if(!("fields"in e))return"";const o=e.fields.find(a=>a.name===n);if(!o)return zIn.includes(n)||console.warn('The current ordering config targeted the nonexistent field "%s" on schema type "%s". It should be one of %o',n,e.name,e.fields.map(a=>a.name)),"";if("to"in o.type&&o.type.name==="reference"){const a=o.type.to;return"".concat(n,"->{").concat(a.map(l=>fF(l,r)).join(","),"}")}const i=r.length>0&&fF(o.type,r),s=i?"{".concat(i,"}"):"";return r.length>0?"".concat(n).concat(s):n}function VIn(e,t){return t.map(n=>fF(e,n.field.split("."))).join(", ")}const j$e={title:"Last edited",name:"lastEditedDesc",by:[{field:"_updatedAt",direction:"desc"}]},HIn={title:"Created",name:"lastCreatedDesc",by:[{field:"_createdAt",direction:"desc"}]},UIn=j$e,Sge=[j$e,HIn];var WIn=Object.defineProperty,YIn=(e,t,n)=>t in e?WIn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qIn=(e,t,n)=>(YIn(e,typeof t!="symbol"?t+"":t,n),n);function T$e(e,t,n){return e instanceof Yf?e.serialize({path:n,index:t}):e}class Yf{constructor(t,n){this._context=t,qIn(this,"spec"),this.spec=n||{}}action(t){return this.clone({action:t})}getAction(){return this.spec.action}intent(t){return this.clone({intent:t})}getIntent(){return this.spec.intent}title(t){return this.clone({title:t})}getTitle(){return this.spec.title}group(t){return this.clone({group:t})}getGroup(){return this.spec.group}icon(t){return this.clone({icon:t})}getIcon(){return this.spec.icon}params(t){return this.clone({params:t})}getParams(){return this.spec.params}showAsAction(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({showAsAction:!!t})}getShowAsAction(){return this.spec.showAsAction}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{title:n,action:r,intent:o}=this.spec;if(!n){const i=typeof r=="string"?'action: "'.concat(r,'"'):void 0;throw new nn("`title` is required for menu item",t.path,t.index,i).withHelpUrl(Pn.TITLE_REQUIRED)}if(!r&&!o)throw new nn("`action` or `intent` required for menu item with title ".concat(this.spec.title),t.path,t.index,'"'.concat(n,'"')).withHelpUrl(Pn.ACTION_OR_INTENT_REQUIRED);if(o&&r)throw new nn("cannot set both `action` AND `intent`",t.path,t.index,'"'.concat(n,'"')).withHelpUrl(Pn.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE);return{...this.spec,title:n}}clone(t){const n=new Yf(this._context);return n.spec={...this.spec,...t||{}},n}}function A$e(e,t,n){return new Yf(e).group("sorting").title("Sort by ".concat(t.title)).icon(VF).action("setSortOrder").params({by:t.by,extendedProjection:n})}function D$e(e,t){const{schema:n}=e,r=typeof t=="string"?n.get(t):t;return!r||!("orderings"in r)?[]:(r.orderings?r.orderings.concat(Sge):Sge).map(o=>A$e(e,o,VIn(r,o.by)))}var GIn=Object.defineProperty,KIn=(e,t,n)=>t in e?GIn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ege=(e,t,n)=>(KIn(e,typeof t!="symbol"?t+"":t,n),n);function I$e(e,t,n){return e instanceof Xx?e.serialize({path:n,index:t}):e}class Xx{constructor(t,n){this._context=t,Ege(this,"_id"),Ege(this,"_title"),this._id=n?n.id:"",this._title=n?n.title:""}id(t){return new Xx(this._context,{id:t,title:this._title})}getId(){return this._id}title(t){return new Xx(this._context,{id:this._id,title:t})}getTitle(){return this._title}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{_id:n,_title:r}=this;if(!n)throw new nn("`id` is required for a menu item group",t.path,t.index,r).withHelpUrl(Pn.ID_REQUIRED);if(!r)throw new nn("`title` is required for a menu item group",t.path,n).withHelpUrl(Pn.TITLE_REQUIRED);return{id:n,title:r}}}const P$e=/([^A-Za-z0-9-_.])/;function SC(e,t,n){if(typeof e!="string")throw new nn("Structure node id must be of type string, got ".concat(typeof e),t,n);const[r]=e.match(P$e)||[];if(r)throw new nn('Structure node id cannot contain character "'.concat(r,'"'),t,n);if(e.startsWith("__edit__"))throw new nn("Structure node id cannot start with __edit__",t,n);return e}function aD(e,t){if(t)return t;const n=dhe(e);return P$e.test(n)?dhe(rje(e)):n}var ZIn=Object.defineProperty,XIn=(e,t,n)=>t in e?ZIn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QIn=(e,t,n)=>(XIn(e,typeof t!="symbol"?t+"":t,n),n);class Qx{constructor(t){QIn(this,"spec"),this.spec={options:{},...t||{}}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:aD(t,this.spec.id)})}getTitle(){return this.spec.title}child(t){return this.clone({child:t})}getChild(){return this.spec.child}component(t){return this.clone({component:t})}getComponent(){return this.spec.component}options(t){return this.clone({options:t})}getOptions(){return this.spec.options||{}}menuItems(t){return this.clone({menuItems:t})}getMenuItems(){return this.spec.menuItems}menuItemGroups(t){return this.clone({menuItemGroups:t})}getMenuItemGroups(){return this.spec.menuItemGroups}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,child:o,options:i,component:s}=this.spec;if(!n)throw new nn("`id` is required for `component` structure item",t.path,t.index).withHelpUrl(Pn.ID_REQUIRED);if(!s)throw new nn("`component` is required for `component` structure item",t.path,t.index).withHelpUrl(Pn.ID_REQUIRED);return{id:SC(n,t.path,t.index),title:r,type:"component",child:o,component:s,options:i||{},menuItems:(this.spec.menuItems||[]).map((a,l)=>T$e(a,l,t.path)),menuItemGroups:(this.spec.menuItemGroups||[]).map((a,l)=>I$e(a,l,t.path))}}clone(t){const n=new Qx;return n.spec={...this.spec,...t||{}},n}}async function O$e(e,t){const n="*[_id in [$documentId, $draftId]]._type",r=Zn(t),o=ti(t);return(await e(gn).fetch(n,{documentId:r,draftId:o},{tag:"structure.resolve-type"}))[0]}var JIn=Object.defineProperty,ePn=(e,t,n)=>t in e?JIn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tPn=(e,t,n)=>(ePn(e,typeof t!="symbol"?t+"":t,n),n);class cz{constructor(){tPn(this,"spec",{})}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:this.spec.id||W_n(t)})}getTitle(){return this.spec.title}icon(t){return this.clone({icon:t})}getIcon(){return this.spec.icon}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,icon:o}=this.spec;if(!n)throw new nn("`id` is required for view item",t.path,t.index).withHelpUrl(Pn.ID_REQUIRED);if(!r)throw new nn("`title` is required for view item",t.path,t.index).withHelpUrl(Pn.TITLE_REQUIRED);return{id:SC(n,t.path,t.index),title:r,icon:o}}}function nPn(e){return typeof e.serialize=="function"}function $$e(e,t,n){return nPn(e)?e.serialize({path:n,index:t}):e}var rPn=Object.defineProperty,oPn=(e,t,n)=>t in e?rPn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iPn=(e,t,n)=>(oPn(e,typeof t!="symbol"?t+"":t,n),n);const sPn=e=>Ct(e)&&e.type==="component";class lD extends cz{constructor(t){const n=sPn(t)?{...t}:{options:{}};super(),iPn(this,"spec"),this.spec=n;const r=typeof t=="function"?t:this.spec.component;r&&(this.spec=this.component(r).spec)}component(t){return this.clone({component:t})}getComponent(){return this.spec.component}options(t){return this.clone({options:t})}getOptions(){return this.spec.options||{}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=super.serialize(t),r=this.spec.component;if(typeof r!="function")throw new nn("`component` is required and must be a function for `component()` view item",t.path,t.index).withHelpUrl(Pn.COMPONENT_REQUIRED);return{...n,component:r,options:this.spec.options||{},type:"component"}}clone(t){const n=new lD;return n.spec={...this.spec,...t||{}},n}}var aPn=Object.defineProperty,lPn=(e,t,n)=>t in e?aPn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cPn=(e,t,n)=>(lPn(e,typeof t!="symbol"?t+"":t,n),n);class cD extends cz{constructor(t){super(),cPn(this,"spec"),this.spec={id:"editor",title:"Editor",...t||{}}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};return{...super.serialize(t),type:"form"}}clone(t){const n=new cD;return n.spec={...this.spec,...t||{}},n}}const R$e=e=>new cD(e),uPn=e=>new lD(e);var dPn=Object.freeze({__proto__:null,ComponentViewBuilder:lD,FormViewBuilder:cD,GenericViewBuilder:cz,component:uPn,form:R$e,maybeSerializeView:$$e}),fPn=Object.defineProperty,hPn=(e,t,n)=>t in e?fPn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pPn=(e,t,n)=>(hPn(e,typeof t!="symbol"?t+"":t,n),n);const mPn=e=>{let{resolveDocumentNode:t,getClient:n}=e;return async(r,o)=>{let{params:i,path:s}=o,a=i.type;const l=s.slice(0,s.length-1),u=s[s.length-1];if(a||(a=await O$e(n,r)),!a)throw new nn("Failed to resolve document, and no type provided in parameters.",l,u);return t({documentId:r,schemaType:a})}};class qf{constructor(t,n){this._context=t,pPn(this,"spec"),this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:aD(t,this.spec.id)})}getTitle(){return this.spec.title}child(t){return this.clone({child:t})}getChild(){return this.spec.child}documentId(t){const n=this.spec.id||t;return this.clone({id:n,options:{...this.spec.options||{},id:t}})}getDocumentId(){var t;return(t=this.spec.options)==null?void 0:t.id}schemaType(t){return this.clone({options:{...this.spec.options||{},type:typeof t=="string"?t:t.name}})}getSchemaType(){var t;return(t=this.spec.options)==null?void 0:t.type}initialValueTemplate(t,n){return this.clone({options:{...this.spec.options||{},template:t,templateParameters:n}})}getInitialValueTemplate(){var t;return(t=this.spec.options)==null?void 0:t.template}getInitialValueTemplateParameters(){var t;return(t=this.spec.options)==null?void 0:t.templateParameters}views(t){return this.clone({views:t})}getViews(){return this.spec.views||[]}serialize(){let{path:t=[],index:n,hint:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const o=t[n||t.length-1],i=this.spec.id||o&&"".concat(o)||"",s={id:i,type:void 0,template:void 0,templateParameters:void 0,...this.spec.options};if(typeof i!="string"||!i)throw new nn("`id` is required for document nodes",t,n,r).withHelpUrl(Pn.ID_REQUIRED);if(!s||!s.id)throw new nn("document id (`id`) is required for document nodes",t,i,r).withHelpUrl(Pn.DOCUMENT_ID_REQUIRED);if(!s||!s.type)throw new nn("document type (`schemaType`) is required for document nodes",t,i,r);const a=(this.spec.views&&this.spec.views.length>0?this.spec.views:[R$e()]).map((d,f)=>$$e(d,f,t)),l=a.map(d=>d.id),u=uo(l.filter((d,f)=>l.includes(d,f+1)));if(u.length>0)throw new nn("document node has views with duplicate IDs: ".concat(u.join(",  ")),t,i,r);return{...this.spec,child:this.spec.child||mPn(this._context),id:SC(i,t,n),type:"document",options:gPn(s),views:a}}clone(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new qf(this._context),r={...this.spec.options||{},...t.options||{}};return n.spec={...this.spec,...t,options:r},n}}function gPn(e){const t={id:e.id||"",type:e.type||"*"};return e.template&&(t.template=e.template),e.templateParameters&&(t.templateParameters=e.templateParameters),t}function vPn(e,t){let n=t!=null&&t.type?e.resolveDocumentNode({schemaType:t.type}):new qf(e);if(!t)return n;const{id:r,type:o,template:i,templateParameters:s}=t.options;return n=n.id(t.id).documentId(r),o&&(n=n.schemaType(o)),i&&(n=n.initialValueTemplate(i,s)),t.child&&(n=n.child(t.child)),n}function yPn(e,t,n){let{resolveDocumentNode:r,templates:o}=e;const i=o.find(s=>s.id===t);if(!i)throw new Error('Template with ID "'.concat(t,'" not defined'));return r({schemaType:i.schemaType}).initialValueTemplate(t,n)}const kge=["default","card","media","detail","block"],M$e=Symbol("Document type list canHandleIntent"),uz=(e,t,n)=>{let{pane:r}=n;var o,i;const s=e==="edit",a=e==="create",l=r,u=((o=l.options)==null?void 0:o.filter)||"",d=((i=l.options)==null?void 0:i.params)||{},f=l.schemaTypeName?[l.schemaTypeName]:dz(u,d),p=l.initialValueTemplates||[];return a&&t.template?p.some(m=>m.templateId===t.template):s&&t.id&&f.includes(t.type)||a&&f.includes(t.type)};uz.identity=M$e;var bPn=Object.defineProperty,xPn=(e,t,n)=>t in e?bPn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wPn=(e,t,n)=>(xPn(e,typeof t!="symbol"?t+"":t,n),n);class uD{constructor(t,n){this._context=t,wPn(this,"spec"),this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t})}getTitle(){return this.spec.title}description(t){return this.clone({description:t})}getDescription(){return this.spec.description}templateId(t){const n=this.spec.id||t;return this.clone({id:n,templateId:t})}getTemplateId(){return this.spec.templateId}parameters(t){return this.clone({parameters:t})}getParameters(){return this.spec.parameters}serialize(){let{path:t=[],index:n,hint:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{spec:o,_context:i}=this,{templates:s}=i;if(typeof o.id!="string"||!o.id)throw new nn("`id` is required for initial value template item nodes",t,n,r).withHelpUrl(Pn.ID_REQUIRED);if(!o.templateId)throw new nn("template id (`templateId`) is required for initial value template item nodes",t,o.id,r).withHelpUrl(Pn.ID_REQUIRED);const a=s.find(l=>l.id===o.templateId);if(!a)throw new nn("template id (`templateId`) is required for initial value template item nodes",t,o.id,r).withHelpUrl(Pn.ID_REQUIRED);return{id:o.id,templateId:o.id,schemaType:a.schemaType,type:"initialValueTemplateItem",description:o.description||a.description,title:o.title||a.title,subtitle:o.subtitle,icon:o.icon||a.icon,initialDocumentId:o.initialDocumentId,parameters:o.parameters}}clone(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new uD(this._context);return n.spec={...this.spec,...t},n}}function CPn(e){const{schema:t,getStructureBuilder:n,templates:r}=e,o=t.getTypeNames();return r.filter(s=>{var a;return!((a=s.parameters)!=null&&a.length)}).sort((s,a)=>o.indexOf(s.schemaType)-o.indexOf(a.schemaType)).map(s=>n().initialValueTemplateItem(s.id))}function _Pn(e,t,n){return e instanceof uD?e.serialize({path:n,index:t}):e}function SPn(e,t){const{schema:n,templates:r}=e;return t.map(o=>{const i=r.find(d=>d.id===o.templateId),s=o.title||(i==null?void 0:i.title)||"Create new",a=Kbt({type:i&&i.schemaType,template:o.templateId},Boolean),l=o.parameters?[a,o.parameters]:a,u=i&&n.get(i.schemaType);return new Yf(e).title(s).icon(i&&i.icon||(u==null?void 0:u.icon)||xp).intent({type:"create",params:l}).serialize()})}var EPn=Object.defineProperty,kPn=(e,t,n)=>t in e?EPn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jge=(e,t,n)=>(kPn(e,typeof t!="symbol"?t+"":t,n),n);function jPn(){}const F$e=(e,t,n)=>{let{pane:r,index:o}=n;return o<=1&&uz(e,t,{pane:r,index:o})};class L$e{constructor(){jge(this,"initialValueTemplatesSpecified",!1),jge(this,"spec",{})}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:aD(t,this.spec.id)})}getTitle(){return this.spec.title}defaultLayout(t){return this.clone({defaultLayout:t})}getDefaultLayout(){return this.spec.defaultLayout}menuItems(t){return this.clone({menuItems:t})}getMenuItems(){return this.spec.menuItems}menuItemGroups(t){return this.clone({menuItemGroups:t})}getMenuItemGroups(){return this.spec.menuItemGroups}child(t){return this.clone({child:t})}getChild(){return this.spec.child}canHandleIntent(t){return this.clone({canHandleIntent:t})}getCanHandleIntent(){return this.spec.canHandleIntent}showIcons(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcons:t}})}getShowIcons(){return this.spec.displayOptions?this.spec.displayOptions.showIcons:void 0}initialValueTemplates(t){return this.initialValueTemplatesSpecified=!0,this.clone({initialValueTemplates:Array.isArray(t)?t:[t]})}getInitialValueTemplates(){return this.spec.initialValueTemplates}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=this.spec.id||"",r=t.path,o=this.spec.defaultLayout;if(o&&!kge.includes(o))throw new nn("`layout` must be one of ".concat(kge.map(s=>'"'.concat(s,'"')).join(", ")),r,n||t.index,this.spec.title);const i=(this.spec.initialValueTemplates||[]).map((s,a)=>_Pn(s,a,r));return{id:SC(n,t.path,n||t.index),title:this.spec.title,type:"genericList",defaultLayout:o,child:this.spec.child||jPn,canHandleIntent:this.spec.canHandleIntent||F$e,displayOptions:this.spec.displayOptions,initialValueTemplates:i,menuItems:(this.spec.menuItems||[]).map((s,a)=>T$e(s,a,r)),menuItemGroups:(this.spec.menuItemGroups||[]).map((s,a)=>I$e(s,a,r))}}}var TPn=Object.defineProperty,APn=(e,t,n)=>t in e?TPn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DPn=(e,t,n)=>(APn(e,typeof t!="symbol"?t+"":t,n),n);const IPn=(e,t)=>{var n;const r=((n=e.options)==null?void 0:n.filter.trim())||"";if(["*","{"].includes(r[0]))throw new nn("`filter` cannot start with `".concat(r[0],"` - looks like you are providing a query, not a filter"),t.path,e.id,e.title).withHelpUrl(Pn.QUERY_PROVIDED_FOR_FILTER);return r},PPn=e=>(t,n)=>{var r;const o=n.parent,i=(r=n.params)!=null&&r.template?e.templates.find(a=>a.id===n.params.template):void 0,s=i?i.schemaType:o.schemaTypeName||O$e(e.getClient,t);return Promise.resolve(s).then(a=>a?e.resolveDocumentNode({schemaType:a,documentId:t}):new qf(e).id("editor").documentId(t).schemaType(""))};class EC extends L$e{constructor(t,n){super(),this._context=t,DPn(this,"spec"),this.spec=n||{},this.initialValueTemplatesSpecified=!!(n!=null&&n.initialValueTemplates)}apiVersion(t){return this.clone({options:{...this.spec.options||{filter:""},apiVersion:t}})}getApiVersion(){var t;return(t=this.spec.options)==null?void 0:t.apiVersion}filter(t){return this.clone({options:{...this.spec.options||{},filter:t}})}getFilter(){var t;return(t=this.spec.options)==null?void 0:t.filter}schemaType(t){const n=typeof t=="string"?t:t.name;return this.clone({schemaTypeName:n})}getSchemaType(){return this.spec.schemaTypeName}params(t){return this.clone({options:{...this.spec.options||{filter:""},params:t}})}getParams(){var t;return(t=this.spec.options)==null?void 0:t.params}defaultOrdering(t){if(!Array.isArray(t))throw new Error("`defaultOrdering` must be an array of order clauses");return this.clone({options:{...this.spec.options||{filter:""},defaultOrdering:t}})}getDefaultOrdering(){var t;return(t=this.spec.options)==null?void 0:t.defaultOrdering}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};var n;if(typeof this.spec.id!="string"||!this.spec.id)throw new nn("`id` is required for document lists",t.path,t.index,this.spec.title).withHelpUrl(Pn.ID_REQUIRED);if(!this.spec.options||!this.spec.options.filter)throw new nn("`filter` is required for document lists",t.path,this.spec.id,this.spec.title).withHelpUrl(Pn.FILTER_REQUIRED);return!(((n=this.spec.options)==null?void 0:n.filter)==="_type == $type")&&this.spec.options.filter&&!this.spec.options.apiVersion&&console.warn("No apiVersion specified for document type list with custom filter: `".concat(this.spec.options.filter,"`. This will be required in the future. See %s for more info."),mSe(Pn.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER)),{...super.serialize(t),type:"documentList",schemaTypeName:this.spec.schemaTypeName,child:this.spec.child||PPn(this._context),options:{...this.spec.options,apiVersion:this.spec.options.apiVersion||gn.apiVersion,filter:IPn(this.spec,t)}}}clone(t){const n=new EC(this._context);return n.spec={...this.spec,...t||{}},this.initialValueTemplatesSpecified||(n.spec.initialValueTemplates=OPn(this._context,n.spec)),n.spec.schemaTypeName||(n.spec.schemaTypeName=$Pn(n.spec)),n}getSpec(){return this.spec}}function OPn(e,t){const{document:n}=e,{schemaTypeName:r,options:o}=t,{filter:i,params:s}=o||{filter:"",params:{}},a=r?[r]:Array.from(new Set(dz(i,s)));if(a.length!==0)return a.flatMap(l=>n.resolveNewDocumentOptions({type:"structure",schemaType:l})).map(l=>({...l,icon:xp}))}function $Pn(e){const{options:t}=e,{filter:n,params:r}=t||{filter:"",params:{}},o=dz(n,r);return o.length===1?o[0]:void 0}function dz(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=RPn(e,t);return n.length===0&&(n=MPn(e,t)),n}function RPn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=/\b_type\s*==\s*(['"].*?['"]|\$.*?(?:\s|$))|\B(['"].*?['"]|\$.*?(?:\s|$))\s*==\s*_type/g,r=[];let o;for(;(o=n.exec(e))!==null;)r.push(o[1]||o[2]);return r.map(i=>((i[0]==="$"?t[i.slice(1)]:i)||"").trim().replace(/^["']|["']$/g,"")).filter(Boolean)}function MPn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=/\b_type\s+in\s+\[(.*?)\]/,r=e.match(n);return r?r[1].split(/,\s*/).map(o=>o.trim().replace(/^["']+|["']+$/g,"")).map(o=>o[0]==="$"?t[o.slice(1)]:o).filter(Boolean):[]}var FPn=Object.defineProperty,LPn=(e,t,n)=>t in e?FPn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BPn=(e,t,n)=>(LPn(e,typeof t!="symbol"?t+"":t,n),n);const NPn=e=>e instanceof v1?"ListBuilder":WPn(e)?"Promise":Array.isArray(e)?"array":typeof e,zPn=e=>e.type==="listItem",VPn=(e,t,n)=>(n.pane.items||[]).filter(JPn).some(i=>i.schemaType.name===t.type&&i._id===t.id)||F$e(e,t,n),HPn=(e,t)=>{const o=(t.parent.items.filter(zPn).find(i=>i.id===e)||{child:void 0}).child;return!o||typeof o!="function"?o:typeof o=="function"?o(e,t):o};function UPn(e,t,n){if(e instanceof y1)return e.serialize({path:n,index:t});const r=e;if(r&&r.type==="divider")return e;if(!r||r.type!=="listItem"){const o=r&&r.type||NPn(r),i=o==="array"?" - did you forget to spread (...moreItems)?":"";throw new nn('List items must be of type "listItem", got "'.concat(o,'"').concat(i),n,t).withHelpUrl(Pn.INVALID_LIST_ITEM)}return e}function WPn(e){return Ct(e)&&typeof e.then=="function"}class v1 extends L$e{constructor(t,n){super(),this._context=t,BPn(this,"spec"),this.spec=n||{},this.initialValueTemplatesSpecified=!!(n&&n.initialValueTemplates)}items(t){return this.clone({items:t})}getItems(){return this.spec.items}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=this.spec.id;if(typeof n!="string"||!n)throw new nn("`id` is required for lists",t.path,t.index).withHelpUrl(Pn.ID_REQUIRED);const r=typeof this.spec.items>"u"?[]:this.spec.items;if(!Array.isArray(r))throw new nn("`items` must be an array of items",t.path,t.index).withHelpUrl(Pn.LIST_ITEMS_MUST_BE_ARRAY);const o=(t.path||[]).concat(n),i=r.map((a,l)=>UPn(a,l,o)),s=i.filter((a,l)=>tje(i,{id:a.id},l+1));if(s.length>0){const a=s.map(u=>u.id).slice(0,5),l=s.length>5?"".concat(a.join(", "),"..."):a.join(", ");throw new nn("List items with same ID found (".concat(l,")"),t.path,t.index).withHelpUrl(Pn.LIST_ITEM_IDS_MUST_BE_UNIQUE)}return{...super.serialize(t),type:"list",canHandleIntent:this.spec.canHandleIntent||VPn,child:this.spec.child||HPn,items:i}}clone(t){const n=new v1(this._context);return n.spec={...this.spec,...t||{}},n}}var YPn=Object.defineProperty,qPn=(e,t,n)=>t in e?YPn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GPn=(e,t,n)=>(qPn(e,typeof t!="symbol"?t+"":t,n),n);class y1{constructor(t,n){this._context=t,GPn(this,"spec"),this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:aD(t,this.spec.id)})}getTitle(){return this.spec.title}icon(t){return this.clone({icon:t})}showIcon(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcon:t}})}getShowIcon(){return this.spec.displayOptions?this.spec.displayOptions.showIcon:void 0}getIcon(){return this.spec.icon}child(t){return this.clone({child:t})}getChild(){return this.spec.child}schemaType(t){return this.clone({schemaType:t})}getSchemaType(){const t=this.spec.schemaType;return typeof t=="string"?this._context.schema.get(t):this.spec.schemaType}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,child:o}=this.spec;if(typeof n!="string"||!n)throw new nn("`id` is required for list items",t.path,t.index).withHelpUrl(Pn.ID_REQUIRED);if(!t.titleIsOptional&&(typeof r!="string"||!r))throw new nn("`title` is required for list items",t.path,n).withHelpUrl(Pn.TITLE_REQUIRED);let i=this.spec.schemaType;if(typeof i=="string"){const l=this._context.schema.get(i);if(!l)throw new nn('Could not find type "'.concat(i,'" in schema'),t.path,n).withHelpUrl(Pn.SCHEMA_TYPE_NOT_FOUND);i=l}const s={path:t.path.concat(n),hint:"child"};let a=o instanceof Qx||o instanceof EC||o instanceof qf||o instanceof v1?o.serialize(s):o;if(typeof a=="function"){const l=a;a=(u,d)=>l(u,{...d,serializeOptions:s})}return{...this.spec,id:SC(n,t.path,t.index),schemaType:i,child:a,title:r,type:"listItem"}}clone(t){const n=new y1(this._context);return n.spec={...this.spec,...t||{}},n}}var KPn=Object.defineProperty,ZPn=(e,t,n)=>t in e?KPn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,XPn=(e,t,n)=>(ZPn(e,typeof t!="symbol"?t+"":t,n),n);const QPn=(e,t)=>n=>{const r=t.schemaType&&(typeof t.schemaType=="string"?t.schemaType:t.schemaType.name);return r?e.resolveDocumentNode({schemaType:r,documentId:n}):new qf(e).id("documentEditor").documentId(n)};class fz extends y1{constructor(t,n){super(t,n),this._context=t,XPn(this,"spec"),this.spec=n||{}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=super.serialize({...t,titleIsOptional:!0});if(!n.schemaType)throw new nn("`schemaType` is required for document list items",t.path,t.index).withHelpUrl(Pn.SCHEMA_TYPE_REQUIRED);const r=n.child||QPn(this._context,n);return{...n,child:r,schemaType:n.schemaType,_id:n.id}}clone(t){const n=new fz(this._context);return n.spec={...this.spec,...t||{}},n}}function JPn(e){return Ct(e)&&typeof e.schemaType<"u"&&typeof e._id=="string"}var eOn=Object.defineProperty,tOn=(e,t,n)=>t in e?eOn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nOn=(e,t,n)=>(tOn(e,typeof t!="symbol"?t+"":t,n),n);class Fk extends EC{constructor(t,n){super(t),this._context=t,nOn(this,"spec"),this.spec=n||{}}child(t){return this.cloneWithoutDefaultIntentHandler({child:t})}clone(t){const n=super.clone(t),r=new Fk(this._context);return r.spec={...this.spec,...n.getSpec(),...t||{}},r}cloneWithoutDefaultIntentHandler(t){const n=super.clone(t),r=new Fk(this._context),o=this.spec.canHandleIntent,s=o&&o.identity===M$e?{canHandleIntent:void 0}:{};return r.spec={...n.getSpec(),...this.spec,...t||{},...s},r}}function rOn(e){const t=e.preview;return!!(t&&(t.prepare||t.select&&t.select.media))}const oOn=["sanity.imageAsset","sanity.fileAsset"];function iOn(e){return oOn.includes(e)}function sOn(e){var t;return((t=e.type)==null?void 0:t.name)==="document"}function aOn(e){return e.type==="list"}function lOn(e){let{schema:t}=e;return t.getTypeNames().filter(n=>{const r=t.get(n);return r&&sOn(r)}).filter(n=>!iOn(n))}function B$e(e){return lOn(e).map(n=>N$e(e,n))}function N$e(e,t){const{schema:n}=e,r=n.get(t);if(!r)throw new Error('Schema type with name "'.concat(t,'" not found'));const o=r.title||an(t);return new y1(e).id(t).title(o).schemaType(r).child((i,s)=>{const a=s.parent,l=aOn(a)?a.items.find(d=>d.id===i):null;let u=z$e(e,t);return l&&l.title&&(u=u.title(l.title)),u})}function z$e(e,t){const{schema:n,resolveDocumentNode:r}=e,o=typeof t=="string"?t:t.schemaType,i=typeof o=="string"?o:o.name,s=typeof t=="string"?{schemaType:o}:t,a=n.get(i);if(!a)throw new Error('Schema type with name "'.concat(i,'" not found'));const l=a.title||an(i),u=rOn(a);return new Fk(e).id(s.id||i).title(s.title||l).filter("_type == $type").params({type:i}).schemaType(a).showIcons(u).defaultOrdering(UIn.by).menuItemGroups(s.menuItemGroups||[{id:"sorting",title:"Sort"},{id:"layout",title:"Layout"},{id:"actions",title:"Actions"}]).child(s.child||(d=>r({schemaType:i,documentId:d}))).canHandleIntent(s.canHandleIntent||uz).menuItems(s.menuItems||[...D$e(e,a),new Yf(e).group("layout").title("Compact view").icon(Wve).action("setLayout").params({layout:"default"}),new Yf(e).group("layout").title("Detailed view").icon(Yve).action("setLayout").params({layout:"detail"})])}function cOn(e){return!e||typeof e=="string"?!1:!!e.icon}function uOn(e){const t=B$e(e);return new v1(e).id("__root__").title("Content").items(t).showIcons(t.some(n=>cOn(n.getSchemaType())))}function dOn(e){let{defaultDocumentNode:t,source:n}=e;const r=pgn(n),o={...n,getStructureBuilder:()=>i,resolveDocumentNode:s=>{let a=(t==null?void 0:t(i,{...s,...r}))||new qf(o);return a.getId()||(a=a.id("documentEditor")),s.documentId&&(a=a.documentId(Zn(s.documentId))),a.schemaType(s.schemaType)}},i={defaults:()=>uOn(o),documentTypeList:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return z$e(o,...a)},documentTypeListItem:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return N$e(o,...a)},documentTypeListItems:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return B$e(o,...a)},document:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return new qf(o,...a)},documentWithInitialValueTemplate:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return yPn(o,...a)},defaultDocument:o.resolveDocumentNode,list:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return new v1(o,...a)},listItem:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return new y1(o,...a)},menuItem:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return new Yf(o,...a)},menuItemGroup:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return new Xx(o,...a)},menuItemsFromInitialValueTemplateItems:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return SPn(o,...a)},documentList:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return new EC(o,...a)},documentListItem:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return new fz(o,...a)},orderingMenuItem:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return A$e(o,...a)},orderingMenuItemsForType:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return D$e(o,...a)},editor:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return vPn(o,...a)},defaultInitialValueTemplateItems:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return CPn(o,...a)},initialValueTemplateItem:(s,a)=>new uD(o,{id:s,parameters:a,templateId:s}),component:s=>$r.isValidElementType(s)?new Qx().component(s):new Qx(s),divider:()=>({id:PSe("__divider__"),type:"divider"}),view:dPn,context:o};return i}function l3n(e){let{defaultDocumentNode:t,structure:n,children:r}=e;const[o,i]=h.useState(!1),s=ur(),a=hgn(s),l=Vl(),u=h.useMemo(()=>dOn({defaultDocumentNode:t,source:s}),[t,s]),d=h.useMemo(()=>n?n(u,{...a,documentStore:l}):u.defaults(),[u,n,a,l]),f=h.useMemo(()=>({backButton:o,resizablePanes:!o,reviewChanges:!o,splitPanes:!o,splitViews:!o}),[o]),p=h.useMemo(()=>({features:f,layoutCollapsed:o,setLayoutCollapsed:i,rootPaneNode:d,structureContext:u.context}),[f,o,d,u.context]);return c.jsx(_$e.Provider,{value:p,children:r})}const fOn={}.NEXT_PUBLIC_SANITY_API_VERSION||"2023-11-07",hOn=V$e("production","Missing environment variable: NEXT_PUBLIC_SANITY_DATASET"),pOn=V$e("5fflnaq2","Missing environment variable: NEXT_PUBLIC_SANITY_PROJECT_ID");function V$e(e,t){if(e===void 0)throw new Error(t);return e}const mOn=f0({title:"Block Content",name:"blockContent",type:"array",of:[C2({title:"Block",type:"block",of:[{type:"reference",name:"gallery",to:[{type:"gallery"}]}],styles:[{title:"Normal",value:"normal"},{title:"H1",value:"h1"},{title:"H2",value:"h2"},{title:"H3",value:"h3"},{title:"H4",value:"h4"},{title:"Quote",value:"blockquote"}],lists:[{title:"Bullet",value:"bullet"}],marks:{decorators:[{title:"Strong",value:"strong"},{title:"Emphasis",value:"em"}],annotations:[{title:"URL",name:"link",type:"object",fields:[{title:"URL",name:"href",type:"url"}]}]}}),C2({type:"image",options:{hotspot:!0,columns:3},fields:[{name:"alt",type:"string",title:"Alternative Text"}]}),C2({name:"youtube",type:"object",title:"YouTube Embed",fields:[gr({name:"url",type:"url",title:"YouTube video URL"})]})]}),gOn=f0({name:"category",title:"Category",type:"document",fields:[gr({name:"title",title:"Title",type:"string"}),gr({name:"description",title:"Description",type:"text"})]}),vOn=f0({name:"post",title:"Post",type:"document",fields:[gr({name:"title",title:"Title",type:"string"}),gr({name:"slug",title:"Slug",type:"slug",options:{source:"title",maxLength:96}}),gr({name:"description",title:"Description",type:"string"}),gr({name:"author",title:"Author",type:"reference",to:{type:"author"}}),gr({name:"mainImage",title:"Main image",type:"image",options:{hotspot:!0},fields:[{name:"alt",type:"string",title:"Alternative Text"}]}),gr({name:"categories",title:"Categories",type:"array",of:[{type:"reference",to:{type:"category"}}]}),gr({name:"publishedAt",title:"Published at",type:"datetime"}),gr({name:"body",title:"Body",type:"blockContent"}),gr({name:"relatedArtists",title:"Related Artists",type:"array",of:[{type:"reference",to:{type:"relatedArtist"}}]})],preview:{select:{title:"title",author:"author.name",media:"mainImage"},prepare(e){const{author:t}=e;return{...e,subtitle:t&&`by ${t}`}}}}),yOn=f0({name:"author",title:"Author",type:"document",fields:[gr({name:"name",title:"Name",type:"string"}),gr({name:"slug",title:"Slug",type:"slug",options:{source:"name",maxLength:96}}),gr({name:"image",title:"Image",type:"image",options:{hotspot:!0},fields:[{name:"alt",type:"string",title:"Alternative Text"}]}),gr({name:"bio",title:"Bio",type:"array",of:[{title:"Block",type:"block",styles:[{title:"Normal",value:"normal"}],lists:[]}]})],preview:{select:{title:"name",media:"image"}}}),bOn=f0({name:"gallery",type:"object",title:"Gallery",fields:[{name:"images",type:"array",of:[gr({name:"image",type:"image",options:{hotspot:!0},fields:[{name:"alt",type:"string",title:"Alternative text"}]})],options:{layout:"grid"}}]}),xOn=f0({name:"relatedArtist",type:"document",title:"Related Artist",fields:[gr({name:"name",type:"string",title:"Name"}),gr({name:"role",type:"string",title:"Role"}),gr({name:"location",type:"string",title:"Location"}),gr({name:"profileUrl",type:"string",title:"Profile URL"}),gr({name:"imageUrl",type:"string",title:"Image URL"})]}),wOn={types:[vOn,yOn,gOn,mOn,bOn,xOn]},COn={basePath:"/studio",projectId:pOn,dataset:hOn,schema:wOn,plugins:[TIn({}),ACn({defaultApiVersion:fOn})]};Sbn(document.getElementById("sanity"),COn,{reactStrictMode:!1,basePath:"/"});export{jo as $,PF as A,ae as B,ia as C,LIn as D,GOn as E,W as F,Sr as G,oi as H,gn as I,Ar as J,ce as K,ki as L,Xn as M,Ua as N,Nf as O,qOn as P,Yt as Q,Wn as R,Tpn as S,B as T,zwe as U,Xr as V,Yi as W,oB as X,ee as Y,tC as Z,JOn as _,$r as a,Tbn as a$,vt as a0,D0 as a1,be as a2,Wa as a3,Fwe as a4,xn as a5,N5 as a6,ys as a7,lje as a8,ho as a9,k8 as aA,Ai as aB,ph as aC,kbn as aD,VOn as aE,de as aF,ge as aG,Ao as aH,la as aI,ROn as aJ,ox as aK,wA as aL,MOn as aM,ZAe as aN,Z2n as aO,JOe as aP,K2n as aQ,Vi as aR,JDn as aS,H2n as aT,C2n as aU,yt as aV,j6e as aW,i3e as aX,Nj as aY,re as aZ,Wf as a_,Zi as aa,Ei as ab,Dc as ac,aj as ad,lZt as ae,Ps as af,tD as ag,VN as ah,_On as ai,r2n as aj,Qu as ak,bv as al,Rp as am,NFe as an,Qr as ao,xs as ap,De as aq,sx as ar,Kj as as,pn as at,zt as au,rd as av,hT as aw,Ct as ax,Vl as ay,kOn as az,ZOn as b,Ht as b$,xw as b0,NOn as b1,EOe as b2,FOn as b3,mC as b4,XYt as b5,hd as b6,VQe as b7,k0 as b8,t3n as b9,r3n as bA,Nl as bB,n3n as bC,E0 as bD,l3n as bE,a3n as bF,s3n as bG,tt as bH,Kn as bI,vwe as bJ,sd as bK,nn as bL,Nt as bM,wr as bN,mSe as bO,YL as bP,Jet as bQ,fa as bR,q_n as bS,gJe as bT,Wc as bU,BF as bV,p0 as bW,ii as bX,HOn as bY,rn as bZ,Rl as b_,KOn as ba,Fi as bb,Ds as bc,POn as bd,e3n as be,$On as bf,yr as bg,i2n as bh,WOn as bi,YOn as bj,ji as bk,eD as bl,Vwe as bm,owe as bn,rwe as bo,tAe as bp,Uj as bq,vm as br,bk as bs,jWt as bt,Ff as bu,h6e as bv,rw as bw,n0 as bx,o3n as by,i3n as bz,QOn as c,Me as c0,Jt as c1,$xe as c2,$N as c3,bet as c4,Cr as c5,WL as c6,PS as c7,sB as c8,hn as c9,Rc as ca,Vr as cb,As as cc,ln as cd,OOn as ce,o2n as cf,XOn as cg,mNt as ch,ml as ci,pl as cj,c3 as ck,Z4 as cl,Qve as cm,SOn as cn,Kft as co,Lu as cp,Lf as cq,Au as cr,ca as cs,OL as ct,D6e as cu,_Ce as cv,nw as cw,Pv as cx,fe as cy,UOn as d,XN as e,F as f,tj as g,dr as h,ur as i,c as j,Go as k,GL as l,Sf as m,Or as n,bc as o,_f as p,ZN as q,h as r,O as s,Zn as t,S$e as u,Hr as v,ne as w,lj as x,Y_n as y,Pm as z};
